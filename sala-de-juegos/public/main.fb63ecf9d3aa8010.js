"use strict";(self.webpackChunksala_de_juegos=self.webpackChunksala_de_juegos||[]).push([[179],{7128:(Yt,Xe,G)=>{G.d(Xe,{nm:()=>lr});var _=G(8321),Ee=(G(8256),G(3692),G(5867),G(5861)),oe=G(9681),Ce=G(4859),we=G(2090),qe=G(1877);const ee=new Map,ue={activated:!1,tokenObservers:[]},Fe={initialized:!1,enabled:!1};function tt(pe){return ee.get(pe)||ue}function Me(pe,fe){ee.set(pe,fe)}function ct(){return Fe}class et{constructor(fe,De,ze,ot,bt){if(this.operation=fe,this.retryPolicy=De,this.getWaitDuration=ze,this.lowerBound=ot,this.upperBound=bt,this.pending=null,this.nextErrorWaitInterval=ot,ot>bt)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(fe){var De=this;return(0,Ee.Z)(function*(){De.stop();try{De.pending=new we.BH,yield function Re(pe){return new Promise(fe=>{setTimeout(fe,pe)})}(De.getNextRun(fe)),De.pending.resolve(),yield De.pending.promise,De.pending=new we.BH,yield De.operation(),De.pending.resolve(),yield De.pending.promise,De.process(!0).catch(()=>{})}catch(ze){De.retryPolicy(ze)?De.process(!1).catch(()=>{}):De.stop()}})()}getNextRun(fe){if(fe)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const De=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),De}}}const je=new we.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function nt(pe){if(!tt(pe).activated)throw je.create("use-before-activation",{appName:pe.name})}function K(pe,fe){return de.apply(this,arguments)}function de(){return(de=(0,Ee.Z)(function*({url:pe,body:fe},De){var ze,ot;const bt={"Content-Type":"application/json"},mn=De.getImmediate({optional:!0});if(mn){const qn=yield mn.getHeartbeatsHeader();qn&&(bt["X-Firebase-Client"]=qn)}const rr={method:"POST",body:JSON.stringify(fe),headers:bt};let Tn,or;try{Tn=yield fetch(pe,rr)}catch(qn){throw je.create("fetch-network-error",{originalErrorMessage:null===(ze=qn)||void 0===ze?void 0:ze.message})}if(200!==Tn.status)throw je.create("fetch-status-error",{httpStatus:Tn.status});try{or=yield Tn.json()}catch(qn){throw je.create("fetch-parse-error",{originalErrorMessage:null===(ot=qn)||void 0===ot?void 0:ot.message})}const dr=or.ttl.match(/^([\d.]+)(s)$/);if(!dr||!dr[2]||isNaN(Number(dr[1])))throw je.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${or.ttl}`});const ks=1e3*Number(dr[1]),Ar=Date.now();return{token:or.token,expireTimeMillis:Ar+ks,issuedAtTimeMillis:Ar}})).apply(this,arguments)}function lt(pe,fe){const{projectId:De,appId:ze,apiKey:ot}=pe.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${De}/apps/${ze}:exchangeDebugToken?key=${ot}`,body:{debug_token:fe}}}const vt="firebase-app-check-store";let Vn=null;function Dn(){return Vn||(Vn=new Promise((pe,fe)=>{var De;try{const ze=indexedDB.open("firebase-app-check-database",1);ze.onsuccess=ot=>{pe(ot.target.result)},ze.onerror=ot=>{var bt;fe(je.create("storage-open",{originalErrorMessage:null===(bt=ot.target.error)||void 0===bt?void 0:bt.message}))},ze.onupgradeneeded=ot=>{0===ot.oldVersion&&ot.target.result.createObjectStore(vt,{keyPath:"compositeKey"})}}catch(ze){fe(je.create("storage-open",{originalErrorMessage:null===(De=ze)||void 0===De?void 0:De.message}))}}),Vn)}function _r(){return(_r=(0,Ee.Z)(function*(pe,fe){const ze=(yield Dn()).transaction(vt,"readwrite"),bt=ze.objectStore(vt).put({compositeKey:pe,value:fe});return new Promise((mn,rr)=>{bt.onsuccess=Tn=>{mn()},ze.onerror=Tn=>{var or;rr(je.create("storage-set",{originalErrorMessage:null===(or=Tn.target.error)||void 0===or?void 0:or.message}))}})})).apply(this,arguments)}const Ur=new qe.Yd("@firebase/app-check");function qr(pe,fe){return(0,we.hl)()?function Qn(pe,fe){return function sn(pe,fe){return _r.apply(this,arguments)}(function zn(pe){return`${pe.options.appId}-${pe.name}`}(pe),fe)}(pe,fe).catch(De=>{Ur.warn(`Failed to write token to IndexedDB. Error: ${De}`)}):Promise.resolve()}function Un(){return ct().enabled}function nr(){return wr.apply(this,arguments)}function wr(){return(wr=(0,Ee.Z)(function*(){const pe=ct();if(pe.enabled&&pe.token)return pe.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const cn={error:"UNKNOWN_ERROR"};function br(pe){return we.US.encodeString(JSON.stringify(pe),!1)}function gt(pe){return Et.apply(this,arguments)}function Et(){return(Et=(0,Ee.Z)(function*(pe,fe=!1){const De=pe.app;nt(De);const ze=tt(De);let bt,ot=ze.token;if(!ot){const Tn=yield ze.cachedTokenPromise;Tn&&An(Tn)&&(ot=Tn)}if(!fe&&ot&&An(ot))return{token:ot.token};let rr,mn=!1;if(Un()){ze.exchangeTokenPromise||(ze.exchangeTokenPromise=K(lt(De,yield nr()),pe.heartbeatServiceProvider).then(or=>(ze.exchangeTokenPromise=void 0,or)),mn=!0);const Tn=yield ze.exchangeTokenPromise;return yield qr(De,Tn),Me(De,Object.assign(Object.assign({},ze),{token:Tn})),{token:Tn.token}}try{ze.exchangeTokenPromise||(ze.exchangeTokenPromise=ze.provider.getToken().then(Tn=>(ze.exchangeTokenPromise=void 0,Tn)),mn=!0),ot=yield ze.exchangeTokenPromise}catch(Tn){"appCheck/throttled"===Tn.code?Ur.warn(Tn.message):Ur.error(Tn),bt=Tn}return ot?(rr={token:ot.token},Me(De,Object.assign(Object.assign({},ze),{token:ot})),yield qr(De,ot)):rr=Ir(bt),mn&&sr(De,rr),rr})).apply(this,arguments)}function vn(pe,fe){const De=tt(pe),ze=De.tokenObservers.filter(ot=>ot.next!==fe);0===ze.length&&De.tokenRefresher&&De.tokenRefresher.isRunning()&&De.tokenRefresher.stop(),Me(pe,Object.assign(Object.assign({},De),{tokenObservers:ze}))}function Bn(pe){const{app:fe}=pe,De=tt(fe);let ze=De.tokenRefresher;ze||(ze=function Mn(pe){const{app:fe}=pe;return new et((0,Ee.Z)(function*(){let ze;if(ze=tt(fe).token?yield gt(pe,!0):yield gt(pe),ze.error)throw ze.error}),()=>!0,()=>{const De=tt(fe);if(De.token){let ze=De.token.issuedAtTimeMillis+.5*(De.token.expireTimeMillis-De.token.issuedAtTimeMillis)+3e5;return ze=Math.min(ze,De.token.expireTimeMillis-3e5),Math.max(0,ze-Date.now())}return 0},3e4,96e4)}(pe),Me(fe,Object.assign(Object.assign({},De),{tokenRefresher:ze}))),!ze.isRunning()&&De.isTokenAutoRefreshEnabled&&ze.start()}function sr(pe,fe){const De=tt(pe).tokenObservers;for(const ze of De)try{"EXTERNAL"===ze.type&&null!=fe.error?ze.error(fe.error):ze.next(fe)}catch{}}function An(pe){return pe.expireTimeMillis-Date.now()>0}function Ir(pe){return{token:br(cn),error:pe}}class Fn{constructor(fe,De){this.app=fe,this.heartbeatServiceProvider=De}_delete(){const{tokenObservers:fe}=tt(this.app);for(const De of fe)vn(this.app,De.next);return Promise.resolve()}}const _n="app-check-internal";!function st(){(0,oe.Xd)(new Ce.wA("app-check",pe=>function Br(pe,fe){return new Fn(pe,fe)}(pe.getProvider("app").getImmediate(),pe.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((pe,fe,De)=>{pe.getProvider(_n).initialize()})),(0,oe.Xd)(new Ce.wA(_n,pe=>function Ut(pe){return{getToken:fe=>gt(pe,fe),addTokenListener:fe=>function Ht(pe,fe,De,ze){const{app:ot}=pe,bt=tt(ot),mn={next:De,error:ze,type:fe};if(Me(ot,Object.assign(Object.assign({},bt),{tokenObservers:[...bt.tokenObservers,mn]})),bt.token&&An(bt.token)){const rr=bt.token;Promise.resolve().then(()=>{De({token:rr.token}),Bn(pe)}).catch(()=>{})}bt.cachedTokenPromise.then(()=>Bn(pe))}(pe,"INTERNAL",fe),removeTokenListener:fe=>vn(pe.app,fe)}}(pe.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,oe.KN)("@firebase/app-check","0.5.12")}();class lr{constructor(){return(0,_.vb)("app-check")}}typeof window<"u"&&window},3692:(Yt,Xe,G)=>{G.d(Xe,{Ot:()=>ce,ZF:()=>Vt,hX:()=>tt,z6:()=>Ee});var _=G(5867),q=G(8256),_e=G(8321);class ce{constructor(et){return et}}class Ee{constructor(){return(0,_.C6)()}}const we=new q.OlP("angularfire2._apps"),qe={provide:ce,useFactory:function Ce(We){return We&&1===We.length?We[0]:new ce((0,_.Mq)())},deps:[[new q.FiY,we]]},ee={provide:Ee,deps:[[new q.FiY,we]]};function ue(We){return(et,Re)=>{const yt=et.runOutsideAngular(()=>We(Re));return new ce(yt)}}let Fe=(()=>{class We{constructor(Re){(0,_.KN)("angularfire",_e.q4.full,"core"),(0,_.KN)("angularfire",_e.q4.full,"app"),(0,_.KN)("angular",q.q4F.full,Re.toString())}}return We.\u0275fac=function(Re){return new(Re||We)(q.LFG(q.Lbi))},We.\u0275mod=q.oAB({type:We}),We.\u0275inj=q.cJS({providers:[qe,ee]}),We})();function tt(We,...et){return{ngModule:Fe,providers:[{provide:we,useFactory:ue(We),multi:!0,deps:[q.R0b,q.zs3,_e.HU,...et]}]}}const Vt=(0,_e.u3)(_.ZF,!0)},8951:(Yt,Xe,G)=>{G.d(Xe,{gx:()=>fu,dh:()=>Il,Xb:()=>gu,v0:()=>dc,AR:()=>Cl,LS:()=>vd,e5:()=>Bc,w7:()=>Ru,gQ:()=>jc,EA:()=>lc});var _=G(8321),q=G(8256),_e=G(3692),ce=G(5867),Ee=G(7128),oe=G(5861),Ce=G(2090),we=G(9681),qe=G(655),ee=G(1877),ue=G(4859);const pt=function St(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},We=new Ce.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Re=new ee.Yd("@firebase/auth");function yt(w,...h){Re.logLevel<=ee.in.ERROR&&Re.error(`Auth (${we.Jn}): ${w}`,...h)}function je(w,...h){throw ve(w,...h)}function Ie(w,...h){return ve(w,...h)}function nt(w,h,f){const C=Object.assign(Object.assign({},pt()),{[h]:f});return new Ce.LL("auth","Firebase",C).create(h,{appName:w.name})}function ve(w,...h){if("string"!=typeof w){const f=h[0],C=[...h.slice(1)];return C[0]&&(C[0].appName=w.name),w._errorFactory.create(f,...C)}return We.create(w,...h)}function K(w,h,...f){if(!w)throw ve(h,...f)}function de(w){const h="INTERNAL ASSERTION FAILED: "+w;throw yt(h),new Error(h)}function Le(w,h){w||de(h)}const $e=new Map;function lt(w){Le(w instanceof Function,"Expected a class definition");let h=$e.get(w);return h?(Le(h instanceof w,"Instance stored in cache mismatched with class"),h):(h=new w,$e.set(w,h),h)}function vt(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.href)||""}function Vn(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.protocol)||null}class Qn{constructor(h,f){this.shortDelay=h,this.longDelay=f,Le(f>h,"Short delay should be less than long delay!"),this.isMobile=(0,Ce.uI)()||(0,Ce.b$)()}get(){return function Dn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function rn(){return"http:"===Vn()||"https:"===Vn()}()||(0,Ce.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function kn(w,h){Le(w.emulator,"Emulator should always be set here");const{url:f}=w.emulator;return h?`${f}${h.startsWith("/")?h.slice(1):h}`:f}class un{static initialize(h,f,C){this.fetchImpl=h,f&&(this.headersImpl=f),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void de("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void de("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void de("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const sn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},_r=new Qn(3e4,6e4);function In(w,h){return w.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:w.tenantId}):h}function Gn(w,h,f,C){return zn.apply(this,arguments)}function zn(){return(zn=(0,oe.Z)(function*(w,h,f,C,B={}){return Ur(w,B,(0,oe.Z)(function*(){let W={},Te={};C&&("GET"===h?Te=C:W={body:JSON.stringify(C)});const Ye=(0,Ce.xO)(Object.assign({key:w.config.apiKey},Te)).slice(1),Nt=yield w._getAdditionalHeaders();return Nt["Content-Type"]="application/json",w.languageCode&&(Nt["X-Firebase-Locale"]=w.languageCode),un.fetch()(At(w,w.config.apiHost,f,Ye),Object.assign({method:h,headers:Nt,referrerPolicy:"no-referrer"},W))}))})).apply(this,arguments)}function Ur(w,h,f){return tr.apply(this,arguments)}function tr(){return(tr=(0,oe.Z)(function*(w,h,f){w._canInitEmulator=!1;const C=Object.assign(Object.assign({},sn),h);try{const B=new cr(w),W=yield Promise.race([f(),B.promise]);B.clearNetworkTimeout();const Te=yield W.json();if("needConfirmation"in Te)throw Un(w,"account-exists-with-different-credential",Te);if(W.ok&&!("errorMessage"in Te))return Te;{const Ye=W.ok?Te.errorMessage:Te.error.message,[Nt,Jt]=Ye.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Nt)throw Un(w,"credential-already-in-use",Te);if("EMAIL_EXISTS"===Nt)throw Un(w,"email-already-in-use",Te);if("USER_DISABLED"===Nt)throw Un(w,"user-disabled",Te);const Hn=C[Nt]||Nt.toLowerCase().replace(/[_\s]+/g,"-");if(Jt)throw nt(w,Hn,Jt);je(w,Hn)}}catch(B){if(B instanceof Ce.ZR)throw B;je(w,"network-request-failed")}})).apply(this,arguments)}function Wn(w,h,f,C){return qr.apply(this,arguments)}function qr(){return(qr=(0,oe.Z)(function*(w,h,f,C,B={}){const W=yield Gn(w,h,f,C,B);return"mfaPendingCredential"in W&&je(w,"multi-factor-auth-required",{_serverResponse:W}),W})).apply(this,arguments)}function At(w,h,f,C){const B=`${h}${f}?${C}`;return w.config.emulator?kn(w.config,B):`${w.config.apiScheme}://${B}`}class cr{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((f,C)=>{this.timer=setTimeout(()=>C(Ie(this.auth,"network-request-failed")),_r.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Un(w,h,f){const C={appName:w.name};f.email&&(C.email=f.email),f.phoneNumber&&(C.phoneNumber=f.phoneNumber);const B=Ie(w,h,C);return B.customData._tokenResponse=f,B}function wr(){return(wr=(0,oe.Z)(function*(w,h){return Gn(w,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function br(w,h){return gt.apply(this,arguments)}function gt(){return(gt=(0,oe.Z)(function*(w,h){return Gn(w,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function Et(w){if(w)try{const h=new Date(Number(w));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function Bn(){return(Bn=(0,oe.Z)(function*(w,h=!1){const f=(0,Ce.m9)(w),C=yield f.getIdToken(h),B=sr(C);K(B&&B.exp&&B.auth_time&&B.iat,f.auth,"internal-error");const W="object"==typeof B.firebase?B.firebase:void 0,Te=W?.sign_in_provider;return{claims:B,token:C,authTime:Et(Mn(B.auth_time)),issuedAtTime:Et(Mn(B.iat)),expirationTime:Et(Mn(B.exp)),signInProvider:Te||null,signInSecondFactor:W?.sign_in_second_factor||null}})).apply(this,arguments)}function Mn(w){return 1e3*Number(w)}function sr(w){var h;const[f,C,B]=w.split(".");if(void 0===f||void 0===C||void 0===B)return yt("JWT malformed, contained fewer than 3 sections"),null;try{const W=(0,Ce.tV)(C);return W?JSON.parse(W):(yt("Failed to decode base64 JWT payload"),null)}catch(W){return yt("Caught error parsing JWT payload as JSON",null===(h=W)||void 0===h?void 0:h.toString()),null}}function Ir(w,h){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,oe.Z)(function*(w,h,f=!1){if(f)return h;try{return yield h}catch(C){throw C instanceof Ce.ZR&&Br(C)&&w.auth.currentUser===w&&(yield w.auth.signOut()),C}})).apply(this,arguments)}function Br({code:w}){return"auth/user-disabled"===w||"auth/user-token-expired"===w}class Ut{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var f;if(h){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const B=(null!==(f=this.user.stsTokenManager.expirationTime)&&void 0!==f?f:0)-Date.now()-3e5;return Math.max(0,B)}}schedule(h=!1){var f=this;if(!this.isRunning)return;const C=this.getInterval(h);this.timerId=setTimeout((0,oe.Z)(function*(){yield f.iteration()}),C)}iteration(){var h=this;return(0,oe.Z)(function*(){var f;try{yield h.user.getIdToken(!0)}catch(C){return void("auth/network-request-failed"===(null===(f=C)||void 0===f?void 0:f.code)&&h.schedule(!0))}h.schedule()})()}}class ge{constructor(h,f){this.createdAt=h,this.lastLoginAt=f,this._initializeTime()}_initializeTime(){this.lastSignInTime=Et(this.lastLoginAt),this.creationTime=Et(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ae(w){return X.apply(this,arguments)}function X(){return(X=(0,oe.Z)(function*(w){var h;const f=w.auth,C=yield w.getIdToken(),B=yield Ir(w,br(f,{idToken:C}));K(B?.users.length,f,"internal-error");const W=B.users[0];w._notifyReloadListener(W);const Te=null!==(h=W.providerUserInfo)&&void 0!==h&&h.length?ht(W.providerUserInfo):[],Ye=Oe(w.providerData,Te),Hn=!!w.isAnonymous&&!(w.email&&W.passwordHash||Ye?.length),Wr={uid:W.localId,displayName:W.displayName||null,photoURL:W.photoUrl||null,email:W.email||null,emailVerified:W.emailVerified||!1,phoneNumber:W.phoneNumber||null,tenantId:W.tenantId||null,providerData:Ye,metadata:new ge(W.createdAt,W.lastLoginAt),isAnonymous:Hn};Object.assign(w,Wr)})).apply(this,arguments)}function ie(){return(ie=(0,oe.Z)(function*(w){const h=(0,Ce.m9)(w);yield ae(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function Oe(w,h){return[...w.filter(C=>!h.some(B=>B.providerId===C.providerId)),...h]}function ht(w){return w.map(h=>{var{providerId:f}=h,C=(0,qe._T)(h,["providerId"]);return{providerId:f,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}function qt(){return(qt=(0,oe.Z)(function*(w,h){const f=yield Ur(w,{},(0,oe.Z)(function*(){const C=(0,Ce.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:B,apiKey:W}=w.config,Te=At(w,B,"/v1/token",`key=${W}`),Ye=yield w._getAdditionalHeaders();return Ye["Content-Type"]="application/x-www-form-urlencoded",un.fetch()(Te,{method:"POST",headers:Ye,body:C})}));return{accessToken:f.access_token,expiresIn:f.expires_in,refreshToken:f.refresh_token}})).apply(this,arguments)}class Ft{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){K(h.idToken,"internal-error"),K(typeof h.idToken<"u","internal-error"),K(typeof h.refreshToken<"u","internal-error");const f="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):function An(w){const h=sr(w);return K(h,"internal-error"),K(typeof h.exp<"u","internal-error"),K(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,f)}getToken(h,f=!1){var C=this;return(0,oe.Z)(function*(){return K(!C.accessToken||C.refreshToken,h,"user-token-expired"),f||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(h,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,f){var C=this;return(0,oe.Z)(function*(){const{accessToken:B,refreshToken:W,expiresIn:Te}=yield function Ot(w,h){return qt.apply(this,arguments)}(h,f);C.updateTokensAndExpiration(B,W,Number(Te))})()}updateTokensAndExpiration(h,f,C){this.refreshToken=f||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(h,f){const{refreshToken:C,accessToken:B,expirationTime:W}=f,Te=new Ft;return C&&(K("string"==typeof C,"internal-error",{appName:h}),Te.refreshToken=C),B&&(K("string"==typeof B,"internal-error",{appName:h}),Te.accessToken=B),W&&(K("number"==typeof W,"internal-error",{appName:h}),Te.expirationTime=W),Te}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new Ft,this.toJSON())}_performRefresh(){return de("not implemented")}}function gn(w,h){K("string"==typeof w||typeof w>"u","internal-error",{appName:h})}class en{constructor(h){var{uid:f,auth:C,stsTokenManager:B}=h,W=(0,qe._T)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ut(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=f,this.auth=C,this.stsTokenManager=B,this.accessToken=B.accessToken,this.displayName=W.displayName||null,this.email=W.email||null,this.emailVerified=W.emailVerified||!1,this.phoneNumber=W.phoneNumber||null,this.photoURL=W.photoURL||null,this.isAnonymous=W.isAnonymous||!1,this.tenantId=W.tenantId||null,this.providerData=W.providerData?[...W.providerData]:[],this.metadata=new ge(W.createdAt||void 0,W.lastLoginAt||void 0)}getIdToken(h){var f=this;return(0,oe.Z)(function*(){const C=yield Ir(f,f.stsTokenManager.getToken(f.auth,h));return K(C,f.auth,"internal-error"),f.accessToken!==C&&(f.accessToken=C,yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)),C})()}getIdTokenResult(h){return function vn(w){return Bn.apply(this,arguments)}(this,h)}reload(){return function te(w){return ie.apply(this,arguments)}(this)}_assign(h){this!==h&&(K(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(f=>Object.assign({},f)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){return new en(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(h){K(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,f=!1){var C=this;return(0,oe.Z)(function*(){let B=!1;h.idToken&&h.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(h),B=!0),f&&(yield ae(C)),yield C.auth._persistUserIfCurrent(C),B&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var h=this;return(0,oe.Z)(function*(){const f=yield h.getIdToken();return yield Ir(h,function nr(w,h){return wr.apply(this,arguments)}(h.auth,{idToken:f})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,f){var C,B,W,Te,Ye,Nt,Jt,Hn;const Wr=null!==(C=f.displayName)&&void 0!==C?C:void 0,ii=null!==(B=f.email)&&void 0!==B?B:void 0,Ra=null!==(W=f.phoneNumber)&&void 0!==W?W:void 0,Hc=null!==(Te=f.photoURL)&&void 0!==Te?Te:void 0,Go=null!==(Ye=f.tenantId)&&void 0!==Ye?Ye:void 0,qa=null!==(Nt=f._redirectEventId)&&void 0!==Nt?Nt:void 0,gc=null!==(Jt=f.createdAt)&&void 0!==Jt?Jt:void 0,Ka=null!==(Hn=f.lastLoginAt)&&void 0!==Hn?Hn:void 0,{uid:yu,emailVerified:Ed,isAnonymous:Lh,providerData:Gc,stsTokenManager:Dd}=f;K(yu&&Dd,h,"internal-error");const Vh=Ft.fromJSON(this.name,Dd);K("string"==typeof yu,h,"internal-error"),gn(Wr,h.name),gn(ii,h.name),K("boolean"==typeof Ed,h,"internal-error"),K("boolean"==typeof Lh,h,"internal-error"),gn(Ra,h.name),gn(Hc,h.name),gn(Go,h.name),gn(qa,h.name),gn(gc,h.name),gn(Ka,h.name);const Rl=new en({uid:yu,auth:h,email:ii,emailVerified:Ed,displayName:Wr,isAnonymous:Lh,photoURL:Hc,phoneNumber:Ra,tenantId:Go,stsTokenManager:Vh,createdAt:gc,lastLoginAt:Ka});return Gc&&Array.isArray(Gc)&&(Rl.providerData=Gc.map(Cd=>Object.assign({},Cd))),qa&&(Rl._redirectEventId=qa),Rl}static _fromIdTokenResponse(h,f,C=!1){return(0,oe.Z)(function*(){const B=new Ft;B.updateFromServerResponse(f);const W=new en({uid:f.localId,auth:h,stsTokenManager:B,isAnonymous:C});return yield ae(W),W})()}}const $r=(()=>{class w{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,oe.Z)(function*(){return!0})()}_set(f,C){var B=this;return(0,oe.Z)(function*(){B.storage[f]=C})()}_get(f){var C=this;return(0,oe.Z)(function*(){const B=C.storage[f];return void 0===B?null:B})()}_remove(f){var C=this;return(0,oe.Z)(function*(){delete C.storage[f]})()}_addListener(f,C){}_removeListener(f,C){}}return w.type="NONE",w})();function Jr(w,h,f){return`firebase:${w}:${h}:${f}`}class Tr{constructor(h,f,C){this.persistence=h,this.auth=f,this.userKey=C;const{config:B,name:W}=this.auth;this.fullUserKey=Jr(this.userKey,B.apiKey,W),this.fullPersistenceKey=Jr("persistence",B.apiKey,W),this.boundEventHandler=f._onStorageEvent.bind(f),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,oe.Z)(function*(){const f=yield h.persistence._get(h.fullUserKey);return f?en._fromJSON(h.auth,f):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var f=this;return(0,oe.Z)(function*(){if(f.persistence===h)return;const C=yield f.getCurrentUser();return yield f.removeCurrentUser(),f.persistence=h,C?f.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,f,C="authUser"){return(0,oe.Z)(function*(){if(!f.length)return new Tr(lt($r),h,C);const B=(yield Promise.all(f.map(function(){var Jt=(0,oe.Z)(function*(Hn){if(yield Hn._isAvailable())return Hn});return function(Hn){return Jt.apply(this,arguments)}}()))).filter(Jt=>Jt);let W=B[0]||lt($r);const Te=Jr(C,h.config.apiKey,h.name);let Ye=null;for(const Jt of f)try{const Hn=yield Jt._get(Te);if(Hn){const Wr=en._fromJSON(h,Hn);Jt!==W&&(Ye=Wr),W=Jt;break}}catch{}const Nt=B.filter(Jt=>Jt._shouldAllowMigration);return W._shouldAllowMigration&&Nt.length?(W=Nt[0],Ye&&(yield W._set(Te,Ye.toJSON())),yield Promise.all(f.map(function(){var Jt=(0,oe.Z)(function*(Hn){if(Hn!==W)try{yield Hn._remove(Te)}catch{}});return function(Hn){return Jt.apply(this,arguments)}}())),new Tr(W,h,C)):new Tr(W,h,C)})()}}function Pi(w){const h=w.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(J(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(ki(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(He(h))return"Blackberry";if(jt(h))return"Webos";if(be(h))return"Safari";if((h.includes("chrome/")||le(h))&&!h.includes("edge/"))return"Chrome";if(Ae(h))return"Android";{const C=w.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===C?.length)return C[1]}return"Other"}function ki(w=(0,Ce.z$)()){return/firefox\//i.test(w)}function be(w=(0,Ce.z$)()){const h=w.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function le(w=(0,Ce.z$)()){return/crios\//i.test(w)}function J(w=(0,Ce.z$)()){return/iemobile/i.test(w)}function Ae(w=(0,Ce.z$)()){return/android/i.test(w)}function He(w=(0,Ce.z$)()){return/blackberry/i.test(w)}function jt(w=(0,Ce.z$)()){return/webos/i.test(w)}function Lt(w=(0,Ce.z$)()){return/iphone|ipad|ipod/i.test(w)||/macintosh/i.test(w)&&/mobile/i.test(w)}function $n(w=(0,Ce.z$)()){return Lt(w)||Ae(w)||jt(w)||He(w)||/windows phone/i.test(w)||J(w)}function Ii(w,h=[]){let f;switch(w){case"Browser":f=Pi((0,Ce.z$)());break;case"Worker":f=`${Pi((0,Ce.z$)())}-${w}`;break;default:f=w}const C=h.length?h.join(","):"FirebaseCore-web";return`${f}/JsCore/${we.Jn}/${C}`}class ur{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,f){const C=W=>new Promise((Te,Ye)=>{try{Te(h(W))}catch(Nt){Ye(Nt)}});C.onAbort=f,this.queue.push(C);const B=this.queue.length-1;return()=>{this.queue[B]=()=>Promise.resolve()}}runMiddleware(h){var f=this;return(0,oe.Z)(function*(){var C;if(f.auth.currentUser===h)return;const B=[];try{for(const W of f.queue)yield W(h),W.onAbort&&B.push(W.onAbort)}catch(W){B.reverse();for(const Te of B)try{Te()}catch{}throw f.auth._errorFactory.create("login-blocked",{originalMessage:null===(C=W)||void 0===C?void 0:C.message})}})()}}class mi{constructor(h,f,C){this.app=h,this.heartbeatServiceProvider=f,this.config=C,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new oi(this),this.idTokenSubscription=new oi(this),this.beforeStateQueue=new ur(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=We,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=C.sdkClientVersion}_initializeWithPersistence(h,f){var C=this;return f&&(this._popupRedirectResolver=lt(f)),this._initializationPromise=this.queue((0,oe.Z)(function*(){var B,W;if(!C._deleted&&(C.persistenceManager=yield Tr.create(C,h),!C._deleted)){if(null!==(B=C._popupRedirectResolver)&&void 0!==B&&B._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch{}yield C.initializeCurrentUser(f),C.lastNotifiedUid=(null===(W=C.currentUser)||void 0===W?void 0:W.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,oe.Z)(function*(){if(h._deleted)return;const f=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||f){if(h.currentUser&&f&&h.currentUser.uid===f.uid)return h._currentUser._assign(f),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(f,!0)}})()}initializeCurrentUser(h){var f=this;return(0,oe.Z)(function*(){var C;const B=yield f.assertedPersistence.getCurrentUser();let W=B,Te=!1;if(h&&f.config.authDomain){yield f.getOrInitRedirectPersistenceManager();const Ye=null===(C=f.redirectUser)||void 0===C?void 0:C._redirectEventId,Nt=W?._redirectEventId,Jt=yield f.tryRedirectSignIn(h);(!Ye||Ye===Nt)&&Jt?.user&&(W=Jt.user,Te=!0)}if(!W)return f.directlySetCurrentUser(null);if(!W._redirectEventId){if(Te)try{yield f.beforeStateQueue.runMiddleware(W)}catch(Ye){W=B,f._popupRedirectResolver._overrideRedirectResult(f,()=>Promise.reject(Ye))}return W?f.reloadAndSetCurrentUserOrClear(W):f.directlySetCurrentUser(null)}return K(f._popupRedirectResolver,f,"argument-error"),yield f.getOrInitRedirectPersistenceManager(),f.redirectUser&&f.redirectUser._redirectEventId===W._redirectEventId?f.directlySetCurrentUser(W):f.reloadAndSetCurrentUserOrClear(W)})()}tryRedirectSignIn(h){var f=this;return(0,oe.Z)(function*(){let C=null;try{C=yield f._popupRedirectResolver._completeRedirectFn(f,h,!0)}catch{yield f._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(h){var f=this;return(0,oe.Z)(function*(){var C;try{yield ae(h)}catch(B){if("auth/network-request-failed"!==(null===(C=B)||void 0===C?void 0:C.code))return f.directlySetCurrentUser(null)}return f.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function vr(){if(typeof navigator>"u")return null;const w=navigator;return w.languages&&w.languages[0]||w.language||null}()}_delete(){var h=this;return(0,oe.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var f=this;return(0,oe.Z)(function*(){const C=h?(0,Ce.m9)(h):null;return C&&K(C.auth.config.apiKey===f.config.apiKey,f,"invalid-user-token"),f._updateCurrentUser(C&&C._clone(f))})()}_updateCurrentUser(h,f=!1){var C=this;return(0,oe.Z)(function*(){if(!C._deleted)return h&&K(C.tenantId===h.tenantId,C,"tenant-id-mismatch"),f||(yield C.beforeStateQueue.runMiddleware(h)),C.queue((0,oe.Z)(function*(){yield C.directlySetCurrentUser(h),C.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,oe.Z)(function*(){return yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0)})()}setPersistence(h){var f=this;return this.queue((0,oe.Z)(function*(){yield f.assertedPersistence.setPersistence(lt(h))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new Ce.LL("auth","Firebase",h())}onAuthStateChanged(h,f,C){return this.registerStateListener(this.authStateSubscription,h,f,C)}beforeAuthStateChanged(h,f){return this.beforeStateQueue.pushCallback(h,f)}onIdTokenChanged(h,f,C){return this.registerStateListener(this.idTokenSubscription,h,f,C)}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,f){var C=this;return(0,oe.Z)(function*(){const B=yield C.getOrInitRedirectPersistenceManager(f);return null===h?B.removeCurrentUser():B.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var f=this;return(0,oe.Z)(function*(){if(!f.redirectPersistenceManager){const C=h&&lt(h)||f._popupRedirectResolver;K(C,f,"argument-error"),f.redirectPersistenceManager=yield Tr.create(f,[lt(C._redirectPersistence)],"redirectUser"),f.redirectUser=yield f.redirectPersistenceManager.getCurrentUser()}return f.redirectPersistenceManager})()}_redirectUserForId(h){var f=this;return(0,oe.Z)(function*(){var C,B;return f._isInitialized&&(yield f.queue((0,oe.Z)(function*(){}))),(null===(C=f._currentUser)||void 0===C?void 0:C._redirectEventId)===h?f._currentUser:(null===(B=f.redirectUser)||void 0===B?void 0:B._redirectEventId)===h?f.redirectUser:null})()}_persistUserIfCurrent(h){var f=this;return(0,oe.Z)(function*(){if(h===f.currentUser)return f.queue((0,oe.Z)(function*(){return f.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,f;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(f=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==f?f:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,f,C,B){if(this._deleted)return()=>{};const W="function"==typeof f?f:f.next.bind(f),Te=this._isInitialized?Promise.resolve():this._initializationPromise;return K(Te,this,"internal-error"),Te.then(()=>W(this.currentUser)),"function"==typeof f?h.addObserver(f,C,B):h.addObserver(f)}directlySetCurrentUser(h){var f=this;return(0,oe.Z)(function*(){f.currentUser&&f.currentUser!==h&&f._currentUser._stopProactiveRefresh(),h&&f.isProactiveRefreshEnabled&&h._startProactiveRefresh(),f.currentUser=h,h?yield f.assertedPersistence.setCurrentUser(h):yield f.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return K(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=Ii(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,oe.Z)(function*(){var f;const C={"X-Client-Version":h.clientVersion};h.app.options.appId&&(C["X-Firebase-gmpid"]=h.app.options.appId);const B=yield null===(f=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===f?void 0:f.getHeartbeatsHeader();return B&&(C["X-Firebase-Client"]=B),C})()}}function hn(w){return(0,Ce.m9)(w)}class oi{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,Ce.ne)(f=>this.observer=f)}get next(){return K(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}class Ei{constructor(h,f){this.providerId=h,this.signInMethod=f}toJSON(){return de("not implemented")}_getIdTokenResponse(h){return de("not implemented")}_linkToIdToken(h,f){return de("not implemented")}_getReauthenticationResolver(h){return de("not implemented")}}function ei(w,h){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,oe.Z)(function*(w,h){return Gn(w,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function ze(){return(ze=(0,oe.Z)(function*(w,h){return Wn(w,"POST","/v1/accounts:signInWithPassword",In(w,h))})).apply(this,arguments)}function ot(w,h){return bt.apply(this,arguments)}function bt(){return(bt=(0,oe.Z)(function*(w,h){return Gn(w,"POST","/v1/accounts:sendOobCode",In(w,h))})).apply(this,arguments)}function Tn(w,h){return or.apply(this,arguments)}function or(){return(or=(0,oe.Z)(function*(w,h){return ot(w,h)})).apply(this,arguments)}function gr(){return(gr=(0,oe.Z)(function*(w,h){return Wn(w,"POST","/v1/accounts:signInWithEmailLink",In(w,h))})).apply(this,arguments)}function Kr(){return(Kr=(0,oe.Z)(function*(w,h){return Wn(w,"POST","/v1/accounts:signInWithEmailLink",In(w,h))})).apply(this,arguments)}class ws extends Ei{constructor(h,f,C,B=null){super("password",C),this._email=h,this._password=f,this._tenantId=B}static _fromEmailAndPassword(h,f){return new ws(h,f,"password")}static _fromEmailAndCode(h,f,C=null){return new ws(h,f,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const f="string"==typeof h?JSON.parse(h):h;if(f?.email&&f?.password){if("password"===f.signInMethod)return this._fromEmailAndPassword(f.email,f.password);if("emailLink"===f.signInMethod)return this._fromEmailAndCode(f.email,f.password,f.tenantId)}return null}_getIdTokenResponse(h){var f=this;return(0,oe.Z)(function*(){switch(f.signInMethod){case"password":return function De(w,h){return ze.apply(this,arguments)}(h,{returnSecureToken:!0,email:f._email,password:f._password});case"emailLink":return function Eo(w,h){return gr.apply(this,arguments)}(h,{email:f._email,oobCode:f._password});default:je(h,"internal-error")}})()}_linkToIdToken(h,f){var C=this;return(0,oe.Z)(function*(){switch(C.signInMethod){case"password":return ei(h,{idToken:f,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function qi(w,h){return Kr.apply(this,arguments)}(h,{idToken:f,email:C._email,oobCode:C._password});default:je(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function Fi(w,h){return oo.apply(this,arguments)}function oo(){return(oo=(0,oe.Z)(function*(w,h){return Wn(w,"POST","/v1/accounts:signInWithIdp",In(w,h))})).apply(this,arguments)}class Ki{constructor(h){var f,C,B,W,Te,Ye;const Nt=(0,Ce.zd)((0,Ce.pd)(h)),Jt=null!==(f=Nt.apiKey)&&void 0!==f?f:null,Hn=null!==(C=Nt.oobCode)&&void 0!==C?C:null,Wr=function ds(w){switch(w){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(B=Nt.mode)&&void 0!==B?B:null);K(Jt&&Hn&&Wr,"argument-error"),this.apiKey=Jt,this.operation=Wr,this.code=Hn,this.continueUrl=null!==(W=Nt.continueUrl)&&void 0!==W?W:null,this.languageCode=null!==(Te=Nt.languageCode)&&void 0!==Te?Te:null,this.tenantId=null!==(Ye=Nt.tenantId)&&void 0!==Ye?Ye:null}static parseLink(h){const f=function Ui(w){const h=(0,Ce.zd)((0,Ce.pd)(w)).link,f=h?(0,Ce.zd)((0,Ce.pd)(h)).deep_link_id:null,C=(0,Ce.zd)((0,Ce.pd)(w)).deep_link_id;return(C?(0,Ce.zd)((0,Ce.pd)(C)).link:null)||C||f||h||w}(h);try{return new Ki(f)}catch{return null}}}let ti=(()=>{class w{constructor(){this.providerId=w.PROVIDER_ID}static credential(f,C){return ws._fromEmailAndPassword(f,C)}static credentialWithLink(f,C){const B=Ki.parseLink(C);return K(B,"argument-error"),ws._fromEmailAndCode(f,B.code,B.tenantId)}}return w.PROVIDER_ID="password",w.EMAIL_PASSWORD_SIGN_IN_METHOD="password",w.EMAIL_LINK_SIGN_IN_METHOD="emailLink",w})();class yi{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class Yi extends yi{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}function Es(w,h){return jo.apply(this,arguments)}function jo(){return(jo=(0,oe.Z)(function*(w,h){return Wn(w,"POST","/v1/accounts:signUp",In(w,h))})).apply(this,arguments)}class vi{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,f,C,B=!1){return(0,oe.Z)(function*(){const W=yield en._fromIdTokenResponse(h,C,B),Te=ci(C);return new vi({user:W,providerId:Te,_tokenResponse:C,operationType:f})})()}static _forOperation(h,f,C){return(0,oe.Z)(function*(){yield h._updateTokensIfNecessary(C,!0);const B=ci(C);return new vi({user:h,providerId:B,_tokenResponse:C,operationType:f})})()}}function ci(w){return w.providerId?w.providerId:"phoneNumber"in w?"phone":null}class Er extends Ce.ZR{constructor(h,f,C,B){var W;super(f.code,f.message),this.operationType=C,this.user=B,Object.setPrototypeOf(this,Er.prototype),this.customData={appName:h.name,tenantId:null!==(W=h.tenantId)&&void 0!==W?W:void 0,_serverResponse:f.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(h,f,C,B){return new Er(h,f,C,B)}}function co(w,h,f,C){return("reauthenticate"===h?f._getReauthenticationResolver(w):f._getIdTokenResponse(w)).catch(W=>{throw"auth/multi-factor-auth-required"===W.code?Er._fromErrorAndOperation(w,W,h,C):W})}function Zs(w,h){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,oe.Z)(function*(w,h,f=!1){const C=yield Ir(w,h._linkToIdToken(w.auth,yield w.getIdToken()),f);return vi._forOperation(w,"link",C)})).apply(this,arguments)}function Ds(){return(Ds=(0,oe.Z)(function*(w,h,f=!1){var C;const{auth:B}=w,W="reauthenticate";try{const Te=yield Ir(w,co(B,W,h,w),f);K(Te.idToken,B,"internal-error");const Ye=sr(Te.idToken);K(Ye,B,"internal-error");const{sub:Nt}=Ye;return K(w.uid===Nt,B,"user-mismatch"),vi._forOperation(w,W,Te)}catch(Te){throw"auth/user-not-found"===(null===(C=Te)||void 0===C?void 0:C.code)&&je(B,"user-mismatch"),Te}})).apply(this,arguments)}function ni(w,h){return lo.apply(this,arguments)}function lo(){return(lo=(0,oe.Z)(function*(w,h,f=!1){const C="signIn",B=yield co(w,C,h),W=yield vi._fromIdTokenResponse(w,C,B);return f||(yield w._updateCurrentUser(W.user)),W})).apply(this,arguments)}function bs(){return(bs=(0,oe.Z)(function*(w,h){return ni(hn(w),h)})).apply(this,arguments)}function hs(w,h,f){var C;K((null===(C=f.url)||void 0===C?void 0:C.length)>0,w,"invalid-continue-uri"),K(typeof f.dynamicLinkDomain>"u"||f.dynamicLinkDomain.length>0,w,"invalid-dynamic-link-domain"),h.continueUrl=f.url,h.dynamicLinkDomain=f.dynamicLinkDomain,h.canHandleCodeInApp=f.handleCodeInApp,f.iOS&&(K(f.iOS.bundleId.length>0,w,"missing-ios-bundle-id"),h.iOSBundleId=f.iOS.bundleId),f.android&&(K(f.android.packageName.length>0,w,"missing-android-pkg-name"),h.androidInstallApp=f.android.installApp,h.androidMinimumVersionCode=f.android.minimumVersion,h.androidPackageName=f.android.packageName)}function Zo(w,h,f){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,oe.Z)(function*(w,h,f){const C=(0,Ce.m9)(w),B={requestType:"PASSWORD_RESET",email:h};f&&hs(C,B,f),yield Tn(C,B)})).apply(this,arguments)}function Pt(w,h,f){return hr.apply(this,arguments)}function hr(){return(hr=(0,oe.Z)(function*(w,h,f){const C=hn(w),B=yield Es(C,{returnSecureToken:!0,email:h,password:f}),W=yield vi._fromIdTokenResponse(C,"signIn",B);return yield C._updateCurrentUser(W.user),W})).apply(this,arguments)}function zr(w,h,f){return function Cs(w,h){return bs.apply(this,arguments)}((0,Ce.m9)(w),ti.credential(h,f))}function Ve(w,h){return function Ze(w,h,f){return Dt.apply(this,arguments)}((0,Ce.m9)(w),null,h)}function Dt(){return(Dt=(0,oe.Z)(function*(w,h,f){const{auth:C}=w,W={idToken:yield w.getIdToken(),returnSecureToken:!0};h&&(W.email=h),f&&(W.password=f);const Te=yield Ir(w,ei(C,W));yield w._updateTokensIfNecessary(Te,!0)})).apply(this,arguments)}function va(w){return(0,Ce.m9)(w).signOut()}const xr="__sak";class hi{constructor(h,f){this.storageRetriever=h,this.type=f}_isAvailable(){try{return this.storage?(this.storage.setItem(xr,"1"),this.storage.removeItem(xr),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,f){return this.storage.setItem(h,JSON.stringify(f)),Promise.resolve()}_get(h){const f=this.storage.getItem(h);return Promise.resolve(f?JSON.parse(f):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const _t=(()=>{class w extends hi{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(f,C)=>this.onStorageEvent(f,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function nu(){const w=(0,Ce.z$)();return be(w)||Lt(w)}()&&function lr(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=$n(),this._shouldAllowMigration=!0}forAllChangedKeys(f){for(const C of Object.keys(this.listeners)){const B=this.storage.getItem(C),W=this.localCache[C];B!==W&&f(C,W,B)}}onStorageEvent(f,C=!1){if(!f.key)return void this.forAllChangedKeys((Ye,Nt,Jt)=>{this.notifyListeners(Ye,Jt)});const B=f.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ye=this.storage.getItem(B);if(f.newValue!==Ye)null!==f.newValue?this.storage.setItem(B,f.newValue):this.storage.removeItem(B);else if(this.localCache[B]===f.newValue&&!C)return}const W=()=>{const Ye=this.storage.getItem(B);!C&&this.localCache[B]===Ye||this.notifyListeners(B,Ye)},Te=this.storage.getItem(B);!function Gt(){return(0,Ce.w1)()&&10===document.documentMode}()||Te===f.newValue||f.newValue===f.oldValue?W():setTimeout(W,10)}notifyListeners(f,C){this.localCache[f]=C;const B=this.listeners[f];if(B)for(const W of Array.from(B))W(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((f,C,B)=>{this.onStorageEvent(new StorageEvent("storage",{key:f,oldValue:C,newValue:B}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(f,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[f]||(this.listeners[f]=new Set,this.localCache[f]=this.storage.getItem(f)),this.listeners[f].add(C)}_removeListener(f,C){this.listeners[f]&&(this.listeners[f].delete(C),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(f,C){var B=()=>super._set,W=this;return(0,oe.Z)(function*(){yield B().call(W,f,C),W.localCache[f]=JSON.stringify(C)})()}_get(f){var C=()=>super._get,B=this;return(0,oe.Z)(function*(){const W=yield C().call(B,f);return B.localCache[f]=JSON.stringify(W),W})()}_remove(f){var C=()=>super._remove,B=this;return(0,oe.Z)(function*(){yield C().call(B,f),delete B.localCache[f]})()}}return w.type="LOCAL",w})(),it=(()=>{class w extends hi{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(f,C){}_removeListener(f,C){}}return w.type="SESSION",w})();let Ua=(()=>{class w{constructor(f){this.eventTarget=f,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(f){const C=this.receivers.find(W=>W.isListeningto(f));if(C)return C;const B=new w(f);return this.receivers.push(B),B}isListeningto(f){return this.eventTarget===f}handleEvent(f){var C=this;return(0,oe.Z)(function*(){const B=f,{eventId:W,eventType:Te,data:Ye}=B.data,Nt=C.handlersMap[Te];if(!Nt?.size)return;B.ports[0].postMessage({status:"ack",eventId:W,eventType:Te});const Jt=Array.from(Nt).map(function(){var Wr=(0,oe.Z)(function*(ii){return ii(B.origin,Ye)});return function(ii){return Wr.apply(this,arguments)}}()),Hn=yield function Hr(w){return Promise.all(w.map(function(){var h=(0,oe.Z)(function*(f){try{return{fulfilled:!0,value:yield f}}catch(C){return{fulfilled:!1,reason:C}}});return function(f){return h.apply(this,arguments)}}()))}(Jt);B.ports[0].postMessage({status:"done",eventId:W,eventType:Te,response:Hn})})()}_subscribe(f,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[f]||(this.handlersMap[f]=new Set),this.handlersMap[f].add(C)}_unsubscribe(f,C){this.handlersMap[f]&&C&&this.handlersMap[f].delete(C),(!C||0===this.handlersMap[f].size)&&delete this.handlersMap[f],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return w.receivers=[],w})();function fo(w="",h=10){let f="";for(let C=0;C<h;C++)f+=Math.floor(10*Math.random());return w+f}class ia{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,f,C=50){var B=this;return(0,oe.Z)(function*(){const W=typeof MessageChannel<"u"?new MessageChannel:null;if(!W)throw new Error("connection_unavailable");let Te,Ye;return new Promise((Nt,Jt)=>{const Hn=fo("",20);W.port1.start();const Wr=setTimeout(()=>{Jt(new Error("unsupported_event"))},C);Ye={messageChannel:W,onMessage(ii){const Ra=ii;if(Ra.data.eventId===Hn)switch(Ra.data.status){case"ack":clearTimeout(Wr),Te=setTimeout(()=>{Jt(new Error("timeout"))},3e3);break;case"done":clearTimeout(Te),Nt(Ra.data.response);break;default:clearTimeout(Wr),clearTimeout(Te),Jt(new Error("invalid_response"))}}},B.handlers.add(Ye),W.port1.addEventListener("message",Ye.onMessage),B.target.postMessage({eventType:h,eventId:Hn,data:f},[W.port2])}).finally(()=>{Ye&&B.removeMessageHandler(Ye)})})()}}function Rr(){return window}function _a(){return typeof Rr().WorkerGlobalScope<"u"&&"function"==typeof Rr().importScripts}function ru(){return(ru=(0,oe.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const po="firebaseLocalStorageDb",rs="firebaseLocalStorage",No="fbase_key";class Jn{constructor(h){this.request=h}toPromise(){return new Promise((h,f)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{f(this.request.error)})})}}function Xt(w,h){return w.transaction([rs],h?"readwrite":"readonly").objectStore(rs)}function Cn(){const w=indexedDB.open(po,1);return new Promise((h,f)=>{w.addEventListener("error",()=>{f(w.error)}),w.addEventListener("upgradeneeded",()=>{const C=w.result;try{C.createObjectStore(rs,{keyPath:No})}catch(B){f(B)}}),w.addEventListener("success",(0,oe.Z)(function*(){const C=w.result;C.objectStoreNames.contains(rs)?h(C):(C.close(),yield function Oo(){const w=indexedDB.deleteDatabase(po);return new Jn(w).toPromise()}(),h(yield Cn()))}))})}function $a(w,h,f){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,oe.Z)(function*(w,h,f){const C=Xt(w,!0).put({[No]:h,value:f});return new Jn(C).toPromise()})).apply(this,arguments)}function js(){return(js=(0,oe.Z)(function*(w,h){const f=Xt(w,!1).get(h),C=yield new Jn(f).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function Po(w,h){const f=Xt(w,!0).delete(h);return new Jn(f).toPromise()}const ko=(()=>{class w{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var f=this;return(0,oe.Z)(function*(){return f.db||(f.db=yield Cn()),f.db})()}_withRetries(f){var C=this;return(0,oe.Z)(function*(){let B=0;for(;;)try{const W=yield C._openDb();return yield f(W)}catch(W){if(B++>3)throw W;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var f=this;return(0,oe.Z)(function*(){return _a()?f.initializeReceiver():f.initializeSender()})()}initializeReceiver(){var f=this;return(0,oe.Z)(function*(){f.receiver=Ua._getInstance(function Xu(){return _a()?self:null}()),f.receiver._subscribe("keyChanged",function(){var C=(0,oe.Z)(function*(B,W){return{keyProcessed:(yield f._poll()).includes(W.key)}});return function(B,W){return C.apply(this,arguments)}}()),f.receiver._subscribe("ping",function(){var C=(0,oe.Z)(function*(B,W){return["keyChanged"]});return function(B,W){return C.apply(this,arguments)}}())})()}initializeSender(){var f=this;return(0,oe.Z)(function*(){var C,B;if(f.activeServiceWorker=yield function Ba(){return ru.apply(this,arguments)}(),!f.activeServiceWorker)return;f.sender=new ia(f.activeServiceWorker);const W=yield f.sender._send("ping",{},800);!W||(null===(C=W[0])||void 0===C?void 0:C.fulfilled)&&(null===(B=W[0])||void 0===B?void 0:B.value.includes("keyChanged"))&&(f.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(f){var C=this;return(0,oe.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function $s(){var w;return(null===(w=navigator?.serviceWorker)||void 0===w?void 0:w.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:f},C.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,oe.Z)(function*(){try{if(!indexedDB)return!1;const f=yield Cn();return yield $a(f,xr,"1"),yield Po(f,xr),!0}catch{}return!1})()}_withPendingWrite(f){var C=this;return(0,oe.Z)(function*(){C.pendingWrites++;try{yield f()}finally{C.pendingWrites--}})()}_set(f,C){var B=this;return(0,oe.Z)(function*(){return B._withPendingWrite((0,oe.Z)(function*(){return yield B._withRetries(W=>$a(W,f,C)),B.localCache[f]=C,B.notifyServiceWorker(f)}))})()}_get(f){var C=this;return(0,oe.Z)(function*(){const B=yield C._withRetries(W=>function It(w,h){return js.apply(this,arguments)}(W,f));return C.localCache[f]=B,B})()}_remove(f){var C=this;return(0,oe.Z)(function*(){return C._withPendingWrite((0,oe.Z)(function*(){return yield C._withRetries(B=>Po(B,f)),delete C.localCache[f],C.notifyServiceWorker(f)}))})()}_poll(){var f=this;return(0,oe.Z)(function*(){const C=yield f._withRetries(Te=>{const Ye=Xt(Te,!1).getAll();return new Jn(Ye).toPromise()});if(!C)return[];if(0!==f.pendingWrites)return[];const B=[],W=new Set;for(const{fbase_key:Te,value:Ye}of C)W.add(Te),JSON.stringify(f.localCache[Te])!==JSON.stringify(Ye)&&(f.notifyListeners(Te,Ye),B.push(Te));for(const Te of Object.keys(f.localCache))f.localCache[Te]&&!W.has(Te)&&(f.notifyListeners(Te,null),B.push(Te));return B})()}notifyListeners(f,C){this.localCache[f]=C;const B=this.listeners[f];if(B)for(const W of Array.from(B))W(C)}startPolling(){var f=this;this.stopPolling(),this.pollTimer=setInterval((0,oe.Z)(function*(){return f._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(f,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[f]||(this.listeners[f]=new Set,this._get(f)),this.listeners[f].add(C)}_removeListener(f,C){this.listeners[f]&&(this.listeners[f].delete(C),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return w.type="LOCAL",w})();function Ia(w){return`__${w}${Math.floor(1e6*Math.random())}`}function Hi(w,h){return h?lt(h):(K(w._popupRedirectResolver,w,"argument-error"),w._popupRedirectResolver)}Ia("rcb"),new Qn(3e4,6e4);class kr extends Ei{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return Fi(h,this._buildIdpRequest())}_linkToIdToken(h,f){return Fi(h,this._buildIdpRequest(f))}_getReauthenticationResolver(h){return Fi(h,this._buildIdpRequest())}_buildIdpRequest(h){const f={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(f.idToken=h),f}}function Vo(w){return ni(w.auth,new kr(w),w.bypassAuthState)}function nc(w){const{auth:h,user:f}=w;return K(f,h,"internal-error"),function mr(w,h){return Ds.apply(this,arguments)}(f,new kr(w),w.bypassAuthState)}function y(w){return v.apply(this,arguments)}function v(){return(v=(0,oe.Z)(function*(w){const{auth:h,user:f}=w;return K(f,h,"internal-error"),Zs(f,new kr(w),w.bypassAuthState)})).apply(this,arguments)}new Qn(2e3,1e4);const Sn=new Map;class Ci extends class g{constructor(h,f,C,B,W=!1){this.auth=h,this.resolver=C,this.user=B,this.bypassAuthState=W,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(f)?f:[f]}execute(){var h=this;return new Promise(function(){var f=(0,oe.Z)(function*(C,B){h.pendingPromise={resolve:C,reject:B};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(W){h.reject(W)}});return function(C,B){return f.apply(this,arguments)}}())}onAuthEvent(h){var f=this;return(0,oe.Z)(function*(){const{urlResponse:C,sessionId:B,postBody:W,tenantId:Te,error:Ye,type:Nt}=h;if(Ye)return void f.reject(Ye);const Jt={auth:f.auth,requestUri:C,sessionId:B,tenantId:Te||void 0,postBody:W||void 0,user:f.user,bypassAuthState:f.bypassAuthState};try{f.resolve(yield f.getIdpTask(Nt)(Jt))}catch(Hn){f.reject(Hn)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return Vo;case"linkViaPopup":case"linkViaRedirect":return y;case"reauthViaPopup":case"reauthViaRedirect":return nc;default:je(this.auth,"internal-error")}}resolve(h){Le(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){Le(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}{constructor(h,f,C=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],f,void 0,C),this.eventId=null}execute(){var h=()=>super.execute,f=this;return(0,oe.Z)(function*(){let C=Sn.get(f.auth._key());if(!C){try{const W=(yield function bi(w,h){return Gi.apply(this,arguments)}(f.resolver,f.auth))?yield h().call(f):null;C=()=>Promise.resolve(W)}catch(B){C=()=>Promise.reject(B)}Sn.set(f.auth._key(),C)}return f.bypassAuthState||Sn.set(f.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(h){var f=()=>super.onAuthEvent,C=this;return(0,oe.Z)(function*(){if("signInViaRedirect"===h.type)return f().call(C,h);if("unknown"!==h.type){if(h.eventId){const B=yield C.auth._redirectUserForId(h.eventId);if(B)return C.user=B,f().call(C,h);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,oe.Z)(function*(){})()}cleanUp(){}}function Gi(){return(Gi=(0,oe.Z)(function*(w,h){const f=yo(h),C=rc(w);if(!(yield C._isAvailable()))return!1;const B="true"===(yield C._get(f));return yield C._remove(f),B})).apply(this,arguments)}function Bo(w,h){Sn.set(w._key(),h)}function rc(w){return lt(w._redirectPersistence)}function yo(w){return Jr("pendingRedirect",w.config.apiKey,w.name)}function Pe(w,h){return rt.apply(this,arguments)}function rt(){return(rt=(0,oe.Z)(function*(w,h,f=!1){const C=hn(w),B=Hi(C,h),Te=yield new Ci(C,B,f).execute();return Te&&!f&&(delete Te.user._redirectEventId,yield C._persistUserIfCurrent(Te.user),yield C._setRedirectUser(null,h)),Te})).apply(this,arguments)}class On{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let f=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(h,C)&&(f=!0,this.sendToConsumer(h,C),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function is(w){switch(w.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Zn(w);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,f||(this.queuedRedirectEvent=h,f=!0)),f}sendToConsumer(h,f){var C;if(h.error&&!Zn(h)){const B=(null===(C=h.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";f.onError(Ie(this.auth,B))}else f.onAuthEvent(h)}isEventForConsumer(h,f){const C=null===f.eventId||!!h.eventId&&h.eventId===f.eventId;return f.filter.includes(h.type)&&C}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(tn(h))}saveEventToCache(h){this.cachedEventUids.add(tn(h)),this.lastProcessedEventTime=Date.now()}}function tn(w){return[w.type,w.eventId,w.sessionId,w.tenantId].filter(h=>h).join("-")}function Zn({type:w,error:h}){return"unknown"===w&&"auth/no-auth-event"===h?.code}function uu(w){return Da.apply(this,arguments)}function Da(){return(Da=(0,oe.Z)(function*(w,h={}){return Gn(w,"GET","/v1/projects",h)})).apply(this,arguments)}const Ca=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ga=/^https?/;function Ta(){return(Ta=(0,oe.Z)(function*(w){if(w.config.emulator)return;const{authorizedDomains:h}=yield uu(w);for(const f of h)try{if(za(f))return}catch{}je(w,"unauthorized-domain")})).apply(this,arguments)}function za(w){const h=vt(),{protocol:f,hostname:C}=new URL(h);if(w.startsWith("chrome-extension://")){const Te=new URL(w);return""===Te.hostname&&""===C?"chrome-extension:"===f&&w.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===f&&Te.hostname===C}if(!Ga.test(f))return!1;if(Ca.test(w))return C===w;const B=w.replace(/\./g,"\\.");return new RegExp("^(.+\\."+B+"|"+B+")$","i").test(C)}const xs=new Qn(3e4,6e4);function ua(){const w=Rr().___jsl;if(w?.H)for(const h of Object.keys(w.H))if(w.H[h].r=w.H[h].r||[],w.H[h].L=w.H[h].L||[],w.H[h].r=[...w.H[h].L],w.CP)for(let f=0;f<w.CP.length;f++)w.CP[f]=null}let ic=null;function ad(w){return ic=ic||function Dp(w){return new Promise((h,f)=>{var C,B,W;function Te(){ua(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{ua(),f(Ie(w,"network-request-failed"))},timeout:xs.get()})}if(null!==(B=null===(C=Rr().gapi)||void 0===C?void 0:C.iframes)&&void 0!==B&&B.Iframe)h(gapi.iframes.getContext());else{if(null===(W=Rr().gapi)||void 0===W||!W.load){const Ye=Ia("iframefcb");return Rr()[Ye]=()=>{gapi.load?Te():f(Ie(w,"network-request-failed"))},function sa(w){return new Promise((h,f)=>{const C=document.createElement("script");C.setAttribute("src",w),C.onload=h,C.onerror=B=>{const W=Ie("internal-error");W.customData=B,f(W)},C.type="text/javascript",C.charset="UTF-8",function gs(){var w,h;return null!==(h=null===(w=document.getElementsByTagName("head"))||void 0===w?void 0:w[0])&&void 0!==h?h:document}().appendChild(C)})}(`https://apis.google.com/js/api.js?onload=${Ye}`).catch(Nt=>f(Nt))}Te()}}).catch(h=>{throw ic=null,h})}(w),ic}const Aa=new Qn(5e3,15e3),ud={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Nc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cd(w){const h=w.config;K(h.authDomain,w,"auth-domain-config-required");const f=h.emulator?kn(h,"emulator/auth/iframe"):`https://${w.config.authDomain}/__/auth/iframe`,C={apiKey:h.apiKey,appName:w.name,v:we.Jn},B=Nc.get(w.config.apiHost);B&&(C.eid=B);const W=w._getFrameworks();return W.length&&(C.fw=W.join(",")),`${f}?${(0,Ce.xO)(C).slice(1)}`}function lu(){return lu=(0,oe.Z)(function*(w){const h=yield ad(w),f=Rr().gapi;return K(f,w,"internal-error"),h.open({where:document.body,url:cd(w),messageHandlersFilter:f.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ud,dontclear:!0},C=>new Promise(function(){var B=(0,oe.Z)(function*(W,Te){yield C.restyle({setHideOnLeave:!1});const Ye=Ie(w,"network-request-failed"),Nt=Rr().setTimeout(()=>{Te(Ye)},Aa.get());function Jt(){Rr().clearTimeout(Nt),W(C)}C.ping(Jt).then(Jt,()=>{Te(Ye)})});return function(W,Te){return B.apply(this,arguments)}}()))}),lu.apply(this,arguments)}const Rs={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Sa{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function cc(w,h,f,C,B,W){K(w.config.authDomain,w,"auth-domain-config-required"),K(w.config.apiKey,w,"invalid-api-key");const Te={apiKey:w.config.apiKey,appName:w.name,authType:f,redirectUrl:C,v:we.Jn,eventId:B};if(h instanceof yi){h.setDefaultLanguage(w.languageCode),Te.providerId=h.providerId||"",(0,Ce.xb)(h.getCustomParameters())||(Te.customParameters=JSON.stringify(h.getCustomParameters()));for(const[Nt,Jt]of Object.entries(W||{}))Te[Nt]=Jt}if(h instanceof Yi){const Nt=h.getScopes().filter(Jt=>""!==Jt);Nt.length>0&&(Te.scopes=Nt.join(","))}w.tenantId&&(Te.tid=w.tenantId);const Ye=Te;for(const Nt of Object.keys(Ye))void 0===Ye[Nt]&&delete Ye[Nt];return`${function _l({config:w}){return w.emulator?kn(w,"emulator/auth/handler"):`https://${w.authDomain}/__/auth/handler`}(w)}?${(0,Ce.xO)(Ye).slice(1)}`}const du="webStorageSupport",fd=class hd{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=it,this._completeRedirectFn=Pe,this._overrideRedirectResult=Bo}_openPopup(h,f,C,B){var W=this;return(0,oe.Z)(function*(){var Te;Le(null===(Te=W.eventManagers[h._key()])||void 0===Te?void 0:Te.manager,"_initialize() not called before _openPopup()");const Ye=cc(h,f,C,vt(),B);return function ld(w,h,f,C=500,B=600){const W=Math.max((window.screen.availHeight-B)/2,0).toString(),Te=Math.max((window.screen.availWidth-C)/2,0).toString();let Ye="";const Nt=Object.assign(Object.assign({},Rs),{width:C.toString(),height:B.toString(),top:W,left:Te}),Jt=(0,Ce.z$)().toLowerCase();f&&(Ye=le(Jt)?"_blank":f),ki(Jt)&&(h=h||"http://localhost",Nt.scrollbars="yes");const Hn=Object.entries(Nt).reduce((ii,[Ra,Hc])=>`${ii}${Ra}=${Hc},`,"");if(function st(w=(0,Ce.z$)()){var h;return Lt(w)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(Jt)&&"_self"!==Ye)return function dd(w,h){const f=document.createElement("a");f.href=w,f.target=h;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),f.dispatchEvent(C)}(h||"",Ye),new Sa(null);const Wr=window.open(h||"",Ye,Hn);K(Wr,w,"popup-blocked");try{Wr.focus()}catch{}return new Sa(Wr)}(h,Ye,fo())})()}_openRedirect(h,f,C,B){var W=this;return(0,oe.Z)(function*(){return yield W._originValidation(h),function Ju(w){Rr().location.href=w}(cc(h,f,C,vt(),B)),new Promise(()=>{})})()}_initialize(h){const f=h._key();if(this.eventManagers[f]){const{manager:B,promise:W}=this.eventManagers[f];return B?Promise.resolve(B):(Le(W,"If manager is not set, promise should be"),W)}const C=this.initAndGetManager(h);return this.eventManagers[f]={promise:C},C.catch(()=>{delete this.eventManagers[f]}),C}initAndGetManager(h){var f=this;return(0,oe.Z)(function*(){const C=yield function Oc(w){return lu.apply(this,arguments)}(h),B=new On(h);return C.register("authEvent",W=>(K(W?.authEvent,h,"invalid-auth-event"),{status:B.onEvent(W.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),f.eventManagers[h._key()]={manager:B},f.iframes[h._key()]=C,B})()}_isIframeWebStorageSupported(h,f){this.iframes[h._key()].send(du,{type:du},B=>{var W;const Te=null===(W=B?.[0])||void 0===W?void 0:W[du];void 0!==Te&&f(!!Te),je(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const f=h._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function ba(w){return Ta.apply(this,arguments)}(h)),this.originValidationPromises[f]}get _shouldInitProactively(){return $n()||be()||Lt()}};var wl="@firebase/auth";class Ma{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var f=this;return(0,oe.Z)(function*(){return f.assertAuthConfigured(),yield f.auth._initializationPromise,f.auth.currentUser?{accessToken:yield f.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const f=this.auth.onIdTokenChanged(C=>{var B;h((null===(B=C)||void 0===B?void 0:B.stsTokenManager.accessToken)||null)});this.internalListeners.set(h,f),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const f=this.internalListeners.get(h);!f||(this.internalListeners.delete(h),f(),this.updateProactiveRefresh())}assertAuthConfigured(){K(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ah(w=(0,we.Mq)()){const h=(0,we.qX)(w,"auth");return h.isInitialized()?h.getImmediate():function $t(w,h){const f=(0,we.qX)(w,"auth");if(f.isInitialized()){const B=f.getImmediate(),W=f.getOptions();if((0,Ce.vZ)(W,h??{}))return B;je(B,"already-initialized")}return f.initialize({options:h})}(w,{popupRedirectResolver:fd,persistence:[ko,_t,it]})}!function pd(w){(0,we.Xd)(new ue.wA("auth",(h,{options:f})=>{const C=h.getProvider("app").getImmediate(),B=h.getProvider("heartbeat"),{apiKey:W,authDomain:Te}=C.options;return((Ye,Nt)=>{K(W&&!W.includes(":"),"invalid-api-key",{appName:Ye.name}),K(!Te?.includes(":"),"argument-error",{appName:Ye.name});const Jt={apiKey:W,authDomain:Te,clientPlatform:w,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ii(w)},Hn=new mi(Ye,Nt,Jt);return function Yn(w,h){const f=h?.persistence||[],C=(Array.isArray(f)?f:[f]).map(lt);h?.errorMap&&w._updateErrorMap(h.errorMap),w._initializeWithPersistence(C,h?.popupRedirectResolver)}(Hn,f),Hn})(C,B)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,f,C)=>{h.getProvider("auth-internal").initialize()})),(0,we.Xd)(new ue.wA("auth-internal",h=>{const f=hn(h.getProvider("auth").getImmediate());return new Ma(f)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,we.KN)(wl,"0.20.6",function ca(w){switch(w){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(w)),(0,we.KN)(wl,"0.20.6","esm2017")}("Browser");var kc=G(9751);function Sh(w){return new kc.y(function(h){var f=function di(w,h,f,C){return(0,Ce.m9)(w).onIdTokenChanged(h,f,C)}(w,h.next.bind(h),h.error.bind(h),h.complete.bind(h));return{unsubscribe:f}})}class fu{constructor(h){return h}}class Il{constructor(){return(0,_.vb)("auth")}}const pu=new q.OlP("angularfire2.auth-instances");function El(w){return(h,f)=>{const C=h.runOutsideAngular(()=>w(f));return new fu(C)}}const zs={provide:Il,deps:[[new q.FiY,pu]]},vo={provide:fu,useFactory:function Fc(w,h){const f=(0,_.JM)("auth",w,h);return f&&new fu(f)},deps:[[new q.FiY,pu],_e.Ot]};let Dl=(()=>{class w{constructor(){(0,ce.KN)("angularfire",_.q4.full,"auth")}}return w.\u0275fac=function(f){return new(f||w)},w.\u0275mod=q.oAB({type:w}),w.\u0275inj=q.cJS({providers:[vo,zs]}),w})();function Cl(w,...h){return{ngModule:Dl,providers:[{provide:pu,useFactory:El(w),multi:!0,deps:[q.R0b,q.zs3,_.HU,_e.z6,[new q.FiY,Ee.nm],...h]}]}}const lc=(0,_.u3)(Sh,!0),gu=(0,_.u3)(Pt,!0),dc=(0,_.u3)(Ah,!0),vd=(0,_.u3)(Zo,!0),Bc=(0,_.u3)(zr,!0),Ru=(0,_.u3)(va,!0),jc=(0,_.u3)(Ve,!0)},7554:(Yt,Xe,G)=>{G.d(Xe,{Cm:()=>St,ad:()=>tr,gg:()=>we});var _=G(8321),q=G(8256),_e=G(8951),ce=G(3692),Ee=G(5867),oe=G(7128),Ce=G(3209);class we{constructor(te){return te}}const qe="firestore",Fe=new q.OlP("angularfire2.firestore-instances");function Me(X){return(te,ie)=>{const Oe=te.runOutsideAngular(()=>X(ie));return new we(Oe)}}const ct={provide:class ee{constructor(){return(0,_.vb)(qe)}},deps:[[new q.FiY,Fe]]},wt={provide:we,useFactory:function tt(X,te){const ie=(0,_.JM)(qe,X,te);return ie&&new we(ie)},deps:[[new q.FiY,Fe],ce.Ot]};let Vt=(()=>{class X{constructor(){(0,Ee.KN)("angularfire",_.q4.full,"fst")}}return X.\u0275fac=function(ie){return new(ie||X)},X.\u0275mod=q.oAB({type:X}),X.\u0275inj=q.cJS({providers:[wt,ct]}),X})();function St(X,...te){return{ngModule:Vt,providers:[{provide:Fe,useFactory:Me(X),multi:!0,deps:[q.R0b,q.zs3,_.HU,ce.z6,[new q.FiY,_e.dh],[new q.FiY,oe.nm],...te]}]}}const tr=(0,_.u3)(Ce.ad,!0)},8321:(Yt,Xe,G)=>{G.d(Xe,{q4:()=>g,HU:()=>Gs,vb:()=>bi,JM:()=>Ci,u3:()=>au});var _=G(8256),q=G(5867),_e=G(5861),ce=G(9681),Ee=G(2090),oe=G(4859),Ce=G(1877),we=G(8766);const qe="@firebase/installations",ee="0.5.12",Fe=`w:${ee}`,tt="FIS_v2",xt=new Ee.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function pt(A){return A instanceof Ee.ZR&&A.code.includes("request-failed")}function We({projectId:A}){return`https://firebaseinstallations.googleapis.com/v1/projects/${A}/installations`}function et(A){return{token:A.token,requestStatus:2,expiresIn:ve(A.expiresIn),creationTime:Date.now()}}function Re(A,N){return yt.apply(this,arguments)}function yt(){return(yt=(0,_e.Z)(function*(A,N){const Y=(yield N.json()).error;return xt.create("request-failed",{requestName:A,serverCode:Y.code,serverMessage:Y.message,serverStatus:Y.status})})).apply(this,arguments)}function je({apiKey:A}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":A})}function Ie(A,{refreshToken:N}){const L=je(A);return L.append("Authorization",function K(A){return`${tt} ${A}`}(N)),L}function nt(A){return me.apply(this,arguments)}function me(){return(me=(0,_e.Z)(function*(A){const N=yield A();return N.status>=500&&N.status<600?A():N})).apply(this,arguments)}function ve(A){return Number(A.replace("s","000"))}function de(A,N){return Le.apply(this,arguments)}function Le(){return(Le=(0,_e.Z)(function*({appConfig:A,heartbeatServiceProvider:N},{fid:L}){const Y=We(A),ye=je(A),Pe=N.getImmediate({optional:!0});if(Pe){const fn=yield Pe.getHeartbeatsHeader();fn&&ye.append("x-firebase-client",fn)}const mt={method:"POST",headers:ye,body:JSON.stringify({fid:L,authVersion:tt,appId:A.appId,sdkVersion:Fe})},Zt=yield nt(()=>fetch(Y,mt));if(Zt.ok){const fn=yield Zt.json();return{fid:fn.fid||L,registrationStatus:2,refreshToken:fn.refreshToken,authToken:et(fn.authToken)}}throw yield Re("Create Installation",Zt)})).apply(this,arguments)}function $e(A){return new Promise(N=>{setTimeout(N,A)})}const $t=/^[cdef][\w-]{21}$/;function vt(){try{const A=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(A),A[0]=112+A[0]%16;const L=function rn(A){return function lt(A){return btoa(String.fromCharCode(...A)).replace(/\+/g,"-").replace(/\//g,"_")}(A).substr(0,22)}(A);return $t.test(L)?L:""}catch{return""}}function Vn(A){return`${A.appName}!${A.appId}`}const Dn=new Map;function vr(A,N){const L=Vn(A);un(L,N),function sn(A,N){const L=function In(){return!_r&&"BroadcastChannel"in self&&(_r=new BroadcastChannel("[Firebase] FID Change"),_r.onmessage=A=>{un(A.data.key,A.data.fid)}),_r}();L&&L.postMessage({key:A,fid:N}),function Gn(){0===Dn.size&&_r&&(_r.close(),_r=null)}()}(L,N)}function un(A,N){const L=Dn.get(A);if(L)for(const Y of L)Y(N)}let _r=null;const tr="firebase-installations-store";let Wn=null;function qr(){return Wn||(Wn=(0,we.X3)("firebase-installations-database",1,{upgrade:(A,N)=>{0===N&&A.createObjectStore(tr)}})),Wn}function At(A,N){return cr.apply(this,arguments)}function cr(){return(cr=(0,_e.Z)(function*(A,N){const L=Vn(A),ye=(yield qr()).transaction(tr,"readwrite"),Pe=ye.objectStore(tr),rt=yield Pe.get(L);return yield Pe.put(N,L),yield ye.done,(!rt||rt.fid!==N.fid)&&vr(A,N.fid),N})).apply(this,arguments)}function Un(A){return nr.apply(this,arguments)}function nr(){return(nr=(0,_e.Z)(function*(A){const N=Vn(A),Y=(yield qr()).transaction(tr,"readwrite");yield Y.objectStore(tr).delete(N),yield Y.done})).apply(this,arguments)}function wr(A,N){return gi.apply(this,arguments)}function gi(){return(gi=(0,_e.Z)(function*(A,N){const L=Vn(A),ye=(yield qr()).transaction(tr,"readwrite"),Pe=ye.objectStore(tr),rt=yield Pe.get(L),mt=N(rt);return void 0===mt?yield Pe.delete(L):yield Pe.put(mt,L),yield ye.done,mt&&(!rt||rt.fid!==mt.fid)&&vr(A,mt.fid),mt})).apply(this,arguments)}function cn(A){return br.apply(this,arguments)}function br(){return(br=(0,_e.Z)(function*(A){let N;const L=yield wr(A.appConfig,Y=>{const ye=gt(Y),Pe=Et(A,ye);return N=Pe.registrationPromise,Pe.installationEntry});return""===L.fid?{installationEntry:yield N}:{installationEntry:L,registrationPromise:N}})).apply(this,arguments)}function gt(A){return An(A||{fid:vt(),registrationStatus:0})}function Et(A,N){if(0===N.registrationStatus){if(!navigator.onLine)return{installationEntry:N,registrationPromise:Promise.reject(xt.create("app-offline"))};const L={fid:N.fid,registrationStatus:1,registrationTime:Date.now()},Y=function Ht(A,N){return vn.apply(this,arguments)}(A,L);return{installationEntry:L,registrationPromise:Y}}return 1===N.registrationStatus?{installationEntry:N,registrationPromise:Bn(A)}:{installationEntry:N}}function vn(){return(vn=(0,_e.Z)(function*(A,N){try{const L=yield de(A,N);return At(A.appConfig,L)}catch(L){throw pt(L)&&409===L.customData.serverCode?yield Un(A.appConfig):yield At(A.appConfig,{fid:N.fid,registrationStatus:0}),L}})).apply(this,arguments)}function Bn(A){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,_e.Z)(function*(A){let N=yield sr(A.appConfig);for(;1===N.registrationStatus;)yield $e(100),N=yield sr(A.appConfig);if(0===N.registrationStatus){const{installationEntry:L,registrationPromise:Y}=yield cn(A);return Y||L}return N})).apply(this,arguments)}function sr(A){return wr(A,N=>{if(!N)throw xt.create("installation-not-found");return An(N)})}function An(A){return function Ir(A){return 1===A.registrationStatus&&A.registrationTime+1e4<Date.now()}(A)?{fid:A.fid,registrationStatus:0}:A}function Fn(A,N){return Br.apply(this,arguments)}function Br(){return(Br=(0,_e.Z)(function*({appConfig:A,heartbeatServiceProvider:N},L){const Y=Ut(A,L),ye=Ie(A,L),Pe=N.getImmediate({optional:!0});if(Pe){const fn=yield Pe.getHeartbeatsHeader();fn&&ye.append("x-firebase-client",fn)}const mt={method:"POST",headers:ye,body:JSON.stringify({installation:{sdkVersion:Fe,appId:A.appId}})},Zt=yield nt(()=>fetch(Y,mt));if(Zt.ok)return et(yield Zt.json());throw yield Re("Generate Auth Token",Zt)})).apply(this,arguments)}function Ut(A,{fid:N}){return`${We(A)}/${N}/authTokens:generate`}function ge(A){return ae.apply(this,arguments)}function ae(){return(ae=(0,_e.Z)(function*(A,N=!1){let L;const Y=yield wr(A.appConfig,Pe=>{if(!Ot(Pe))throw xt.create("not-registered");const rt=Pe.authToken;if(!N&&qt(rt))return Pe;if(1===rt.requestStatus)return L=X(A,N),Pe;{if(!navigator.onLine)throw xt.create("app-offline");const mt=gn(Pe);return L=Oe(A,mt),mt}});return L?yield L:Y.authToken})).apply(this,arguments)}function X(A,N){return te.apply(this,arguments)}function te(){return(te=(0,_e.Z)(function*(A,N){let L=yield ie(A.appConfig);for(;1===L.authToken.requestStatus;)yield $e(100),L=yield ie(A.appConfig);const Y=L.authToken;return 0===Y.requestStatus?ge(A,N):Y})).apply(this,arguments)}function ie(A){return wr(A,N=>{if(!Ot(N))throw xt.create("not-registered");return function en(A){return 1===A.requestStatus&&A.requestTime+1e4<Date.now()}(N.authToken)?Object.assign(Object.assign({},N),{authToken:{requestStatus:0}}):N})}function Oe(A,N){return ht.apply(this,arguments)}function ht(){return(ht=(0,_e.Z)(function*(A,N){try{const L=yield Fn(A,N),Y=Object.assign(Object.assign({},N),{authToken:L});return yield At(A.appConfig,Y),L}catch(L){if(!pt(L)||401!==L.customData.serverCode&&404!==L.customData.serverCode){const Y=Object.assign(Object.assign({},N),{authToken:{requestStatus:0}});yield At(A.appConfig,Y)}else yield Un(A.appConfig);throw L}})).apply(this,arguments)}function Ot(A){return void 0!==A&&2===A.registrationStatus}function qt(A){return 2===A.requestStatus&&!function Ft(A){const N=Date.now();return N<A.creationTime||A.creationTime+A.expiresIn<N+36e5}(A)}function gn(A){const N={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},A),{authToken:N})}function $r(){return($r=(0,_e.Z)(function*(A){const N=A,{installationEntry:L,registrationPromise:Y}=yield cn(N);return Y?Y.catch(console.error):ge(N).catch(console.error),L.fid})).apply(this,arguments)}function Tr(){return(Tr=(0,_e.Z)(function*(A,N=!1){const L=A;return yield Pi(L),(yield ge(L,N)).token})).apply(this,arguments)}function Pi(A){return ki.apply(this,arguments)}function ki(){return(ki=(0,_e.Z)(function*(A){const{registrationPromise:N}=yield cn(A);N&&(yield N)})).apply(this,arguments)}function st(A){return xt.create("missing-app-config-values",{valueName:A})}const Gt="installations",lr=A=>{const N=A.getProvider("app").getImmediate(),L=function _n(A){if(!A||!A.options)throw st("App Configuration");if(!A.name)throw st("App Name");const N=["projectId","apiKey","appId"];for(const L of N)if(!A.options[L])throw st(L);return{appName:A.name,projectId:A.options.projectId,apiKey:A.options.apiKey,appId:A.options.appId}}(N);return{app:N,appConfig:L,heartbeatServiceProvider:(0,ce.qX)(N,"heartbeat"),_delete:()=>Promise.resolve()}},Ii=A=>{const N=A.getProvider("app").getImmediate(),L=(0,ce.qX)(N,Gt).getImmediate();return{getId:()=>function Qr(A){return $r.apply(this,arguments)}(L),getToken:ye=>function Jr(A){return Tr.apply(this,arguments)}(L,ye)}};(function ur(){(0,ce.Xd)(new oe.wA(Gt,lr,"PUBLIC")),(0,ce.Xd)(new oe.wA("installations-internal",Ii,"PRIVATE"))})(),(0,ce.KN)(qe,ee),(0,ce.KN)(qe,ee,"esm2017");const mi="@firebase/remote-config",Xr=new Ee.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Ar{constructor(N,L,Y,ye){this.client=N,this.storage=L,this.storageCache=Y,this.logger=ye}isCachedDataFresh(N,L){if(!L)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Y=Date.now()-L,ye=Y<=N;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Y}. Cache max age millis (minimumFetchIntervalMillis setting): ${N}. Is cache hit: ${ye}.`),ye}fetch(N){var L=this;return(0,_e.Z)(function*(){const[Y,ye]=yield Promise.all([L.storage.getLastSuccessfulFetchTimestampMillis(),L.storage.getLastSuccessfulFetchResponse()]);if(ye&&L.isCachedDataFresh(N.cacheMaxAgeMillis,Y))return ye;N.eTag=ye&&ye.eTag;const Pe=yield L.client.fetch(N),rt=[L.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Pe.status&&rt.push(L.storage.setLastSuccessfulFetchResponse(Pe)),yield Promise.all(rt),Pe})()}}function qn(A=navigator){return A.languages&&A.languages[0]||A.language}class Eo{constructor(N,L,Y,ye,Pe,rt){this.firebaseInstallations=N,this.sdkVersion=L,this.namespace=Y,this.projectId=ye,this.apiKey=Pe,this.appId=rt}fetch(N){var L=this;return(0,_e.Z)(function*(){var Y,ye,Pe;const[rt,mt]=yield Promise.all([L.firebaseInstallations.getId(),L.firebaseInstallations.getToken()]),fn=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${L.projectId}/namespaces/${L.namespace}:fetch?key=${L.apiKey}`,On={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":N.eTag||"*"},tn={sdk_version:L.sdkVersion,app_instance_id:rt,app_instance_id_token:mt,app_id:L.appId,language_code:qn()},Zn={method:"POST",headers:On,body:JSON.stringify(tn)},is=fetch(fn,Zn),uu=new Promise((za,xs)=>{N.signal.addEventListener(()=>{const ua=new Error("The operation was aborted.");ua.name="AbortError",xs(ua)})});let Da;try{yield Promise.race([is,uu]),Da=yield is}catch(za){let xs="fetch-client-network";throw"AbortError"===(null===(Y=za)||void 0===Y?void 0:Y.name)&&(xs="fetch-timeout"),Xr.create(xs,{originalErrorMessage:null===(ye=za)||void 0===ye?void 0:ye.message})}let Ca=Da.status;const Ga=Da.headers.get("ETag")||void 0;let ba,Ta;if(200===Da.status){let za;try{za=yield Da.json()}catch(xs){throw Xr.create("fetch-client-parse",{originalErrorMessage:null===(Pe=xs)||void 0===Pe?void 0:Pe.message})}ba=za.entries,Ta=za.state}if("INSTANCE_STATE_UNSPECIFIED"===Ta?Ca=500:"NO_CHANGE"===Ta?Ca=304:("NO_TEMPLATE"===Ta||"EMPTY_CONFIG"===Ta)&&(ba={}),304!==Ca&&200!==Ca)throw Xr.create("fetch-status",{httpStatus:Ca});return{status:Ca,eTag:Ga,config:ba}})()}}class Kr{constructor(N,L){this.client=N,this.storage=L}fetch(N){var L=this;return(0,_e.Z)(function*(){const Y=(yield L.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return L.attemptFetch(N,Y)})()}attemptFetch(N,{throttleEndTimeMillis:L,backoffCount:Y}){var ye=this;return(0,_e.Z)(function*(){yield function gr(A,N){return new Promise((L,Y)=>{const ye=Math.max(N-Date.now(),0),Pe=setTimeout(L,ye);A.addEventListener(()=>{clearTimeout(Pe),Y(Xr.create("fetch-throttle",{throttleEndTimeMillis:N}))})})}(N.signal,L);try{const Pe=yield ye.client.fetch(N);return yield ye.storage.deleteThrottleMetadata(),Pe}catch(Pe){if(!function qi(A){if(!(A instanceof Ee.ZR&&A.customData))return!1;const N=Number(A.customData.httpStatus);return 429===N||500===N||503===N||504===N}(Pe))throw Pe;const rt={throttleEndTimeMillis:Date.now()+(0,Ee.$s)(Y),backoffCount:Y+1};return yield ye.storage.setThrottleMetadata(rt),ye.attemptFetch(N,rt)}})()}}class oo{constructor(N,L,Y,ye,Pe){this.app=N,this._client=L,this._storageCache=Y,this._storage=ye,this._logger=Pe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ao(A,N){var L;const Y=A.target.error||void 0;return Xr.create(N,{originalErrorMessage:Y&&(null===(L=Y)||void 0===L?void 0:L.message)})}const Li="app_namespace_store";class Ws{constructor(N,L,Y,ye=function Co(){return new Promise((A,N)=>{var L;try{const Y=indexedDB.open("firebase_remote_config",1);Y.onerror=ye=>{N(ao(ye,"storage-open"))},Y.onsuccess=ye=>{A(ye.target.result)},Y.onupgradeneeded=ye=>{0===ye.oldVersion&&ye.target.result.createObjectStore(Li,{keyPath:"compositeKey"})}}catch(Y){N(Xr.create("storage-open",{originalErrorMessage:null===(L=Y)||void 0===L?void 0:L.message}))}})}()){this.appId=N,this.appName=L,this.namespace=Y,this.openDbPromise=ye}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(N){return this.set("last_fetch_status",N)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(N){return this.set("last_successful_fetch_timestamp_millis",N)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(N){return this.set("last_successful_fetch_response",N)}getActiveConfig(){return this.get("active_config")}setActiveConfig(N){return this.set("active_config",N)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(N){return this.set("active_config_etag",N)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(N){return this.set("throttle_metadata",N)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(N){var L=this;return(0,_e.Z)(function*(){const Y=yield L.openDbPromise;return new Promise((ye,Pe)=>{var rt;const Zt=Y.transaction([Li],"readonly").objectStore(Li),fn=L.createCompositeKey(N);try{const On=Zt.get(fn);On.onerror=tn=>{Pe(ao(tn,"storage-get"))},On.onsuccess=tn=>{const Zn=tn.target.result;ye(Zn?Zn.value:void 0)}}catch(On){Pe(Xr.create("storage-get",{originalErrorMessage:null===(rt=On)||void 0===rt?void 0:rt.message}))}})})()}set(N,L){var Y=this;return(0,_e.Z)(function*(){const ye=yield Y.openDbPromise;return new Promise((Pe,rt)=>{var mt;const fn=ye.transaction([Li],"readwrite").objectStore(Li),On=Y.createCompositeKey(N);try{const tn=fn.put({compositeKey:On,value:L});tn.onerror=Zn=>{rt(ao(Zn,"storage-set"))},tn.onsuccess=()=>{Pe()}}catch(tn){rt(Xr.create("storage-set",{originalErrorMessage:null===(mt=tn)||void 0===mt?void 0:mt.message}))}})})()}delete(N){var L=this;return(0,_e.Z)(function*(){const Y=yield L.openDbPromise;return new Promise((ye,Pe)=>{var rt;const Zt=Y.transaction([Li],"readwrite").objectStore(Li),fn=L.createCompositeKey(N);try{const On=Zt.delete(fn);On.onerror=tn=>{Pe(ao(tn,"storage-delete"))},On.onsuccess=()=>{ye()}}catch(On){Pe(Xr.create("storage-delete",{originalErrorMessage:null===(rt=On)||void 0===rt?void 0:rt.message}))}})})()}createCompositeKey(N){return[this.appId,this.appName,this.namespace,N].join()}}class Fs{constructor(N){this.storage=N}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var N=this;return(0,_e.Z)(function*(){const L=N.storage.getLastFetchStatus(),Y=N.storage.getLastSuccessfulFetchTimestampMillis(),ye=N.storage.getActiveConfig(),Pe=yield L;Pe&&(N.lastFetchStatus=Pe);const rt=yield Y;rt&&(N.lastSuccessfulFetchTimestampMillis=rt);const mt=yield ye;mt&&(N.activeConfig=mt)})()}setLastFetchStatus(N){return this.lastFetchStatus=N,this.storage.setLastFetchStatus(N)}setLastSuccessfulFetchTimestampMillis(N){return this.lastSuccessfulFetchTimestampMillis=N,this.storage.setLastSuccessfulFetchTimestampMillis(N)}setActiveConfig(N){return this.activeConfig=N,this.storage.setActiveConfig(N)}}function Is(){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,_e.Z)(function*(){if(!(0,Ee.hl)())return!1;try{return yield(0,Ee.eu)()}catch{return!1}})).apply(this,arguments)}!function bo(){(0,ce.Xd)(new oe.wA("remote-config",function A(N,{instanceIdentifier:L}){const Y=N.getProvider("app").getImmediate(),ye=N.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Xr.create("registration-window");if(!(0,Ee.hl)())throw Xr.create("indexed-db-unavailable");const{projectId:Pe,apiKey:rt,appId:mt}=Y.options;if(!Pe)throw Xr.create("registration-project-id");if(!rt)throw Xr.create("registration-api-key");if(!mt)throw Xr.create("registration-app-id");const Zt=new Ws(mt,Y.name,L=L||"firebase"),fn=new Fs(Zt),On=new Ce.Yd(mi);On.logLevel=Ce.in.ERROR;const tn=new Eo(ye,ce.Jn,L,Pe,rt,mt),Zn=new Kr(tn,Zt),is=new Ar(Zn,Zt,fn,On),uu=new oo(Y,is,fn,Zt,On);return function De(A){const N=(0,Ee.m9)(A);N._initializePromise||(N._initializePromise=N._storageCache.loadFromStorage().then(()=>{N._isInitializationComplete=!0}))}(uu),uu},"PUBLIC").setMultipleInstances(!0)),(0,ce.KN)(mi,"0.3.11"),(0,ce.KN)(mi,"0.3.11","esm2017")}();const ds="/firebase-messaging-sw.js",Ui="/firebase-cloud-messaging-push-scope",Ki="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ti="google.c.a.c_id",yi="google.c.a.c_l",Yi="google.c.a.ts",qs="google.c.a.e";var jn=(()=>{return(A=jn||(jn={})).PUSH_RECEIVED="push-received",A.NOTIFICATION_CLICKED="notification-clicked",jn;var A})();function ui(A){const N=new Uint8Array(A);return btoa(String.fromCharCode(...N)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function To(A){const L=(A+"=".repeat((4-A.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Y=atob(L),ye=new Uint8Array(Y.length);for(let Pe=0;Pe<Y.length;++Pe)ye[Pe]=Y.charCodeAt(Pe);return ye}const Qi="fcm_token_details_db",Ji="fcm_token_object_Store";function ma(A){return Es.apply(this,arguments)}function Es(){return Es=(0,_e.Z)(function*(A){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Pe=>Pe.name).includes(Qi))return null;let N=null;return(yield(0,we.X3)(Qi,5,{upgrade:(Y=(0,_e.Z)(function*(ye,Pe,rt,mt){var Zt;if(Pe<2||!ye.objectStoreNames.contains(Ji))return;const fn=mt.objectStore(Ji),On=yield fn.index("fcmSenderId").get(A);if(yield fn.clear(),On)if(2===Pe){const tn=On;if(!tn.auth||!tn.p256dh||!tn.endpoint)return;N={token:tn.fcmToken,createTime:null!==(Zt=tn.createTime)&&void 0!==Zt?Zt:Date.now(),subscriptionOptions:{auth:tn.auth,p256dh:tn.p256dh,endpoint:tn.endpoint,swScope:tn.swScope,vapidKey:"string"==typeof tn.vapidKey?tn.vapidKey:ui(tn.vapidKey)}}}else if(3===Pe){const tn=On;N={token:tn.fcmToken,createTime:tn.createTime,subscriptionOptions:{auth:ui(tn.auth),p256dh:ui(tn.p256dh),endpoint:tn.endpoint,swScope:tn.swScope,vapidKey:ui(tn.vapidKey)}}}else if(4===Pe){const tn=On;N={token:tn.fcmToken,createTime:tn.createTime,subscriptionOptions:{auth:ui(tn.auth),p256dh:ui(tn.p256dh),endpoint:tn.endpoint,swScope:tn.swScope,vapidKey:ui(tn.vapidKey)}}}}),function(Pe,rt,mt,Zt){return Y.apply(this,arguments)})})).close(),yield(0,we.Lj)(Qi),yield(0,we.Lj)("fcm_vapid_details_db"),yield(0,we.Lj)("undefined"),jo(N)?N:null;var Y}),Es.apply(this,arguments)}function jo(A){if(!A||!A.subscriptionOptions)return!1;const{subscriptionOptions:N}=A;return"number"==typeof A.createTime&&A.createTime>0&&"string"==typeof A.token&&A.token.length>0&&"string"==typeof N.auth&&N.auth.length>0&&"string"==typeof N.p256dh&&N.p256dh.length>0&&"string"==typeof N.endpoint&&N.endpoint.length>0&&"string"==typeof N.swScope&&N.swScope.length>0&&"string"==typeof N.vapidKey&&N.vapidKey.length>0}const Bi="firebase-messaging-store";let $i=null;function Er(){return $i||($i=(0,we.X3)("firebase-messaging-database",1,{upgrade:(A,N)=>{0===N&&A.createObjectStore(Bi)}})),$i}function co(A){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,_e.Z)(function*(A){const N=Sr(A),Y=yield(yield Er()).transaction(Bi).objectStore(Bi).get(N);if(Y)return Y;{const ye=yield ma(A.appConfig.senderId);if(ye)return yield yn(A,ye),ye}})).apply(this,arguments)}function yn(A,N){return Di.apply(this,arguments)}function Di(){return(Di=(0,_e.Z)(function*(A,N){const L=Sr(A),ye=(yield Er()).transaction(Bi,"readwrite");return yield ye.objectStore(Bi).put(N,L),yield ye.done,N})).apply(this,arguments)}function Zs(A){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,_e.Z)(function*(A){const N=Sr(A),Y=(yield Er()).transaction(Bi,"readwrite");yield Y.objectStore(Bi).delete(N),yield Y.done})).apply(this,arguments)}function Sr({appConfig:A}){return A.appId}const mr=new Ee.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Ds(A,N){return ni.apply(this,arguments)}function ni(){return(ni=(0,_e.Z)(function*(A,N){var L;const Y=yield So(A),ye=li(N),Pe={method:"POST",headers:Y,body:JSON.stringify(ye)};let rt;try{rt=yield(yield fetch(Xi(A.appConfig),Pe)).json()}catch(mt){throw mr.create("token-subscribe-failed",{errorInfo:null===(L=mt)||void 0===L?void 0:L.toString()})}if(rt.error)throw mr.create("token-subscribe-failed",{errorInfo:rt.error.message});if(!rt.token)throw mr.create("token-subscribe-no-token");return rt.token})).apply(this,arguments)}function lo(A,N){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,_e.Z)(function*(A,N){var L;const Y=yield So(A),ye=li(N.subscriptionOptions),Pe={method:"PATCH",headers:Y,body:JSON.stringify(ye)};let rt;try{rt=yield(yield fetch(`${Xi(A.appConfig)}/${N.token}`,Pe)).json()}catch(mt){throw mr.create("token-update-failed",{errorInfo:null===(L=mt)||void 0===L?void 0:L.toString()})}if(rt.error)throw mr.create("token-update-failed",{errorInfo:rt.error.message});if(!rt.token)throw mr.create("token-update-no-token");return rt.token})).apply(this,arguments)}function bs(A,N){return xi.apply(this,arguments)}function xi(){return(xi=(0,_e.Z)(function*(A,N){var L;const ye={method:"DELETE",headers:yield So(A)};try{const rt=yield(yield fetch(`${Xi(A.appConfig)}/${N}`,ye)).json();if(rt.error)throw mr.create("token-unsubscribe-failed",{errorInfo:rt.error.message})}catch(Pe){throw mr.create("token-unsubscribe-failed",{errorInfo:null===(L=Pe)||void 0===L?void 0:L.toString()})}})).apply(this,arguments)}function Xi({projectId:A}){return`https://fcmregistrations.googleapis.com/v1/projects/${A}/registrations`}function So(A){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,_e.Z)(function*({appConfig:A,installations:N}){const L=yield N.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":A.apiKey,"x-goog-firebase-installations-auth":`FIS ${L}`})})).apply(this,arguments)}function li({p256dh:A,auth:N,endpoint:L,vapidKey:Y}){const ye={web:{endpoint:L,auth:N,p256dh:A}};return Y!==Ki&&(ye.web.applicationPubKey=Y),ye}const Us=6048e5;function Qs(A){return Js.apply(this,arguments)}function Js(){return(Js=(0,_e.Z)(function*(A){const N=yield Ts(A.swRegistration,A.vapidKey),L={vapidKey:A.vapidKey,swScope:A.swRegistration.scope,endpoint:N.endpoint,auth:ui(N.getKey("auth")),p256dh:ui(N.getKey("p256dh"))},Y=yield co(A.firebaseDependencies);if(Y){if(O(Y.subscriptionOptions,L))return Date.now()>=Y.createTime+Us?hs(A,{token:Y.token,createTime:Date.now(),subscriptionOptions:L}):Y.token;try{yield bs(A.firebaseDependencies,Y.token)}catch(ye){console.warn(ye)}return Ge(A.firebaseDependencies,L)}return Ge(A.firebaseDependencies,L)})).apply(this,arguments)}function Mo(A){return es.apply(this,arguments)}function es(){return(es=(0,_e.Z)(function*(A){const N=yield co(A.firebaseDependencies);N&&(yield bs(A.firebaseDependencies,N.token),yield Zs(A.firebaseDependencies));const L=yield A.swRegistration.pushManager.getSubscription();return!L||L.unsubscribe()})).apply(this,arguments)}function hs(A,N){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,_e.Z)(function*(A,N){try{const L=yield lo(A.firebaseDependencies,N),Y=Object.assign(Object.assign({},N),{token:L,createTime:Date.now()});return yield yn(A.firebaseDependencies,Y),L}catch(L){throw yield Mo(A),L}})).apply(this,arguments)}function Ge(A,N){return En.apply(this,arguments)}function En(){return(En=(0,_e.Z)(function*(A,N){const Y={token:yield Ds(A,N),createTime:Date.now(),subscriptionOptions:N};return yield yn(A,Y),Y.token})).apply(this,arguments)}function Ts(A,N){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,_e.Z)(function*(A,N){return(yield A.pushManager.getSubscription())||A.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:To(N)})})).apply(this,arguments)}function O(A,N){return N.vapidKey===A.vapidKey&&N.endpoint===A.endpoint&&N.auth===A.auth&&N.p256dh===A.p256dh}function R(A){const N={from:A.from,collapseKey:A.collapse_key,messageId:A.fcmMessageId};return function S(A,N){if(!N.notification)return;A.notification={};const L=N.notification.title;L&&(A.notification.title=L);const Y=N.notification.body;Y&&(A.notification.body=Y);const ye=N.notification.image;ye&&(A.notification.image=ye)}(N,A),function H(A,N){!N.data||(A.data=N.data)}(N,A),function Ue(A,N){var L,Y,ye,Pe,rt;if(!(N.fcmOptions||null!==(L=N.notification)&&void 0!==L&&L.click_action))return;A.fcmOptions={};const mt=null!==(ye=null===(Y=N.fcmOptions)||void 0===Y?void 0:Y.link)&&void 0!==ye?ye:null===(Pe=N.notification)||void 0===Pe?void 0:Pe.click_action;mt&&(A.fcmOptions.link=mt);const Zt=null===(rt=N.fcmOptions)||void 0===rt?void 0:rt.analytics_label;Zt&&(A.fcmOptions.analyticsLabel=Zt)}(N,A),N}function Pt(A){return"object"==typeof A&&!!A&&ti in A}function hr(A,N){const L=[];for(let Y=0;Y<A.length;Y++)L.push(A.charAt(Y)),Y<N.length&&L.push(N.charAt(Y));return L.join("")}function Bs(A){return mr.create("missing-app-config-values",{valueName:A})}hr("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),hr("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class fs{constructor(N,L,Y){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ye=function zr(A){if(!A||!A.options)throw Bs("App Configuration Object");if(!A.name)throw Bs("App Name");const N=["projectId","apiKey","appId","messagingSenderId"],{options:L}=A;for(const Y of N)if(!L[Y])throw Bs(Y);return{appName:A.name,projectId:L.projectId,apiKey:L.apiKey,appId:L.appId,senderId:L.messagingSenderId}}(N);this.firebaseDependencies={app:N,appConfig:ye,installations:L,analyticsProvider:Y}}_delete(){return Promise.resolve()}}function jr(A){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,_e.Z)(function*(A){var N;try{A.swRegistration=yield navigator.serviceWorker.register(ds,{scope:Ui}),A.swRegistration.update().catch(()=>{})}catch(L){throw mr.create("failed-service-worker-registration",{browserErrorMessage:null===(N=L)||void 0===N?void 0:N.message})}})).apply(this,arguments)}function As(A,N){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,_e.Z)(function*(A,N){if(!N&&!A.swRegistration&&(yield jr(A)),N||!A.swRegistration){if(!(N instanceof ServiceWorkerRegistration))throw mr.create("invalid-sw-registration");A.swRegistration=N}})).apply(this,arguments)}function Ni(A,N){return ya.apply(this,arguments)}function ya(){return(ya=(0,_e.Z)(function*(A,N){N?A.vapidKey=N:A.vapidKey||(A.vapidKey=Ki)})).apply(this,arguments)}function Qo(){return(Qo=(0,_e.Z)(function*(A,N){if(!navigator)throw mr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw mr.create("permission-blocked");return yield Ni(A,N?.vapidKey),yield As(A,N?.serviceWorkerRegistration),Qs(A)})).apply(this,arguments)}function La(A,N,L){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,_e.Z)(function*(A,N,L){const Y=Xs(N);(yield A.firebaseDependencies.analyticsProvider.get()).logEvent(Y,{message_id:L[ti],message_name:L[yi],message_time:L[Yi],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Xs(A){switch(A){case jn.NOTIFICATION_CLICKED:return"notification_open";case jn.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function F(){return(F=(0,_e.Z)(function*(A,N){const L=N.data;if(!L.isFirebaseMessaging)return;A.onMessageHandler&&L.messageType===jn.PUSH_RECEIVED&&("function"==typeof A.onMessageHandler?A.onMessageHandler(R(L)):A.onMessageHandler.next(R(L)));const Y=L.data;Pt(Y)&&"1"===Y[qs]&&(yield La(A,L.messageType,Y))})).apply(this,arguments)}const M="@firebase/messaging",$="0.9.16",se=A=>{const N=new fs(A.getProvider("app").getImmediate(),A.getProvider("installations-internal").getImmediate(),A.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",L=>function T(A,N){return F.apply(this,arguments)}(N,L)),N},Ve=A=>{const N=A.getProvider("messaging").getImmediate();return{getToken:Y=>function xo(A,N){return Qo.apply(this,arguments)}(N,Y)}};function Dt(){return bn.apply(this,arguments)}function bn(){return(bn=(0,_e.Z)(function*(){try{yield(0,Ee.eu)()}catch{return!1}return typeof window<"u"&&(0,Ee.hl)()&&(0,Ee.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Ze(){(0,ce.Xd)(new oe.wA("messaging",se,"PUBLIC")),(0,ce.Xd)(new oe.wA("messaging-internal",Ve,"PRIVATE")),(0,ce.KN)(M,$),(0,ce.KN)(M,$,"esm2017")}();const di="analytics",ps="firebase_id",ta="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",va="https://www.googletagmanager.com/gtag/js",ri=new Ce.Yd("@firebase/analytics");function na(A){return Promise.all(A.map(N=>N.catch(L=>L)))}function ns(A,N){const L=document.createElement("script");L.src=`${va}?l=${A}&id=${N}`,L.async=!0,document.head.appendChild(L)}function Ro(A,N,L,Y,ye,Pe){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,_e.Z)(function*(A,N,L,Y,ye,Pe){const rt=Y[ye];try{if(rt)yield N[rt];else{const Zt=(yield na(L)).find(fn=>fn.measurementId===ye);Zt&&(yield N[Zt.appId])}}catch(mt){ri.error(mt)}A("config",ye,Pe)})).apply(this,arguments)}function ra(A,N,L,Y,ye){return eo.apply(this,arguments)}function eo(){return(eo=(0,_e.Z)(function*(A,N,L,Y,ye){try{let Pe=[];if(ye&&ye.send_to){let rt=ye.send_to;Array.isArray(rt)||(rt=[rt]);const mt=yield na(L);for(const Zt of rt){const fn=mt.find(tn=>tn.measurementId===Zt),On=fn&&N[fn.appId];if(!On){Pe=[];break}Pe.push(On)}}0===Pe.length&&(Pe=Object.values(N)),yield Promise.all(Pe),A("event",Y,ye||{})}catch(Pe){ri.error(Pe)}})).apply(this,arguments)}function ut(){const A=window.document.getElementsByTagName("script");for(const N of Object.values(A))if(N.src&&N.src.includes(va))return N;return null}const hi=new Ee.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),bu=new class on{constructor(N={},L=1e3){this.throttleMetadata=N,this.intervalMillis=L}getThrottleMetadata(N){return this.throttleMetadata[N]}setThrottleMetadata(N,L){this.throttleMetadata[N]=L}deleteThrottleMetadata(N){delete this.throttleMetadata[N]}};function _t(A){return new Headers({Accept:"application/json","x-goog-api-key":A})}function Be(A){return it.apply(this,arguments)}function it(){return(it=(0,_e.Z)(function*(A){var N;const{appId:L,apiKey:Y}=A,ye={method:"GET",headers:_t(Y)},Pe=ta.replace("{app-id}",L),rt=yield fetch(Pe,ye);if(200!==rt.status&&304!==rt.status){let mt="";try{const Zt=yield rt.json();null!==(N=Zt.error)&&void 0!==N&&N.message&&(mt=Zt.error.message)}catch{}throw hi.create("config-fetch-failed",{httpStatus:rt.status,responseMessage:mt})}return rt.json()})).apply(this,arguments)}function Hr(A){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,_e.Z)(function*(A,N=bu,L){const{appId:Y,apiKey:ye,measurementId:Pe}=A.options;if(!Y)throw hi.create("no-app-id");if(!ye){if(Pe)return{measurementId:Pe,appId:Y};throw hi.create("no-api-key")}const rt=N.getThrottleMetadata(Y)||{backoffCount:0,throttleEndTimeMillis:Date.now()},mt=new _a;return setTimeout((0,_e.Z)(function*(){mt.abort()}),void 0!==L?L:6e4),fo({appId:Y,apiKey:ye,measurementId:Pe},rt,mt,N)})).apply(this,arguments)}function fo(A,N,L){return ia.apply(this,arguments)}function ia(){return(ia=(0,_e.Z)(function*(A,{throttleEndTimeMillis:N,backoffCount:L},Y,ye=bu){var Pe,rt;const{appId:mt,measurementId:Zt}=A;try{yield Rr(Y,N)}catch(fn){if(Zt)return ri.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Zt} provided in the "measurementId" field in the local Firebase config. [${null===(Pe=fn)||void 0===Pe?void 0:Pe.message}]`),{appId:mt,measurementId:Zt};throw fn}try{const fn=yield Be(A);return ye.deleteThrottleMetadata(mt),fn}catch(fn){const On=fn;if(!Ju(On)){if(ye.deleteThrottleMetadata(mt),Zt)return ri.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Zt} provided in the "measurementId" field in the local Firebase config. [${On?.message}]`),{appId:mt,measurementId:Zt};throw fn}const tn=503===Number(null===(rt=On?.customData)||void 0===rt?void 0:rt.httpStatus)?(0,Ee.$s)(L,ye.intervalMillis,30):(0,Ee.$s)(L,ye.intervalMillis),Zn={throttleEndTimeMillis:Date.now()+tn,backoffCount:L+1};return ye.setThrottleMetadata(mt,Zn),ri.debug(`Calling attemptFetch again in ${tn} millis`),fo(A,Zn,Y,ye)}})).apply(this,arguments)}function Rr(A,N){return new Promise((L,Y)=>{const ye=Math.max(N-Date.now(),0),Pe=setTimeout(L,ye);A.addEventListener(()=>{clearTimeout(Pe),Y(hi.create("fetch-throttle",{throttleEndTimeMillis:N}))})})}function Ju(A){if(!(A instanceof Ee.ZR&&A.customData))return!1;const N=Number(A.customData.httpStatus);return 429===N||500===N||503===N||504===N}class _a{constructor(){this.listeners=[]}addEventListener(N){this.listeners.push(N)}abort(){this.listeners.forEach(N=>N())}}let Ba,Cn;function $s(){return($s=(0,_e.Z)(function*(A,N,L,Y,ye){if(ye&&ye.global)A("event",L,Y);else{const Pe=yield N;A("event",L,Object.assign(Object.assign({},Y),{send_to:Pe}))}})).apply(this,arguments)}function $a(A){Cn=A}function Dr(A){Ba=A}function It(){return js.apply(this,arguments)}function js(){return(js=(0,_e.Z)(function*(){var A;if(!(0,Ee.hl)())return ri.warn(hi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Ee.eu)()}catch(N){return ri.warn(hi.create("indexeddb-unavailable",{errorInfo:null===(A=N)||void 0===A?void 0:A.toString()}).message),!1}return!0})).apply(this,arguments)}function to(){return(to=(0,_e.Z)(function*(A,N,L,Y,ye,Pe,rt){var mt;const Zt=Hr(A);Zt.then(is=>{L[is.measurementId]=is.appId,A.options.measurementId&&is.measurementId!==A.options.measurementId&&ri.warn(`The measurement ID in the local Firebase config (${A.options.measurementId}) does not match the measurement ID fetched from the server (${is.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(is=>ri.error(is)),N.push(Zt);const fn=It().then(is=>{if(is)return Y.getId()}),[On,tn]=yield Promise.all([Zt,fn]);ut()||ns(Pe,On.measurementId),Cn&&(ye("consent","default",Cn),$a(void 0)),ye("js",new Date);const Zn=null!==(mt=rt?.config)&&void 0!==mt?mt:{};return Zn.origin="firebase",Zn.update=!0,null!=tn&&(Zn[ps]=tn),ye("config",On.measurementId,Zn),Ba&&(ye("set",Ba),Dr(void 0)),On.measurementId})).apply(this,arguments)}class fi{constructor(N){this.app=N}_delete(){return delete Ms[this.app.options.appId],Promise.resolve()}}let Ms={},ko=[];const go={};let Oi,gs,Fo="dataLayer",sa=!1;function no(A,N,L){!function ms(){const A=[];if((0,Ee.ru)()&&A.push("This is a browser extension environment."),(0,Ee.zI)()||A.push("Cookies are not available."),A.length>0){const N=A.map((Y,ye)=>`(${ye+1}) ${Y}`).join(" "),L=hi.create("invalid-analytics-context",{errorInfo:N});ri.warn(L.message)}}();const Y=A.options.appId;if(!Y)throw hi.create("no-app-id");if(!A.options.apiKey){if(!A.options.measurementId)throw hi.create("no-api-key");ri.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${A.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ms[Y])throw hi.create("already-exists",{id:Y});if(!sa){!function tu(A){let N=[];Array.isArray(window[A])?N=window[A]:window[A]=N}(Fo);const{wrappedGtag:Pe,gtagCore:rt}=function Va(A,N,L,Y,ye){let Pe=function(...rt){window[Y].push(arguments)};return window[ye]&&"function"==typeof window[ye]&&(Pe=window[ye]),window[ye]=function ho(A,N,L,Y){function Pe(){return(Pe=(0,_e.Z)(function*(rt,mt,Zt){try{"event"===rt?yield ra(A,N,L,mt,Zt):"config"===rt?yield Ro(A,N,L,Y,mt,Zt):"consent"===rt?A("consent","update",Zt):A("set",mt)}catch(fn){ri.error(fn)}})).apply(this,arguments)}return function ye(rt,mt,Zt){return Pe.apply(this,arguments)}}(Pe,A,N,L),{gtagCore:Pe,wrappedGtag:window[ye]}}(Ms,ko,go,Fo,"gtag");gs=Pe,Oi=rt,sa=!0}return Ms[Y]=function Po(A,N,L,Y,ye,Pe,rt){return to.apply(this,arguments)}(A,ko,go,N,Oi,Fo,L),new fi(A)}function ji(){return iu.apply(this,arguments)}function iu(){return(iu=(0,_e.Z)(function*(){if((0,Ee.ru)()||!(0,Ee.zI)()||!(0,Ee.hl)())return!1;try{return yield(0,Ee.eu)()}catch{return!1}})).apply(this,arguments)}const tc="@firebase/analytics";!function Ho(){(0,ce.Xd)(new oe.wA(di,(N,{options:L})=>no(N.getProvider("app").getImmediate(),N.getProvider("installations-internal").getImmediate(),L),"PUBLIC")),(0,ce.Xd)(new oe.wA("analytics-internal",function A(N){try{const L=N.getProvider(di).getImmediate();return{logEvent:(Y,ye,Pe)=>function ja(A,N,L,Y){A=(0,Ee.m9)(A),function ru(A,N,L,Y,ye){return $s.apply(this,arguments)}(gs,Ms[A.app.options.appId],N,L,Y).catch(ye=>ri.error(ye))}(L,Y,ye,Pe)}}catch(L){throw hi.create("interop-component-reg-failed",{reason:L})}},"PRIVATE")),(0,ce.KN)(tc,"0.8.0"),(0,ce.KN)(tc,"0.8.0","esm2017")}();var Lo=G(727);class vl extends Lo.w0{constructor(N,L){super()}schedule(N,L=0){return this}}const ln={setInterval(A,N,...L){const{delegate:Y}=ln;return Y?.setInterval?Y.setInterval(A,N,...L):setInterval(A,N,...L)},clearInterval(A){const{delegate:N}=ln;return(N?.clearInterval||clearInterval)(A)},delegate:void 0};var Ha=G(8737);class Cr extends vl{constructor(N,L){super(N,L),this.scheduler=N,this.work=L,this.pending=!1}schedule(N,L=0){if(this.closed)return this;this.state=N;const Y=this.id,ye=this.scheduler;return null!=Y&&(this.id=this.recycleAsyncId(ye,Y,L)),this.pending=!0,this.delay=L,this.id=this.id||this.requestAsyncId(ye,this.id,L),this}requestAsyncId(N,L,Y=0){return ln.setInterval(N.flush.bind(N,this),Y)}recycleAsyncId(N,L,Y=0){if(null!=Y&&this.delay===Y&&!1===this.pending)return L;ln.clearInterval(L)}execute(N,L){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Y=this._execute(N,L);if(Y)return Y;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(N,L){let ye,Y=!1;try{this.work(N)}catch(Pe){Y=!0,ye=Pe||new Error("Scheduled action threw falsy error")}if(Y)return this.unsubscribe(),ye}unsubscribe(){if(!this.closed){const{id:N,scheduler:L}=this,{actions:Y}=L;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Ha.P)(Y,this),null!=N&&(this.id=this.recycleAsyncId(L,N,null)),this.delay=null,super.unsubscribe()}}}const Ea={now:()=>(Ea.delegate||Date).now(),delegate:void 0};class Nr{constructor(N,L=Nr.now){this.schedulerActionCtor=N,this.now=L}schedule(N,L=0,Y){return new this.schedulerActionCtor(this,N).schedule(Y,L)}}Nr.now=Ea.now;class Or extends Nr{constructor(N,L=Nr.now){super(N,L),this.actions=[],this._active=!1,this._scheduled=void 0}flush(N){const{actions:L}=this;if(this._active)return void L.push(N);let Y;this._active=!0;do{if(Y=N.execute(N.state,N.delay))break}while(N=L.shift());if(this._active=!1,Y){for(;N=L.shift();)N.unsubscribe();throw Y}}}const Pr=new class Rc extends Or{}(class yr extends Cr{constructor(N,L){super(N,L),this.scheduler=N,this.work=L}schedule(N,L=0){return L>0?super.schedule(N,L):(this.delay=L,this.state=N,this.scheduler.flush(this),this)}execute(N,L){return L>0||this.closed?super.execute(N,L):this._execute(N,L)}requestAsyncId(N,L,Y=0){return null!=Y&&Y>0||null==Y&&this.delay>0?super.requestAsyncId(N,L,Y):N.flush(this)}}),Hi=new Or(Cr);var Vo=G(9751),nc=G(8505),y=G(9468),v=G(5363);const g=new _.GfV("7.4.1"),D="__angularfire_symbol__analyticsIsSupportedValue",x="__angularfire_symbol__analyticsIsSupported",U="__angularfire_symbol__remoteConfigIsSupportedValue",Q="__angularfire_symbol__remoteConfigIsSupported",ne="__angularfire_symbol__messagingIsSupportedValue",ke="__angularfire_symbol__messagingIsSupported";function Ci(A,N,L){if(N){if(1===N.length)return N[0];const Pe=N.filter(rt=>rt.app===L);if(1===Pe.length)return Pe[0]}return L.container.getProvider(A).getImmediate({optional:!0})}globalThis[x]||(globalThis[x]=ji().then(A=>globalThis[D]=A).catch(()=>globalThis[D]=!1)),globalThis[ke]||(globalThis[ke]=Dt().then(A=>globalThis[ne]=A).catch(()=>globalThis[ne]=!1)),globalThis[Q]||(globalThis[Q]=Is().then(A=>globalThis[U]=A).catch(()=>globalThis[U]=!1));const bi=(A,N)=>{const L=N?[N]:(0,q.C6)(),Y=[];return L.forEach(ye=>{ye.container.getProvider(A).instances.forEach(rt=>{Y.includes(rt)||Y.push(rt)})}),Y};function Gi(){}class Fr{constructor(N,L=Pr){this.zone=N,this.delegate=L}now(){return this.delegate.now()}schedule(N,L,Y){const ye=this.zone;return this.delegate.schedule(function(rt){ye.runGuarded(()=>{N.apply(this,[rt])})},L,Y)}}class Uo{constructor(N){this.zone=N,this.task=null}call(N,L){const Y=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Gi,{},Gi,Gi)),L.pipe((0,nc.b)({next:Y,complete:Y,error:Y})).subscribe(N).add(Y)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Gs=(()=>{class A{constructor(L){this.ngZone=L,this.outsideAngular=L.runOutsideAngular(()=>new Fr(Zone.current)),this.insideAngular=L.run(()=>new Fr(Zone.current,Hi)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return A.\u0275fac=function(L){return new(L||A)(_.LFG(_.R0b))},A.\u0275prov=_.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})();function Bo(){const A=globalThis.\u0275AngularFireScheduler;if(!A)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return A}function rc(A){return Bo().ngZone.runOutsideAngular(()=>A())}function yo(A){return Bo().ngZone.run(()=>A())}function aa(A){return Bo(),function od(A){return function(L){return(L=L.lift(new Uo(A.ngZone))).pipe((0,y.R)(A.outsideAngular),(0,v.Q)(A.insideAngular))}}(Bo())(A)}const pi=(A,N)=>function(){const Y=arguments;return N&&setTimeout(()=>{"scheduled"===N.state&&N.invoke()},10),yo(()=>A.apply(void 0,Y))},au=(A,N)=>function(){let L;const Y=arguments;for(let Pe=0;Pe<arguments.length;Pe++)"function"==typeof Y[Pe]&&(N&&(L||(L=yo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Gi,{},Gi,Gi)))),Y[Pe]=pi(Y[Pe],L));const ye=rc(()=>A.apply(this,Y));if(!N){if(ye instanceof Vo.y){const Pe=Bo();return ye.pipe((0,y.R)(Pe.outsideAngular),(0,v.Q)(Pe.insideAngular))}return yo(()=>ye)}return ye instanceof Vo.y?ye.pipe(aa):ye instanceof Promise?yo(()=>new Promise((Pe,rt)=>ye.then(mt=>yo(()=>Pe(mt)),mt=>yo(()=>rt(mt))))):"function"==typeof ye&&L?function(){return setTimeout(()=>{L&&"scheduled"===L.state&&L.invoke()},10),ye.apply(this,arguments)}:yo(()=>ye)}},2090:(Yt,Xe,G)=>{G.d(Xe,{$s:()=>Ir,BH:()=>tt,L:()=>we,LL:()=>Le,Mn:()=>Re,US:()=>oe,ZR:()=>de,b$:()=>pt,d:()=>We,eu:()=>nt,hl:()=>Ie,m9:()=>Ut,ne:()=>qr,pd:()=>tr,ru:()=>xt,tV:()=>qe,uI:()=>wt,vZ:()=>_r,w1:()=>et,xO:()=>zn,xb:()=>un,z$:()=>ct,zI:()=>me,zd:()=>Ur});const ce=function(ge){const ae=[];let X=0;for(let te=0;te<ge.length;te++){let ie=ge.charCodeAt(te);ie<128?ae[X++]=ie:ie<2048?(ae[X++]=ie>>6|192,ae[X++]=63&ie|128):55296==(64512&ie)&&te+1<ge.length&&56320==(64512&ge.charCodeAt(te+1))?(ie=65536+((1023&ie)<<10)+(1023&ge.charCodeAt(++te)),ae[X++]=ie>>18|240,ae[X++]=ie>>12&63|128,ae[X++]=ie>>6&63|128,ae[X++]=63&ie|128):(ae[X++]=ie>>12|224,ae[X++]=ie>>6&63|128,ae[X++]=63&ie|128)}return ae},oe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ge,ae){if(!Array.isArray(ge))throw Error("encodeByteArray takes an array as a parameter");this.init_();const X=ae?this.byteToCharMapWebSafe_:this.byteToCharMap_,te=[];for(let ie=0;ie<ge.length;ie+=3){const Oe=ge[ie],ht=ie+1<ge.length,Ot=ht?ge[ie+1]:0,qt=ie+2<ge.length,Ft=qt?ge[ie+2]:0;let Qr=(15&Ot)<<2|Ft>>6,$r=63&Ft;qt||($r=64,ht||(Qr=64)),te.push(X[Oe>>2],X[(3&Oe)<<4|Ot>>4],X[Qr],X[$r])}return te.join("")},encodeString(ge,ae){return this.HAS_NATIVE_SUPPORT&&!ae?btoa(ge):this.encodeByteArray(ce(ge),ae)},decodeString(ge,ae){return this.HAS_NATIVE_SUPPORT&&!ae?atob(ge):function(ge){const ae=[];let X=0,te=0;for(;X<ge.length;){const ie=ge[X++];if(ie<128)ae[te++]=String.fromCharCode(ie);else if(ie>191&&ie<224){const Oe=ge[X++];ae[te++]=String.fromCharCode((31&ie)<<6|63&Oe)}else if(ie>239&&ie<365){const qt=((7&ie)<<18|(63&ge[X++])<<12|(63&ge[X++])<<6|63&ge[X++])-65536;ae[te++]=String.fromCharCode(55296+(qt>>10)),ae[te++]=String.fromCharCode(56320+(1023&qt))}else{const Oe=ge[X++],ht=ge[X++];ae[te++]=String.fromCharCode((15&ie)<<12|(63&Oe)<<6|63&ht)}}return ae.join("")}(this.decodeStringToByteArray(ge,ae))},decodeStringToByteArray(ge,ae){this.init_();const X=ae?this.charToByteMapWebSafe_:this.charToByteMap_,te=[];for(let ie=0;ie<ge.length;){const Oe=X[ge.charAt(ie++)],Ot=ie<ge.length?X[ge.charAt(ie)]:0;++ie;const Ft=ie<ge.length?X[ge.charAt(ie)]:64;++ie;const en=ie<ge.length?X[ge.charAt(ie)]:64;if(++ie,null==Oe||null==Ot||null==Ft||null==en)throw Error();te.push(Oe<<2|Ot>>4),64!==Ft&&(te.push(Ot<<4&240|Ft>>2),64!==en&&te.push(Ft<<6&192|en))}return te},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ge=0;ge<this.ENCODED_VALS.length;ge++)this.byteToCharMap_[ge]=this.ENCODED_VALS.charAt(ge),this.charToByteMap_[this.byteToCharMap_[ge]]=ge,this.byteToCharMapWebSafe_[ge]=this.ENCODED_VALS_WEBSAFE.charAt(ge),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ge]]=ge,ge>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ge)]=ge,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ge)]=ge)}}},we=function(ge){return function(ge){const ae=ce(ge);return oe.encodeByteArray(ae,!0)}(ge).replace(/\./g,"")},qe=function(ge){try{return oe.decodeString(ge,!0)}catch(ae){console.error("base64Decode failed: ",ae)}return null};class tt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ae,X)=>{this.resolve=ae,this.reject=X})}wrapCallback(ae){return(X,te)=>{X?this.reject(X):this.resolve(te),"function"==typeof ae&&(this.promise.catch(()=>{}),1===ae.length?ae(X):ae(X,te))}}}function ct(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function wt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ct())}function xt(){const ge="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ge&&void 0!==ge.id}function pt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function We(){return ct().indexOf("Electron/")>=0}function et(){const ge=ct();return ge.indexOf("MSIE ")>=0||ge.indexOf("Trident/")>=0}function Re(){return ct().indexOf("MSAppHost/")>=0}function Ie(){return"object"==typeof indexedDB}function nt(){return new Promise((ge,ae)=>{try{let X=!0;const te="validate-browser-context-for-indexeddb-analytics-module",ie=self.indexedDB.open(te);ie.onsuccess=()=>{ie.result.close(),X||self.indexedDB.deleteDatabase(te),ge(!0)},ie.onupgradeneeded=()=>{X=!1},ie.onerror=()=>{var Oe;ae((null===(Oe=ie.error)||void 0===Oe?void 0:Oe.message)||"")}}catch(X){ae(X)}})}function me(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class de extends Error{constructor(ae,X,te){super(X),this.code=ae,this.customData=te,this.name="FirebaseError",Object.setPrototypeOf(this,de.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Le.prototype.create)}}class Le{constructor(ae,X,te){this.service=ae,this.serviceName=X,this.errors=te}create(ae,...X){const te=X[0]||{},ie=`${this.service}/${ae}`,Oe=this.errors[ae],ht=Oe?function $e(ge,ae){return ge.replace(lt,(X,te)=>{const ie=ae[te];return null!=ie?String(ie):`<${te}?>`})}(Oe,te):"Error";return new de(ie,`${this.serviceName}: ${ht} (${ie}).`,te)}}const lt=/\{\$([^}]+)}/g;function un(ge){for(const ae in ge)if(Object.prototype.hasOwnProperty.call(ge,ae))return!1;return!0}function _r(ge,ae){if(ge===ae)return!0;const X=Object.keys(ge),te=Object.keys(ae);for(const ie of X){if(!te.includes(ie))return!1;const Oe=ge[ie],ht=ae[ie];if(In(Oe)&&In(ht)){if(!_r(Oe,ht))return!1}else if(Oe!==ht)return!1}for(const ie of te)if(!X.includes(ie))return!1;return!0}function In(ge){return null!==ge&&"object"==typeof ge}function zn(ge){const ae=[];for(const[X,te]of Object.entries(ge))Array.isArray(te)?te.forEach(ie=>{ae.push(encodeURIComponent(X)+"="+encodeURIComponent(ie))}):ae.push(encodeURIComponent(X)+"="+encodeURIComponent(te));return ae.length?"&"+ae.join("&"):""}function Ur(ge){const ae={};return ge.replace(/^\?/,"").split("&").forEach(te=>{if(te){const[ie,Oe]=te.split("=");ae[decodeURIComponent(ie)]=decodeURIComponent(Oe)}}),ae}function tr(ge){const ae=ge.indexOf("?");if(!ae)return"";const X=ge.indexOf("#",ae);return ge.substring(ae,X>0?X:void 0)}function qr(ge,ae){const X=new At(ge,ae);return X.subscribe.bind(X)}class At{constructor(ae,X){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=X,this.task.then(()=>{ae(this)}).catch(te=>{this.error(te)})}next(ae){this.forEachObserver(X=>{X.next(ae)})}error(ae){this.forEachObserver(X=>{X.error(ae)}),this.close(ae)}complete(){this.forEachObserver(ae=>{ae.complete()}),this.close()}subscribe(ae,X,te){let ie;if(void 0===ae&&void 0===X&&void 0===te)throw new Error("Missing Observer.");ie=function Un(ge,ae){if("object"!=typeof ge||null===ge)return!1;for(const X of ae)if(X in ge&&"function"==typeof ge[X])return!0;return!1}(ae,["next","error","complete"])?ae:{next:ae,error:X,complete:te},void 0===ie.next&&(ie.next=nr),void 0===ie.error&&(ie.error=nr),void 0===ie.complete&&(ie.complete=nr);const Oe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ie.error(this.finalError):ie.complete()}catch{}}),this.observers.push(ie),Oe}unsubscribeOne(ae){void 0===this.observers||void 0===this.observers[ae]||(delete this.observers[ae],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ae){if(!this.finalized)for(let X=0;X<this.observers.length;X++)this.sendOne(X,ae)}sendOne(ae,X){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ae])try{X(this.observers[ae])}catch(te){typeof console<"u"&&console.error&&console.error(te)}})}close(ae){this.finalized||(this.finalized=!0,void 0!==ae&&(this.finalError=ae),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nr(){}function Ir(ge,ae=1e3,X=2){const te=ae*Math.pow(X,ge),ie=Math.round(.5*te*(Math.random()-.5)*2);return Math.min(144e5,te+ie)}function Ut(ge){return ge&&ge._delegate?ge._delegate:ge}},2817:(Yt,Xe,G)=>{G.d(Xe,{B:()=>q});var _=G(8256);let q=(()=>{class _e{constructor(){}ngOnInit(){}}return _e.\u0275fac=function(Ee){return new(Ee||_e)},_e.\u0275cmp=_.Xpm({type:_e,selectors:[["app-pagina-no-encontrada"]],decls:2,vars:0,template:function(Ee,oe){1&Ee&&(_.TgZ(0,"p"),_._uU(1,"pagina-no-encontrada works!"),_.qZA())}}),_e})()},7853:(Yt,Xe,G)=>{var _=G(1481),q=G(8256),_e=G(433),ce=G(1766);let Ee=(()=>{class K{constructor(){}ngOnInit(){}}return K.\u0275fac=function(Le){return new(Le||K)},K.\u0275cmp=q.Xpm({type:K,selectors:[["app-about-me"]],decls:2,vars:0,template:function(Le,$e){1&Le&&(q.TgZ(0,"p"),q._uU(1,"Mi nombre es Octavio Bill Zito"),q.qZA())}}),K})();var oe=G(2817),Ce=G(9635),we=G(4004),qe=G(5698),ee=G(8951);G(5867);const Fe=(0,we.U)(K=>!!K);let tt=(()=>{class K{constructor(Le,$e){this.router=Le,this.auth=$e,this.canActivate=(lt,$t)=>{const Yn=lt.data.authGuardPipe||(()=>Fe);return(0,ee.EA)(this.auth).pipe((0,qe.q)(1),Yn(lt,$t),(0,we.U)(vt=>"boolean"==typeof vt?vt:Array.isArray(vt)?this.router.createUrlTree(vt):this.router.parseUrl(vt)))}}}return K.\u0275fac=function(Le){return new(Le||K)(q.LFG(ce.F0),q.LFG(ee.gx))},K.\u0275prov=q.Yz7({token:K,factory:K.\u0275fac,providedIn:"any"}),K})();const Me=K=>({canActivate:[tt],data:{authGuardPipe:K}}),pt=K=>(0,Ce.z)(Fe,(0,we.U)(de=>de||K)),Re=[{path:"login",loadChildren:()=>Promise.all([G.e(592),G.e(972)]).then(G.bind(G,2972)).then(K=>K.LoginModule),...Me(()=>{return K=["/home"],(0,Ce.z)(Fe,(0,we.U)(de=>de&&K||!0));var K})},{path:"chat",loadChildren:()=>Promise.all([G.e(592),G.e(276)]).then(G.bind(G,3276)).then(K=>K.ChatModule),...Me(()=>pt(["/"]))},{path:"juegos",loadChildren:()=>Promise.all([G.e(592),G.e(304)]).then(G.bind(G,6304)).then(K=>K.JuegosModule),...Me(()=>pt(["/"]))},{path:"about-me",component:Ee},{path:"home",loadChildren:()=>Promise.all([G.e(592),G.e(806)]).then(G.bind(G,7132)).then(K=>K.HomeModule),...Me(()=>pt(["/"]))},{path:"",redirectTo:"/login/sign-in",pathMatch:"full"},{path:"**",component:oe.B}];let yt=(()=>{class K{}return K.\u0275fac=function(Le){return new(Le||K)},K.\u0275mod=q.oAB({type:K}),K.\u0275inj=q.cJS({imports:[ce.Bz.forRoot(Re),ce.Bz]}),K})(),je=(()=>{class K{constructor(){this.title="sala-de-juegos"}}return K.\u0275fac=function(Le){return new(Le||K)},K.\u0275cmp=q.Xpm({type:K,selectors:[["app-root"]],decls:2,vars:0,consts:[["href","https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css","rel","stylesheet","integrity","sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC","crossorigin","anonymous"]],template:function(Le,$e){1&Le&&q._UZ(0,"link",0)(1,"router-outlet")},dependencies:[ce.lC]}),K})();var Ie=G(3692);const nt_firebase={projectId:"sala-de-juegos-be777",appId:"1:252853402389:web:239335a3f1517842a1c71c",storageBucket:"sala-de-juegos-be777.appspot.com",locationId:"southamerica-east1",apiKey:"AIzaSyDzX9oINtWlE2w8op4_pEqCXEqwqcO4zDs",authDomain:"sala-de-juegos-be777.firebaseapp.com",messagingSenderId:"252853402389"};var me=G(7554);let ve=(()=>{class K{}return K.\u0275fac=function(Le){return new(Le||K)},K.\u0275mod=q.oAB({type:K,bootstrap:[je]}),K.\u0275inj=q.cJS({imports:[_.b2,yt,_e.u5,(0,Ie.hX)(()=>(0,Ie.ZF)(nt_firebase)),(0,ee.AR)(()=>(0,ee.v0)()),(0,me.Cm)(()=>(0,me.ad)())]}),K})();(0,q.G48)(),_.q6().bootstrapModule(ve).catch(K=>console.error(K))},5867:(Yt,Xe,G)=>{G.d(Xe,{C6:()=>_.C6,KN:()=>_.KN,Mq:()=>_.Mq,ZF:()=>_.ZF});var _=G(9681);(0,_.KN)("firebase","9.9.4","app")},3209:(Yt,Xe,G)=>{G.d(Xe,{ET:()=>My,hJ:()=>py,PL:()=>Ty,ad:()=>qg,IO:()=>gh});var we,_=G(5861),q=G(9681),_e=G(4859),ce=G(1877),Ee=G(2090),oe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ce={},qe=qe||{},ee=oe||self;function ue(){}function Fe(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function tt(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var ct="closure_uid_"+(1e9*Math.random()>>>0),wt=0;function Vt(i,e,n){return i.call.apply(i.bind,arguments)}function St(i,e,n){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,o),i.apply(e,u)}}return function(){return i.apply(e,arguments)}}function xt(i,e,n){return(xt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Vt:St).apply(null,arguments)}function pt(i,e){var n=Array.prototype.slice.call(arguments,1);return function(){var o=n.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function We(i,e){function n(){}n.prototype=e.prototype,i.Z=e.prototype,i.prototype=new n,i.prototype.constructor=i,i.Vb=function(o,u,l){for(var p=Array(arguments.length-2),E=2;E<arguments.length;E++)p[E-2]=arguments[E];return e.prototype[u].apply(o,p)}}function et(){this.s=this.s,this.o=this.o}var yt={};et.prototype.s=!1,et.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function Me(i){return Object.prototype.hasOwnProperty.call(i,ct)&&i[ct]||(i[ct]=++wt)}(this);delete yt[i]}},et.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const je=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let n=0;n<i.length;n++)if(n in i&&i[n]===e)return n;return-1},Ie=Array.prototype.forEach?function(i,e,n){Array.prototype.forEach.call(i,e,n)}:function(i,e,n){const o=i.length,u="string"==typeof i?i.split(""):i;for(let l=0;l<o;l++)l in u&&e.call(n,u[l],l,i)};function me(i){return Array.prototype.concat.apply([],arguments)}function ve(i){const e=i.length;if(0<e){const n=Array(e);for(let o=0;o<e;o++)n[o]=i[o];return n}return[]}function K(i){return/^[\s\xa0]*$/.test(i)}var lt,de=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function Le(i,e){return-1!=i.indexOf(e)}function $e(i,e){return i<e?-1:i>e?1:0}e:{var $t=ee.navigator;if($t){var Yn=$t.userAgent;if(Yn){lt=Yn;break e}}lt=""}function vt(i,e,n){for(const o in i)e.call(n,i[o],o,i)}function rn(i){const e={};for(const n in i)e[n]=i[n];return e}var Vn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Dn(i,e){let n,o;for(let u=1;u<arguments.length;u++){for(n in o=arguments[u],o)i[n]=o[n];for(let l=0;l<Vn.length;l++)n=Vn[l],Object.prototype.hasOwnProperty.call(o,n)&&(i[n]=o[n])}}function vr(i){return vr[" "](i),i}vr[" "]=ue;var Ur,i,kn=Le(lt,"Opera"),un=Le(lt,"Trident")||Le(lt,"MSIE"),sn=Le(lt,"Edge"),_r=sn||un,In=Le(lt,"Gecko")&&!(Le(lt.toLowerCase(),"webkit")&&!Le(lt,"Edge"))&&!(Le(lt,"Trident")||Le(lt,"MSIE"))&&!Le(lt,"Edge"),Gn=Le(lt.toLowerCase(),"webkit")&&!Le(lt,"Edge");function zn(){var i=ee.document;return i?i.documentMode:void 0}e:{var tr="",Wn=(i=lt,In?/rv:([^\);]+)(\)|;)/.exec(i):sn?/Edge\/([\d\.]+)/.exec(i):un?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):Gn?/WebKit\/(\S+)/.exec(i):kn?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(Wn&&(tr=Wn?Wn[1]:""),un){var qr=zn();if(null!=qr&&qr>parseFloat(tr)){Ur=String(qr);break e}}Ur=tr}var At={};var wr=ee.document&&un&&(zn()||parseInt(Ur,10))||void 0,gi=function(){if(!ee.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{ee.addEventListener("test",ue,e),ee.removeEventListener("test",ue,e)}catch{}return i}();function cn(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}function br(i,e){if(cn.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var n=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(In){e:{try{vr(e.nodeName);var u=!0;break e}catch{}u=!1}u||(e=null)}}else"mouseover"==n?e=i.fromElement:"mouseout"==n&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:gt[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&br.Z.h.call(this)}}cn.prototype.h=function(){this.defaultPrevented=!0},We(br,cn);var gt={2:"touch",3:"pen",4:"mouse"};br.prototype.h=function(){br.Z.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var Et="closure_listenable_"+(1e6*Math.random()|0),Ht=0;function vn(i,e,n,o,u){this.listener=i,this.proxy=null,this.src=e,this.type=n,this.capture=!!o,this.ia=u,this.key=++Ht,this.ca=this.fa=!1}function Bn(i){i.ca=!0,i.listener=null,i.proxy=null,i.src=null,i.ia=null}function Mn(i){this.src=i,this.g={},this.h=0}function sr(i,e){var n=e.type;if(n in i.g){var l,o=i.g[n],u=je(o,e);(l=0<=u)&&Array.prototype.splice.call(o,u,1),l&&(Bn(e),0==i.g[n].length&&(delete i.g[n],i.h--))}}function An(i,e,n,o){for(var u=0;u<i.length;++u){var l=i[u];if(!l.ca&&l.listener==e&&l.capture==!!n&&l.ia==o)return u}return-1}Mn.prototype.add=function(i,e,n,o,u){var l=i.toString();(i=this.g[l])||(i=this.g[l]=[],this.h++);var p=An(i,e,o,u);return-1<p?(e=i[p],n||(e.fa=!1)):((e=new vn(e,this.src,l,!!o,u)).fa=n,i.push(e)),e};var Ir="closure_lm_"+(1e6*Math.random()|0),Fn={};function Br(i,e,n,o,u){if(o&&o.once)return ae(i,e,n,o,u);if(Array.isArray(e)){for(var l=0;l<e.length;l++)Br(i,e[l],n,o,u);return null}return n=qt(n),i&&i[Et]?i.N(e,n,tt(o)?!!o.capture:!!o,u):Ut(i,e,n,!1,o,u)}function Ut(i,e,n,o,u,l){if(!e)throw Error("Invalid event type");var p=tt(u)?!!u.capture:!!u,E=ht(i);if(E||(i[Ir]=E=new Mn(i)),(n=E.add(e,n,o,p,l)).proxy)return n;if(o=function ge(){var e=Oe;return function i(n){return e.call(i.src,i.listener,n)}}(),n.proxy=o,o.src=i,o.listener=n,i.addEventListener)gi||(u=p),void 0===u&&(u=!1),i.addEventListener(e.toString(),o,u);else if(i.attachEvent)i.attachEvent(ie(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return n}function ae(i,e,n,o,u){if(Array.isArray(e)){for(var l=0;l<e.length;l++)ae(i,e[l],n,o,u);return null}return n=qt(n),i&&i[Et]?i.O(e,n,tt(o)?!!o.capture:!!o,u):Ut(i,e,n,!0,o,u)}function X(i,e,n,o,u){if(Array.isArray(e))for(var l=0;l<e.length;l++)X(i,e[l],n,o,u);else o=tt(o)?!!o.capture:!!o,n=qt(n),i&&i[Et]?(i=i.i,(e=String(e).toString())in i.g&&-1<(n=An(l=i.g[e],n,o,u))&&(Bn(l[n]),Array.prototype.splice.call(l,n,1),0==l.length&&(delete i.g[e],i.h--))):i&&(i=ht(i))&&(e=i.g[e.toString()],i=-1,e&&(i=An(e,n,o,u)),(n=-1<i?e[i]:null)&&te(n))}function te(i){if("number"!=typeof i&&i&&!i.ca){var e=i.src;if(e&&e[Et])sr(e.i,i);else{var n=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(n,o,i.capture):e.detachEvent?e.detachEvent(ie(n),o):e.addListener&&e.removeListener&&e.removeListener(o),(n=ht(e))?(sr(n,i),0==n.h&&(n.src=null,e[Ir]=null)):Bn(i)}}}function ie(i){return i in Fn?Fn[i]:Fn[i]="on"+i}function Oe(i,e){if(i.ca)i=!0;else{e=new br(e,this);var n=i.listener,o=i.ia||i.src;i.fa&&te(i),i=n.call(o,e)}return i}function ht(i){return(i=i[Ir])instanceof Mn?i:null}var Ot="__closure_events_fn_"+(1e9*Math.random()>>>0);function qt(i){return"function"==typeof i?i:(i[Ot]||(i[Ot]=function(e){return i.handleEvent(e)}),i[Ot])}function Ft(){et.call(this),this.i=new Mn(this),this.P=this,this.I=null}function gn(i,e){var n,o=i.I;if(o)for(n=[];o;o=o.I)n.push(o);if(i=i.P,o=e.type||e,"string"==typeof e)e=new cn(e,i);else if(e instanceof cn)e.target=e.target||i;else{var u=e;Dn(e=new cn(o,i),u)}if(u=!0,n)for(var l=n.length-1;0<=l;l--){var p=e.g=n[l];u=en(p,o,!0,e)&&u}if(u=en(p=e.g=i,o,!0,e)&&u,u=en(p,o,!1,e)&&u,n)for(l=0;l<n.length;l++)u=en(p=e.g=n[l],o,!1,e)&&u}function en(i,e,n,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var u=!0,l=0;l<e.length;++l){var p=e[l];if(p&&!p.ca&&p.capture==n){var E=p.listener,P=p.ia||p.src;p.fa&&sr(i.i,p),u=!1!==E.call(P,o)&&u}}return u&&!o.defaultPrevented}We(Ft,et),Ft.prototype[Et]=!0,Ft.prototype.removeEventListener=function(i,e,n,o){X(this,i,e,n,o)},Ft.prototype.M=function(){if(Ft.Z.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var n=i.g[e],o=0;o<n.length;o++)Bn(n[o]);delete i.g[e],i.h--}}this.I=null},Ft.prototype.N=function(i,e,n,o){return this.i.add(String(i),e,!1,n,o)},Ft.prototype.O=function(i,e,n,o){return this.i.add(String(i),e,!0,n,o)};var Qr=ee.JSON.stringify;function $r(){var i=He;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var le,Tr=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new Pi,i=>i.reset());class Pi{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function ki(i){ee.setTimeout(()=>{throw i},0)}function be(i,e){le||function J(){var i=ee.Promise.resolve(void 0);le=function(){i.then(jt)}}(),Ae||(le(),Ae=!0),He.add(i,e)}var Ae=!1,He=new class Jr{constructor(){this.h=this.g=null}add(e,n){const o=Tr.get();o.set(e,n),this.h?this.h.next=o:this.g=o,this.h=o}};function jt(){for(var i;i=$r();){try{i.h.call(i.g)}catch(n){ki(n)}var e=Tr;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}Ae=!1}function Lt(i,e){Ft.call(this),this.h=i||1,this.g=e||ee,this.j=xt(this.kb,this),this.l=Date.now()}function _n(i){i.da=!1,i.S&&(i.g.clearTimeout(i.S),i.S=null)}function st(i,e,n){if("function"==typeof i)n&&(i=xt(i,n));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=xt(i.handleEvent,i)}return 2147483647<Number(e)?-1:ee.setTimeout(i,e||0)}function Gt(i){i.g=st(()=>{i.g=null,i.i&&(i.i=!1,Gt(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}We(Lt,Ft),(we=Lt.prototype).da=!1,we.S=null,we.kb=function(){if(this.da){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-i):(this.S&&(this.g.clearTimeout(this.S),this.S=null),gn(this,"tick"),this.da&&(_n(this),this.start()))}},we.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},we.M=function(){Lt.Z.M.call(this),_n(this),delete this.g};class $n extends et{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Gt(this)}M(){super.M(),this.g&&(ee.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function lr(i){et.call(this),this.h=i,this.g={}}We(lr,et);var Ii=[];function ur(i,e,n,o){Array.isArray(n)||(n&&(Ii[0]=n.toString()),n=Ii);for(var u=0;u<n.length;u++){var l=Br(e,n[u],o||i.handleEvent,!1,i.h||i);if(!l)break;i.g[l.key]=l}}function mi(i){vt(i.g,function(e,n){this.g.hasOwnProperty(n)&&te(e)},i),i.g={}}function hn(){this.g=!0}function nn(i,e,n,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function _s(i,e){if(!i.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(i=0;i<n.length;i++)if(Array.isArray(n[i])){var o=n[i];if(!(2>o.length)){var u=o[1];if(Array.isArray(u)&&!(1>u.length)){var l=u[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var p=1;p<u.length;p++)u[p]=""}}}return Qr(n)}catch{return e}}(i,n)+(o?" "+o:"")})}lr.prototype.M=function(){lr.Z.M.call(this),mi(this)},lr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},hn.prototype.Aa=function(){this.g=!1},hn.prototype.info=function(){};var Mi={},Ei=null;function Xn(){return Ei=Ei||new Ft}function ai(i){cn.call(this,Mi.Ma,i)}function ei(i){const e=Xn();gn(e,new ai(e,i))}function Gr(i,e){cn.call(this,Mi.STAT_EVENT,i),this.stat=e}function pe(i){const e=Xn();gn(e,new Gr(e,i))}function fe(i,e){cn.call(this,Mi.Na,i),this.size=e}function De(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return ee.setTimeout(function(){i()},e)}Mi.Ma="serverreachability",We(ai,cn),Mi.STAT_EVENT="statevent",We(Gr,cn),Mi.Na="timingevent",We(fe,cn);var ze={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},ot={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function bt(){}function rr(){}bt.prototype.h=null;var ks,Tn={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function or(){cn.call(this,"d")}function dr(){cn.call(this,"c")}function Ar(){}function qn(i,e,n,o){this.l=i,this.j=e,this.m=n,this.X=o||1,this.V=new lr(this),this.P=gr,this.W=new Lt(i=_r?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Eo}function Eo(){this.i=null,this.g="",this.h=!1}We(or,cn),We(dr,cn),We(Ar,bt),Ar.prototype.g=function(){return new XMLHttpRequest},Ar.prototype.i=function(){return{}},ks=new Ar;var gr=45e3,qi={},Kr={};function ws(i,e,n){i.K=1,i.v=ui(ti(e)),i.s=n,i.U=!0,Fi(i,null)}function Fi(i,e){i.F=Date.now(),Do(i),i.A=ti(i.v);var n=i.A,o=i.X;Array.isArray(o)||(o=[String(o)]),yn(n.h,"t",o),i.C=0,n=i.l.H,i.h=new Eo,i.g=xn(i.l,n?e:null,!i.s),0<i.O&&(i.L=new $n(xt(i.Ia,i,i.g),i.O)),ur(i.V,i.g,"readystatechange",i.gb),e=i.H?rn(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ea(i.A,i.u,i.s,e)):(i.u="GET",i.g.ea(i.A,i.u,null,e)),ei(1),function oi(i,e,n,o,u,l){i.info(function(){if(i.g)if(l)for(var p="",E=l.split("&"),P=0;P<E.length;P++){var V=E[P].split("=");if(1<V.length){var z=V[0];V=V[1];var re=z.split("_");p=2<=re.length&&"type"==re[1]?p+(z+"=")+V+"&":p+(z+"=redacted&")}}else p=null;else p=l;return"XMLHTTP REQ ("+o+") [attempt "+u+"]: "+e+"\n"+n+"\n"+p})}(i.j,i.u,i.A,i.m,i.X,i.s)}function oo(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Ba}function ao(i,e,n){let u,o=!0;for(;!i.I&&i.C<n.length;){if(u=Li(i,n),u==Kr){4==e&&(i.o=4,pe(14),o=!1),nn(i.j,i.m,null,"[Incomplete Response]");break}if(u==qi){i.o=4,pe(15),nn(i.j,i.m,n,"[Invalid Chunk]"),o=!1;break}nn(i.j,i.m,u,null),bo(i,u)}oo(i)&&u!=Kr&&u!=qi&&(i.h.g="",i.C=0),4!=e||0!=n.length||i.h.h||(i.o=1,pe(16),o=!1),i.i=i.i&&o,o?0<n.length&&!i.aa&&(i.aa=!0,(e=i.l).g==i&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),$(e),e.L=!0,pe(11))):(nn(i.j,i.m,n,"[Invalid Chunked Response]"),Fs(i),Ws(i))}function Li(i,e){var n=i.C,o=e.indexOf("\n",n);return-1==o?Kr:(n=Number(e.substring(n,o)),isNaN(n)?qi:(o+=1)+n>e.length?Kr:(e=e.substr(o,n),i.C=o+n,e))}function Do(i){i.Y=Date.now()+i.P,Ko(i,i.P)}function Ko(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=De(xt(i.eb,i),e)}function Co(i){i.B&&(ee.clearTimeout(i.B),i.B=null)}function Ws(i){0==i.l.G||i.I||Ze(i.l,i)}function Fs(i){Co(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,_n(i.W),mi(i.V),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function bo(i,e){try{var n=i.l;if(0!=n.G&&(n.g==i||ni(n.i,i)))if(n.I=i.N,!i.J&&ni(n.i,i)&&3==n.G){try{var o=n.Ca.g.parse(e)}catch{o=null}if(Array.isArray(o)&&3==o.length){var u=o;if(0==u[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<i.F))break e;Ve(n),Ni(n)}M(n),pe(18)}}else n.ta=u[1],0<n.ta-n.U&&37500>u[2]&&n.N&&0==n.A&&!n.v&&(n.v=De(xt(n.ab,n),6e3));if(1>=Ds(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else bn(n,11)}else if((i.J||n.g==i)&&Ve(n),!K(e))for(u=n.Ca.g.parse(e),e=0;e<u.length;e++){let V=u[e];if(n.U=V[0],V=V[1],2==n.G)if("c"==V[0]){n.J=V[1],n.la=V[2];const z=V[3];null!=z&&(n.ma=z,n.h.info("VER="+n.ma));const re=V[4];null!=re&&(n.za=re,n.h.info("SVER="+n.za));const xe=V[5];null!=xe&&"number"==typeof xe&&0<xe&&(n.K=o=1.5*xe,n.h.info("backChannelRequestTimeoutMs_="+o)),o=n;const Ke=i.g;if(Ke){const Je=Ke.g?Ke.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Je){var l=o.i;!l.g&&(Le(Je,"spdy")||Le(Je,"quic")||Le(Je,"h2"))&&(l.j=l.l,l.g=new Set,l.h&&(lo(l,l.h),l.h=null))}if(o.D){const Mt=Ke.g?Ke.g.getResponseHeader("X-HTTP-Session-Id"):null;Mt&&(o.sa=Mt,jn(o.F,o.D,Mt))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-i.F,n.h.info("Handshake RTT: "+n.O+"ms"));var p=i;if((o=n).oa=er(o,o.H?o.la:null,o.W),p.J){Cs(o.i,p);var E=p,P=o.K;P&&E.setTimeout(P),E.B&&(Co(E),Do(E)),o.g=p}else F(o);0<n.l.length&&Qo(n)}else"stop"!=V[0]&&"close"!=V[0]||bn(n,7);else 3==n.G&&("stop"==V[0]||"close"==V[0]?"stop"==V[0]?bn(n,7):Ri(n):"noop"!=V[0]&&n.j&&n.j.wa(V),n.A=0)}ei(4)}catch{}}function uo(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(Fe(i)||"string"==typeof i)Ie(i,e,void 0);else{if(i.T&&"function"==typeof i.T)var n=i.T();else if(i.R&&"function"==typeof i.R)n=void 0;else if(Fe(i)||"string"==typeof i){n=[];for(var o=i.length,u=0;u<o;u++)n.push(u)}else for(u in n=[],o=0,i)n[o++]=u;o=function ga(i){if(i.R&&"function"==typeof i.R)return i.R();if("string"==typeof i)return i.split("");if(Fe(i)){for(var e=[],n=i.length,o=0;o<n;o++)e.push(i[o]);return e}for(o in e=[],n=0,i)e[n++]=i[o];return e}(i),u=o.length;for(var l=0;l<u;l++)e.call(void 0,o[l],n&&n[l],i)}}function Is(i,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var o=0;o<n;o+=2)this.set(arguments[o],arguments[o+1])}else if(i)if(i instanceof Is)for(n=i.T(),o=0;o<n.length;o++)this.set(n[o],i.get(n[o]));else for(o in i)this.set(o,i[o])}function Vi(i){if(i.i!=i.g.length){for(var e=0,n=0;e<i.g.length;){var o=i.g[e];ds(i.h,o)&&(i.g[n++]=o),e++}i.g.length=n}if(i.i!=i.g.length){var u={};for(n=e=0;e<i.g.length;)ds(u,o=i.g[e])||(i.g[n++]=o,u[o]=1),e++;i.g.length=n}}function ds(i,e){return Object.prototype.hasOwnProperty.call(i,e)}(we=qn.prototype).setTimeout=function(i){this.P=i},we.gb=function(i){i=i.target;const e=this.L;e&&3==zr(i)?e.l():this.Ia(i)},we.Ia=function(i){try{if(i==this.g)e:{const z=zr(this.g);var e=this.g.Da();const re=this.g.ba();if(!(3>z)&&(3!=z||_r||this.g&&(this.h.h||this.g.ga()||Bs(this.g)))){this.I||4!=z||7==e||ei(8==e||0>=re?3:2),Co(this);var n=this.g.ba();this.N=n;t:if(oo(this)){var o=Bs(this.g);i="";var u=o.length,l=4==zr(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Fs(this),Ws(this);var p="";break t}this.h.i=new ee.TextDecoder}for(e=0;e<u;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:l&&e==u-1});o.splice(0,u),this.h.g+=i,this.C=0,p=this.h.g}else p=this.g.ga();if(this.i=200==n,function Si(i,e,n,o,u,l,p){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+u+"]: "+e+"\n"+n+"\n"+l+" "+p})}(this.j,this.u,this.A,this.m,this.X,z,n),this.i){if(this.$&&!this.J){t:{if(this.g){var E,P=this.g;if((E=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!K(E)){var V=E;break t}}V=null}if(!(n=V)){this.i=!1,this.o=3,pe(12),Fs(this),Ws(this);break e}nn(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,bo(this,n)}this.U?(ao(this,z,p),_r&&this.i&&3==z&&(ur(this.V,this.W,"tick",this.fb),this.W.start())):(nn(this.j,this.m,p,null),bo(this,p)),4==z&&Fs(this),this.i&&!this.I&&(4==z?Ze(this.l,this):(this.i=!1,Do(this)))}else 400==n&&0<p.indexOf("Unknown SID")?(this.o=3,pe(12)):(this.o=0,pe(13)),Fs(this),Ws(this)}}}catch{}},we.fb=function(){if(this.g){var i=zr(this.g),e=this.g.ga();this.C<e.length&&(Co(this),ao(this,i,e),this.i&&4!=i&&Do(this))}},we.cancel=function(){this.I=!0,Fs(this)},we.eb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function Xr(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(ei(3),pe(17)),Fs(this),this.o=2,Ws(this)):Ko(this,this.Y-i)},(we=Is.prototype).R=function(){Vi(this);for(var i=[],e=0;e<this.g.length;e++)i.push(this.h[this.g[e]]);return i},we.T=function(){return Vi(this),this.g.concat()},we.get=function(i,e){return ds(this.h,i)?this.h[i]:e},we.set=function(i,e){ds(this.h,i)||(this.i++,this.g.push(i)),this.h[i]=e},we.forEach=function(i,e){for(var n=this.T(),o=0;o<n.length;o++){var u=n[o],l=this.get(u);i.call(e,l,u,this)}};var Ui=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Zi(i,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,i instanceof Zi){this.g=void 0!==e?e:i.g,yi(this,i.j),this.s=i.s,Yi(this,i.i),qs(this,i.m),this.l=i.l,e=i.h;var n=new $i;n.i=e.i,e.g&&(n.g=new Is(e.g),n.h=e.h),Ls(this,n),this.o=i.o}else i&&(n=String(i).match(Ui))?(this.g=!!e,yi(this,n[1]||"",!0),this.s=Ks(n[2]||""),Yi(this,n[3]||"",!0),qs(this,n[4]),this.l=Ks(n[5]||"",!0),Ls(this,n[6]||"",!0),this.o=Ks(n[7]||"")):(this.g=!!e,this.h=new $i(null,this.g))}function ti(i){return new Zi(i)}function yi(i,e,n){i.j=n?Ks(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function Yi(i,e,n){i.i=n?Ks(e,!0):e}function qs(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function Ls(i,e,n){e instanceof $i?(i.h=e,function Zs(i,e){e&&!i.j&&(Er(i),i.i=null,i.g.forEach(function(n,o){var u=o.toLowerCase();o!=u&&(co(this,o),yn(this,u,n))},i)),i.j=e}(i.h,i.g)):(n||(e=Ji(e,ci)),i.h=new $i(e,i.g))}function jn(i,e,n){i.h.set(e,n)}function ui(i){return jn(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function Ks(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Ji(i,e,n){return"string"==typeof i?(i=encodeURI(i).replace(e,ma),n&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function ma(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Zi.prototype.toString=function(){var i=[],e=this.j;e&&i.push(Ji(e,Es,!0),":");var n=this.i;return(n||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(Ji(e,Es,!0),"@"),i.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&i.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&i.push("/"),i.push(Ji(n,"/"==n.charAt(0)?vi:jo,!0))),(n=this.h.toString())&&i.push("?",n),(n=this.o)&&i.push("#",Ji(n,Bi)),i.join("")};var Es=/[#\/\?@]/g,jo=/[#\?:]/g,vi=/[#\?]/g,ci=/[#\?@]/g,Bi=/#/g;function $i(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function Er(i){i.g||(i.g=new Is,i.h=0,i.i&&function Ki(i,e){if(i){i=i.split("&");for(var n=0;n<i.length;n++){var o=i[n].indexOf("="),u=null;if(0<=o){var l=i[n].substring(0,o);u=i[n].substring(o+1)}else l=i[n];e(l,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(i.i,function(e,n){i.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function co(i,e){Er(i),e=Di(i,e),ds(i.g.h,e)&&(i.i=null,i.h-=i.g.get(e).length,ds((i=i.g).h,e)&&(delete i.h[e],i.i--,i.g.length>2*i.i&&Vi(i)))}function Ao(i,e){return Er(i),e=Di(i,e),ds(i.g.h,e)}function yn(i,e,n){co(i,e),0<n.length&&(i.i=null,i.g.set(Di(i,e),ve(n)),i.h+=n.length)}function Di(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function Sr(i){this.l=i||Ys,i=ee.PerformanceNavigationTiming?0<(i=ee.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(ee.g&&ee.g.Ea&&ee.g.Ea()&&ee.g.Ea().Zb),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(we=$i.prototype).add=function(i,e){Er(this),this.i=null,i=Di(this,i);var n=this.g.get(i);return n||this.g.set(i,n=[]),n.push(e),this.h+=1,this},we.forEach=function(i,e){Er(this),this.g.forEach(function(n,o){Ie(n,function(u){i.call(e,u,o,this)},this)},this)},we.T=function(){Er(this);for(var i=this.g.R(),e=this.g.T(),n=[],o=0;o<e.length;o++)for(var u=i[o],l=0;l<u.length;l++)n.push(e[o]);return n},we.R=function(i){Er(this);var e=[];if("string"==typeof i)Ao(this,i)&&(e=me(e,this.g.get(Di(this,i))));else{i=this.g.R();for(var n=0;n<i.length;n++)e=me(e,i[n])}return e},we.set=function(i,e){return Er(this),this.i=null,Ao(this,i=Di(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},we.get=function(i,e){return i&&0<(i=this.R(i)).length?String(i[0]):e},we.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var i=[],e=this.g.T(),n=0;n<e.length;n++){var o=e[n],u=encodeURIComponent(String(o));o=this.R(o);for(var l=0;l<o.length;l++){var p=u;""!==o[l]&&(p+="="+encodeURIComponent(String(o[l]))),i.push(p)}}return this.i=i.join("&")};var Ys=10;function mr(i){return!!i.h||!!i.g&&i.g.size>=i.j}function Ds(i){return i.h?1:i.g?i.g.size:0}function ni(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function lo(i,e){i.g?i.g.add(e):i.h=e}function Cs(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function bs(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const n of i.g.values())e=e.concat(n.D);return e}return ve(i.i)}function xi(){}function Xi(){this.g=new xi}function So(i,e,n){const o=n||"";try{uo(i,function(u,l){let p=u;tt(u)&&(p=Qr(u)),e.push(o+l+"="+encodeURIComponent(p))})}catch(u){throw e.push(o+"type="+encodeURIComponent("_badmap")),u}}function li(i,e,n,o,u){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,u(o)}catch{}}function Us(i){this.l=i.$b||null,this.j=i.ib||!1}function Qs(i,e){Ft.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=Js,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Sr.prototype.cancel=function(){if(this.i=bs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},xi.prototype.stringify=function(i){return ee.JSON.stringify(i,void 0)},xi.prototype.parse=function(i){return ee.JSON.parse(i,void 0)},We(Us,bt),Us.prototype.g=function(){return new Qs(this.l,this.j)},Us.prototype.i=function(i){return function(){return i}}({}),We(Qs,Ft);var Js=0;function Mo(i){i.j.read().then(i.Sa.bind(i)).catch(i.ha.bind(i))}function es(i){i.readyState=4,i.l=null,i.j=null,i.A=null,hs(i)}function hs(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(we=Qs.prototype).open=function(i,e){if(this.readyState!=Js)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,hs(this)},we.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||ee).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},we.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,es(this)),this.readyState=Js},we.Va=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,hs(this)),this.g&&(this.readyState=3,hs(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof ee.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Mo(this)}else i.text().then(this.Ua.bind(this),this.ha.bind(this))},we.Sa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?es(this):hs(this),3==this.readyState&&Mo(this)}},we.Ua=function(i){this.g&&(this.response=this.responseText=i,es(this))},we.Ta=function(i){this.g&&(this.response=i,es(this))},we.ha=function(){this.g&&es(this)},we.setRequestHeader=function(i,e){this.v.append(i,e)},we.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},we.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var n=e.next();!n.done;)i.push((n=n.value)[0]+": "+n[1]),n=e.next();return i.join("\r\n")},Object.defineProperty(Qs.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var Zo=ee.JSON.parse;function Ge(i){Ft.call(this),this.headers=new Is,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=En,this.K=this.L=!1}We(Ge,Ft);var En="",Ts=/^https?$/i,Yo=["POST","PUT"];function R(i){return"content-type"==i.toLowerCase()}function S(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,H(i),Pt(i)}function H(i){i.D||(i.D=!0,gn(i,"complete"),gn(i,"error"))}function Ue(i){if(i.h&&typeof qe<"u"&&(!i.C[1]||4!=zr(i)||2!=i.ba()))if(i.v&&4==zr(i))st(i.Fa,0,i);else if(gn(i,"readystatechange"),4==zr(i)){i.h=!1;try{const E=i.ba();e:switch(E){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var o;if(o=0===E){var u=String(i.H).match(Ui)[1]||null;if(!u&&ee.self&&ee.self.location){var l=ee.self.location.protocol;u=l.substr(0,l.length-1)}o=!Ts.test(u?u.toLowerCase():"")}n=o}if(n)gn(i,"complete"),gn(i,"success");else{i.m=6;try{var p=2<zr(i)?i.g.statusText:""}catch{p=""}i.j=p+" ["+i.ba()+"]",H(i)}}finally{Pt(i)}}}function Pt(i,e){if(i.g){hr(i);const n=i.g,o=i.C[0]?ue:null;i.g=null,i.C=null,e||gn(i,"ready");try{n.onreadystatechange=o}catch{}}}function hr(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(ee.clearTimeout(i.A),i.A=null)}function zr(i){return i.g?i.g.readyState:0}function Bs(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case En:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function jr(i,e,n){e:{for(o in n){var o=!1;break e}o=!0}o||(n=function fs(i){let e="";return vt(i,function(n,o){e+=o,e+=":",e+=n,e+="\r\n"}),e}(n),"string"==typeof i?null!=n&&encodeURIComponent(String(n)):jn(i,e,n))}function Zr(i,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[i]||e}function As(i){this.za=0,this.l=[],this.h=new hn,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Zr("failFast",!1,i),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Zr("baseRetryDelayMs",5e3,i),this.$a=Zr("retryDelaySeedMs",1e4,i),this.Ya=Zr("forwardChannelMaxRetries",2,i),this.ra=Zr("forwardChannelRequestTimeoutMs",2e4,i),this.qa=i&&i.xmlHttpFactory||void 0,this.Ba=i&&i.Yb||!1,this.K=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.J="",this.i=new Sr(i&&i.concurrentRequestLimit),this.Ca=new Xi,this.ja=i&&i.fastHandshake||!1,this.Ra=i&&i.Wb||!1,i&&i.Aa&&this.h.Aa(),i&&i.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&i&&i.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!i||!1!==i.Xb}function Ri(i){if(ya(i),3==i.G){var e=i.V++,n=ti(i.F);jn(n,"SID",i.J),jn(n,"RID",e),jn(n,"TYPE","terminate"),Xs(i,n),(e=new qn(i,i.h,e,void 0)).K=2,e.v=ui(ti(n)),n=!1,ee.navigator&&ee.navigator.sendBeacon&&(n=ee.navigator.sendBeacon(e.v.toString(),"")),!n&&ee.Image&&((new Image).src=e.v,n=!0),n||(e.g=xn(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Do(e)}Ln(i)}function Ni(i){i.g&&($(i),i.g.cancel(),i.g=null)}function ya(i){Ni(i),i.u&&(ee.clearTimeout(i.u),i.u=null),Ve(i),i.i.cancel(),i.m&&("number"==typeof i.m&&ee.clearTimeout(i.m),i.m=null)}function xo(i,e){i.l.push(new class{constructor(i,e){this.h=i,this.g=e}}(i.Za++,e)),3==i.G&&Qo(i)}function Qo(i){mr(i.i)||i.m||(i.m=!0,be(i.Ha,i),i.C=0)}function Jo(i,e){var n;n=e?e.m:i.V++;const o=ti(i.F);jn(o,"SID",i.J),jn(o,"RID",n),jn(o,"AID",i.U),Xs(i,o),i.o&&i.s&&jr(o,i.o,i.s),n=new qn(i,i.h,n,i.C+1),null===i.o&&(n.H=i.s),e&&(i.l=e.D.concat(i.l)),e=T(i,n,1e3),n.setTimeout(Math.round(.5*i.ra)+Math.round(.5*i.ra*Math.random())),lo(i.i,n),ws(n,o,e)}function Xs(i,e){i.j&&uo({},function(n,o){jn(e,o,n)})}function T(i,e,n){n=Math.min(i.l.length,n);var o=i.j?xt(i.j.Oa,i.j,i):null;e:{var u=i.l;let l=-1;for(;;){const p=["count="+n];-1==l?0<n?(l=u[0].h,p.push("ofs="+l)):l=0:p.push("ofs="+l);let E=!0;for(let P=0;P<n;P++){let V=u[P].h;const z=u[P].g;if(V-=l,0>V)l=Math.max(0,u[P].h-100),E=!1;else try{So(z,p,"req"+V+"_")}catch{o&&o(z)}}if(E){o=p.join("&");break e}}}return i=i.l.splice(0,n),e.D=i,o}function F(i){i.g||i.u||(i.Y=1,be(i.Ga,i),i.A=0)}function M(i){return!(i.g||i.u||3<=i.A||(i.Y++,i.u=De(xt(i.Ga,i),Dt(i,i.A)),i.A++,0))}function $(i){null!=i.B&&(ee.clearTimeout(i.B),i.B=null)}function se(i){i.g=new qn(i,i.h,"rpc",i.Y),null===i.o&&(i.g.H=i.s),i.g.O=0;var e=ti(i.oa);jn(e,"RID","rpc"),jn(e,"SID",i.J),jn(e,"CI",i.N?"0":"1"),jn(e,"AID",i.U),Xs(i,e),jn(e,"TYPE","xmlhttp"),i.o&&i.s&&jr(e,i.o,i.s),i.K&&i.g.setTimeout(i.K);var n=i.g;i=i.la,n.K=1,n.v=ui(ti(e)),n.s=null,n.U=!0,Fi(n,i)}function Ve(i){null!=i.v&&(ee.clearTimeout(i.v),i.v=null)}function Ze(i,e){var n=null;if(i.g==e){Ve(i),$(i),i.g=null;var o=2}else{if(!ni(i.i,e))return;n=e.D,Cs(i.i,e),o=1}if(i.I=e.N,0!=i.G)if(e.i)if(1==o){n=e.s?e.s.length:0,e=Date.now()-e.F;var u=i.C;gn(o=Xn(),new fe(o,n,e,u)),Qo(i)}else F(i);else if(3==(u=e.o)||0==u&&0<i.I||!(1==o&&function La(i,e){return!(Ds(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.l=e.D.concat(i.l),0):1==i.G||2==i.G||i.C>=(i.Xa?0:i.Ya)||(i.m=De(xt(i.Ha,i,e),Dt(i,i.C)),i.C++,0)))}(i,e)||2==o&&M(i)))switch(n&&0<n.length&&(e=i.i,e.i=e.i.concat(n)),u){case 1:bn(i,5);break;case 4:bn(i,10);break;case 3:bn(i,6);break;default:bn(i,2)}}function Dt(i,e){let n=i.Pa+Math.floor(Math.random()*i.$a);return i.j||(n*=2),n*e}function bn(i,e){if(i.h.info("Error code "+e),2==e){var n=null;i.j&&(n=null);var o=xt(i.jb,i);n||(n=new Zi("//www.google.com/images/cleardot.gif"),ee.location&&"http"==ee.location.protocol||yi(n,"https"),ui(n)),function Qt(i,e){const n=new hn;if(ee.Image){const o=new Image;o.onload=pt(li,n,o,"TestLoadImage: loaded",!0,e),o.onerror=pt(li,n,o,"TestLoadImage: error",!1,e),o.onabort=pt(li,n,o,"TestLoadImage: abort",!1,e),o.ontimeout=pt(li,n,o,"TestLoadImage: timeout",!1,e),ee.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(n.toString(),o)}else pe(2);i.G=0,i.j&&i.j.va(e),Ln(i),ya(i)}function Ln(i){i.G=0,i.I=-1,i.j&&((0!=bs(i.i).length||0!=i.l.length)&&(i.i.i.length=0,ve(i.l),i.l.length=0),i.j.ua())}function er(i,e,n){let o=function To(i){return i instanceof Zi?ti(i):new Zi(i,void 0)}(n);if(""!=o.i)e&&Yi(o,e+"."+o.i),qs(o,o.m);else{const u=ee.location;o=function Qi(i,e,n,o){var u=new Zi(null,void 0);return i&&yi(u,i),e&&Yi(u,e),n&&qs(u,n),o&&(u.l=o),u}(u.protocol,e?e+"."+u.hostname:u.hostname,+u.port,n)}return i.aa&&vt(i.aa,function(u,l){jn(o,l,u)}),n=i.sa,(e=i.D)&&n&&jn(o,e,n),jn(o,"VER",i.ma),Xs(i,o),o}function xn(i,e,n){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ge(n&&i.Ba&&!i.qa?new Us({ib:!0}):i.qa)).L=i.H,e}function Rn(){}function Nn(){if(un&&!(10<=Number(wr)))throw Error("Environmental error: no available transport.")}function Kt(i,e){Ft.call(this),this.g=new As(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.P=i,(i=e&&e.httpHeadersOverwriteParam)&&!K(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!K(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new di(this)}function Ss(i){or.call(this);var e=i.__sm__;if(e){e:{for(const n in e){i=n;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function ts(){dr.call(this),this.status=1}function di(i){this.g=i}(we=Ge.prototype).ea=function(i,e,n,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ks.g(),this.C=function mn(i){return i.h||(i.h=i.i())}(this.u?this.u:ks),this.g.onreadystatechange=xt(this.Fa,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(l){return void S(this,l)}i=n||"";const u=new Is(this.headers);o&&uo(o,function(l,p){u.set(p,l)}),o=function nt(i){e:{var e=R;const n=i.length,o="string"==typeof i?i.split(""):i;for(let u=0;u<n;u++)if(u in o&&e.call(void 0,o[u],u,i)){e=u;break e}e=-1}return 0>e?null:"string"==typeof i?i.charAt(e):i[e]}(u.T()),n=ee.FormData&&i instanceof ee.FormData,!(0<=je(Yo,e))||o||n||u.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),u.forEach(function(l,p){this.g.setRequestHeader(p,l)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{hr(this),0<this.B&&((this.K=function O(i){return un&&function cr(){return function Qn(i){var e=At;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=i(9)}(function(){let i=0;const e=de(String(Ur)).split("."),n=de("9").split("."),o=Math.max(e.length,n.length);for(let p=0;0==i&&p<o;p++){var u=e[p]||"",l=n[p]||"";do{if(u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==u[0].length&&0==l[0].length)break;i=$e(0==u[1].length?0:parseInt(u[1],10),0==l[1].length?0:parseInt(l[1],10))||$e(0==u[2].length,0==l[2].length)||$e(u[2],l[2]),u=u[3],l=l[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=xt(this.pa,this)):this.A=st(this.pa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(l){S(this,l)}},we.pa=function(){typeof qe<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,gn(this,"timeout"),this.abort(8))},we.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,gn(this,"complete"),gn(this,"abort"),Pt(this))},we.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Pt(this,!0)),Ge.Z.M.call(this)},we.Fa=function(){this.s||(this.F||this.v||this.l?Ue(this):this.cb())},we.cb=function(){Ue(this)},we.ba=function(){try{return 2<zr(this)?this.g.status:-1}catch{return-1}},we.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}},we.Qa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),Zo(e)}},we.Da=function(){return this.m},we.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(we=As.prototype).ma=8,we.G=1,we.hb=function(i){try{this.h.info("Origin Trials invoked: "+i)}catch{}},we.Ha=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.V=Math.floor(1e5*Math.random()),i=this.V++;const u=new qn(this,this.h,i,void 0);let l=this.s;if(this.P&&(l?(l=rn(l),Dn(l,this.P)):l=this.P),null===this.o&&(u.H=l),this.ja)e:{for(var e=0,n=0;n<this.l.length;n++){var o=this.l[n];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=n;break e}if(4096===e||n===this.l.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=T(this,u,e),jn(n=ti(this.F),"RID",i),jn(n,"CVER",22),this.D&&jn(n,"X-HTTP-Session-Id",this.D),Xs(this,n),this.o&&l&&jr(n,this.o,l),lo(this.i,u),this.Ra&&jn(n,"TYPE","init"),this.ja?(jn(n,"$req",e),jn(n,"SID","null"),u.$=!0,ws(u,n,null)):ws(u,n,e),this.G=2}}else 3==this.G&&(i?Jo(this,i):0==this.l.length||mr(this.i)||Jo(this))},we.Ga=function(){if(this.u=null,se(this),this.$&&!(this.L||null==this.g||0>=this.O)){var i=2*this.O;this.h.info("BP detection timer enabled: "+i),this.B=De(xt(this.bb,this),i)}},we.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,pe(10),Ni(this),se(this))},we.ab=function(){null!=this.v&&(this.v=null,Ni(this),M(this),pe(19))},we.jb=function(i){i?(this.h.info("Successfully pinged google.com"),pe(2)):(this.h.info("Failed to ping google.com"),pe(1))},(we=Rn.prototype).xa=function(){},we.wa=function(){},we.va=function(){},we.ua=function(){},we.Oa=function(){},Nn.prototype.g=function(i,e){return new Kt(i,e)},We(Kt,Ft),Kt.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,n=this.h||void 0;i.Wa&&(i.h.info("Origin Trials enabled."),be(xt(i.hb,i,e))),pe(0),i.W=e,i.aa=n||{},i.N=i.X,i.F=er(i,null,i.W),Qo(i)},Kt.prototype.close=function(){Ri(this.g)},Kt.prototype.u=function(i){if("string"==typeof i){var e={};e.__data__=i,xo(this.g,e)}else this.v?((e={}).__data__=Qr(i),xo(this.g,e)):xo(this.g,i)},Kt.prototype.M=function(){this.g.j=null,delete this.j,Ri(this.g),delete this.g,Kt.Z.M.call(this)},We(Ss,or),We(ts,dr),We(di,Rn),di.prototype.xa=function(){gn(this.g,"a")},di.prototype.wa=function(i){gn(this.g,new Ss(i))},di.prototype.va=function(i){gn(this.g,new ts(i))},di.prototype.ua=function(){gn(this.g,"b")},Nn.prototype.createWebChannel=Nn.prototype.g,Kt.prototype.send=Kt.prototype.u,Kt.prototype.open=Kt.prototype.m,Kt.prototype.close=Kt.prototype.close,ze.NO_ERROR=0,ze.TIMEOUT=8,ze.HTTP_ERROR=6,ot.COMPLETE="complete",rr.EventType=Tn,Tn.OPEN="a",Tn.CLOSE="b",Tn.ERROR="c",Tn.MESSAGE="d",Ft.prototype.listen=Ft.prototype.N,Ge.prototype.listenOnce=Ge.prototype.O,Ge.prototype.getLastError=Ge.prototype.La,Ge.prototype.getLastErrorCode=Ge.prototype.Da,Ge.prototype.getStatus=Ge.prototype.ba,Ge.prototype.getResponseJson=Ge.prototype.Qa,Ge.prototype.getResponseText=Ge.prototype.ga,Ge.prototype.send=Ge.prototype.ea;var ps=Ce.createWebChannelTransport=function(){return new Nn},Xo=Ce.getStatEventTarget=function(){return Xn()},ea=Ce.ErrorCode=ze,ta=Ce.EventType=ot,va=Ce.Event=Mi,ri=Ce.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},na=Ce.FetchXmlHttpFactory=Us,ns=Ce.WebChannel=rr,tu=Ce.XhrIo=Ge;const Ro="@firebase/firestore";class Mr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Mr.UNAUTHENTICATED=new Mr(null),Mr.GOOGLE_CREDENTIALS=new Mr("google-credentials-uid"),Mr.FIRST_PARTY=new Mr("first-party-uid"),Mr.MOCK_USER=new Mr("mock-user");let ra="9.9.4";const eo=new ce.Yd("@firebase/firestore");function ho(){return eo.logLevel}function ut(i,...e){if(eo.logLevel<=ce.in.DEBUG){const n=e.map(nu);eo.debug(`Firestore (${ra}): ${i}`,...n)}}function xr(i,...e){if(eo.logLevel<=ce.in.ERROR){const n=e.map(nu);eo.error(`Firestore (${ra}): ${i}`,...n)}}function hi(i,...e){if(eo.logLevel<=ce.in.WARN){const n=e.map(nu);eo.warn(`Firestore (${ra}): ${i}`,...n)}}function nu(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function Rt(i="Unexpected state"){const e=`FIRESTORE (${ra}) INTERNAL ASSERTION FAILED: `+i;throw xr(e),new Error(e)}function on(i,e){i||Rt()}function _t(i,e){return i}const Be={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class it extends Ee.ZR{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Hr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class Ua{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class fo{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Mr.UNAUTHENTICATED))}shutdown(){}}class Rr{constructor(e){this.t=e,this.currentUser=Mr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var o=this;let u=this.i;const l=V=>this.i!==u?(u=this.i,n(V)):Promise.resolve();let p=new Hr;this.o=()=>{this.i++,this.currentUser=this.u(),p.resolve(),p=new Hr,e.enqueueRetryable(()=>l(this.currentUser))};const E=()=>{const V=p;e.enqueueRetryable((0,_.Z)(function*(){yield V.promise,yield l(o.currentUser)}))},P=V=>{ut("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=V,this.auth.addAuthTokenListener(this.o),E()};this.t.onInit(V=>P(V)),setTimeout(()=>{if(!this.auth){const V=this.t.getImmediate({optional:!0});V?P(V):(ut("FirebaseAuthCredentialsProvider","Auth not yet detected"),p.resolve(),p=new Hr)}},0),E()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(o=>this.i!==e?(ut("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(on("string"==typeof o.accessToken),new Ua(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return on(null===e||"string"==typeof e),new Mr(e)}}class Ju{constructor(e,n,o,u){this.h=e,this.l=n,this.m=o,this.g=u,this.type="FirstParty",this.user=Mr.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(on(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class _a{constructor(e,n,o,u){this.h=e,this.l=n,this.m=o,this.g=u}getToken(){return Promise.resolve(new Ju(this.h,this.l,this.m,this.g))}start(e,n){e.enqueueRetryable(()=>n(Mr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ba{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ru{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,n){const o=l=>{null!=l.error&&ut("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const p=l.token!==this.A;return this.A=l.token,ut("FirebaseAppCheckTokenProvider",`Received ${p?"new":"existing"} token.`),p?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>o(l))};const u=l=>{ut("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.T.onInit(l=>u(l)),setTimeout(()=>{if(!this.appCheck){const l=this.T.getImmediate({optional:!0});l?u(l):ut("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(on("string"==typeof n.token),this.A=n.token,new Ba(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Xu(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let o=0;o<i;o++)n[o]=Math.floor(256*Math.random());return n}class po{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const u=Xu(40);for(let l=0;l<u.length;++l)o.length<20&&u[l]<n&&(o+=e.charAt(u[l]%e.length))}return o}}function an(i,e){return i<e?-1:i>e?1:0}function rs(i,e,n){return i.length===e.length&&i.every((o,u)=>n(o,e[u]))}class Jn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new it(Be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new it(Be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new it(Be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new it(Be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Jn.fromMillis(Date.now())}static fromDate(e){return Jn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*n));return new Jn(n,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?an(this.nanoseconds,e.nanoseconds):an(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Xt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Xt(e)}static min(){return new Xt(new Jn(0,0))}static max(){return new Xt(new Jn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Oo{constructor(e,n,o){void 0===n?n=0:n>e.length&&Rt(),void 0===o?o=e.length-n:o>e.length-n&&Rt(),this.segments=e,this.offset=n,this.len=o}get length(){return this.len}isEqual(e){return 0===Oo.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Oo?e.forEach(o=>{n.push(o)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,o=this.limit();n<o;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const o=Math.min(e.length,n.length);for(let u=0;u<o;u++){const l=e.get(u),p=n.get(u);if(l<p)return-1;if(l>p)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Cn extends Oo{construct(e,n,o){return new Cn(e,n,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const o of e){if(o.indexOf("//")>=0)throw new it(Be.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);n.push(...o.split("/").filter(u=>u.length>0))}return new Cn(n)}static emptyPath(){return new Cn([])}}const $a=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Dr extends Oo{construct(e,n,o){return new Dr(e,n,o)}static isValidIdentifier(e){return $a.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Dr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Dr(["__name__"])}static fromServerFormat(e){const n=[];let o="",u=0;const l=()=>{if(0===o.length)throw new it(Be.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(o),o=""};let p=!1;for(;u<e.length;){const E=e[u];if("\\"===E){if(u+1===e.length)throw new it(Be.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const P=e[u+1];if("\\"!==P&&"."!==P&&"`"!==P)throw new it(Be.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=P,u+=2}else"`"===E?(p=!p,u++):"."!==E||p?(o+=E,u++):(l(),u++)}if(l(),p)throw new it(Be.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Dr(n)}static emptyPath(){return new Dr([])}}class It{constructor(e){this.path=e}static fromPath(e){return new It(Cn.fromString(e))}static fromName(e){return new It(Cn.fromString(e).popFirst(5))}static empty(){return new It(Cn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Cn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return Cn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new It(new Cn(e.slice()))}}function wa(i){return new Oi(i.readTime,i.key,-1)}class Oi{constructor(e,n,o){this.readTime=e,this.documentKey=n,this.largestBatchId=o}static min(){return new Oi(Xt.min(),It.empty(),-1)}static max(){return new Oi(Xt.max(),It.empty(),-1)}}function gs(i,e){let n=i.readTime.compareTo(e.readTime);return 0!==n?n:(n=It.comparator(i.documentKey,e.documentKey),0!==n?n:an(i.largestBatchId,e.largestBatchId))}const sa="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";function ms(i){return no.apply(this,arguments)}function no(){return no=(0,_.Z)(function*(i){if(i.code!==Be.FAILED_PRECONDITION||i.message!==sa)throw i;ut("LocalStore","Unexpectedly lost primary lease")}),no.apply(this,arguments)}class Ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Rt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Ne((o,u)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(o,u)},this.catchCallback=l=>{this.wrapFailure(n,l).next(o,u)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Ne?n:Ne.resolve(n)}catch(n){return Ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Ne.reject(n)}static resolve(e){return new Ne((n,o)=>{n(e)})}static reject(e){return new Ne((n,o)=>{o(e)})}static waitFor(e){return new Ne((n,o)=>{let u=0,l=0,p=!1;e.forEach(E=>{++u,E.next(()=>{++l,p&&l===u&&n()},P=>o(P))}),p=!0,l===u&&n()})}static or(e){let n=Ne.resolve(!1);for(const o of e)n=n.next(u=>u?Ne.resolve(u):o());return n}static forEach(e,n){const o=[];return e.forEach((u,l)=>{o.push(n.call(this,u,l))}),this.waitFor(o)}static mapArray(e,n){return new Ne((o,u)=>{const l=e.length,p=new Array(l);let E=0;for(let P=0;P<l;P++){const V=P;n(e[V]).next(z=>{p[V]=z,++E,E===l&&o(p)},z=>u(z))}})}static doWhile(e,n){return new Ne((o,u)=>{const l=()=>{!0===e()?n().next(()=>{l()},u):o()};l()})}}function Kn(i){return"IndexedDbTransactionError"===i.name}class ys{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=o=>this.ut(o),this.ct=o=>n.writeSequenceNumber(o))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function Ho(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Lo(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function vl(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}ys.at=-1;class ln{constructor(e,n){this.comparator=e,this.root=n||Cr.EMPTY}insert(e,n){return new ln(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Cr.BLACK,null,null))}remove(e){return new ln(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Cr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const o=this.comparator(e,n.key);if(0===o)return n.value;o<0?n=n.left:o>0&&(n=n.right)}return null}indexOf(e){let n=0,o=this.root;for(;!o.isEmpty();){const u=this.comparator(e,o.key);if(0===u)return n+o.left.size;u<0?o=o.left:(n+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,o)=>(e(n,o),!1))}toString(){const e=[];return this.inorderTraversal((n,o)=>(e.push(`${n}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ha(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ha(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ha(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ha(this.root,e,this.comparator,!0)}}class Ha{constructor(e,n,o,u){this.isReverse=u,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?o(e.key,n):1,n&&u&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Cr{constructor(e,n,o,u,l){this.key=e,this.value=n,this.color=o??Cr.RED,this.left=u??Cr.EMPTY,this.right=l??Cr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,o,u,l){return new Cr(e??this.key,n??this.value,o??this.color,u??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,o){let u=this;const l=o(e,u.key);return u=l<0?u.copy(null,null,null,u.left.insert(e,n,o),null):0===l?u.copy(null,n,null,null,null):u.copy(null,null,null,null,u.right.insert(e,n,o)),u.fixUp()}removeMin(){if(this.left.isEmpty())return Cr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let o,u=this;if(n(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,n),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===n(e,u.key)){if(u.right.isEmpty())return Cr.EMPTY;o=u.right.min(),u=u.copy(o.key,o.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,n))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Cr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Cr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Rt();const e=this.left.check();if(e!==this.right.check())throw Rt();return e+(this.isRed()?0:1)}}Cr.EMPTY=null,Cr.RED=!0,Cr.BLACK=!1,Cr.EMPTY=new class{constructor(){this.size=0}get key(){throw Rt()}get value(){throw Rt()}get color(){throw Rt()}get left(){throw Rt()}get right(){throw Rt()}copy(i,e,n,o,u){return this}insert(i,e,n){return new Cr(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class yr{constructor(e){this.comparator=e,this.data=new ln(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,o)=>(e(n),!1))}forEachInRange(e,n){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const u=o.getNext();if(this.comparator(u.key,e[1])>=0)return;n(u.key)}}forEachWhile(e,n){let o;for(o=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ea(this.data.getIterator())}getIteratorFrom(e){return new Ea(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(o=>{n=n.add(o)}),n}isEqual(e){if(!(e instanceof yr)||this.size!==e.size)return!1;const n=this.data.getIterator(),o=e.data.getIterator();for(;n.hasNext();){const u=n.getNext().key,l=o.getNext().key;if(0!==this.comparator(u,l))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new yr(this.comparator);return n.data=e,n}}class Ea{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Or{constructor(e){this.fields=e,e.sort(Dr.comparator)}static empty(){return new Or([])}unionWith(e){let n=new yr(Dr.comparator);for(const o of this.fields)n=n.add(o);for(const o of e)n=n.add(o);return new Or(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return rs(this.fields,e.fields,(n,o)=>n.isEqual(o))}}class Pr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new Pr(n)}static fromUint8Array(e){const n=function(o){let u="";for(let l=0;l<o.length;++l)u+=String.fromCharCode(o[l]);return u}(e);return new Pr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let o=0;o<e.length;o++)n[o]=e.charCodeAt(o);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return an(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pr.EMPTY_BYTE_STRING=new Pr("");const su=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hi(i){if(on(!!i),"string"==typeof i){let e=0;const n=su.exec(i);if(on(!!n),n[1]){let u=n[1];u=(u+"000000000").substr(0,9),e=Number(u)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:kr(i.seconds),nanos:kr(i.nanos)}}function kr(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function Vo(i){return"string"==typeof i?Pr.fromBase64String(i):Pr.fromUint8Array(i)}function nc(i){var e,n;return"server_timestamp"===(null===(n=((null===(e=i?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function y(i){const e=i.mapValue.fields.__previous_value__;return nc(e)?y(e):e}function v(i){const e=Hi(i.mapValue.fields.__local_write_time__.timestampValue);return new Jn(e.seconds,e.nanos)}class g{constructor(e,n,o,u,l,p,E,P){this.databaseId=e,this.appId=n,this.persistenceKey=o,this.host=u,this.ssl=l,this.forceLongPolling=p,this.autoDetectLongPolling=E,this.useFetchStreams=P}}class D{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new D("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof D&&e.projectId===this.projectId&&e.database===this.database}}function x(i){return null==i}function U(i){return 0===i&&1/i==-1/0}const ne_mapValue={fields:{__type__:{stringValue:"__max__"}}};function dt(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?nc(i)?4:ou(i)?9007199254740991:10:Rt()}function Bt(i,e){if(i===e)return!0;const n=dt(i);if(n!==dt(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return v(i).isEqual(v(e));case 3:return function(o,u){if("string"==typeof o.timestampValue&&"string"==typeof u.timestampValue&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const l=Hi(o.timestampValue),p=Hi(u.timestampValue);return l.seconds===p.seconds&&l.nanos===p.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return u=e,Vo(i.bytesValue).isEqual(Vo(u.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return kr(o.geoPointValue.latitude)===kr(u.geoPointValue.latitude)&&kr(o.geoPointValue.longitude)===kr(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return kr(o.integerValue)===kr(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const l=kr(o.doubleValue),p=kr(u.doubleValue);return l===p?U(l)===U(p):isNaN(l)&&isNaN(p)}return!1}(i,e);case 9:return rs(i.arrayValue.values||[],e.arrayValue.values||[],Bt);case 10:return function(o,u){const l=o.mapValue.fields||{},p=u.mapValue.fields||{};if(Ho(l)!==Ho(p))return!1;for(const E in l)if(l.hasOwnProperty(E)&&(void 0===p[E]||!Bt(l[E],p[E])))return!1;return!0}(i,e);default:return Rt()}var u}function Ct(i,e){return void 0!==(i.values||[]).find(n=>Bt(n,e))}function Sn(i,e){if(i===e)return 0;const n=dt(i),o=dt(e);if(n!==o)return an(n,o);switch(n){case 0:case 9007199254740991:return 0;case 1:return an(i.booleanValue,e.booleanValue);case 2:return function(u,l){const p=kr(u.integerValue||u.doubleValue),E=kr(l.integerValue||l.doubleValue);return p<E?-1:p>E?1:p===E?0:isNaN(p)?isNaN(E)?0:-1:1}(i,e);case 3:return Ci(i.timestampValue,e.timestampValue);case 4:return Ci(v(i),v(e));case 5:return an(i.stringValue,e.stringValue);case 6:return function(u,l){const p=Vo(u),E=Vo(l);return p.compareTo(E)}(i.bytesValue,e.bytesValue);case 7:return function(u,l){const p=u.split("/"),E=l.split("/");for(let P=0;P<p.length&&P<E.length;P++){const V=an(p[P],E[P]);if(0!==V)return V}return an(p.length,E.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,l){const p=an(kr(u.latitude),kr(l.latitude));return 0!==p?p:an(kr(u.longitude),kr(l.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(u,l){const p=u.values||[],E=l.values||[];for(let P=0;P<p.length&&P<E.length;++P){const V=Sn(p[P],E[P]);if(V)return V}return an(p.length,E.length)}(i.arrayValue,e.arrayValue);case 10:return function(u,l){if(u===ne_mapValue&&l===ne_mapValue)return 0;if(u===ne_mapValue)return 1;if(l===ne_mapValue)return-1;const p=u.fields||{},E=Object.keys(p),P=l.fields||{},V=Object.keys(P);E.sort(),V.sort();for(let z=0;z<E.length&&z<V.length;++z){const re=an(E[z],V[z]);if(0!==re)return re;const xe=Sn(p[E[z]],P[V[z]]);if(0!==xe)return xe}return an(E.length,V.length)}(i.mapValue,e.mapValue);default:throw Rt()}}function Ci(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return an(i,e);const n=Hi(i),o=Hi(e),u=an(n.seconds,o.seconds);return 0!==u?u:an(n.nanos,o.nanos)}function bi(i){return Gi(i)}function Gi(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(o){const u=Hi(o);return`time(${u.seconds},${u.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?Vo(i.bytesValue).toBase64():"referenceValue"in i?It.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(o){let u="[",l=!0;for(const p of o.values||[])l?l=!1:u+=",",u+=Gi(p);return u+"]"}(i.arrayValue):"mapValue"in i?function(o){const u=Object.keys(o.fields||{}).sort();let l="{",p=!0;for(const E of u)p?p=!1:l+=",",l+=`${E}:${Gi(o.fields[E])}`;return l+"}"}(i.mapValue):Rt();var e}function Uo(i){return!!i&&"integerValue"in i}function Gs(i){return!!i&&"arrayValue"in i}function Bo(i){return!!i&&"nullValue"in i}function rc(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function yo(i){return!!i&&"mapValue"in i}function Tu(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Lo(i.mapValue.fields,(n,o)=>e.mapValue.fields[n]=Tu(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Tu(i.arrayValue.values[n]);return e}return Object.assign({},i)}function ou(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}class A{constructor(e){this.value=e}static empty(){return new A({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let o=0;o<e.length-1;++o)if(n=(n.mapValue.fields||{})[e.get(o)],!yo(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Tu(n)}setAll(e){let n=Dr.emptyPath(),o={},u=[];e.forEach((p,E)=>{if(!n.isImmediateParentOf(E)){const P=this.getFieldsMap(n);this.applyChanges(P,o,u),o={},u=[],n=E.popLast()}p?o[E.lastSegment()]=Tu(p):u.push(E.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,o,u)}delete(e){const n=this.field(e.popLast());yo(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Bt(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let o=0;o<e.length;++o){let u=n.mapValue.fields[e.get(o)];yo(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},n.mapValue.fields[e.get(o)]=u),n=u}return n.mapValue.fields}applyChanges(e,n,o){Lo(n,(u,l)=>e[u]=l);for(const u of o)delete e[u]}clone(){return new A(Tu(this.value))}}function N(i){const e=[];return Lo(i.fields,(n,o)=>{const u=new Dr([n]);if(yo(o)){const l=N(o.mapValue).fields;if(0===l.length)e.push(u);else for(const p of l)e.push(u.child(p))}else e.push(u)}),new Or(e)}class L{constructor(e,n,o,u,l,p){this.key=e,this.documentType=n,this.version=o,this.readTime=u,this.data=l,this.documentState=p}static newInvalidDocument(e){return new L(e,0,Xt.min(),Xt.min(),A.empty(),0)}static newFoundDocument(e,n,o){return new L(e,1,n,Xt.min(),o,0)}static newNoDocument(e,n){return new L(e,2,n,Xt.min(),A.empty(),0)}static newUnknownDocument(e,n){return new L(e,3,n,Xt.min(),A.empty(),2)}convertToFoundDocument(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=A.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=A.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Xt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof L&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new L(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Y{constructor(e,n=null,o=[],u=[],l=null,p=null,E=null){this.path=e,this.collectionGroup=n,this.orderBy=o,this.filters=u,this.limit=l,this.startAt=p,this.endAt=E,this.ht=null}}function ye(i,e=null,n=[],o=[],u=null,l=null,p=null){return new Y(i,e,n,o,u,l,p)}function Pe(i){const e=_t(i);if(null===e.ht){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(o=>{return(u=o).field.canonicalString()+u.op.toString()+bi(u.value);var u}).join(","),n+="|ob:",n+=e.orderBy.map(o=>{return(u=o).field.canonicalString()+u.dir;var u}).join(","),x(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(o=>bi(o)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(o=>bi(o)).join(",")),e.ht=n}return e.ht}function mt(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let u=0;u<i.orderBy.length;u++)if(!Dp(i.orderBy[u],e.orderBy[u]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let u=0;u<i.filters.length;u++)if((n=i.filters[u]).op!==(o=e.filters[u]).op||!n.field.isEqual(o.field)||!Bt(n.value,o.value))return!1;var n,o;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!ad(i.startAt,e.startAt)&&ad(i.endAt,e.endAt)}function Zt(i){return It.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}class Zn extends class{}{constructor(e,n,o){super(),this.field=e,this.op=n,this.value=o}static create(e,n,o){return e.isKeyField()?"in"===n||"not-in"===n?this.lt(e,n,o):new is(e,n,o):"array-contains"===n?new Ga(e,o):"in"===n?new ba(e,o):"not-in"===n?new Ta(e,o):"array-contains-any"===n?new za(e,o):new Zn(e,n,o)}static lt(e,n,o){return"in"===n?new uu(e,o):new Da(e,o)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.ft(Sn(n,this.value)):null!==n&&dt(this.value)===dt(n)&&this.ft(Sn(n,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Rt()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class is extends Zn{constructor(e,n,o){super(e,n,o),this.key=It.fromName(o.referenceValue)}matches(e){const n=It.comparator(e.key,this.key);return this.ft(n)}}class uu extends Zn{constructor(e,n){super(e,"in",n),this.keys=Ca(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Da extends Zn{constructor(e,n){super(e,"not-in",n),this.keys=Ca(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Ca(i,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(o=>It.fromName(o.referenceValue))}class Ga extends Zn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Gs(n)&&Ct(n.arrayValue,this.value)}}class ba extends Zn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Ct(this.value.arrayValue,n)}}class Ta extends Zn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ct(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Ct(this.value.arrayValue,n)}}class za extends Zn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Gs(n)||!n.arrayValue.values)&&n.arrayValue.values.some(o=>Ct(this.value.arrayValue,o))}}class xs{constructor(e,n){this.position=e,this.inclusive=n}}class ua{constructor(e,n="asc"){this.field=e,this.dir=n}}function Dp(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}function ic(i,e,n){let o=0;for(let u=0;u<i.position.length;u++){const l=e[u],p=i.position[u];if(o=l.field.isKeyField()?It.comparator(It.fromName(p.referenceValue),n.key):Sn(p,n.data.field(l.field)),"desc"===l.dir&&(o*=-1),0!==o)break}return o}function ad(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Bt(i.position[n],e.position[n]))return!1;return!0}class Aa{constructor(e,n=null,o=[],u=[],l=null,p="F",E=null,P=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=o,this.filters=u,this.limit=l,this.limitType=p,this.startAt=E,this.endAt=P,this._t=null,this.wt=null}}function cu(i){return new Aa(i)}function ud(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function lu(i){const e=_t(i);if(null===e._t){e._t=[];const n=function cd(i){for(const e of i.filters)if(e.dt())return e.field;return null}(e),o=function Nc(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}(e);if(null!==n&&null===o)n.isKeyField()||e._t.push(new ua(n)),e._t.push(new ua(Dr.keyField(),"asc"));else{let u=!1;for(const l of e.explicitOrderBy)e._t.push(l),l.field.isKeyField()&&(u=!0);if(!u){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new ua(Dr.keyField(),l))}}}return e._t}function Rs(i){const e=_t(i);if(!e.wt)if("F"===e.limitType)e.wt=ye(e.path,e.collectionGroup,lu(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const l of lu(e))n.push(new ua(l.field,"desc"===l.dir?"asc":"desc"));const o=e.endAt?new xs(e.endAt.position,e.endAt.inclusive):null,u=e.startAt?new xs(e.startAt.position,e.startAt.inclusive):null;e.wt=ye(e.path,e.collectionGroup,n,e.filters,e.limit,o,u)}return e.wt}function Pc(i,e,n){return new Aa(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Au(i,e){return mt(Rs(i),Rs(e))&&i.limitType===e.limitType}function oc(i){return`${Pe(Rs(i))}|lt:${i.limitType}`}function ac(i){return`Query(target=${function rt(i){let e=i.path.canonicalString();return null!==i.collectionGroup&&(e+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(e+=`, filters: [${i.filters.map(n=>{return`${(o=n).field.canonicalString()} ${o.op} ${bi(o.value)}`;var o}).join(", ")}]`),x(i.limit)||(e+=", limit: "+i.limit),i.orderBy.length>0&&(e+=`, orderBy: [${i.orderBy.map(n=>{return`${(o=n).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),i.startAt&&(e+=", startAt: ",e+=i.startAt.inclusive?"b:":"a:",e+=i.startAt.position.map(n=>bi(n)).join(",")),i.endAt&&(e+=", endAt: ",e+=i.endAt.inclusive?"a:":"b:",e+=i.endAt.position.map(n=>bi(n)).join(",")),`Target(${e})`}(Rs(i))}; limitType=${i.limitType})`}function Sa(i,e){return e.isFoundDocument()&&function(n,o){const u=o.key.path;return null!==n.collectionGroup?o.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(u):It.isDocumentKey(n.path)?n.path.isEqual(u):n.path.isImmediateParentOf(u)}(i,e)&&function(n,o){for(const u of n.explicitOrderBy)if(!u.field.isKeyField()&&null===o.data.field(u.field))return!1;return!0}(i,e)&&function(n,o){for(const u of n.filters)if(!u.matches(o))return!1;return!0}(i,e)&&(o=e,!((n=i).startAt&&!function(u,l,p){const E=ic(u,l,p);return u.inclusive?E<=0:E<0}(n.startAt,lu(n),o)||n.endAt&&!function(u,l,p){const E=ic(u,l,p);return u.inclusive?E>=0:E>0}(n.endAt,lu(n),o)));var n,o}function dd(i){return(e,n)=>{let o=!1;for(const u of lu(i)){const l=Cp(u,e,n);if(0!==l)return l;o=o||u.field.isKeyField()}return 0}}function Cp(i,e,n){const o=i.field.isKeyField()?It.comparator(e.key,n.key):function(u,l,p){const E=l.data.field(u),P=p.data.field(u);return null!==E&&null!==P?Sn(E,P):Rt()}(i.field,e,n);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return Rt()}}function uc(i,e){if(i.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:U(e)?"-0":e}}function cc(i){return{integerValue:""+i}}function _l(i,e){return function Q(i){return"number"==typeof i&&Number.isInteger(i)&&!U(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}(e)?cc(e):uc(i,e)}class du{constructor(){this._=void 0}}function hd(i,e,n){return i instanceof hu?function(o,u){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&(l.fields.__previous_value__=u),{mapValue:l}}(n,e):i instanceof Su?wl(i,e):i instanceof Wa?Ma(i,e):function(o,u){const l=Th(o,u),p=pd(l)+pd(o.yt);return Uo(l)&&Uo(o.yt)?cc(p):uc(o.It,p)}(i,e)}function fd(i,e,n){return i instanceof Su?wl(i,e):i instanceof Wa?Ma(i,e):n}function Th(i,e){return i instanceof ca?Uo(n=e)||(o=n)&&"doubleValue"in o?e:{integerValue:0}:null;var o,n}class hu extends du{}class Su extends du{constructor(e){super(),this.elements=e}}function wl(i,e){const n=Ah(e);for(const o of i.elements)n.some(u=>Bt(u,o))||n.push(o);return{arrayValue:{values:n}}}class Wa extends du{constructor(e){super(),this.elements=e}}function Ma(i,e){let n=Ah(e);for(const o of i.elements)n=n.filter(u=>!Bt(u,o));return{arrayValue:{values:n}}}class ca extends du{constructor(e,n){super(),this.It=e,this.yt=n}}function pd(i){return kr(i.integerValue||i.doubleValue)}function Ah(i){return Gs(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Sh{constructor(e,n){this.version=e,this.transformResults=n}}class _i{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new _i}static exists(e){return new _i(void 0,e)}static updateTime(e){return new _i(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Mu(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class fu{}function Il(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new lc(i.key,_i.none()):new zs(i.key,i.data,_i.none());{const n=i.data,o=A.empty();let u=new yr(Dr.comparator);for(let l of e.fields)if(!u.has(l)){let p=n.field(l);null===p&&l.length>1&&(l=l.popLast(),p=n.field(l)),null===p?o.delete(l):o.set(l,p),u=u.add(l)}return new vo(i.key,o,new Or(u.toArray()),_i.none())}}function bp(i,e,n){i instanceof zs?function(o,u,l){const p=o.value.clone(),E=Cl(o.fieldTransforms,u,l.transformResults);p.setAll(E),u.convertToFoundDocument(l.version,p).setHasCommittedMutations()}(i,e,n):i instanceof vo?function(o,u,l){if(!Mu(o.precondition,u))return void u.convertToUnknownDocument(l.version);const p=Cl(o.fieldTransforms,u,l.transformResults),E=u.data;E.setAll(Dl(o)),E.setAll(p),u.convertToFoundDocument(l.version,E).setHasCommittedMutations()}(i,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function pu(i,e,n,o){return i instanceof zs?function(u,l,p,E){if(!Mu(u.precondition,l))return p;const P=u.value.clone(),V=gd(u.fieldTransforms,E,l);return P.setAll(V),l.convertToFoundDocument(l.version,P).setHasLocalMutations(),null}(i,e,n,o):i instanceof vo?function(u,l,p,E){if(!Mu(u.precondition,l))return p;const P=gd(u.fieldTransforms,E,l),V=l.data;return V.setAll(Dl(u)),V.setAll(P),l.convertToFoundDocument(l.version,V).setHasLocalMutations(),null===p?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(z=>z.field))}(i,e,n,o):(p=n,Mu(i.precondition,l=e)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):p);var l,p}function Fc(i,e){let n=null;for(const o of i.fieldTransforms){const u=e.data.field(o.field),l=Th(o.transform,u||null);null!=l&&(null===n&&(n=A.empty()),n.set(o.field,l))}return n||null}function El(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(n=i.fieldTransforms)&&void 0===o||n&&o&&rs(n,o,(u,l)=>function bm(i,e){return i.field.isEqual(e.field)&&(o=e.transform,(n=i.transform)instanceof Su&&o instanceof Su||n instanceof Wa&&o instanceof Wa?rs(n.elements,o.elements,Bt):n instanceof ca&&o instanceof ca?Bt(n.yt,o.yt):n instanceof hu&&o instanceof hu);var n,o}(u,l))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var n,o}class zs extends fu{constructor(e,n,o,u=[]){super(),this.key=e,this.value=n,this.precondition=o,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class vo extends fu{constructor(e,n,o,u,l=[]){super(),this.key=e,this.data=n,this.fieldMask=o,this.precondition=u,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Dl(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const o=i.data.field(n);e.set(n,o)}}),e}function Cl(i,e,n){const o=new Map;on(i.length===n.length);for(let u=0;u<n.length;u++){const l=i[u],p=l.transform,E=e.data.field(l.field);o.set(l.field,fd(p,E,n[u]))}return o}function gd(i,e,n){const o=new Map;for(const u of i){const l=u.transform,p=n.data.field(u.field);o.set(u.field,hd(l,p,e))}return o}class lc extends fu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Mh extends fu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Tm{constructor(e){this.count=e}}var Ti,ir;function bl(i){switch(i){default:return Rt();case Be.CANCELLED:case Be.UNKNOWN:case Be.DEADLINE_EXCEEDED:case Be.RESOURCE_EXHAUSTED:case Be.INTERNAL:case Be.UNAVAILABLE:case Be.UNAUTHENTICATED:return!1;case Be.INVALID_ARGUMENT:case Be.NOT_FOUND:case Be.ALREADY_EXISTS:case Be.PERMISSION_DENIED:case Be.FAILED_PRECONDITION:case Be.ABORTED:case Be.OUT_OF_RANGE:case Be.UNIMPLEMENTED:case Be.DATA_LOSS:return!0}}function Tp(i){if(void 0===i)return xr("GRPC error has no .code"),Be.UNKNOWN;switch(i){case Ti.OK:return Be.OK;case Ti.CANCELLED:return Be.CANCELLED;case Ti.UNKNOWN:return Be.UNKNOWN;case Ti.DEADLINE_EXCEEDED:return Be.DEADLINE_EXCEEDED;case Ti.RESOURCE_EXHAUSTED:return Be.RESOURCE_EXHAUSTED;case Ti.INTERNAL:return Be.INTERNAL;case Ti.UNAVAILABLE:return Be.UNAVAILABLE;case Ti.UNAUTHENTICATED:return Be.UNAUTHENTICATED;case Ti.INVALID_ARGUMENT:return Be.INVALID_ARGUMENT;case Ti.NOT_FOUND:return Be.NOT_FOUND;case Ti.ALREADY_EXISTS:return Be.ALREADY_EXISTS;case Ti.PERMISSION_DENIED:return Be.PERMISSION_DENIED;case Ti.FAILED_PRECONDITION:return Be.FAILED_PRECONDITION;case Ti.ABORTED:return Be.ABORTED;case Ti.OUT_OF_RANGE:return Be.OUT_OF_RANGE;case Ti.UNIMPLEMENTED:return Be.UNIMPLEMENTED;case Ti.DATA_LOSS:return Be.DATA_LOSS;default:return Rt()}}(ir=Ti||(Ti={}))[ir.OK=0]="OK",ir[ir.CANCELLED=1]="CANCELLED",ir[ir.UNKNOWN=2]="UNKNOWN",ir[ir.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ir[ir.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ir[ir.NOT_FOUND=5]="NOT_FOUND",ir[ir.ALREADY_EXISTS=6]="ALREADY_EXISTS",ir[ir.PERMISSION_DENIED=7]="PERMISSION_DENIED",ir[ir.UNAUTHENTICATED=16]="UNAUTHENTICATED",ir[ir.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ir[ir.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ir[ir.ABORTED=10]="ABORTED",ir[ir.OUT_OF_RANGE=11]="OUT_OF_RANGE",ir[ir.UNIMPLEMENTED=12]="UNIMPLEMENTED",ir[ir.INTERNAL=13]="INTERNAL",ir[ir.UNAVAILABLE=14]="UNAVAILABLE",ir[ir.DATA_LOSS=15]="DATA_LOSS";class gu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0!==o)for(const[u,l]of o)if(this.equalsFn(u,e))return l}has(e){return void 0!==this.get(e)}set(e,n){const o=this.mapKeyFn(e),u=this.inner[o];if(void 0===u)return this.inner[o]=[[e,n]],void this.innerSize++;for(let l=0;l<u.length;l++)if(this.equalsFn(u[l][0],e))return void(u[l]=[e,n]);u.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0===o)return!1;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return 1===o.length?delete this.inner[n]:o.splice(u,1),this.innerSize--,!0;return!1}forEach(e){Lo(this.inner,(n,o)=>{for(const[u,l]of o)e(u,l)})}isEmpty(){return vl(this.inner)}size(){return this.innerSize}}const xh=new ln(It.comparator);function _o(){return xh}const Rh=new ln(It.comparator);function dc(...i){let e=Rh;for(const n of i)e=e.insert(n.key,n);return e}function Nh(i){let e=Rh;return i.forEach((n,o)=>e=e.insert(n,o.overlayedDocument)),e}function la(){return Vc()}function Lc(){return Vc()}function Vc(){return new gu(i=>i.toString(),(i,e)=>i.isEqual(e))}const md=new ln(It.comparator),Ap=new yr(It.comparator);function zt(...i){let e=Ap;for(const n of i)e=e.add(n);return e}const Sp=new yr(an);function Tl(){return Sp}class xu{constructor(e,n,o,u,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=o,this.documentUpdates=u,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n){const o=new Map;return o.set(e,hc.createSynthesizedTargetChangeForCurrentChange(e,n)),new xu(Xt.min(),o,Tl(),_o(),zt())}}class hc{constructor(e,n,o,u,l){this.resumeToken=e,this.current=n,this.addedDocuments=o,this.modifiedDocuments=u,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n){return new hc(Pr.EMPTY_BYTE_STRING,n,zt(),zt(),zt())}}class Al{constructor(e,n,o,u){this.Tt=e,this.removedTargetIds=n,this.key=o,this.Et=u}}class Oh{constructor(e,n){this.targetId=e,this.At=n}}class Ph{constructor(e,n,o=Pr.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=n,this.resumeToken=o,this.cause=u}}class kh{constructor(){this.Rt=0,this.bt=Rp(),this.Pt=Pr.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=zt(),n=zt(),o=zt();return this.bt.forEach((u,l)=>{switch(l){case 0:e=e.add(u);break;case 2:n=n.add(u);break;case 1:o=o.add(u);break;default:Rt()}}),new hc(this.Pt,this.vt,e,n,o)}Nt(){this.Vt=!1,this.bt=Rp()}kt(e,n){this.Vt=!0,this.bt=this.bt.insert(e,n)}Mt(e){this.Vt=!0,this.bt=this.bt.remove(e)}Ot(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class Mp{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=_o(),this.qt=xp(),this.Kt=new yr(an)}Gt(e){for(const n of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(n,e.Et):this.jt(n,e.key,e.Et);for(const n of e.removedTargetIds)this.jt(n,e.key,e.Et)}Wt(e){this.forEachTarget(e,n=>{const o=this.zt(n);switch(e.state){case 0:this.Ht(n)&&o.Ct(e.resumeToken);break;case 1:o.Ft(),o.St||o.Nt(),o.Ct(e.resumeToken);break;case 2:o.Ft(),o.St||this.removeTarget(n);break;case 3:this.Ht(n)&&(o.$t(),o.Ct(e.resumeToken));break;case 4:this.Ht(n)&&(this.Jt(n),o.Ct(e.resumeToken));break;default:Rt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Lt.forEach((o,u)=>{this.Ht(u)&&n(u)})}Yt(e){const n=e.targetId,o=e.At.count,u=this.Xt(n);if(u){const l=u.target;if(Zt(l))if(0===o){const p=new It(l.path);this.jt(n,p,L.newNoDocument(p,Xt.min()))}else on(1===o);else this.Zt(n)!==o&&(this.Jt(n),this.Kt=this.Kt.add(n))}}te(e){const n=new Map;this.Lt.forEach((l,p)=>{const E=this.Xt(p);if(E){if(l.current&&Zt(E.target)){const P=new It(E.target.path);null!==this.Ut.get(P)||this.ee(p,P)||this.jt(p,P,L.newNoDocument(P,e))}l.Dt&&(n.set(p,l.xt()),l.Nt())}});let o=zt();this.qt.forEach((l,p)=>{let E=!0;p.forEachWhile(P=>{const V=this.Xt(P);return!V||2===V.purpose||(E=!1,!1)}),E&&(o=o.add(l))}),this.Ut.forEach((l,p)=>p.setReadTime(e));const u=new xu(e,n,this.Kt,this.Ut,o);return this.Ut=_o(),this.qt=xp(),this.Kt=new yr(an),u}Qt(e,n){if(!this.Ht(e))return;const o=this.ee(e,n.key)?2:0;this.zt(e).kt(n.key,o),this.Ut=this.Ut.insert(n.key,n),this.qt=this.qt.insert(n.key,this.ne(n.key).add(e))}jt(e,n,o){if(!this.Ht(e))return;const u=this.zt(e);this.ee(e,n)?u.kt(n,1):u.Mt(n),this.qt=this.qt.insert(n,this.ne(n).delete(e)),o&&(this.Ut=this.Ut.insert(n,o))}removeTarget(e){this.Lt.delete(e)}Zt(e){const n=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ot(e){this.zt(e).Ot()}zt(e){let n=this.Lt.get(e);return n||(n=new kh,this.Lt.set(e,n)),n}ne(e){let n=this.qt.get(e);return n||(n=new yr(an),this.qt=this.qt.insert(e,n)),n}Ht(e){const n=null!==this.Xt(e);return n||ut("WatchChangeAggregator","Detected inactive target",e),n}Xt(e){const n=this.Lt.get(e);return n&&n.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new kh),this.Bt.getRemoteKeysForTarget(e).forEach(n=>{this.jt(e,n,null)})}ee(e,n){return this.Bt.getRemoteKeysForTarget(e).has(n)}}function xp(){return new ln(It.comparator)}function Rp(){return new ln(It.comparator)}const Uc={asc:"ASCENDING",desc:"DESCENDING"},yd={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class vd{constructor(e,n){this.databaseId=e,this.gt=n}}function fc(i,e){return i.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function _d(i,e){return i.gt?e.toBase64():e.toUint8Array()}function Np(i,e){return fc(i,e.toTimestamp())}function ss(i){return on(!!i),Xt.fromTimestamp(function(e){const n=Hi(e);return new Jn(n.seconds,n.nanos)}(i))}function Sl(i,e){return(n=i,new Cn(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function Bc(i){const e=Cn.fromString(i);return on(Wr(e)),e}function Ml(i,e){return Sl(i.databaseId,e.path)}function xa(i,e){const n=Bc(e);if(n.get(1)!==i.databaseId.projectId)throw new it(Be.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new it(Be.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new It(mu(n))}function $c(i,e){return Sl(i.databaseId,e)}function Ru(i){return new Cn(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function mu(i){return on(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function Fh(i,e,n){return{name:Ml(i,e),fields:n.value.mapValue.fields}}function Id(i,e){return{documents:[$c(i,e.path)]}}function w(i,e){const n={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(n.parent=$c(i,o),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=$c(i,o.popLast()),n.structuredQuery.from=[{collectionId:o.lastSegment()}]);const u=function(P){if(0===P.length)return;const V=P.map(z=>function(re){if("=="===re.op){if(rc(re.value))return{unaryFilter:{field:Te(re.field),op:"IS_NAN"}};if(Bo(re.value))return{unaryFilter:{field:Te(re.field),op:"IS_NULL"}}}else if("!="===re.op){if(rc(re.value))return{unaryFilter:{field:Te(re.field),op:"IS_NOT_NAN"}};if(Bo(re.value))return{unaryFilter:{field:Te(re.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Te(re.field),op:W(re.op),value:re.value}}}(z));return 1===V.length?V[0]:{compositeFilter:{op:"AND",filters:V}}}(e.filters);u&&(n.structuredQuery.where=u);const l=function(P){if(0!==P.length)return P.map(V=>{return{field:Te((z=V).field),direction:B(z.dir)};var z})}(e.orderBy);l&&(n.structuredQuery.orderBy=l);const p=(V=e.limit,i.gt||x(V)?V:{value:V});var V,E,P;return null!==p&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt={before:(E=e.startAt).inclusive,values:E.position}),e.endAt&&(n.structuredQuery.endAt={before:!(P=e.endAt).inclusive,values:P.position}),n}function h(i){let e=function wd(i){const e=Bc(i);return 4===e.length?Cn.emptyPath():mu(e)}(i.parent);const n=i.structuredQuery,o=n.from?n.from.length:0;let u=null;if(o>0){on(1===o);const z=n.from[0];z.allDescendants?u=z.collectionId:e=e.child(z.collectionId)}let l=[];n.where&&(l=C(n.where));let p=[];n.orderBy&&(p=n.orderBy.map(z=>{return new ua(Ye((re=z).field),function(xe){switch(xe){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(re.direction));var re}));let E=null;n.limit&&(E=function(z){let re;return re="object"==typeof z?z.value:z,x(re)?null:re}(n.limit));let P=null;var z;n.startAt&&(P=new xs((z=n.startAt).values||[],!!z.before));let V=null;return n.endAt&&(V=function(z){return new xs(z.values||[],!z.before)}(n.endAt)),function sc(i,e,n,o,u,l,p,E){return new Aa(i,e,n,o,u,l,p,E)}(e,u,p,l,E,"F",P,V)}function C(i){return i?void 0!==i.unaryFilter?[Jt(i)]:void 0!==i.fieldFilter?[Nt(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(e=>C(e)).reduce((e,n)=>e.concat(n)):Rt():[]}function B(i){return Uc[i]}function W(i){return yd[i]}function Te(i){return{fieldPath:i.canonicalString()}}function Ye(i){return Dr.fromServerFormat(i.fieldPath)}function Nt(i){return Zn.create(Ye(i.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Rt()}}(i.fieldFilter.op),i.fieldFilter.value)}function Jt(i){switch(i.unaryFilter.op){case"IS_NAN":const e=Ye(i.unaryFilter.field);return Zn.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=Ye(i.unaryFilter.field);return Zn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Ye(i.unaryFilter.field);return Zn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Ye(i.unaryFilter.field);return Zn.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Rt()}}function Hn(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Wr(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}class Td{constructor(e,n,o,u){this.batchId=e,this.localWriteTime=n,this.baseMutations=o,this.mutations=u}applyToRemoteDocument(e,n){const o=n.mutationResults;for(let u=0;u<this.mutations.length;u++){const l=this.mutations[u];l.key.isEqual(e.key)&&bp(l,e,o[u])}}applyToLocalView(e,n){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(n=pu(o,e,n,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(n=pu(o,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const o=Lc();return this.mutations.forEach(u=>{const l=e.get(u.key),p=l.overlayedDocument;let E=this.applyToLocalView(p,l.mutatedFields);E=n.has(u.key)?null:E;const P=Il(p,E);null!==P&&o.set(u.key,P),p.isValidDocument()||p.convertToNoDocument(Xt.min())}),o}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),zt())}isEqual(e){return this.batchId===e.batchId&&rs(this.mutations,e.mutations,(n,o)=>El(n,o))&&rs(this.baseMutations,e.baseMutations,(n,o)=>El(n,o))}}class Nl{constructor(e,n,o,u){this.batch=e,this.commitVersion=n,this.mutationResults=o,this.docVersions=u}static from(e,n,o){on(e.mutations.length===o.length);let u=md;const l=e.mutations;for(let p=0;p<l.length;p++)u=u.insert(l[p].key,o[p].version);return new Nl(e,n,o,u)}}class Ad{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class vu{constructor(e,n,o,u,l=Xt.min(),p=Xt.min(),E=Pr.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=o,this.sequenceNumber=u,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=p,this.resumeToken=E}withSequenceNumber(e){return new vu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new vu(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new vu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class $h{constructor(e){this.re=e}}function Gh(i){const e=h({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?Pc(e,e.limit,"L"):e}class vc{constructor(){}ce(e,n){this.ae(e,n),n.he()}ae(e,n){if("nullValue"in e)this.le(n,5);else if("booleanValue"in e)this.le(n,10),n.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(n,15),n.fe(kr(e.integerValue));else if("doubleValue"in e){const o=kr(e.doubleValue);isNaN(o)?this.le(n,13):(this.le(n,15),U(o)?n.fe(0):n.fe(o))}else if("timestampValue"in e){const o=e.timestampValue;this.le(n,20),"string"==typeof o?n.de(o):(n.de(`${o.seconds||""}`),n.fe(o.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,n),this.we(n);else if("bytesValue"in e)this.le(n,30),n.me(Vo(e.bytesValue)),this.we(n);else if("referenceValue"in e)this.ge(e.referenceValue,n);else if("geoPointValue"in e){const o=e.geoPointValue;this.le(n,45),n.fe(o.latitude||0),n.fe(o.longitude||0)}else"mapValue"in e?ou(e)?this.le(n,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,n),this.we(n)):"arrayValue"in e?(this.pe(e.arrayValue,n),this.we(n)):Rt()}_e(e,n){this.le(n,25),this.Ie(e,n)}Ie(e,n){n.de(e)}ye(e,n){const o=e.fields||{};this.le(n,55);for(const u of Object.keys(o))this._e(u,n),this.ae(o[u],n)}pe(e,n){const o=e.values||[];this.le(n,50);for(const u of o)this.ae(u,n)}ge(e,n){this.le(n,37),It.fromName(e).path.forEach(o=>{this.le(n,60),this.Ie(o,n)})}le(e,n){e.fe(n)}we(e){e.fe(2)}}vc.Te=new vc;class Hp{constructor(){this.Ye=new Zh}addToCollectionParentIndex(e,n){return this.Ye.add(n),Ne.resolve()}getCollectionParents(e,n){return Ne.resolve(this.Ye.getEntries(n))}addFieldIndex(e,n){return Ne.resolve()}deleteFieldIndex(e,n){return Ne.resolve()}getDocumentsMatchingTarget(e,n){return Ne.resolve(null)}getIndexType(e,n){return Ne.resolve(0)}getFieldIndexes(e,n){return Ne.resolve([])}getNextCollectionGroupToUpdate(e){return Ne.resolve(null)}getMinOffset(e,n){return Ne.resolve(Oi.min())}getMinOffsetFromCollectionGroup(e,n){return Ne.resolve(Oi.min())}updateCollectionGroup(e,n,o){return Ne.resolve()}updateIndexEntries(e,n){return Ne.resolve()}}class Zh{constructor(){this.index={}}add(e){const n=e.lastSegment(),o=e.popLast(),u=this.index[n]||new yr(Cn.comparator),l=!u.has(o);return this.index[n]=u.add(o),l}has(e){const n=e.lastSegment(),o=e.popLast(),u=this.index[n];return u&&u.has(o)}getEntries(e){return(this.index[e]||new yr(Cn.comparator)).toArray()}}new Uint8Array(0);class vs{constructor(e,n,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new vs(e,vs.DEFAULT_COLLECTION_PERCENTILE,vs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}vs.DEFAULT_COLLECTION_PERCENTILE=10,vs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vs.DEFAULT=new vs(41943040,vs.DEFAULT_COLLECTION_PERCENTILE,vs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vs.DISABLED=new vs(-1,0,0);class io{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new io(0)}static vn(){return new io(-1)}}class Vm{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class Qp{constructor(e,n,o,u){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=o,this.indexManager=u}getDocument(e,n){let o=null;return this.documentOverlayCache.getOverlay(e,n).next(u=>(o=u,this.getBaseDocument(e,n,o))).next(u=>(null!==o&&pu(o.mutation,u,Or.empty(),Jn.now()),u))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.getLocalViewOfDocuments(e,o,zt()).next(()=>o))}getLocalViewOfDocuments(e,n,o=zt()){const u=la();return this.populateOverlays(e,u,n).next(()=>this.computeViews(e,n,u,o).next(l=>{let p=dc();return l.forEach((E,P)=>{p=p.insert(E,P.overlayedDocument)}),p}))}getOverlayedDocuments(e,n){const o=la();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,zt()))}populateOverlays(e,n,o){const u=[];return o.forEach(l=>{n.has(l)||u.push(l)}),this.documentOverlayCache.getOverlays(e,u).next(l=>{l.forEach((p,E)=>{n.set(p,E)})})}computeViews(e,n,o,u){let l=_o();const p=Vc(),E=Vc();return n.forEach((P,V)=>{const z=o.get(V.key);u.has(V.key)&&(void 0===z||z.mutation instanceof vo)?l=l.insert(V.key,V):void 0!==z&&(p.set(V.key,z.mutation.getFieldMask()),pu(z.mutation,V,z.mutation.getFieldMask(),Jn.now()))}),this.recalculateAndSaveOverlays(e,l).next(P=>(P.forEach((V,z)=>p.set(V,z)),n.forEach((V,z)=>{var re;return E.set(V,new Vm(z,null!==(re=p.get(V))&&void 0!==re?re:null))}),E))}recalculateAndSaveOverlays(e,n){const o=Vc();let u=new ln((p,E)=>p-E),l=zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(p=>{for(const E of p)E.keys().forEach(P=>{const V=n.get(P);if(null===V)return;let z=o.get(P)||Or.empty();z=E.applyToLocalView(V,z),o.set(P,z);const re=(u.get(E.batchId)||zt()).add(P);u=u.insert(E.batchId,re)})}).next(()=>{const p=[],E=u.getReverseIterator();for(;E.hasNext();){const P=E.getNext(),V=P.key,z=P.value,re=Lc();z.forEach(xe=>{if(!l.has(xe)){const Ke=Il(n.get(xe),o.get(xe));null!==Ke&&re.set(xe,Ke),l=l.add(xe)}}),p.push(this.documentOverlayCache.saveOverlays(e,V,re))}return Ne.waitFor(p)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,n,o){return It.isDocumentKey((u=n).path)&&null===u.collectionGroup&&0===u.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):function Oc(i){return null!==i.collectionGroup}(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,o):this.getDocumentsMatchingCollectionQuery(e,n,o);var u}getNextDocuments(e,n,o,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,o,u).next(l=>{const p=u-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,o.largestBatchId,u-l.size):Ne.resolve(la());let E=-1,P=l;return p.next(V=>Ne.forEach(V,(z,re)=>(E<re.largestBatchId&&(E=re.largestBatchId),l.get(z)?Ne.resolve():this.getBaseDocument(e,z,re).next(xe=>{P=P.insert(z,xe)}))).next(()=>this.populateOverlays(e,V,l)).next(()=>this.computeViews(e,P,V,zt())).next(z=>({batchId:E,changes:Nh(z)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new It(n)).next(o=>{let u=dc();return o.isFoundDocument()&&(u=u.insert(o.key,o)),u})}getDocumentsMatchingCollectionGroupQuery(e,n,o){const u=n.collectionGroup;let l=dc();return this.indexManager.getCollectionParents(e,u).next(p=>Ne.forEach(p,E=>{const P=(V=n,z=E.child(u),new Aa(z,null,V.explicitOrderBy.slice(),V.filters.slice(),V.limit,V.limitType,V.startAt,V.endAt));var V,z;return this.getDocumentsMatchingCollectionQuery(e,P,o).next(V=>{V.forEach((z,re)=>{l=l.insert(z,re)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,o){let u;return this.remoteDocumentCache.getAllFromCollection(e,n.path,o).next(l=>(u=l,this.documentOverlayCache.getOverlaysForCollection(e,n.path,o.largestBatchId))).next(l=>{l.forEach((E,P)=>{const V=P.getKey();null===u.get(V)&&(u=u.insert(V,L.newInvalidDocument(V)))});let p=dc();return u.forEach((E,P)=>{const V=l.get(E);void 0!==V&&pu(V.mutation,P,Or.empty(),Jn.now()),Sa(n,P)&&(p=p.insert(E,P))}),p})}getBaseDocument(e,n,o){return null===o||1===o.mutation.type?this.remoteDocumentCache.getEntry(e,n):Ne.resolve(L.newInvalidDocument(n))}}class Um{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,n){return Ne.resolve(this.Zn.get(n))}saveBundleMetadata(e,n){var o;return this.Zn.set(n.id,{id:(o=n).id,version:o.version,createTime:ss(o.createTime)}),Ne.resolve()}getNamedQuery(e,n){return Ne.resolve(this.ts.get(n))}saveNamedQuery(e,n){return this.ts.set(n.name,{name:(o=n).name,query:Gh(o.bundledQuery),readTime:ss(o.readTime)}),Ne.resolve();var o}}class Bm{constructor(){this.overlays=new ln(It.comparator),this.es=new Map}getOverlay(e,n){return Ne.resolve(this.overlays.get(n))}getOverlays(e,n){const o=la();return Ne.forEach(n,u=>this.getOverlay(e,u).next(l=>{null!==l&&o.set(u,l)})).next(()=>o)}saveOverlays(e,n,o){return o.forEach((u,l)=>{this.ue(e,n,l)}),Ne.resolve()}removeOverlaysForBatchId(e,n,o){const u=this.es.get(o);return void 0!==u&&(u.forEach(l=>this.overlays=this.overlays.remove(l)),this.es.delete(o)),Ne.resolve()}getOverlaysForCollection(e,n,o){const u=la(),l=n.length+1,p=new It(n.child("")),E=this.overlays.getIteratorFrom(p);for(;E.hasNext();){const P=E.getNext().value,V=P.getKey();if(!n.isPrefixOf(V.path))break;V.path.length===l&&P.largestBatchId>o&&u.set(P.getKey(),P)}return Ne.resolve(u)}getOverlaysForCollectionGroup(e,n,o,u){let l=new ln((V,z)=>V-z);const p=this.overlays.getIterator();for(;p.hasNext();){const V=p.getNext().value;if(V.getKey().getCollectionGroup()===n&&V.largestBatchId>o){let z=l.get(V.largestBatchId);null===z&&(z=la(),l=l.insert(V.largestBatchId,z)),z.set(V.getKey(),V)}}const E=la(),P=l.getIterator();for(;P.hasNext()&&(P.getNext().value.forEach((V,z)=>E.set(V,z)),!(E.size()>=u)););return Ne.resolve(E)}ue(e,n,o){const u=this.overlays.get(o.key);if(null!==u){const p=this.es.get(u.largestBatchId).delete(o.key);this.es.set(u.largestBatchId,p)}this.overlays=this.overlays.insert(o.key,new Ad(n,o));let l=this.es.get(n);void 0===l&&(l=zt(),this.es.set(n,l)),this.es.set(n,l.add(o.key))}}class Nd{constructor(){this.ns=new yr(as.ss),this.rs=new yr(as.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,n){const o=new as(e,n);this.ns=this.ns.add(o),this.rs=this.rs.add(o)}us(e,n){e.forEach(o=>this.addReference(o,n))}removeReference(e,n){this.cs(new as(e,n))}hs(e,n){e.forEach(o=>this.removeReference(o,n))}ls(e){const n=new It(new Cn([])),o=new as(n,e),u=new as(n,e+1),l=[];return this.rs.forEachInRange([o,u],p=>{this.cs(p),l.push(p.key)}),l}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const n=new It(new Cn([])),o=new as(n,e),u=new as(n,e+1);let l=zt();return this.rs.forEachInRange([o,u],p=>{l=l.add(p.key)}),l}containsKey(e){const n=new as(e,0),o=this.ns.firstAfterOrEqual(n);return null!==o&&e.isEqual(o.key)}}class as{constructor(e,n){this.key=e,this._s=n}static ss(e,n){return It.comparator(e.key,n.key)||an(e._s,n._s)}static os(e,n){return an(e._s,n._s)||It.comparator(e.key,n.key)}}class Jp{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new yr(as.ss)}checkEmpty(e){return Ne.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,o,u){const l=this.ws;this.ws++;const p=new Td(l,n,o,u);this.mutationQueue.push(p);for(const E of u)this.gs=this.gs.add(new as(E.key,l)),this.indexManager.addToCollectionParentIndex(e,E.key.path.popLast());return Ne.resolve(p)}lookupMutationBatch(e,n){return Ne.resolve(this.ys(n))}getNextMutationBatchAfterBatchId(e,n){const u=this.ps(n+1),l=u<0?0:u;return Ne.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return Ne.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return Ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const o=new as(n,0),u=new as(n,Number.POSITIVE_INFINITY),l=[];return this.gs.forEachInRange([o,u],p=>{const E=this.ys(p._s);l.push(E)}),Ne.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let o=new yr(an);return n.forEach(u=>{const l=new as(u,0),p=new as(u,Number.POSITIVE_INFINITY);this.gs.forEachInRange([l,p],E=>{o=o.add(E._s)})}),Ne.resolve(this.Is(o))}getAllMutationBatchesAffectingQuery(e,n){const o=n.path,u=o.length+1;let l=o;It.isDocumentKey(l)||(l=l.child(""));const p=new as(new It(l),0);let E=new yr(an);return this.gs.forEachWhile(P=>{const V=P.key.path;return!!o.isPrefixOf(V)&&(V.length===u&&(E=E.add(P._s)),!0)},p),Ne.resolve(this.Is(E))}Is(e){const n=[];return e.forEach(o=>{const u=this.ys(o);null!==u&&n.push(u)}),n}removeMutationBatch(e,n){on(0===this.Ts(n.batchId,"removed")),this.mutationQueue.shift();let o=this.gs;return Ne.forEach(n.mutations,u=>{const l=new as(u.key,n.batchId);return o=o.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.gs=o})}An(e){}containsKey(e,n){const o=new as(n,0),u=this.gs.firstAfterOrEqual(o);return Ne.resolve(n.isEqual(u&&u.key))}performConsistencyCheck(e){return Ne.resolve()}Ts(e,n){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const n=this.ps(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class tf{constructor(e){this.Es=e,this.docs=new ln(It.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const o=n.key,u=this.docs.get(o),l=u?u.size:0,p=this.Es(n);return this.docs=this.docs.insert(o,{document:n.mutableCopy(),size:p}),this.size+=p-l,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const o=this.docs.get(n);return Ne.resolve(o?o.document.mutableCopy():L.newInvalidDocument(n))}getEntries(e,n){let o=_o();return n.forEach(u=>{const l=this.docs.get(u);o=o.insert(u,l?l.document.mutableCopy():L.newInvalidDocument(u))}),Ne.resolve(o)}getAllFromCollection(e,n,o){let u=_o();const l=new It(n.child("")),p=this.docs.getIteratorFrom(l);for(;p.hasNext();){const{key:E,value:{document:P}}=p.getNext();if(!n.isPrefixOf(E.path))break;E.path.length>n.length+1||gs(wa(P),o)<=0||(u=u.insert(P.key,P.mutableCopy()))}return Ne.resolve(u)}getAllFromCollectionGroup(e,n,o,u){Rt()}As(e,n){return Ne.forEach(this.docs,o=>n(o))}newChangeBuffer(e){return new $m(this)}getSize(e){return Ne.resolve(this.size)}}class $m extends class Kp{constructor(){this.changes=new gu(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,L.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const o=this.changes.get(n);return void 0!==o?Ne.resolve(o):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.Yn=e}applyChanges(e){const n=[];return this.changes.forEach((o,u)=>{u.isValidDocument()?n.push(this.Yn.addEntry(e,u)):this.Yn.removeEntry(o)}),Ne.waitFor(n)}getFromCache(e,n){return this.Yn.getEntry(e,n)}getAllFromCache(e,n){return this.Yn.getEntries(e,n)}}class jm{constructor(e){this.persistence=e,this.Rs=new gu(n=>Pe(n),mt),this.lastRemoteSnapshotVersion=Xt.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Nd,this.targetCount=0,this.vs=io.Pn()}forEachTarget(e,n){return this.Rs.forEach((o,u)=>n(u)),Ne.resolve()}getLastRemoteSnapshotVersion(e){return Ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ne.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),Ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,o){return o&&(this.lastRemoteSnapshotVersion=o),n>this.bs&&(this.bs=n),Ne.resolve()}Dn(e){this.Rs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.vs=new io(n),this.highestTargetId=n),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,n){return this.Dn(n),this.targetCount+=1,Ne.resolve()}updateTargetData(e,n){return this.Dn(n),Ne.resolve()}removeTargetData(e,n){return this.Rs.delete(n.target),this.Ps.ls(n.targetId),this.targetCount-=1,Ne.resolve()}removeTargets(e,n,o){let u=0;const l=[];return this.Rs.forEach((p,E)=>{E.sequenceNumber<=n&&null===o.get(E.targetId)&&(this.Rs.delete(p),l.push(this.removeMatchingKeysForTargetId(e,E.targetId)),u++)}),Ne.waitFor(l).next(()=>u)}getTargetCount(e){return Ne.resolve(this.targetCount)}getTargetData(e,n){const o=this.Rs.get(n)||null;return Ne.resolve(o)}addMatchingKeys(e,n,o){return this.Ps.us(n,o),Ne.resolve()}removeMatchingKeys(e,n,o){this.Ps.hs(n,o);const u=this.persistence.referenceDelegate,l=[];return u&&n.forEach(p=>{l.push(u.markPotentiallyOrphaned(e,p))}),Ne.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.Ps.ls(n),Ne.resolve()}getMatchingKeysForTargetId(e,n){const o=this.Ps.ds(n);return Ne.resolve(o)}containsKey(e,n){return Ne.resolve(this.Ps.containsKey(n))}}class nf{constructor(e,n){this.Vs={},this.overlays={},this.Ss=new ys(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new jm(this),this.indexManager=new Hp,this.remoteDocumentCache=new tf(o=>this.referenceDelegate.xs(o)),this.It=new $h(n),this.Ns=new Um(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Bm,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let o=this.Vs[e.toKey()];return o||(o=new Jp(n,this.referenceDelegate),this.Vs[e.toKey()]=o),o}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,n,o){ut("MemoryPersistence","Starting transaction:",e);const u=new Xp(this.Ss.next());return this.referenceDelegate.ks(),o(u).next(l=>this.referenceDelegate.Ms(u).next(()=>l)).toPromise().then(l=>(u.raiseOnCommittedEvent(),l))}Os(e,n){return Ne.or(Object.values(this.Vs).map(o=>()=>o.containsKey(e,n)))}}class Xp extends class Ia{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class Ya{constructor(e){this.persistence=e,this.Fs=new Nd,this.$s=null}static Bs(e){return new Ya(e)}get Ls(){if(this.$s)return this.$s;throw Rt()}addReference(e,n,o){return this.Fs.addReference(o,n),this.Ls.delete(o.toString()),Ne.resolve()}removeReference(e,n,o){return this.Fs.removeReference(o,n),this.Ls.add(o.toString()),Ne.resolve()}markPotentiallyOrphaned(e,n){return this.Ls.add(n.toString()),Ne.resolve()}removeTarget(e,n){this.Fs.ls(n.targetId).forEach(u=>this.Ls.add(u.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,n.targetId).next(u=>{u.forEach(l=>this.Ls.add(l.toString()))}).next(()=>o.removeTargetData(e,n))}ks(){this.$s=new Set}Ms(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ne.forEach(this.Ls,o=>{const u=It.fromPath(o);return this.Us(e,u).next(l=>{l||n.removeEntry(u,Xt.min())})}).next(()=>(this.$s=null,n.apply(e)))}updateLimboDocument(e,n){return this.Us(e,n).next(o=>{o?this.Ls.delete(n.toString()):this.Ls.add(n.toString())})}xs(e){return 0}Us(e,n){return Ne.or([()=>Ne.resolve(this.Fs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Os(e,n)])}}class kd{constructor(e,n,o,u){this.targetId=e,this.fromCache=n,this.Si=o,this.Di=u}static Ci(e,n){let o=zt(),u=zt();for(const l of n.docChanges)switch(l.type){case 0:o=o.add(l.doc.key);break;case 1:u=u.add(l.doc.key)}return new kd(e,n.fromCache,o,u)}}class af{constructor(){this.xi=!1}initialize(e,n){this.Ni=e,this.indexManager=n,this.xi=!0}getDocumentsMatchingQuery(e,n,o,u){return this.ki(e,n).next(l=>l||this.Mi(e,n,u,o)).next(l=>l||this.Oi(e,n))}ki(e,n){if(ud(n))return Ne.resolve(null);let o=Rs(n);return this.indexManager.getIndexType(e,o).next(u=>0===u?null:(null!==n.limit&&1===u&&(n=Pc(n,null,"F"),o=Rs(n)),this.indexManager.getDocumentsMatchingTarget(e,o).next(l=>{const p=zt(...l);return this.Ni.getDocuments(e,p).next(E=>this.indexManager.getMinOffset(e,o).next(P=>{const V=this.Fi(n,E);return this.$i(n,V,p,P.readTime)?this.ki(e,Pc(n,null,"F")):this.Bi(e,V,n,P)}))})))}Mi(e,n,o,u){return ud(n)||u.isEqual(Xt.min())?this.Oi(e,n):this.Ni.getDocuments(e,o).next(l=>{const p=this.Fi(n,l);return this.$i(n,p,o,u)?this.Oi(e,n):(ho()<=ce.in.DEBUG&&ut("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),ac(n)),this.Bi(e,p,n,function Fo(i,e){const n=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,u=Xt.fromTimestamp(1e9===o?new Jn(n+1,0):new Jn(n,o));return new Oi(u,It.empty(),e)}(u,-1)))})}Fi(e,n){let o=new yr(dd(e));return n.forEach((u,l)=>{Sa(e,l)&&(o=o.add(l))}),o}$i(e,n,o,u){if(null===e.limit)return!1;if(o.size!==n.size)return!0;const l="F"===e.limitType?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(u)>0)}Oi(e,n){return ho()<=ce.in.DEBUG&&ut("QueryEngine","Using full collection scan to execute query:",ac(n)),this.Ni.getDocumentsMatchingQuery(e,n,Oi.min())}Bi(e,n,o,u){return this.Ni.getDocumentsMatchingQuery(e,o,u).next(l=>(n.forEach(p=>{l=l.insert(p.key,p)}),l))}}class uf{constructor(e,n,o,u){this.persistence=e,this.Li=n,this.It=u,this.Ui=new ln(an),this.qi=new gu(l=>Pe(l),mt),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(o)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Qp(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ui))}}function Vl(i,e){return Kc.apply(this,arguments)}function Kc(){return Kc=(0,_.Z)(function*(i,e){const n=_t(i);return yield n.persistence.runTransaction("Handle user change","readonly",o=>{let u;return n.mutationQueue.getAllMutationBatches(o).next(l=>(u=l,n.Qi(e),n.mutationQueue.getAllMutationBatches(o))).next(l=>{const p=[],E=[];let P=zt();for(const V of u){p.push(V.batchId);for(const z of V.mutations)P=P.add(z.key)}for(const V of l){E.push(V.batchId);for(const z of V.mutations)P=P.add(z.key)}return n.localDocuments.getDocuments(o,P).next(V=>({ji:V,removedBatchIds:p,addedBatchIds:E}))})})}),Kc.apply(this,arguments)}function ng(i,e){const n=_t(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const u=e.batch.keys(),l=n.Gi.newChangeBuffer({trackRemovals:!0});return function(p,E,P,V){const z=P.batch,re=z.keys();let xe=Ne.resolve();return re.forEach(Ke=>{xe=xe.next(()=>V.getEntry(E,Ke)).next(Je=>{const Mt=P.docVersions.get(Ke);on(null!==Mt),Je.version.compareTo(Mt)<0&&(z.applyToRemoteDocument(Je,P),Je.isValidDocument()&&(Je.setReadTime(P.commitVersion),V.addEntry(Je)))})}),xe.next(()=>p.mutationQueue.removeMutationBatch(E,z))}(n,o,e,l).next(()=>l.apply(o)).next(()=>n.mutationQueue.performConsistencyCheck(o)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(o,u,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(p){let E=zt();for(let P=0;P<p.mutationResults.length;++P)p.mutationResults[P].transformResults.length>0&&(E=E.add(p.batch.mutations[P].key));return E}(e))).next(()=>n.localDocuments.getDocuments(o,u))})}function Fd(i){const e=_t(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Cs.getLastRemoteSnapshotVersion(n))}function rg(i,e){const n=_t(i),o=e.snapshotVersion;let u=n.Ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const p=n.Gi.newChangeBuffer({trackRemovals:!0});u=n.Ui;const E=[];e.targetChanges.forEach((z,re)=>{const xe=u.get(re);if(!xe)return;E.push(n.Cs.removeMatchingKeys(l,z.removedDocuments,re).next(()=>n.Cs.addMatchingKeys(l,z.addedDocuments,re)));let Ke=xe.withSequenceNumber(l.currentSequenceNumber);var Je,Mt,Wt;e.targetMismatches.has(re)?Ke=Ke.withResumeToken(Pr.EMPTY_BYTE_STRING,Xt.min()).withLastLimboFreeSnapshotVersion(Xt.min()):z.resumeToken.approximateByteSize()>0&&(Ke=Ke.withResumeToken(z.resumeToken,o)),u=u.insert(re,Ke),Mt=Ke,Wt=z,(0===(Je=xe).resumeToken.approximateByteSize()||Mt.snapshotVersion.toMicroseconds()-Je.snapshotVersion.toMicroseconds()>=3e8||Wt.addedDocuments.size+Wt.modifiedDocuments.size+Wt.removedDocuments.size>0)&&E.push(n.Cs.updateTargetData(l,Ke))});let P=_o(),V=zt();if(e.documentUpdates.forEach(z=>{e.resolvedLimboDocuments.has(z)&&E.push(n.persistence.referenceDelegate.updateLimboDocument(l,z))}),E.push(function Ld(i,e,n){let o=zt(),u=zt();return n.forEach(l=>o=o.add(l)),e.getEntries(i,o).next(l=>{let p=_o();return n.forEach((E,P)=>{const V=l.get(E);P.isFoundDocument()!==V.isFoundDocument()&&(u=u.add(E)),P.isNoDocument()&&P.version.isEqual(Xt.min())?(e.removeEntry(E,P.readTime),p=p.insert(E,P)):!V.isValidDocument()||P.version.compareTo(V.version)>0||0===P.version.compareTo(V.version)&&V.hasPendingWrites?(e.addEntry(P),p=p.insert(E,P)):ut("LocalStore","Ignoring outdated watch update for ",E,". Current version:",V.version," Watch version:",P.version)}),{Wi:p,zi:u}})}(l,p,e.documentUpdates).next(z=>{P=z.Wi,V=z.zi})),!o.isEqual(Xt.min())){const z=n.Cs.getLastRemoteSnapshotVersion(l).next(re=>n.Cs.setTargetsMetadata(l,l.currentSequenceNumber,o));E.push(z)}return Ne.waitFor(E).next(()=>p.apply(l)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,P,V)).next(()=>P)}).then(l=>(n.Ui=u,l))}function Ul(i,e){const n=_t(i);return n.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function Zc(i,e){const n=_t(i);return n.persistence.runTransaction("Allocate target","readwrite",o=>{let u;return n.Cs.getTargetData(o,e).next(l=>l?(u=l,Ne.resolve(u)):n.Cs.allocateTargetId(o).next(p=>(u=new vu(e,p,0,o.currentSequenceNumber),n.Cs.addTargetData(o,u).next(()=>u))))}).then(o=>{const u=n.Ui.get(o.targetId);return(null===u||o.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(n.Ui=n.Ui.insert(o.targetId,o),n.qi.set(e,o.targetId)),o})}function Cc(i,e,n){return lf.apply(this,arguments)}function lf(){return lf=(0,_.Z)(function*(i,e,n){const o=_t(i),u=o.Ui.get(e),l=n?"readwrite":"readwrite-primary";try{n||(yield o.persistence.runTransaction("Release target",l,p=>o.persistence.referenceDelegate.removeTarget(p,u)))}catch(p){if(!Kn(p))throw p;ut("LocalStore",`Failed to update sequence numbers for target ${e}: ${p}`)}o.Ui=o.Ui.remove(e),o.qi.delete(u.target)}),lf.apply(this,arguments)}function Vd(i,e,n){const o=_t(i);let u=Xt.min(),l=zt();return o.persistence.runTransaction("Execute query","readonly",p=>function(E,P,V){const z=_t(E),re=z.qi.get(V);return void 0!==re?Ne.resolve(z.Ui.get(re)):z.Cs.getTargetData(P,V)}(o,p,Rs(e)).next(E=>{if(E)return u=E.lastLimboFreeSnapshotVersion,o.Cs.getMatchingKeysForTargetId(p,E.targetId).next(P=>{l=P})}).next(()=>o.Li.getDocumentsMatchingQuery(p,e,n?u:Xt.min(),n?l:zt())).next(E=>(function hf(i,e,n){let o=Xt.min();n.forEach((u,l)=>{l.readTime.compareTo(o)>0&&(o=l.readTime)}),i.Ki.set(e,o)}(o,function ld(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}(e),E),{documents:E,Hi:l})))}class pf{constructor(){this.activeTargetIds=Tl()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class mf{constructor(){this.Lr=new pf,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,o){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,n,o){this.Ur[e]=n}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new pf,Promise.resolve()}handleUserChange(e,n,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Gm{qr(e){}shutdown(){}}class og{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){ut("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){ut("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const zm={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Pn{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class ag extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,n,o,u,l){const p=this.ao(e,n);ut("RestConnection","Sending: ",p,o);const E={};return this.ho(E,u,l),this.lo(e,p,E,o).then(P=>(ut("RestConnection","Received: ",P),P),P=>{throw hi("RestConnection",`${e} failed with error: `,P,"url: ",p,"request:",o),P})}fo(e,n,o,u,l,p){return this.co(e,n,o,u,l)}ho(e,n,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+ra,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((u,l)=>e[l]=u),o&&o.headers.forEach((u,l)=>e[l]=u)}ao(e,n){return`${this.oo}/v1/${n}:${zm[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,n,o,u){return new Promise((l,p)=>{const E=new tu;E.listenOnce(ta.COMPLETE,()=>{try{switch(E.getLastErrorCode()){case ea.NO_ERROR:const V=E.getResponseJson();ut("Connection","XHR received:",JSON.stringify(V)),l(V);break;case ea.TIMEOUT:ut("Connection",'RPC "'+e+'" timed out'),p(new it(Be.DEADLINE_EXCEEDED,"Request time out"));break;case ea.HTTP_ERROR:const z=E.getStatus();if(ut("Connection",'RPC "'+e+'" failed with status:',z,"response text:",E.getResponseText()),z>0){const re=E.getResponseJson().error;if(re&&re.status&&re.message){const xe=function(Ke){const Je=Ke.toLowerCase().replace(/_/g,"-");return Object.values(Be).indexOf(Je)>=0?Je:Be.UNKNOWN}(re.status);p(new it(xe,re.message))}else p(new it(Be.UNKNOWN,"Server responded with status "+E.getStatus()))}else p(new it(Be.UNAVAILABLE,"Connection failed."));break;default:Rt()}}finally{ut("Connection",'RPC "'+e+'" completed.')}});const P=JSON.stringify(u);E.send(n,"POST",P,o,15)})}_o(e,n,o){const u=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=ps(),p=Xo(),E={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(E.xmlHttpFactory=new na({})),this.ho(E.initMessageHeaders,n,o),(0,Ee.uI)()||(0,Ee.b$)()||(0,Ee.d)()||(0,Ee.w1)()||(0,Ee.Mn)()||(0,Ee.ru)()||(E.httpHeadersOverwriteParam="$httpHeaders");const P=u.join("");ut("Connection","Creating WebChannel: "+P,E);const V=l.createWebChannel(P,E);let z=!1,re=!1;const xe=new Pn({Hr:Je=>{re?ut("Connection","Not sending because WebChannel is closed:",Je):(z||(ut("Connection","Opening WebChannel transport."),V.open(),z=!0),ut("Connection","WebChannel sending:",Je),V.send(Je))},Jr:()=>V.close()}),Ke=(Je,Mt,Wt)=>{Je.listen(Mt,pr=>{try{Wt(pr)}catch(Lr){setTimeout(()=>{throw Lr},0)}})};return Ke(V,ns.EventType.OPEN,()=>{re||ut("Connection","WebChannel transport opened.")}),Ke(V,ns.EventType.CLOSE,()=>{re||(re=!0,ut("Connection","WebChannel transport closed"),xe.io())}),Ke(V,ns.EventType.ERROR,Je=>{re||(re=!0,hi("Connection","WebChannel transport errored:",Je),xe.io(new it(Be.UNAVAILABLE,"The operation could not be completed")))}),Ke(V,ns.EventType.MESSAGE,Je=>{var Mt;if(!re){const Wt=Je.data[0];on(!!Wt);const pr=Wt,Lr=pr.error||(null===(Mt=pr[0])||void 0===Mt?void 0:Mt.error);if(Lr){ut("Connection","WebChannel received error:",Lr);const si=Lr.status;let us=function(Vr){const cs=Ti[Vr];if(void 0!==cs)return Tp(cs)}(si),Yr=Lr.message;void 0===us&&(us=Be.INTERNAL,Yr="Unknown error status: "+si+" with message "+Lr.message),re=!0,xe.io(new it(us,Yr)),V.close()}else ut("Connection","WebChannel received:",Wt),xe.ro(Wt)}}),Ke(p,va.STAT_EVENT,Je=>{Je.stat===ri.PROXY?ut("Connection","Detected buffering proxy"):Je.stat===ri.NOPROXY&&ut("Connection","Detected no buffering proxy")}),setTimeout(()=>{xe.so()},0),xe}}function Bl(){return typeof document<"u"?document:null}function $l(i){return new vd(i,!0)}class vf{constructor(e,n,o=1e3,u=1.5,l=6e4){this.Hs=e,this.timerId=n,this.wo=o,this.mo=u,this.yo=l,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const n=Math.floor(this.po+this.Ro()),o=Math.max(0,Date.now()-this.To),u=Math.max(0,n-o);u>0&&ut("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.po} ms, delay with jitter: ${n} ms, last attempt: ${o} ms ago)`),this.Io=this.Hs.enqueueAfterDelay(this.timerId,u,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this.wo&&(this.po=this.wo),this.po>this.yo&&(this.po=this.yo)}bo(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}cancel(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}class _f{constructor(e,n,o,u,l,p,E,P){this.Hs=e,this.Po=o,this.vo=u,this.Vo=l,this.authCredentialsProvider=p,this.appCheckCredentialsProvider=E,this.listener=P,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new vf(e,n)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var e=this;return(0,_.Z)(function*(){e.No()&&(yield e.close(0))})()}Oo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.Po,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,_.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,n){var o=this;return(0,_.Z)(function*(){o.Lo(),o.Uo(),o.xo.cancel(),o.So++,4!==e?o.xo.reset():n&&n.code===Be.RESOURCE_EXHAUSTED?(xr(n.toString()),xr("Using maximum backoff delay to prevent overloading the backend."),o.xo.Eo()):n&&n.code===Be.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.qo(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.Zr(n)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,u])=>{this.So===n&&this.Go(o,u)},o=>{e(()=>{const u=new it(Be.UNKNOWN,"Fetching auth token failed: "+o.message);return this.Qo(u)})})}Go(e,n){const o=this.Ko(this.So);this.stream=this.jo(e,n),this.stream.Yr(()=>{o(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(u=>{o(()=>this.Qo(u))}),this.stream.onMessage(u=>{o(()=>this.onMessage(u))})}Mo(){var e=this;this.state=5,this.xo.Ao((0,_.Z)(function*(){e.state=0,e.start()}))}Qo(e){return ut("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return n=>{this.Hs.enqueueAndForget(()=>this.So===e?n():(ut("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Wm extends _f{constructor(e,n,o,u,l,p){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,o,u,p),this.It=l}jo(e,n){return this.Vo._o("Listen",e,n)}onMessage(e){this.xo.reset();const n=function Op(i,e){let n;if("targetChange"in e){const o="NO_CHANGE"===(P=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===P?1:"REMOVE"===P?2:"CURRENT"===P?3:"RESET"===P?4:Rt(),u=e.targetChange.targetIds||[],l=function(P,V){return P.gt?(on(void 0===V||"string"==typeof V),Pr.fromBase64String(V||"")):(on(void 0===V||V instanceof Uint8Array),Pr.fromUint8Array(V||new Uint8Array))}(i,e.targetChange.resumeToken),p=e.targetChange.cause,E=p&&function(P){const V=void 0===P.code?Be.UNKNOWN:Tp(P.code);return new it(V,P.message||"")}(p);n=new Ph(o,u,l,E||null)}else if("documentChange"in e){const o=e.documentChange,u=xa(i,o.document.name),l=ss(o.document.updateTime),p=new A({mapValue:{fields:o.document.fields}}),E=L.newFoundDocument(u,l,p);n=new Al(o.targetIds||[],o.removedTargetIds||[],E.key,E)}else if("documentDelete"in e){const o=e.documentDelete,u=xa(i,o.document),l=o.readTime?ss(o.readTime):Xt.min(),p=L.newNoDocument(u,l);n=new Al([],o.removedTargetIds||[],p.key,p)}else if("documentRemove"in e){const o=e.documentRemove,u=xa(i,o.document);n=new Al([],o.removedTargetIds||[],u,null)}else{if(!("filter"in e))return Rt();{const o=e.filter,l=new Tm(o.count||0);n=new Oh(o.targetId,l)}}var P;return n}(this.It,e),o=function(u){if(!("targetChange"in u))return Xt.min();const l=u.targetChange;return l.targetIds&&l.targetIds.length?Xt.min():l.readTime?ss(l.readTime):Xt.min()}(e);return this.listener.Wo(n,o)}zo(e){const n={};n.database=Ru(this.It),n.addTarget=function(u,l){let p;const E=l.target;return p=Zt(E)?{documents:Id(u,E)}:{query:w(u,E)},p.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?p.resumeToken=_d(u,l.resumeToken):l.snapshotVersion.compareTo(Xt.min())>0&&(p.readTime=fc(u,l.snapshotVersion.toTimestamp())),p}(this.It,e);const o=function f(i,e){const n=function(o,u){switch(u){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Rt()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);o&&(n.labels=o),this.Bo(n)}Ho(e){const n={};n.database=Ru(this.It),n.removeTarget=e,this.Bo(n)}}class ug extends _f{constructor(e,n,o,u,l,p){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,o,u,p),this.It=l,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,n){return this.Vo._o("Write",e,n)}onMessage(e){if(on(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const n=function Ou(i,e){return i&&i.length>0?(on(void 0!==e),i.map(n=>function(o,u){let l=ss(o.updateTime?o.updateTime:u);return l.isEqual(Xt.min())&&(l=ss(u)),new Sh(l,o.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),o=ss(e.commitTime);return this.listener.Zo(o,n)}return on(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=Ru(this.It),this.Bo(e)}Xo(e){const n={streamToken:this.lastStreamToken,writes:e.map(o=>function Nu(i,e){let n;if(e instanceof zs)n={update:Fh(i,e.key,e.value)};else if(e instanceof lc)n={delete:Ml(i,e.key)};else if(e instanceof vo)n={update:Fh(i,e.key,e.data),updateMask:Hn(e.fieldMask)};else{if(!(e instanceof Mh))return Rt();n={verify:Ml(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(o=>function(u,l){const p=l.transform;if(p instanceof hu)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Su)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Wa)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof ca)return{fieldPath:l.field.canonicalString(),increment:p.yt};throw Rt()}(0,o))),e.precondition.isNone||(n.currentDocument=void 0!==(u=e.precondition).updateTime?{updateTime:Np(i,u.updateTime)}:void 0!==u.exists?{exists:u.exists}:Rt()),n;var u}(this.It,o))};this.Bo(n)}}class qm extends class{}{constructor(e,n,o,u){super(),this.authCredentials=e,this.appCheckCredentials=n,this.Vo=o,this.It=u,this.nu=!1}su(){if(this.nu)throw new it(Be.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,n,o){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,l])=>this.Vo.co(e,n,o,u,l)).catch(u=>{throw"FirebaseError"===u.name?(u.code===Be.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new it(Be.UNKNOWN,u.toString())})}fo(e,n,o,u){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,p])=>this.Vo.fo(e,n,o,l,p,u)).catch(l=>{throw"FirebaseError"===l.name?(l.code===Be.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new it(Be.UNKNOWN,l.toString())})}terminate(){this.nu=!0}}class Km{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(xr(n),this.ou=!1):ut("OnlineStateTracker",n)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class xv{constructor(e,n,o,u,l){var p=this;this.localStore=e,this.datastore=n,this.asyncQueue=o,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=l,this.mu.qr(E=>{o.enqueueAndForget((0,_.Z)(function*(){var P;Fu(p)&&(ut("RemoteStore","Restarting streams for network reachability change."),yield(P=(0,_.Z)(function*(V){const z=_t(V);z._u.add(4),yield da(z),z.gu.set("Unknown"),z._u.delete(4),yield Qc(z)}),function(V){return P.apply(this,arguments)})(p))}))}),this.gu=new Km(o,u)}}function Qc(i){return Gd.apply(this,arguments)}function Gd(){return Gd=(0,_.Z)(function*(i){if(Fu(i))for(const e of i.wu)yield e(!0)}),Gd.apply(this,arguments)}function da(i){return wf.apply(this,arguments)}function wf(){return wf=(0,_.Z)(function*(i){for(const e of i.wu)yield e(!1)}),wf.apply(this,arguments)}function Jc(i,e){const n=_t(i);n.du.has(e.targetId)||(n.du.set(e.targetId,e),lg(n)?cg(n):Tc(n).ko()&&If(n,e))}function bc(i,e){const n=_t(i),o=Tc(n);n.du.delete(e),o.ko()&&Zm(n,e),0===n.du.size&&(o.ko()?o.Fo():Fu(n)&&n.gu.set("Unknown"))}function If(i,e){i.yu.Ot(e.targetId),Tc(i).zo(e)}function Zm(i,e){i.yu.Ot(e),Tc(i).Ho(e)}function cg(i){i.yu=new Mp({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),se:e=>i.du.get(e)||null}),Tc(i).start(),i.gu.uu()}function lg(i){return Fu(i)&&!Tc(i).No()&&i.du.size>0}function Fu(i){return 0===_t(i)._u.size}function Ef(i){i.yu=void 0}function Rv(i){return Df.apply(this,arguments)}function Df(){return Df=(0,_.Z)(function*(i){i.du.forEach((e,n)=>{If(i,e)})}),Df.apply(this,arguments)}function Xc(i,e){return Cf.apply(this,arguments)}function Cf(){return Cf=(0,_.Z)(function*(i,e){Ef(i),lg(i)?(i.gu.hu(e),cg(i)):i.gu.set("Unknown")}),Cf.apply(this,arguments)}function dg(i,e,n){return el.apply(this,arguments)}function el(){return el=(0,_.Z)(function*(i,e,n){if(i.gu.set("Online"),e instanceof Ph&&2===e.state&&e.cause)try{yield(o=(0,_.Z)(function*(u,l){const p=l.cause;for(const E of l.targetIds)u.du.has(E)&&(yield u.remoteSyncer.rejectListen(E,p),u.du.delete(E),u.yu.removeTarget(E))}),function(u,l){return o.apply(this,arguments)})(i,e)}catch(o){ut("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield zd(i,o)}else if(e instanceof Al?i.yu.Gt(e):e instanceof Oh?i.yu.Yt(e):i.yu.Wt(e),!n.isEqual(Xt.min()))try{const o=yield Fd(i.localStore);n.compareTo(o)>=0&&(yield function(u,l){const p=u.yu.te(l);return p.targetChanges.forEach((E,P)=>{if(E.resumeToken.approximateByteSize()>0){const V=u.du.get(P);V&&u.du.set(P,V.withResumeToken(E.resumeToken,l))}}),p.targetMismatches.forEach(E=>{const P=u.du.get(E);if(!P)return;u.du.set(E,P.withResumeToken(Pr.EMPTY_BYTE_STRING,P.snapshotVersion)),Zm(u,E);const V=new vu(P.target,E,1,P.sequenceNumber);If(u,V)}),u.remoteSyncer.applyRemoteEvent(p)}(i,n))}catch(o){ut("RemoteStore","Failed to raise snapshot:",o),yield zd(i,o)}var o}),el.apply(this,arguments)}function zd(i,e,n){return Wd.apply(this,arguments)}function Wd(){return Wd=(0,_.Z)(function*(i,e,n){if(!Kn(e))throw e;i._u.add(1),yield da(i),i.gu.set("Offline"),n||(n=()=>Fd(i.localStore)),i.asyncQueue.enqueueRetryable((0,_.Z)(function*(){ut("RemoteStore","Retrying IndexedDB access"),yield n(),i._u.delete(1),yield Qc(i)}))}),Wd.apply(this,arguments)}function hg(i,e){return e().catch(n=>zd(i,n,e))}function tl(i){return bf.apply(this,arguments)}function bf(){return bf=(0,_.Z)(function*(i){const e=_t(i),n=Vu(e);let o=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;Ym(e);)try{const u=yield Ul(e.localStore,o);if(null===u){0===e.fu.length&&n.Fo();break}o=u.batchId,Qm(e,u)}catch(u){yield zd(e,u)}Tf(e)&&fg(e)}),bf.apply(this,arguments)}function Ym(i){return Fu(i)&&i.fu.length<10}function Qm(i,e){i.fu.push(e);const n=Vu(i);n.ko()&&n.Yo&&n.Xo(e.mutations)}function Tf(i){return Fu(i)&&!Vu(i).No()&&i.fu.length>0}function fg(i){Vu(i).start()}function pg(i){return qd.apply(this,arguments)}function qd(){return qd=(0,_.Z)(function*(i){Vu(i).eu()}),qd.apply(this,arguments)}function Af(i){return gg.apply(this,arguments)}function gg(){return gg=(0,_.Z)(function*(i){const e=Vu(i);for(const n of i.fu)e.Xo(n.mutations)}),gg.apply(this,arguments)}function Sf(i,e,n){return Mf.apply(this,arguments)}function Mf(){return Mf=(0,_.Z)(function*(i,e,n){const o=i.fu.shift(),u=Nl.from(o,e,n);yield hg(i,()=>i.remoteSyncer.applySuccessfulWrite(u)),yield tl(i)}),Mf.apply(this,arguments)}function Nv(i,e){return Lu.apply(this,arguments)}function Lu(){return Lu=(0,_.Z)(function*(i,e){var n;e&&Vu(i).Yo&&(yield(n=(0,_.Z)(function*(o,u){if(bl(l=u.code)&&l!==Be.ABORTED){const p=o.fu.shift();Vu(o).Oo(),yield hg(o,()=>o.remoteSyncer.rejectFailedWrite(p.batchId,u)),yield tl(o)}var l}),function(o,u){return n.apply(this,arguments)})(i,e)),Tf(i)&&fg(i)}),Lu.apply(this,arguments)}function xf(i,e){return Kd.apply(this,arguments)}function Kd(){return Kd=(0,_.Z)(function*(i,e){const n=_t(i);n.asyncQueue.verifyOperationInProgress(),ut("RemoteStore","RemoteStore received new credentials");const o=Fu(n);n._u.add(3),yield da(n),o&&n.gu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n._u.delete(3),yield Qc(n)}),Kd.apply(this,arguments)}function Wo(){return Wo=(0,_.Z)(function*(i,e){const n=_t(i);e?(n._u.delete(2),yield Qc(n)):e||(n._u.add(2),yield da(n),n.gu.set("Unknown"))}),Wo.apply(this,arguments)}function Tc(i){return i.pu||(i.pu=function(e,n,o){const u=_t(e);return u.su(),new Wm(n,u.Vo,u.authCredentials,u.appCheckCredentials,u.It,o)}(i.datastore,i.asyncQueue,{Yr:Rv.bind(null,i),Zr:Xc.bind(null,i),Wo:dg.bind(null,i)}),i.wu.push(function(){var e=(0,_.Z)(function*(n){n?(i.pu.Oo(),lg(i)?cg(i):i.gu.set("Unknown")):(yield i.pu.stop(),Ef(i))});return function(n){return e.apply(this,arguments)}}())),i.pu}function Vu(i){return i.Iu||(i.Iu=function(e,n,o){const u=_t(e);return u.su(),new ug(n,u.Vo,u.authCredentials,u.appCheckCredentials,u.It,o)}(i.datastore,i.asyncQueue,{Yr:pg.bind(null,i),Zr:Nv.bind(null,i),tu:Af.bind(null,i),Zo:Sf.bind(null,i)}),i.wu.push(function(){var e=(0,_.Z)(function*(n){n?(i.Iu.Oo(),yield tl(i)):(yield i.Iu.stop(),i.fu.length>0&&(ut("RemoteStore",`Stopping write stream with ${i.fu.length} pending writes`),i.fu=[]))});return function(n){return e.apply(this,arguments)}}())),i.Iu}class jl{constructor(e,n,o,u,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=o,this.op=u,this.removalCallback=l,this.deferred=new Hr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(p=>{})}static createAndSchedule(e,n,o,u,l){const p=Date.now()+o,E=new jl(e,n,p,u,l);return E.start(o),E}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new it(Be.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $o(i,e){if(xr("AsyncQueue",`${e}: ${i}`),Kn(i))return new it(Be.UNAVAILABLE,`${e}: ${i}`);throw i}class Uu{constructor(e){this.comparator=e?(n,o)=>e(n,o)||It.comparator(n.key,o.key):(n,o)=>It.comparator(n.key,o.key),this.keyedMap=dc(),this.sortedSet=new ln(this.comparator)}static emptySet(e){return new Uu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,o)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Uu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;n.hasNext();){const u=n.getNext().key,l=o.getNext().key;if(!u.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const o=new Uu;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=n,o}}class Rf{constructor(){this.Tu=new ln(It.comparator)}track(e){const n=e.doc.key,o=this.Tu.get(n);o?0!==e.type&&3===o.type?this.Tu=this.Tu.insert(n,e):3===e.type&&1!==o.type?this.Tu=this.Tu.insert(n,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.Tu=this.Tu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.Tu=this.Tu.remove(n):1===e.type&&2===o.type?this.Tu=this.Tu.insert(n,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):Rt():this.Tu=this.Tu.insert(n,e)}Eu(){const e=[];return this.Tu.inorderTraversal((n,o)=>{e.push(o)}),e}}class Bu{constructor(e,n,o,u,l,p,E,P){this.query=e,this.docs=n,this.oldDocs=o,this.docChanges=u,this.mutatedKeys=l,this.fromCache=p,this.syncStateChanged=E,this.excludesMetadataChanges=P}static fromInitialDocuments(e,n,o,u){const l=[];return n.forEach(p=>{l.push({type:0,doc:p})}),new Bu(e,n,Uu.emptySet(n),l,o,u,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Au(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,o=e.docChanges;if(n.length!==o.length)return!1;for(let u=0;u<n.length;u++)if(n[u].type!==o[u].type||!n[u].doc.isEqual(o[u].doc))return!1;return!0}}class Ov{constructor(){this.Au=void 0,this.listeners=[]}}class mg{constructor(){this.queries=new gu(e=>oc(e),Au),this.onlineState="Unknown",this.Ru=new Set}}function rl(){return rl=(0,_.Z)(function*(i,e){const n=_t(i),o=e.query;let u=!1,l=n.queries.get(o);if(l||(u=!0,l=new Ov),u)try{l.Au=yield n.onListen(o)}catch(p){const E=$o(p,`Initialization of query '${ac(e.query)}' failed`);return void e.onError(E)}n.queries.set(o,l),l.listeners.push(e),e.bu(n.onlineState),l.Au&&e.Pu(l.Au)&&vg(n)}),rl.apply(this,arguments)}function Hl(){return Hl=(0,_.Z)(function*(i,e){const n=_t(i),o=e.query;let u=!1;const l=n.queries.get(o);if(l){const p=l.listeners.indexOf(e);p>=0&&(l.listeners.splice(p,1),u=0===l.listeners.length)}if(u)return n.queries.delete(o),n.onUnlisten(o)}),Hl.apply(this,arguments)}function Nf(i,e){const n=_t(i);let o=!1;for(const u of e){const p=n.queries.get(u.query);if(p){for(const E of p.listeners)E.Pu(u)&&(o=!0);p.Au=u}}o&&vg(n)}function Of(i,e,n){const o=_t(i),u=o.queries.get(e);if(u)for(const l of u.listeners)l.onError(n);o.queries.delete(e)}function vg(i){i.Ru.forEach(e=>{e.next()})}class Pf{constructor(e,n,o){this.query=e,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=o||{}}Pu(e){if(!this.options.includeMetadataChanges){const o=[];for(const u of e.docChanges)3!==u.type&&o.push(u);e=new Bu(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let n=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),n=!0):this.Cu(e,this.onlineState)&&(this.xu(e),n=!0),this.Su=e,n}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let n=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),n=!0),n}Cu(e,n){return!e.fromCache||!(this.options.Nu&&"Offline"!==n||e.docs.isEmpty()&&"Offline"!==n)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=Bu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Vu=!0,this.vu.next(e)}}class ey{constructor(e){this.key=e}}class wg{constructor(e){this.key=e}}class ty{constructor(e,n){this.query=e,this.Lu=n,this.Uu=null,this.current=!1,this.qu=zt(),this.mutatedKeys=zt(),this.Ku=dd(e),this.Gu=new Uu(this.Ku)}get Qu(){return this.Lu}ju(e,n){const o=n?n.Wu:new Rf,u=n?n.Gu:this.Gu;let l=n?n.mutatedKeys:this.mutatedKeys,p=u,E=!1;const P="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,V="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((z,re)=>{const xe=u.get(z),Ke=Sa(this.query,re)?re:null,Je=!!xe&&this.mutatedKeys.has(xe.key),Mt=!!Ke&&(Ke.hasLocalMutations||this.mutatedKeys.has(Ke.key)&&Ke.hasCommittedMutations);let Wt=!1;xe&&Ke?xe.data.isEqual(Ke.data)?Je!==Mt&&(o.track({type:3,doc:Ke}),Wt=!0):this.zu(xe,Ke)||(o.track({type:2,doc:Ke}),Wt=!0,(P&&this.Ku(Ke,P)>0||V&&this.Ku(Ke,V)<0)&&(E=!0)):!xe&&Ke?(o.track({type:0,doc:Ke}),Wt=!0):xe&&!Ke&&(o.track({type:1,doc:xe}),Wt=!0,(P||V)&&(E=!0)),Wt&&(Ke?(p=p.add(Ke),l=Mt?l.add(z):l.delete(z)):(p=p.delete(z),l=l.delete(z)))}),null!==this.query.limit)for(;p.size>this.query.limit;){const z="F"===this.query.limitType?p.last():p.first();p=p.delete(z.key),l=l.delete(z.key),o.track({type:1,doc:z})}return{Gu:p,Wu:o,$i:E,mutatedKeys:l}}zu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,o){const u=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const l=e.Wu.Eu();l.sort((V,z)=>function(re,xe){const Ke=Je=>{switch(Je){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Rt()}};return Ke(re)-Ke(xe)}(V.type,z.type)||this.Ku(V.doc,z.doc)),this.Hu(o);const p=n?this.Ju():[],E=0===this.qu.size&&this.current?1:0,P=E!==this.Uu;return this.Uu=E,0!==l.length||P?{snapshot:new Bu(this.query,e.Gu,u,l,e.mutatedKeys,0===E,P,!1),Yu:p}:{Yu:p}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,Wu:new Rf,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Yu:[]}}Xu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(n=>this.Lu=this.Lu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Lu=this.Lu.delete(n)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.qu;this.qu=zt(),this.Gu.forEach(o=>{this.Xu(o.key)&&(this.qu=this.qu.add(o.key))});const n=[];return e.forEach(o=>{this.qu.has(o)||n.push(new wg(o))}),this.qu.forEach(o=>{e.has(o)||n.push(new ey(o))}),n}Zu(e){this.Lu=e.Hi,this.qu=zt();const n=this.ju(e.documents);return this.applyChanges(n,!0)}tc(){return Bu.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.Uu)}}class Ig{constructor(e,n,o){this.query=e,this.targetId=n,this.view=o}}class Eg{constructor(e){this.key=e,this.ec=!1}}class ny{constructor(e,n,o,u,l,p){this.localStore=e,this.remoteStore=n,this.eventManager=o,this.sharedClientState=u,this.currentUser=l,this.maxConcurrentLimboResolutions=p,this.nc={},this.sc=new gu(E=>oc(E),Au),this.ic=new Map,this.rc=new Set,this.oc=new ln(It.comparator),this.uc=new Map,this.cc=new Nd,this.ac={},this.hc=new Map,this.lc=io.vn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return!0===this.fc}}function Ff(i,e){return Dg.apply(this,arguments)}function Dg(){return Dg=(0,_.Z)(function*(i,e){const n=wo(i);let o,u;const l=n.sc.get(e);if(l)o=l.targetId,n.sharedClientState.addLocalQueryTarget(o),u=l.view.tc();else{const p=yield Zc(n.localStore,Rs(e));n.isPrimaryClient&&Jc(n.remoteStore,p);const E=n.sharedClientState.addLocalQueryTarget(p.targetId);o=p.targetId,u=yield Cg(n,e,o,"current"===E)}return u}),Dg.apply(this,arguments)}function Cg(i,e,n,o){return bg.apply(this,arguments)}function bg(){return bg=(0,_.Z)(function*(i,e,n,o){i.dc=(z,re,xe)=>{return(Ke=(0,_.Z)(function*(Je,Mt,Wt,pr){let Lr=Mt.view.ju(Wt);Lr.$i&&(Lr=yield Vd(Je.localStore,Mt.query,!1).then(({documents:Yr})=>Mt.view.ju(Yr,Lr)));const si=pr&&pr.targetChanges.get(Mt.targetId),us=Mt.view.applyChanges(Lr,Je.isPrimaryClient,si);return Jd(Je,Mt.targetId,us.Yu),us.snapshot}),function(Je,Mt,Wt,pr){return Ke.apply(this,arguments)})(i,z,re,xe);var Ke};const u=yield Vd(i.localStore,e,!0),l=new ty(e,u.Hi),p=l.ju(u.documents),E=hc.createSynthesizedTargetChangeForCurrentChange(n,o&&"Offline"!==i.onlineState),P=l.applyChanges(p,i.isPrimaryClient,E);Jd(i,n,P.Yu);const V=new Ig(e,n,l);return i.sc.set(e,V),i.ic.has(n)?i.ic.get(n).push(e):i.ic.set(n,[e]),P.snapshot}),bg.apply(this,arguments)}function Pv(i,e){return Tg.apply(this,arguments)}function Tg(){return Tg=(0,_.Z)(function*(i,e){const n=_t(i),o=n.sc.get(e),u=n.ic.get(o.targetId);if(u.length>1)return n.ic.set(o.targetId,u.filter(l=>!Au(l,e))),void n.sc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(o.targetId),n.sharedClientState.isActiveQueryTarget(o.targetId)||(yield Cc(n.localStore,o.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(o.targetId),bc(n.remoteStore,o.targetId),sl(n,o.targetId)}).catch(ms))):(sl(n,o.targetId),yield Cc(n.localStore,o.targetId,!0))}),Tg.apply(this,arguments)}function Ag(){return Ag=(0,_.Z)(function*(i,e,n){const o=nh(i);try{const u=yield function(l,p){const E=_t(l),P=Jn.now(),V=p.reduce((xe,Ke)=>xe.add(Ke.key),zt());let z,re;return E.persistence.runTransaction("Locally write mutations","readwrite",xe=>{let Ke=_o(),Je=zt();return E.Gi.getEntries(xe,V).next(Mt=>{Ke=Mt,Ke.forEach((Wt,pr)=>{pr.isValidDocument()||(Je=Je.add(Wt))})}).next(()=>E.localDocuments.getOverlayedDocuments(xe,Ke)).next(Mt=>{z=Mt;const Wt=[];for(const pr of p){const Lr=Fc(pr,z.get(pr.key).overlayedDocument);null!=Lr&&Wt.push(new vo(pr.key,Lr,N(Lr.value.mapValue),_i.exists(!0)))}return E.mutationQueue.addMutationBatch(xe,P,Wt,p)}).next(Mt=>{re=Mt;const Wt=Mt.applyToLocalDocumentSet(z,Je);return E.documentOverlayCache.saveOverlays(xe,Mt.batchId,Wt)})}).then(()=>({batchId:re.batchId,changes:Nh(z)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(u.batchId),function(l,p,E){let P=l.ac[l.currentUser.toKey()];P||(P=new ln(an)),P=P.insert(p,E),l.ac[l.currentUser.toKey()]=P}(o,u.batchId,n),yield ha(o,u.changes),yield tl(o.remoteStore)}catch(u){const l=$o(u,"Failed to persist write");n.reject(l)}}),Ag.apply(this,arguments)}function ry(i,e){return Sg.apply(this,arguments)}function Sg(){return Sg=(0,_.Z)(function*(i,e){const n=_t(i);try{const o=yield rg(n.localStore,e);e.targetChanges.forEach((u,l)=>{const p=n.uc.get(l);p&&(on(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?p.ec=!0:u.modifiedDocuments.size>0?on(p.ec):u.removedDocuments.size>0&&(on(p.ec),p.ec=!1))}),yield ha(n,o,e)}catch(o){yield ms(o)}}),Sg.apply(this,arguments)}function iy(i,e,n){const o=_t(i);if(o.isPrimaryClient&&0===n||!o.isPrimaryClient&&1===n){const u=[];o.sc.forEach((l,p)=>{const E=p.view.bu(e);E.snapshot&&u.push(E.snapshot)}),function(l,p){const E=_t(l);E.onlineState=p;let P=!1;E.queries.forEach((V,z)=>{for(const re of z.listeners)re.bu(p)&&(P=!0)}),P&&vg(E)}(o.eventManager,e),u.length&&o.nc.Wo(u),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function $u(i,e,n){return Gl.apply(this,arguments)}function Gl(){return Gl=(0,_.Z)(function*(i,e,n){const o=_t(i);o.sharedClientState.updateQueryState(e,"rejected",n);const u=o.uc.get(e),l=u&&u.key;if(l){let p=new ln(It.comparator);p=p.insert(l,L.newNoDocument(l,Xt.min()));const E=zt().add(l),P=new xu(Xt.min(),new Map,new yr(an),p,E);yield ry(o,P),o.oc=o.oc.remove(l),o.uc.delete(e),Bf(o)}else yield Cc(o.localStore,e,!1).then(()=>sl(o,e,n)).catch(ms)}),Gl.apply(this,arguments)}function sy(i,e){return Zd.apply(this,arguments)}function Zd(){return Zd=(0,_.Z)(function*(i,e){const n=_t(i),o=e.batch.batchId;try{const u=yield ng(n.localStore,e);Qd(n,o,null),Qa(n,o),n.sharedClientState.updateMutationState(o,"acknowledged"),yield ha(n,u)}catch(u){yield ms(u)}}),Zd.apply(this,arguments)}function Lf(i,e,n){return Yd.apply(this,arguments)}function Yd(){return Yd=(0,_.Z)(function*(i,e,n){const o=_t(i);try{const u=yield function(l,p){const E=_t(l);return E.persistence.runTransaction("Reject batch","readwrite-primary",P=>{let V;return E.mutationQueue.lookupMutationBatch(P,p).next(z=>(on(null!==z),V=z.keys(),E.mutationQueue.removeMutationBatch(P,z))).next(()=>E.mutationQueue.performConsistencyCheck(P)).next(()=>E.documentOverlayCache.removeOverlaysForBatchId(P,V,p)).next(()=>E.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(P,V)).next(()=>E.localDocuments.getDocuments(P,V))})}(o.localStore,e);Qd(o,e,n),Qa(o,e),o.sharedClientState.updateMutationState(e,"rejected",n),yield ha(o,u)}catch(u){yield ms(u)}}),Yd.apply(this,arguments)}function Qa(i,e){(i.hc.get(e)||[]).forEach(n=>{n.resolve()}),i.hc.delete(e)}function Qd(i,e,n){const o=_t(i);let u=o.ac[o.currentUser.toKey()];if(u){const l=u.get(e);l&&(n?l.reject(n):l.resolve(),u=u.remove(e)),o.ac[o.currentUser.toKey()]=u}}function sl(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i.ic.get(e))i.sc.delete(o),n&&i.nc._c(o,n);i.ic.delete(e),i.isPrimaryClient&&i.cc.ls(e).forEach(o=>{i.cc.containsKey(o)||Mg(i,o)})}function Mg(i,e){i.rc.delete(e.path.canonicalString());const n=i.oc.get(e);null!==n&&(bc(i.remoteStore,n),i.oc=i.oc.remove(e),i.uc.delete(n),Bf(i))}function Jd(i,e,n){for(const o of n)o instanceof ey?(i.cc.addReference(o.key,e),oy(i,o)):o instanceof wg?(ut("SyncEngine","Document no longer in limbo: "+o.key),i.cc.removeReference(o.key,e),i.cc.containsKey(o.key)||Mg(i,o.key)):Rt()}function oy(i,e){const n=e.key,o=n.path.canonicalString();i.oc.get(n)||i.rc.has(o)||(ut("SyncEngine","New document in limbo: "+n),i.rc.add(o),Bf(i))}function Bf(i){for(;i.rc.size>0&&i.oc.size<i.maxConcurrentLimboResolutions;){const e=i.rc.values().next().value;i.rc.delete(e);const n=new It(Cn.fromString(e)),o=i.lc.next();i.uc.set(o,new Eg(n)),i.oc=i.oc.insert(n,o),Jc(i.remoteStore,new vu(Rs(cu(n.path)),o,2,ys.at))}}function ha(i,e,n){return ju.apply(this,arguments)}function ju(){return ju=(0,_.Z)(function*(i,e,n){const o=_t(i),u=[],l=[],p=[];var E;o.sc.isEmpty()||(o.sc.forEach((E,P)=>{p.push(o.dc(P,e,n).then(V=>{if(V){o.isPrimaryClient&&o.sharedClientState.updateQueryState(P.targetId,V.fromCache?"not-current":"current"),u.push(V);const z=kd.Ci(P.targetId,V);l.push(z)}}))}),yield Promise.all(p),o.nc.Wo(u),yield(E=(0,_.Z)(function*(P,V){const z=_t(P);try{yield z.persistence.runTransaction("notifyLocalViewChanges","readwrite",re=>Ne.forEach(V,xe=>Ne.forEach(xe.Si,Ke=>z.persistence.referenceDelegate.addReference(re,xe.targetId,Ke)).next(()=>Ne.forEach(xe.Di,Ke=>z.persistence.referenceDelegate.removeReference(re,xe.targetId,Ke)))))}catch(re){if(!Kn(re))throw re;ut("LocalStore","Failed to update sequence numbers: "+re)}for(const re of V){const xe=re.targetId;if(!re.fromCache){const Ke=z.Ui.get(xe),Mt=Ke.withLastLimboFreeSnapshotVersion(Ke.snapshotVersion);z.Ui=z.Ui.insert(xe,Mt)}}}),function(P,V){return E.apply(this,arguments)})(o.localStore,l))}),ju.apply(this,arguments)}function $f(i,e){return Hu.apply(this,arguments)}function Hu(){return Hu=(0,_.Z)(function*(i,e){const n=_t(i);if(!n.currentUser.isEqual(e)){ut("SyncEngine","User change. New user:",e.toKey());const o=yield Vl(n.localStore,e);n.currentUser=e,(u=n).hc.forEach(p=>{p.forEach(E=>{E.reject(new it(Be.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.hc.clear(),n.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield ha(n,o.ji)}var u}),Hu.apply(this,arguments)}function Xd(i,e){const n=_t(i),o=n.uc.get(e);if(o&&o.ec)return zt().add(o.key);{let u=zt();const l=n.ic.get(e);if(!l)return u;for(const p of l){const E=n.sc.get(p);u=u.unionWith(E.view.Qu)}return u}}function wo(i){const e=_t(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=ry.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Xd.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$u.bind(null,e),e.nc.Wo=Nf.bind(null,e.eventManager),e.nc._c=Of.bind(null,e.eventManager),e}function nh(i){const e=_t(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=sy.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Lf.bind(null,e),e}class Fv{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,_.Z)(function*(){n.It=$l(e.databaseInfo.databaseId),n.sharedClientState=n.mc(e),n.persistence=n.gc(e),yield n.persistence.start(),n.localStore=n.yc(e),n.gcScheduler=n.Ic(e,n.localStore),n.indexBackfillerScheduler=n.Tc(e,n.localStore)})()}Ic(e,n){return null}Tc(e,n){return null}yc(e){return function cf(i,e,n,o){return new uf(i,e,n,o)}(this.persistence,new af,e.initialUser,this.It)}gc(e){return new nf(Ya.Bs,this.It)}mc(e){return new mf}terminate(){var e=this;return(0,_.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class rh{initialize(e,n){var o=this;return(0,_.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(n),o.remoteStore=o.createRemoteStore(n),o.eventManager=o.createEventManager(n),o.syncEngine=o.createSyncEngine(n,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=u=>iy(o.syncEngine,u,1),o.remoteStore.remoteSyncer.handleCredentialChange=$f.bind(null,o.syncEngine),yield function nl(i,e){return Wo.apply(this,arguments)}(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new mg}createDatastore(e){const n=$l(e.databaseInfo.databaseId),o=new ag(e.databaseInfo);return new qm(e.authCredentials,e.appCheckCredentials,o,n)}createRemoteStore(e){return n=this.localStore,o=this.datastore,u=e.asyncQueue,l=E=>iy(this.syncEngine,E,0),p=og.C()?new og:new Gm,new xv(n,o,u,l,p);var n,o,u,l,p}createSyncEngine(e,n){return function(o,u,l,p,E,P,V){const z=new ny(o,u,l,p,E,P);return V&&(z.fc=!0),z}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=(0,_.Z)(function*(n){const o=_t(n);ut("RemoteStore","RemoteStore shutting down."),o._u.add(5),yield da(o),o.mu.shutdown(),o.gu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}class ih{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ac(this.observer.next,e)}error(e){this.observer.error?this.Ac(this.observer.error,e):xr("Uncaught Error in snapshot listener:",e)}Rc(){this.muted=!0}Ac(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class Ug{constructor(e,n,o,u){var l=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=o,this.databaseInfo=u,this.user=Mr.UNAUTHENTICATED,this.clientId=po.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var p=(0,_.Z)(function*(E){ut("FirestoreClient","Received user=",E.uid),yield l.authCredentialListener(E),l.user=E});return function(E){return p.apply(this,arguments)}}()),this.appCheckCredentials.start(o,p=>(ut("FirestoreClient","Received new app check token=",p),this.appCheckCredentialListener(p,this.user)))}getConfiguration(){var e=this;return(0,_.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new it(Be.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Hr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,_.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(o){const u=$o(o,"Failed to shutdown persistence");n.reject(u)}})),n.promise}}function Bg(i,e){return Wf.apply(this,arguments)}function Wf(){return Wf=(0,_.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),ut("FirestoreClient","Initializing OfflineComponentProvider");const n=yield i.getConfiguration();yield e.initialize(n);let o=n.initialUser;i.setCredentialChangeListener(function(){var u=(0,_.Z)(function*(l){o.isEqual(l)||(yield Vl(e.localStore,l),o=l)});return function(l){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=e}),Wf.apply(this,arguments)}function qf(i,e){return sh.apply(this,arguments)}function sh(){return sh=(0,_.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const n=yield Kf(i);ut("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(n,o),i.setCredentialChangeListener(u=>xf(e.remoteStore,u)),i.setAppCheckTokenChangeListener((u,l)=>xf(e.remoteStore,l)),i.onlineComponents=e}),sh.apply(this,arguments)}function Kf(i){return fa.apply(this,arguments)}function fa(){return fa=(0,_.Z)(function*(i){return i.offlineComponents||(ut("FirestoreClient","Using default OfflineComponentProvider"),yield Bg(i,new Fv)),i.offlineComponents}),fa.apply(this,arguments)}function ol(i){return Zf.apply(this,arguments)}function Zf(){return Zf=(0,_.Z)(function*(i){return i.onlineComponents||(ut("FirestoreClient","Using default OnlineComponentProvider"),yield qf(i,new rh)),i.onlineComponents}),Zf.apply(this,arguments)}function Xf(){return Xf=(0,_.Z)(function*(i){const e=yield ol(i),n=e.eventManager;return n.onListen=Ff.bind(null,e.syncEngine),n.onUnlisten=Pv.bind(null,e.syncEngine),n}),Xf.apply(this,arguments)}function jg(i,e,n={}){const o=new Hr;return i.asyncQueue.enqueueAndForget((0,_.Z)(function*(){return function(u,l,p,E,P){const V=new ih({next:re=>{l.enqueueAndForget(()=>function il(i,e){return Hl.apply(this,arguments)}(u,z)),re.fromCache&&"server"===E.source?P.reject(new it(Be.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):P.resolve(re)},error:re=>P.reject(re)}),z=new Pf(p,V,{includeMetadataChanges:!0,Nu:!0});return function yg(i,e){return rl.apply(this,arguments)}(u,z)}(yield function al(i){return Xf.apply(this,arguments)}(i),i.asyncQueue,e,n,o)})),o.promise}const oh=new Map;function Gg(i,e,n){if(!n)throw new it(Be.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function rp(i){if(!It.isDocumentKey(i))throw new it(Be.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function ip(i){if(It.isDocumentKey(i))throw new it(Be.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Zl(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(n=i).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof i?"a function":Rt()}function ar(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new it(Be.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Zl(i);throw new it(Be.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}class Yl{constructor(e){var n;if(void 0===e.host){if(void 0!==e.ssl)throw new it(Be.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new it(Be.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function zg(i,e,n,o){if(!0===e&&!0===o)throw new it(Be.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Gu{constructor(e,n,o,u){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=o,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Yl({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new it(Be.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new it(Be.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Yl(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new fo;switch(n.type){case"gapi":return new _a(n.client,n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new it(Be.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=oh.get(e);n&&(ut("ComponentProvider","Removing Datastore"),oh.delete(e),n.terminate())}(this),Promise.resolve()}}class zi{constructor(e,n,o){this.converter=n,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zi(this.firestore,e,this._key)}}class Os{constructor(e,n,o){this.converter=n,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new Os(this.firestore,e,this._query)}}class Pa extends Os{constructor(e,n,o){super(e,n,cu(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zi(this.firestore,null,new It(e))}withConverter(e){return new Pa(this.firestore,e,this._path)}}function py(i,e,...n){if(i=(0,Ee.m9)(i),Gg("collection","path",e),i instanceof Gu){const o=Cn.fromString(e,...n);return ip(o),new Pa(i,null,o)}{if(!(i instanceof zi||i instanceof Pa))throw new it(Be.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Cn.fromString(e,...n));return ip(o),new Pa(i.firestore,null,o)}}class gy{constructor(){this.$c=Promise.resolve(),this.Bc=[],this.Lc=!1,this.Uc=[],this.qc=null,this.Kc=!1,this.Gc=!1,this.Qc=[],this.xo=new vf(this,"async_queue_retry"),this.jc=()=>{const n=Bl();n&&ut("AsyncQueue","Visibility state changed to "+n.visibilityState),this.xo.bo()};const e=Bl();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.jc)}get isShuttingDown(){return this.Lc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Wc(),this.zc(e)}enterRestrictedMode(e){if(!this.Lc){this.Lc=!0,this.Gc=e||!1;const n=Bl();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.jc)}}enqueue(e){if(this.Wc(),this.Lc)return new Promise(()=>{});const n=new Hr;return this.zc(()=>this.Lc&&this.Gc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Bc.push(e),this.Hc()))}Hc(){var e=this;return(0,_.Z)(function*(){if(0!==e.Bc.length){try{yield e.Bc[0](),e.Bc.shift(),e.xo.reset()}catch(n){if(!Kn(n))throw n;ut("AsyncQueue","Operation failed with retryable error: "+n)}e.Bc.length>0&&e.xo.Ao(()=>e.Hc())}})()}zc(e){const n=this.$c.then(()=>(this.Kc=!0,e().catch(o=>{throw this.qc=o,this.Kc=!1,xr("INTERNAL UNHANDLED ERROR: ",function(l){let p=l.message||"";return l.stack&&(p=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),p}(o)),o}).then(o=>(this.Kc=!1,o))));return this.$c=n,n}enqueueAfterDelay(e,n,o){this.Wc(),this.Qc.indexOf(e)>-1&&(n=0);const u=jl.createAndSchedule(this,e,n,o,l=>this.Jc(l));return this.Uc.push(u),u}Wc(){this.qc&&Rt()}verifyOperationInProgress(){}Yc(){var e=this;return(0,_.Z)(function*(){let n;do{n=e.$c,yield n}while(n!==e.$c)})()}Xc(e){for(const n of this.Uc)if(n.timerId===e)return!0;return!1}Zc(e){return this.Yc().then(()=>{this.Uc.sort((n,o)=>n.targetTimeMs-o.targetTimeMs);for(const n of this.Uc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.Yc()})}ta(e){this.Qc.push(e)}Jc(e){const n=this.Uc.indexOf(e);this.Uc.splice(n,1)}}class wi extends Gu{constructor(e,n,o,u){super(e,n,o,u),this.type="firestore",this._queue=new gy,this._persistenceKey=u?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Kg(this),this._firestoreClient.terminate()}}function qg(i,e){const n="object"==typeof i?i:(0,q.Mq)(),o="string"==typeof i?i:e||"(default)";return(0,q.qX)(n,"firestore").getImmediate({identifier:o})}function Wi(i){return i._firestoreClient||Kg(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function Kg(i){var e;const n=i._freezeSettings(),o=(l=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new g(i._databaseId,l,i._persistenceKey,(E=n).host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,E.useFetchStreams));var l,E;i._firestoreClient=new Ug(i._authCredentials,i._appCheckCredentials,i._queue,o)}class ll{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new it(Be.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Dr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Iu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Iu(Pr.fromBase64String(e))}catch(n){throw new it(Be.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Iu(Pr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Qg{constructor(e){this._methodName=e}}class pa{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new it(Be.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new it(Be.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return an(this._lat,e._lat)||an(this._long,e._long)}}const Jl=/^__.*__$/;class so{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return null!==this.fieldMask?new vo(e,this.data,this.fieldMask,n,this.fieldTransforms):new zs(e,this.data,n,this.fieldTransforms)}}function Xl(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Rt()}}class Io{constructor(e,n,o,u,l,p){this.settings=e,this.databaseId=n,this.It=o,this.ignoreUndefinedProperties=u,void 0===l&&this.ea(),this.fieldTransforms=l||[],this.fieldMask=p||[]}get path(){return this.settings.path}get na(){return this.settings.na}sa(e){return new Io(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ia(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),u=this.sa({path:o,ra:!1});return u.oa(e),u}ua(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),u=this.sa({path:o,ra:!1});return u.ea(),u}ca(e){return this.sa({path:void 0,ra:!0})}aa(e){return lh(e,this.settings.methodName,this.settings.ha||!1,this.path,this.settings.la)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ea(){if(this.path)for(let e=0;e<this.path.length;e++)this.oa(this.path.get(e))}oa(e){if(0===e.length)throw this.aa("Document fields must not be empty");if(Xl(this.na)&&Jl.test(e))throw this.aa('Document fields cannot begin and end with "__"')}}class op{constructor(e,n,o){this.databaseId=e,this.ignoreUndefinedProperties=n,this.It=o||$l(e)}fa(e,n,o,u=!1){return new Io({na:e,methodName:n,la:o,path:Dr.emptyPath(),ra:!1,ha:u},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function ka(i){const e=i._freezeSettings(),n=$l(i._databaseId);return new op(i._databaseId,!!e.ignoreUndefinedProperties,n)}function Wu(i,e,n,o,u,l={}){const p=i.fa(l.merge||l.mergeFields?2:0,e,n,u);uh("Data must be an object, but it was:",p,o);const E=cp(o,p);let P,V;if(l.merge)P=new Or(p.fieldMask),V=p.fieldTransforms;else if(l.mergeFields){const z=[];for(const re of l.mergeFields){const xe=ch(e,re,n);if(!p.contains(xe))throw new it(Be.INVALID_ARGUMENT,`Field '${xe}' is specified in your field mask but missing from your input data.`);Xg(z,xe)||z.push(xe)}P=new Or(z),V=p.fieldTransforms.filter(re=>P.covers(re.field))}else P=null,V=p.fieldTransforms;return new so(new A(E),P,V)}function Ku(i,e){if(lp(i=(0,Ee.m9)(i)))return uh("Unsupported field value:",e,i),cp(i,e);if(i instanceof Qg)return function(n,o){if(!Xl(o.na))throw o.aa(`${n._methodName}() can only be used with update() and set()`);if(!o.path)throw o.aa(`${n._methodName}() is not currently supported inside arrays`);const u=n._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.ra&&4!==e.na)throw e.aa("Nested arrays are not supported");return function(n,o){const u=[];let l=0;for(const p of n){let E=Ku(p,o.ca(l));null==E&&(E={nullValue:"NULL_VALUE"}),u.push(E),l++}return{arrayValue:{values:u}}}(i,e)}return function(n,o){if(null===(n=(0,Ee.m9)(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return _l(o.It,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const u=Jn.fromDate(n);return{timestampValue:fc(o.It,u)}}if(n instanceof Jn){const u=new Jn(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:fc(o.It,u)}}if(n instanceof pa)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Iu)return{bytesValue:_d(o.It,n._byteString)};if(n instanceof zi){const u=o.databaseId,l=n.firestore._databaseId;if(!l.isEqual(u))throw o.aa(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Sl(n.firestore._databaseId||o.databaseId,n._key.path)}}throw o.aa(`Unsupported field value: ${Zl(n)}`)}(i,e)}function cp(i,e){const n={};return vl(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Lo(i,(o,u)=>{const l=Ku(u,e.ia(o));null!=l&&(n[o]=l)}),{mapValue:{fields:n}}}function lp(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof Jn||i instanceof pa||i instanceof Iu||i instanceof zi||i instanceof Qg)}function uh(i,e,n){if(!lp(n)||"object"!=typeof(o=n)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=Zl(n);throw e.aa("an object"===o?i+" a custom object":i+" "+o)}var o}function ch(i,e,n){if((e=(0,Ee.m9)(e))instanceof ll)return e._internalPath;if("string"==typeof e)return ed(i,e);throw lh("Field path arguments must be of type string or ",i,!1,void 0,n)}const Jg=new RegExp("[~\\*/\\[\\]]");function ed(i,e,n){if(e.search(Jg)>=0)throw lh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new ll(...e.split("."))._internalPath}catch{throw lh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function lh(i,e,n,o,u){const l=o&&!o.isEmpty(),p=void 0!==u;let E=`Function ${e}() called with invalid data`;n&&(E+=" (via `toFirestore()`)"),E+=". ";let P="";return(l||p)&&(P+=" (found",l&&(P+=` in field ${o}`),p&&(P+=` in document ${u}`),P+=")"),new it(Be.INVALID_ARGUMENT,E+i+P)}function Xg(i,e){return i.some(n=>n.isEqual(e))}class dh{constructor(e,n,o,u,l){this._firestore=e,this._userDataWriter=n,this._key=o,this._document=u,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new zi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new yy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(hh("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class yy extends dh{data(){return super.data()}}function hh(i,e){return"string"==typeof e?ed(i,e):e instanceof ll?e._internalPath:e._delegate._internalPath}class Eu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Zu extends dh{constructor(e,n,o,u,l,p){super(e,n,o,u,p),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new fh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const o=this._document.data.field(hh("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,n.serverTimestamps)}}}class fh extends Zu{data(e={}){return super.data(e)}}class Du{constructor(e,n,o,u){this._firestore=e,this._userDataWriter=n,this._snapshot=u,this.metadata=new Eu(u.hasPendingWrites,u.fromCache),this.query=o}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(o=>{e.call(n,new fh(this._firestore,this._userDataWriter,o.key,o,new Eu(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new it(Be.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let l=0;return o._snapshot.docChanges.map(p=>({type:"added",doc:new fh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Eu(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:l++}))}{let l=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(p=>u||3!==p.type).map(p=>{const E=new fh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Eu(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let P=-1,V=-1;return 0!==p.type&&(P=l.indexOf(p.doc.key),l=l.delete(p.doc.key)),1!==p.type&&(l=l.add(p.doc),V=l.indexOf(p.doc.key)),{type:ph(p.type),doc:E,oldIndex:P,newIndex:V}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function ph(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Rt()}}function gh(i,...e){for(const n of e)i=n._apply(i);return i}class Yu extends class um{convertValue(e,n="none"){switch(dt(e)){case 0:return null;case 1:return e.booleanValue;case 2:return kr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Vo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Rt()}}convertObject(e,n){const o={};return Lo(e.fields,(u,l)=>{o[u]=this.convertValue(l,n)}),o}convertGeoPoint(e){return new pa(kr(e.latitude),kr(e.longitude))}convertArray(e,n){return(e.values||[]).map(o=>this.convertValue(o,n))}convertServerTimestamp(e,n){switch(n){case"previous":const o=y(e);return null==o?null:this.convertValue(o,n);case"estimate":return this.convertTimestamp(v(e));default:return null}}convertTimestamp(e){const n=Hi(e);return new Jn(n.seconds,n.nanos)}convertDocumentKey(e,n){const o=Cn.fromString(e);on(Wr(o));const u=new D(o.get(1),o.get(3)),l=new It(o.popFirst(5));return u.isEqual(n)||xr(`Document ${l} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new Iu(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new zi(this.firestore,null,n)}}function Ty(i){i=ar(i,Os);const e=ar(i.firestore,wi),n=Wi(e),o=new Yu(e);return function tm(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new it(Be.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(i._query),jg(n,i._query).then(u=>new Du(e,o,i,u))}function My(i,e){const n=ar(i.firestore,wi),o=function Ql(i,e,...n){if(i=(0,Ee.m9)(i),1===arguments.length&&(e=po.R()),Gg("doc","path",e),i instanceof Gu){const o=Cn.fromString(e,...n);return rp(o),new zi(i,null,new It(o))}{if(!(i instanceof zi||i instanceof Pa))throw new it(Be.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Cn.fromString(e,...n));return rp(o),new zi(i.firestore,i instanceof Pa?i.converter:null,new It(o))}}(i),u=function vh(i,e,n){let o;return o=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,o}(i.converter,e);return function pl(i,e){return function(n,o){const u=new Hr;return n.asyncQueue.enqueueAndForget((0,_.Z)(function*(){return function kv(i,e,n){return Ag.apply(this,arguments)}(yield function Jf(i){return ol(i).then(e=>e.syncEngine)}(n),o,u)})),u.promise}(Wi(i),e)}(n,[Wu(ka(i.firestore),"addDoc",o._key,u,null!==i.converter,{}).toMutation(o._key,_i.exists(!1))]).then(()=>o)}!function(i,e=!0){ra=q.Jn,(0,q.Xd)(new _e.wA("firestore",(n,{instanceIdentifier:o,options:u})=>{const l=n.getProvider("app").getImmediate(),p=new wi(new Rr(n.getProvider("auth-internal")),new ru(n.getProvider("app-check-internal")),function(E,P){if(!Object.prototype.hasOwnProperty.apply(E.options,["projectId"]))throw new it(Be.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new D(E.options.projectId,P)}(l,o),l);return u=Object.assign({useFetchStreams:e},u),p._setSettings(u),p},"PUBLIC").setMultipleInstances(!0)),(0,q.KN)(Ro,"3.4.15",i),(0,q.KN)(Ro,"3.4.15","esm2017")}()},9751:(Yt,Xe,G)=>{G.d(Xe,{y:()=>we});var _=G(2961),q=G(727),_e=G(8822),ce=G(9635),Ee=G(2416),oe=G(576),Ce=G(2806);let we=(()=>{class Fe{constructor(Me){Me&&(this._subscribe=Me)}lift(Me){const ct=new Fe;return ct.source=this,ct.operator=Me,ct}subscribe(Me,ct,wt){const Vt=function ue(Fe){return Fe&&Fe instanceof _.Lv||function ee(Fe){return Fe&&(0,oe.m)(Fe.next)&&(0,oe.m)(Fe.error)&&(0,oe.m)(Fe.complete)}(Fe)&&(0,q.Nn)(Fe)}(Me)?Me:new _.Hp(Me,ct,wt);return(0,Ce.x)(()=>{const{operator:St,source:xt}=this;Vt.add(St?St.call(Vt,xt):xt?this._subscribe(Vt):this._trySubscribe(Vt))}),Vt}_trySubscribe(Me){try{return this._subscribe(Me)}catch(ct){Me.error(ct)}}forEach(Me,ct){return new(ct=qe(ct))((wt,Vt)=>{const St=new _.Hp({next:xt=>{try{Me(xt)}catch(pt){Vt(pt),St.unsubscribe()}},error:Vt,complete:wt});this.subscribe(St)})}_subscribe(Me){var ct;return null===(ct=this.source)||void 0===ct?void 0:ct.subscribe(Me)}[_e.L](){return this}pipe(...Me){return(0,ce.U)(Me)(this)}toPromise(Me){return new(Me=qe(Me))((ct,wt)=>{let Vt;this.subscribe(St=>Vt=St,St=>wt(St),()=>ct(Vt))})}}return Fe.create=tt=>new Fe(tt),Fe})();function qe(Fe){var tt;return null!==(tt=Fe??Ee.v.Promise)&&void 0!==tt?tt:Promise}},7579:(Yt,Xe,G)=>{G.d(Xe,{x:()=>Ce});var _=G(9751),q=G(727);const ce=(0,G(3888).d)(qe=>function(){qe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ee=G(8737),oe=G(2806);let Ce=(()=>{class qe extends _.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ue){const Fe=new we(this,this);return Fe.operator=ue,Fe}_throwIfClosed(){if(this.closed)throw new ce}next(ue){(0,oe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Fe of this.currentObservers)Fe.next(ue)}})}error(ue){(0,oe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ue;const{observers:Fe}=this;for(;Fe.length;)Fe.shift().error(ue)}})}complete(){(0,oe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ue}=this;for(;ue.length;)ue.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ue;return(null===(ue=this.observers)||void 0===ue?void 0:ue.length)>0}_trySubscribe(ue){return this._throwIfClosed(),super._trySubscribe(ue)}_subscribe(ue){return this._throwIfClosed(),this._checkFinalizedStatuses(ue),this._innerSubscribe(ue)}_innerSubscribe(ue){const{hasError:Fe,isStopped:tt,observers:Me}=this;return Fe||tt?q.Lc:(this.currentObservers=null,Me.push(ue),new q.w0(()=>{this.currentObservers=null,(0,Ee.P)(Me,ue)}))}_checkFinalizedStatuses(ue){const{hasError:Fe,thrownError:tt,isStopped:Me}=this;Fe?ue.error(tt):Me&&ue.complete()}asObservable(){const ue=new _.y;return ue.source=this,ue}}return qe.create=(ee,ue)=>new we(ee,ue),qe})();class we extends Ce{constructor(ee,ue){super(),this.destination=ee,this.source=ue}next(ee){var ue,Fe;null===(Fe=null===(ue=this.destination)||void 0===ue?void 0:ue.next)||void 0===Fe||Fe.call(ue,ee)}error(ee){var ue,Fe;null===(Fe=null===(ue=this.destination)||void 0===ue?void 0:ue.error)||void 0===Fe||Fe.call(ue,ee)}complete(){var ee,ue;null===(ue=null===(ee=this.destination)||void 0===ee?void 0:ee.complete)||void 0===ue||ue.call(ee)}_subscribe(ee){var ue,Fe;return null!==(Fe=null===(ue=this.source)||void 0===ue?void 0:ue.subscribe(ee))&&void 0!==Fe?Fe:q.Lc}}},2961:(Yt,Xe,G)=>{G.d(Xe,{Hp:()=>wt,Lv:()=>Fe});var _=G(576),q=G(727),_e=G(2416),ce=G(7849);function Ee(){}const oe=qe("C",void 0,void 0);function qe(We,et,Re){return{kind:We,value:et,error:Re}}var ee=G(3410),ue=G(2806);class Fe extends q.w0{constructor(et){super(),this.isStopped=!1,et?(this.destination=et,(0,q.Nn)(et)&&et.add(this)):this.destination=pt}static create(et,Re,yt){return new wt(et,Re,yt)}next(et){this.isStopped?xt(function we(We){return qe("N",We,void 0)}(et),this):this._next(et)}error(et){this.isStopped?xt(function Ce(We){return qe("E",void 0,We)}(et),this):(this.isStopped=!0,this._error(et))}complete(){this.isStopped?xt(oe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(et){this.destination.next(et)}_error(et){try{this.destination.error(et)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const tt=Function.prototype.bind;function Me(We,et){return tt.call(We,et)}class ct{constructor(et){this.partialObserver=et}next(et){const{partialObserver:Re}=this;if(Re.next)try{Re.next(et)}catch(yt){Vt(yt)}}error(et){const{partialObserver:Re}=this;if(Re.error)try{Re.error(et)}catch(yt){Vt(yt)}else Vt(et)}complete(){const{partialObserver:et}=this;if(et.complete)try{et.complete()}catch(Re){Vt(Re)}}}class wt extends Fe{constructor(et,Re,yt){let je;if(super(),(0,_.m)(et)||!et)je={next:et??void 0,error:Re??void 0,complete:yt??void 0};else{let Ie;this&&_e.v.useDeprecatedNextContext?(Ie=Object.create(et),Ie.unsubscribe=()=>this.unsubscribe(),je={next:et.next&&Me(et.next,Ie),error:et.error&&Me(et.error,Ie),complete:et.complete&&Me(et.complete,Ie)}):je=et}this.destination=new ct(je)}}function Vt(We){_e.v.useDeprecatedSynchronousErrorHandling?(0,ue.O)(We):(0,ce.h)(We)}function xt(We,et){const{onStoppedNotification:Re}=_e.v;Re&&ee.z.setTimeout(()=>Re(We,et))}const pt={closed:!0,next:Ee,error:function St(We){throw We},complete:Ee}},727:(Yt,Xe,G)=>{G.d(Xe,{Lc:()=>oe,w0:()=>Ee,Nn:()=>Ce});var _=G(576);const _e=(0,G(3888).d)(qe=>function(ue){qe(this),this.message=ue?`${ue.length} errors occurred during unsubscription:\n${ue.map((Fe,tt)=>`${tt+1}) ${Fe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ue});var ce=G(8737);class Ee{constructor(ee){this.initialTeardown=ee,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ee;if(!this.closed){this.closed=!0;const{_parentage:ue}=this;if(ue)if(this._parentage=null,Array.isArray(ue))for(const Me of ue)Me.remove(this);else ue.remove(this);const{initialTeardown:Fe}=this;if((0,_.m)(Fe))try{Fe()}catch(Me){ee=Me instanceof _e?Me.errors:[Me]}const{_finalizers:tt}=this;if(tt){this._finalizers=null;for(const Me of tt)try{we(Me)}catch(ct){ee=ee??[],ct instanceof _e?ee=[...ee,...ct.errors]:ee.push(ct)}}if(ee)throw new _e(ee)}}add(ee){var ue;if(ee&&ee!==this)if(this.closed)we(ee);else{if(ee instanceof Ee){if(ee.closed||ee._hasParent(this))return;ee._addParent(this)}(this._finalizers=null!==(ue=this._finalizers)&&void 0!==ue?ue:[]).push(ee)}}_hasParent(ee){const{_parentage:ue}=this;return ue===ee||Array.isArray(ue)&&ue.includes(ee)}_addParent(ee){const{_parentage:ue}=this;this._parentage=Array.isArray(ue)?(ue.push(ee),ue):ue?[ue,ee]:ee}_removeParent(ee){const{_parentage:ue}=this;ue===ee?this._parentage=null:Array.isArray(ue)&&(0,ce.P)(ue,ee)}remove(ee){const{_finalizers:ue}=this;ue&&(0,ce.P)(ue,ee),ee instanceof Ee&&ee._removeParent(this)}}Ee.EMPTY=(()=>{const qe=new Ee;return qe.closed=!0,qe})();const oe=Ee.EMPTY;function Ce(qe){return qe instanceof Ee||qe&&"closed"in qe&&(0,_.m)(qe.remove)&&(0,_.m)(qe.add)&&(0,_.m)(qe.unsubscribe)}function we(qe){(0,_.m)(qe)?qe():qe.unsubscribe()}},2416:(Yt,Xe,G)=>{G.d(Xe,{v:()=>_});const _={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Yt,Xe,G)=>{G.d(Xe,{E:()=>q});const q=new(G(9751).y)(Ee=>Ee.complete())},8996:(Yt,Xe,G)=>{G.d(Xe,{D:()=>et});var _=G(8421),q=G(5363),_e=G(9468),oe=G(9751),we=G(2202),qe=G(576),ee=G(9672);function Fe(Re,yt){if(!Re)throw new Error("Iterable cannot be null");return new oe.y(je=>{(0,ee.f)(je,yt,()=>{const Ie=Re[Symbol.asyncIterator]();(0,ee.f)(je,yt,()=>{Ie.next().then(nt=>{nt.done?je.complete():je.next(nt.value)})},0,!0)})})}var tt=G(3670),Me=G(8239),ct=G(1144),wt=G(6495),Vt=G(2206),St=G(4532),xt=G(3260);function et(Re,yt){return yt?function We(Re,yt){if(null!=Re){if((0,tt.c)(Re))return function ce(Re,yt){return(0,_.Xf)(Re).pipe((0,_e.R)(yt),(0,q.Q)(yt))}(Re,yt);if((0,ct.z)(Re))return function Ce(Re,yt){return new oe.y(je=>{let Ie=0;return yt.schedule(function(){Ie===Re.length?je.complete():(je.next(Re[Ie++]),je.closed||this.schedule())})})}(Re,yt);if((0,Me.t)(Re))return function Ee(Re,yt){return(0,_.Xf)(Re).pipe((0,_e.R)(yt),(0,q.Q)(yt))}(Re,yt);if((0,Vt.D)(Re))return Fe(Re,yt);if((0,wt.T)(Re))return function ue(Re,yt){return new oe.y(je=>{let Ie;return(0,ee.f)(je,yt,()=>{Ie=Re[we.h](),(0,ee.f)(je,yt,()=>{let nt,me;try{({value:nt,done:me}=Ie.next())}catch(ve){return void je.error(ve)}me?je.complete():je.next(nt)},0,!0)}),()=>(0,qe.m)(Ie?.return)&&Ie.return()})}(Re,yt);if((0,xt.L)(Re))return function pt(Re,yt){return Fe((0,xt.Q)(Re),yt)}(Re,yt)}throw(0,St.z)(Re)}(Re,yt):(0,_.Xf)(Re)}},8421:(Yt,Xe,G)=>{G.d(Xe,{Xf:()=>tt});var _=G(655),q=G(1144),_e=G(8239),ce=G(9751),Ee=G(3670),oe=G(2206),Ce=G(4532),we=G(6495),qe=G(3260),ee=G(576),ue=G(7849),Fe=G(8822);function tt(We){if(We instanceof ce.y)return We;if(null!=We){if((0,Ee.c)(We))return function Me(We){return new ce.y(et=>{const Re=We[Fe.L]();if((0,ee.m)(Re.subscribe))return Re.subscribe(et);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(We);if((0,q.z)(We))return function ct(We){return new ce.y(et=>{for(let Re=0;Re<We.length&&!et.closed;Re++)et.next(We[Re]);et.complete()})}(We);if((0,_e.t)(We))return function wt(We){return new ce.y(et=>{We.then(Re=>{et.closed||(et.next(Re),et.complete())},Re=>et.error(Re)).then(null,ue.h)})}(We);if((0,oe.D)(We))return St(We);if((0,we.T)(We))return function Vt(We){return new ce.y(et=>{for(const Re of We)if(et.next(Re),et.closed)return;et.complete()})}(We);if((0,qe.L)(We))return function xt(We){return St((0,qe.Q)(We))}(We)}throw(0,Ce.z)(We)}function St(We){return new ce.y(et=>{(function pt(We,et){var Re,yt,je,Ie;return(0,_.mG)(this,void 0,void 0,function*(){try{for(Re=(0,_.KL)(We);!(yt=yield Re.next()).done;)if(et.next(yt.value),et.closed)return}catch(nt){je={error:nt}}finally{try{yt&&!yt.done&&(Ie=Re.return)&&(yield Ie.call(Re))}finally{if(je)throw je.error}}et.complete()})})(We,et).catch(Re=>et.error(Re))})}},5403:(Yt,Xe,G)=>{G.d(Xe,{x:()=>q});var _=G(2961);function q(ce,Ee,oe,Ce,we){return new _e(ce,Ee,oe,Ce,we)}class _e extends _.Lv{constructor(Ee,oe,Ce,we,qe,ee){super(Ee),this.onFinalize=qe,this.shouldUnsubscribe=ee,this._next=oe?function(ue){try{oe(ue)}catch(Fe){Ee.error(Fe)}}:super._next,this._error=we?function(ue){try{we(ue)}catch(Fe){Ee.error(Fe)}finally{this.unsubscribe()}}:super._error,this._complete=Ce?function(){try{Ce()}catch(ue){Ee.error(ue)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Ee;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:oe}=this;super.unsubscribe(),!oe&&(null===(Ee=this.onFinalize)||void 0===Ee||Ee.call(this))}}}},4004:(Yt,Xe,G)=>{G.d(Xe,{U:()=>_e});var _=G(4482),q=G(5403);function _e(ce,Ee){return(0,_.e)((oe,Ce)=>{let we=0;oe.subscribe((0,q.x)(Ce,qe=>{Ce.next(ce.call(Ee,qe,we++))}))})}},8189:(Yt,Xe,G)=>{G.d(Xe,{J:()=>_e});var _=G(5577),q=G(4671);function _e(ce=1/0){return(0,_.z)(q.y,ce)}},5577:(Yt,Xe,G)=>{G.d(Xe,{z:()=>we});var _=G(4004),q=G(8421),_e=G(4482),ce=G(9672),Ee=G(5403),Ce=G(576);function we(qe,ee,ue=1/0){return(0,Ce.m)(ee)?we((Fe,tt)=>(0,_.U)((Me,ct)=>ee(Fe,Me,tt,ct))((0,q.Xf)(qe(Fe,tt))),ue):("number"==typeof ee&&(ue=ee),(0,_e.e)((Fe,tt)=>function oe(qe,ee,ue,Fe,tt,Me,ct,wt){const Vt=[];let St=0,xt=0,pt=!1;const We=()=>{pt&&!Vt.length&&!St&&ee.complete()},et=yt=>St<Fe?Re(yt):Vt.push(yt),Re=yt=>{Me&&ee.next(yt),St++;let je=!1;(0,q.Xf)(ue(yt,xt++)).subscribe((0,Ee.x)(ee,Ie=>{tt?.(Ie),Me?et(Ie):ee.next(Ie)},()=>{je=!0},void 0,()=>{if(je)try{for(St--;Vt.length&&St<Fe;){const Ie=Vt.shift();ct?(0,ce.f)(ee,ct,()=>Re(Ie)):Re(Ie)}We()}catch(Ie){ee.error(Ie)}}))};return qe.subscribe((0,Ee.x)(ee,et,()=>{pt=!0,We()})),()=>{wt?.()}}(Fe,tt,qe,ue)))}},5363:(Yt,Xe,G)=>{G.d(Xe,{Q:()=>ce});var _=G(9672),q=G(4482),_e=G(5403);function ce(Ee,oe=0){return(0,q.e)((Ce,we)=>{Ce.subscribe((0,_e.x)(we,qe=>(0,_.f)(we,Ee,()=>we.next(qe),oe),()=>(0,_.f)(we,Ee,()=>we.complete(),oe),qe=>(0,_.f)(we,Ee,()=>we.error(qe),oe)))})}},9468:(Yt,Xe,G)=>{G.d(Xe,{R:()=>q});var _=G(4482);function q(_e,ce=0){return(0,_.e)((Ee,oe)=>{oe.add(_e.schedule(()=>Ee.subscribe(oe),ce))})}},5698:(Yt,Xe,G)=>{G.d(Xe,{q:()=>ce});var _=G(515),q=G(4482),_e=G(5403);function ce(Ee){return Ee<=0?()=>_.E:(0,q.e)((oe,Ce)=>{let we=0;oe.subscribe((0,_e.x)(Ce,qe=>{++we<=Ee&&(Ce.next(qe),Ee<=we&&Ce.complete())}))})}},8505:(Yt,Xe,G)=>{G.d(Xe,{b:()=>Ee});var _=G(576),q=G(4482),_e=G(5403),ce=G(4671);function Ee(oe,Ce,we){const qe=(0,_.m)(oe)||Ce||we?{next:oe,error:Ce,complete:we}:oe;return qe?(0,q.e)((ee,ue)=>{var Fe;null===(Fe=qe.subscribe)||void 0===Fe||Fe.call(qe);let tt=!0;ee.subscribe((0,_e.x)(ue,Me=>{var ct;null===(ct=qe.next)||void 0===ct||ct.call(qe,Me),ue.next(Me)},()=>{var Me;tt=!1,null===(Me=qe.complete)||void 0===Me||Me.call(qe),ue.complete()},Me=>{var ct;tt=!1,null===(ct=qe.error)||void 0===ct||ct.call(qe,Me),ue.error(Me)},()=>{var Me,ct;tt&&(null===(Me=qe.unsubscribe)||void 0===Me||Me.call(qe)),null===(ct=qe.finalize)||void 0===ct||ct.call(qe)}))}):ce.y}},3410:(Yt,Xe,G)=>{G.d(Xe,{z:()=>_});const _={setTimeout(q,_e,...ce){const{delegate:Ee}=_;return Ee?.setTimeout?Ee.setTimeout(q,_e,...ce):setTimeout(q,_e,...ce)},clearTimeout(q){const{delegate:_e}=_;return(_e?.clearTimeout||clearTimeout)(q)},delegate:void 0}},2202:(Yt,Xe,G)=>{G.d(Xe,{h:()=>q});const q=function _(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Yt,Xe,G)=>{G.d(Xe,{L:()=>_});const _="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(Yt,Xe,G)=>{G.d(Xe,{_6:()=>oe,jO:()=>ce,yG:()=>Ee});var _=G(576);function _e(Ce){return Ce[Ce.length-1]}function ce(Ce){return(0,_.m)(_e(Ce))?Ce.pop():void 0}function Ee(Ce){return function q(Ce){return Ce&&(0,_.m)(Ce.schedule)}(_e(Ce))?Ce.pop():void 0}function oe(Ce,we){return"number"==typeof _e(Ce)?Ce.pop():we}},4742:(Yt,Xe,G)=>{G.d(Xe,{D:()=>Ee});const{isArray:_}=Array,{getPrototypeOf:q,prototype:_e,keys:ce}=Object;function Ee(Ce){if(1===Ce.length){const we=Ce[0];if(_(we))return{args:we,keys:null};if(function oe(Ce){return Ce&&"object"==typeof Ce&&q(Ce)===_e}(we)){const qe=ce(we);return{args:qe.map(ee=>we[ee]),keys:qe}}}return{args:Ce,keys:null}}},8737:(Yt,Xe,G)=>{function _(q,_e){if(q){const ce=q.indexOf(_e);0<=ce&&q.splice(ce,1)}}G.d(Xe,{P:()=>_})},3888:(Yt,Xe,G)=>{function _(q){const ce=q(Ee=>{Error.call(Ee),Ee.stack=(new Error).stack});return ce.prototype=Object.create(Error.prototype),ce.prototype.constructor=ce,ce}G.d(Xe,{d:()=>_})},1810:(Yt,Xe,G)=>{function _(q,_e){return q.reduce((ce,Ee,oe)=>(ce[Ee]=_e[oe],ce),{})}G.d(Xe,{n:()=>_})},2806:(Yt,Xe,G)=>{G.d(Xe,{O:()=>ce,x:()=>_e});var _=G(2416);let q=null;function _e(Ee){if(_.v.useDeprecatedSynchronousErrorHandling){const oe=!q;if(oe&&(q={errorThrown:!1,error:null}),Ee(),oe){const{errorThrown:Ce,error:we}=q;if(q=null,Ce)throw we}}else Ee()}function ce(Ee){_.v.useDeprecatedSynchronousErrorHandling&&q&&(q.errorThrown=!0,q.error=Ee)}},9672:(Yt,Xe,G)=>{function _(q,_e,ce,Ee=0,oe=!1){const Ce=_e.schedule(function(){ce(),oe?q.add(this.schedule(null,Ee)):this.unsubscribe()},Ee);if(q.add(Ce),!oe)return Ce}G.d(Xe,{f:()=>_})},4671:(Yt,Xe,G)=>{function _(q){return q}G.d(Xe,{y:()=>_})},1144:(Yt,Xe,G)=>{G.d(Xe,{z:()=>_});const _=q=>q&&"number"==typeof q.length&&"function"!=typeof q},2206:(Yt,Xe,G)=>{G.d(Xe,{D:()=>q});var _=G(576);function q(_e){return Symbol.asyncIterator&&(0,_.m)(_e?.[Symbol.asyncIterator])}},576:(Yt,Xe,G)=>{function _(q){return"function"==typeof q}G.d(Xe,{m:()=>_})},3670:(Yt,Xe,G)=>{G.d(Xe,{c:()=>_e});var _=G(8822),q=G(576);function _e(ce){return(0,q.m)(ce[_.L])}},6495:(Yt,Xe,G)=>{G.d(Xe,{T:()=>_e});var _=G(2202),q=G(576);function _e(ce){return(0,q.m)(ce?.[_.h])}},8239:(Yt,Xe,G)=>{G.d(Xe,{t:()=>q});var _=G(576);function q(_e){return(0,_.m)(_e?.then)}},3260:(Yt,Xe,G)=>{G.d(Xe,{L:()=>ce,Q:()=>_e});var _=G(655),q=G(576);function _e(Ee){return(0,_.FC)(this,arguments,function*(){const Ce=Ee.getReader();try{for(;;){const{value:we,done:qe}=yield(0,_.qq)(Ce.read());if(qe)return yield(0,_.qq)(void 0);yield yield(0,_.qq)(we)}}finally{Ce.releaseLock()}})}function ce(Ee){return(0,q.m)(Ee?.getReader)}},4482:(Yt,Xe,G)=>{G.d(Xe,{A:()=>q,e:()=>_e});var _=G(576);function q(ce){return(0,_.m)(ce?.lift)}function _e(ce){return Ee=>{if(q(Ee))return Ee.lift(function(oe){try{return ce(oe,this)}catch(Ce){this.error(Ce)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(Yt,Xe,G)=>{G.d(Xe,{Z:()=>ce});var _=G(4004);const{isArray:q}=Array;function ce(Ee){return(0,_.U)(oe=>function _e(Ee,oe){return q(oe)?Ee(...oe):Ee(oe)}(Ee,oe))}},9635:(Yt,Xe,G)=>{G.d(Xe,{U:()=>_e,z:()=>q});var _=G(4671);function q(...ce){return _e(ce)}function _e(ce){return 0===ce.length?_.y:1===ce.length?ce[0]:function(oe){return ce.reduce((Ce,we)=>we(Ce),oe)}}},7849:(Yt,Xe,G)=>{G.d(Xe,{h:()=>_e});var _=G(2416),q=G(3410);function _e(ce){q.z.setTimeout(()=>{const{onUnhandledError:Ee}=_.v;if(!Ee)throw ce;Ee(ce)})}},4532:(Yt,Xe,G)=>{function _(q){return new TypeError(`You provided ${null!==q&&"object"==typeof q?"an invalid object":`'${q}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}G.d(Xe,{z:()=>_})},655:(Yt,Xe,G)=>{function ce(me,ve){var K={};for(var de in me)Object.prototype.hasOwnProperty.call(me,de)&&ve.indexOf(de)<0&&(K[de]=me[de]);if(null!=me&&"function"==typeof Object.getOwnPropertySymbols){var Le=0;for(de=Object.getOwnPropertySymbols(me);Le<de.length;Le++)ve.indexOf(de[Le])<0&&Object.prototype.propertyIsEnumerable.call(me,de[Le])&&(K[de[Le]]=me[de[Le]])}return K}function we(me,ve,K,de){return new(K||(K=Promise))(function($e,lt){function $t(rn){try{vt(de.next(rn))}catch(Vn){lt(Vn)}}function Yn(rn){try{vt(de.throw(rn))}catch(Vn){lt(Vn)}}function vt(rn){rn.done?$e(rn.value):function Le($e){return $e instanceof K?$e:new K(function(lt){lt($e)})}(rn.value).then($t,Yn)}vt((de=de.apply(me,ve||[])).next())})}function Vt(me){return this instanceof Vt?(this.v=me,this):new Vt(me)}function St(me,ve,K){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Le,de=K.apply(me,ve||[]),$e=[];return Le={},lt("next"),lt("throw"),lt("return"),Le[Symbol.asyncIterator]=function(){return this},Le;function lt(Dn){de[Dn]&&(Le[Dn]=function(vr){return new Promise(function(Qn,kn){$e.push([Dn,vr,Qn,kn])>1||$t(Dn,vr)})})}function $t(Dn,vr){try{!function Yn(Dn){Dn.value instanceof Vt?Promise.resolve(Dn.value.v).then(vt,rn):Vn($e[0][2],Dn)}(de[Dn](vr))}catch(Qn){Vn($e[0][3],Qn)}}function vt(Dn){$t("next",Dn)}function rn(Dn){$t("throw",Dn)}function Vn(Dn,vr){Dn(vr),$e.shift(),$e.length&&$t($e[0][0],$e[0][1])}}function pt(me){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var K,ve=me[Symbol.asyncIterator];return ve?ve.call(me):(me=function Fe(me){var ve="function"==typeof Symbol&&Symbol.iterator,K=ve&&me[ve],de=0;if(K)return K.call(me);if(me&&"number"==typeof me.length)return{next:function(){return me&&de>=me.length&&(me=void 0),{value:me&&me[de++],done:!me}}};throw new TypeError(ve?"Object is not iterable.":"Symbol.iterator is not defined.")}(me),K={},de("next"),de("throw"),de("return"),K[Symbol.asyncIterator]=function(){return this},K);function de($e){K[$e]=me[$e]&&function(lt){return new Promise(function($t,Yn){!function Le($e,lt,$t,Yn){Promise.resolve(Yn).then(function(vt){$e({value:vt,done:$t})},lt)}($t,Yn,(lt=me[$e](lt)).done,lt.value)})}}}G.d(Xe,{FC:()=>St,KL:()=>pt,_T:()=>ce,mG:()=>we,qq:()=>Vt})},6895:(Yt,Xe,G)=>{G.d(Xe,{Do:()=>pt,EM:()=>vi,HT:()=>Ee,JF:()=>co,K0:()=>Ce,Mx:()=>_s,O5:()=>De,S$:()=>Vt,V_:()=>ee,Ye:()=>We,b0:()=>xt,bD:()=>jn,ez:()=>Ls,q:()=>_e,sg:()=>Gr,w_:()=>oe});var _=G(8256);let q=null;function _e(){return q}function Ee(T){q||(q=T)}class oe{}const Ce=new _.OlP("DocumentToken");let we=(()=>{class T{historyGo(M){throw new Error("Not implemented")}}return T.\u0275fac=function(M){return new(M||T)},T.\u0275prov=_.Yz7({token:T,factory:function(){return function qe(){return(0,_.LFG)(ue)}()},providedIn:"platform"}),T})();const ee=new _.OlP("Location Initialized");let ue=(()=>{class T extends we{constructor(M){super(),this._doc=M,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return _e().getBaseHref(this._doc)}onPopState(M){const $=_e().getGlobalEventTarget(this._doc,"window");return $.addEventListener("popstate",M,!1),()=>$.removeEventListener("popstate",M)}onHashChange(M){const $=_e().getGlobalEventTarget(this._doc,"window");return $.addEventListener("hashchange",M,!1),()=>$.removeEventListener("hashchange",M)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(M){this.location.pathname=M}pushState(M,$,se){Fe()?this._history.pushState(M,$,se):this.location.hash=se}replaceState(M,$,se){Fe()?this._history.replaceState(M,$,se):this.location.hash=se}forward(){this._history.forward()}back(){this._history.back()}historyGo(M=0){this._history.go(M)}getState(){return this._history.state}}return T.\u0275fac=function(M){return new(M||T)(_.LFG(Ce))},T.\u0275prov=_.Yz7({token:T,factory:function(){return function tt(){return new ue((0,_.LFG)(Ce))}()},providedIn:"platform"}),T})();function Fe(){return!!window.history.pushState}function Me(T,F){if(0==T.length)return F;if(0==F.length)return T;let M=0;return T.endsWith("/")&&M++,F.startsWith("/")&&M++,2==M?T+F.substring(1):1==M?T+F:T+"/"+F}function ct(T){const F=T.match(/#|\?|$/),M=F&&F.index||T.length;return T.slice(0,M-("/"===T[M-1]?1:0))+T.slice(M)}function wt(T){return T&&"?"!==T[0]?"?"+T:T}let Vt=(()=>{class T{historyGo(M){throw new Error("Not implemented")}}return T.\u0275fac=function(M){return new(M||T)},T.\u0275prov=_.Yz7({token:T,factory:function(){return(0,_.f3M)(xt)},providedIn:"root"}),T})();const St=new _.OlP("appBaseHref");let xt=(()=>{class T extends Vt{constructor(M,$){super(),this._platformLocation=M,this._removeListenerFns=[],this._baseHref=$??this._platformLocation.getBaseHrefFromDOM()??(0,_.f3M)(Ce).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(M){this._removeListenerFns.push(this._platformLocation.onPopState(M),this._platformLocation.onHashChange(M))}getBaseHref(){return this._baseHref}prepareExternalUrl(M){return Me(this._baseHref,M)}path(M=!1){const $=this._platformLocation.pathname+wt(this._platformLocation.search),se=this._platformLocation.hash;return se&&M?`${$}${se}`:$}pushState(M,$,se,Ve){const Ze=this.prepareExternalUrl(se+wt(Ve));this._platformLocation.pushState(M,$,Ze)}replaceState(M,$,se,Ve){const Ze=this.prepareExternalUrl(se+wt(Ve));this._platformLocation.replaceState(M,$,Ze)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(M=0){this._platformLocation.historyGo?.(M)}}return T.\u0275fac=function(M){return new(M||T)(_.LFG(we),_.LFG(St,8))},T.\u0275prov=_.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})(),pt=(()=>{class T extends Vt{constructor(M,$){super(),this._platformLocation=M,this._baseHref="",this._removeListenerFns=[],null!=$&&(this._baseHref=$)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(M){this._removeListenerFns.push(this._platformLocation.onPopState(M),this._platformLocation.onHashChange(M))}getBaseHref(){return this._baseHref}path(M=!1){let $=this._platformLocation.hash;return null==$&&($="#"),$.length>0?$.substring(1):$}prepareExternalUrl(M){const $=Me(this._baseHref,M);return $.length>0?"#"+$:$}pushState(M,$,se,Ve){let Ze=this.prepareExternalUrl(se+wt(Ve));0==Ze.length&&(Ze=this._platformLocation.pathname),this._platformLocation.pushState(M,$,Ze)}replaceState(M,$,se,Ve){let Ze=this.prepareExternalUrl(se+wt(Ve));0==Ze.length&&(Ze=this._platformLocation.pathname),this._platformLocation.replaceState(M,$,Ze)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(M=0){this._platformLocation.historyGo?.(M)}}return T.\u0275fac=function(M){return new(M||T)(_.LFG(we),_.LFG(St,8))},T.\u0275prov=_.Yz7({token:T,factory:T.\u0275fac}),T})(),We=(()=>{class T{constructor(M){this._subject=new _.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=M;const $=this._locationStrategy.getBaseHref();this._baseHref=ct(yt($)),this._locationStrategy.onPopState(se=>{this._subject.emit({url:this.path(!0),pop:!0,state:se.state,type:se.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(M=!1){return this.normalize(this._locationStrategy.path(M))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(M,$=""){return this.path()==this.normalize(M+wt($))}normalize(M){return T.stripTrailingSlash(function Re(T,F){return T&&F.startsWith(T)?F.substring(T.length):F}(this._baseHref,yt(M)))}prepareExternalUrl(M){return M&&"/"!==M[0]&&(M="/"+M),this._locationStrategy.prepareExternalUrl(M)}go(M,$="",se=null){this._locationStrategy.pushState(se,"",M,$),this._notifyUrlChangeListeners(this.prepareExternalUrl(M+wt($)),se)}replaceState(M,$="",se=null){this._locationStrategy.replaceState(se,"",M,$),this._notifyUrlChangeListeners(this.prepareExternalUrl(M+wt($)),se)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(M=0){this._locationStrategy.historyGo?.(M)}onUrlChange(M){return this._urlChangeListeners.push(M),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe($=>{this._notifyUrlChangeListeners($.url,$.state)})),()=>{const $=this._urlChangeListeners.indexOf(M);this._urlChangeListeners.splice($,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(M="",$){this._urlChangeListeners.forEach(se=>se(M,$))}subscribe(M,$,se){return this._subject.subscribe({next:M,error:$,complete:se})}}return T.normalizeQueryParams=wt,T.joinWithSlash=Me,T.stripTrailingSlash=ct,T.\u0275fac=function(M){return new(M||T)(_.LFG(Vt))},T.\u0275prov=_.Yz7({token:T,factory:function(){return function et(){return new We((0,_.LFG)(Vt))}()},providedIn:"root"}),T})();function yt(T){return T.replace(/\/index.html$/,"")}function _s(T,F){F=encodeURIComponent(F);for(const M of T.split(";")){const $=M.indexOf("="),[se,Ve]=-1==$?[M,""]:[M.slice(0,$),M.slice($+1)];if(se.trim()===F)return decodeURIComponent(Ve)}return null}class ei{constructor(F,M,$,se){this.$implicit=F,this.ngForOf=M,this.index=$,this.count=se}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Gr=(()=>{class T{constructor(M,$,se){this._viewContainer=M,this._template=$,this._differs=se,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(M){this._ngForOf=M,this._ngForOfDirty=!0}set ngForTrackBy(M){this._trackByFn=M}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(M){M&&(this._template=M)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const M=this._ngForOf;!this._differ&&M&&(this._differ=this._differs.find(M).create(this.ngForTrackBy))}if(this._differ){const M=this._differ.diff(this._ngForOf);M&&this._applyChanges(M)}}_applyChanges(M){const $=this._viewContainer;M.forEachOperation((se,Ve,Ze)=>{if(null==se.previousIndex)$.createEmbeddedView(this._template,new ei(se.item,this._ngForOf,-1,-1),null===Ze?void 0:Ze);else if(null==Ze)$.remove(null===Ve?void 0:Ve);else if(null!==Ve){const Dt=$.get(Ve);$.move(Dt,Ze),pe(Dt,se)}});for(let se=0,Ve=$.length;se<Ve;se++){const Dt=$.get(se).context;Dt.index=se,Dt.count=Ve,Dt.ngForOf=this._ngForOf}M.forEachIdentityChange(se=>{pe($.get(se.currentIndex),se)})}static ngTemplateContextGuard(M,$){return!0}}return T.\u0275fac=function(M){return new(M||T)(_.Y36(_.s_b),_.Y36(_.Rgc),_.Y36(_.ZZ4))},T.\u0275dir=_.lG2({type:T,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),T})();function pe(T,F){T.context.$implicit=F.item}let De=(()=>{class T{constructor(M,$){this._viewContainer=M,this._context=new ze,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=$}set ngIf(M){this._context.$implicit=this._context.ngIf=M,this._updateView()}set ngIfThen(M){ot("ngIfThen",M),this._thenTemplateRef=M,this._thenViewRef=null,this._updateView()}set ngIfElse(M){ot("ngIfElse",M),this._elseTemplateRef=M,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(M,$){return!0}}return T.\u0275fac=function(M){return new(M||T)(_.Y36(_.s_b),_.Y36(_.Rgc))},T.\u0275dir=_.lG2({type:T,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),T})();class ze{constructor(){this.$implicit=null,this.ngIf=null}}function ot(T,F){if(F&&!F.createEmbeddedView)throw new Error(`${T} must be a TemplateRef, but received '${(0,_.AaK)(F)}'.`)}let Ls=(()=>{class T{}return T.\u0275fac=function(M){return new(M||T)},T.\u0275mod=_.oAB({type:T}),T.\u0275inj=_.cJS({}),T})();const jn="browser";let vi=(()=>{class T{}return T.\u0275prov=(0,_.Yz7)({token:T,providedIn:"root",factory:()=>new ci((0,_.LFG)(Ce),window)}),T})();class ci{constructor(F,M){this.document=F,this.window=M,this.offset=()=>[0,0]}setOffset(F){this.offset=Array.isArray(F)?()=>F:F}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(F){this.supportsScrolling()&&this.window.scrollTo(F[0],F[1])}scrollToAnchor(F){if(!this.supportsScrolling())return;const M=function $i(T,F){const M=T.getElementById(F)||T.getElementsByName(F)[0];if(M)return M;if("function"==typeof T.createTreeWalker&&T.body&&(T.body.createShadowRoot||T.body.attachShadow)){const $=T.createTreeWalker(T.body,NodeFilter.SHOW_ELEMENT);let se=$.currentNode;for(;se;){const Ve=se.shadowRoot;if(Ve){const Ze=Ve.getElementById(F)||Ve.querySelector(`[name="${F}"]`);if(Ze)return Ze}se=$.nextNode()}}return null}(this.document,F);M&&(this.scrollToElement(M),M.focus())}setHistoryScrollRestoration(F){if(this.supportScrollRestoration()){const M=this.window.history;M&&M.scrollRestoration&&(M.scrollRestoration=F)}}scrollToElement(F){const M=F.getBoundingClientRect(),$=M.left+this.window.pageXOffset,se=M.top+this.window.pageYOffset,Ve=this.offset();this.window.scrollTo($-Ve[0],se-Ve[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const F=Bi(this.window.history)||Bi(Object.getPrototypeOf(this.window.history));return!(!F||!F.writable&&!F.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Bi(T){return Object.getOwnPropertyDescriptor(T,"scrollRestoration")}class co{}},8256:(Yt,Xe,G)=>{G.d(Xe,{tb:()=>zw,AFp:()=>jw,ip1:()=>$w,CZH:()=>_m,hGG:()=>LD,z2F:()=>Im,sBO:()=>ID,Sil:()=>nD,_Vd:()=>qa,EJc:()=>eD,Xts:()=>yd,SBq:()=>yu,lqb:()=>Ou,qLn:()=>Na,vpe:()=>Qu,XFs:()=>gt,OlP:()=>Kn,zs3:()=>da,ZZ4:()=>fv,aQg:()=>pv,soG:()=>wm,YKP:()=>Q_,h0i:()=>Dh,PXZ:()=>gD,R0b:()=>eu,FiY:()=>mt,Lbi:()=>QE,g9A:()=>Gw,Qsj:()=>Dd,FYo:()=>Gc,JOm:()=>io,tp0:()=>fn,Rgc:()=>Ip,dDg:()=>dD,eoX:()=>Jw,q4F:()=>Pp,GfV:()=>Cd,s_b:()=>mm,ifc:()=>Br,MMx:()=>jy,Lck:()=>j0,eFA:()=>tI,G48:()=>wD,Gpc:()=>xt,f3M:()=>A,_c5:()=>FD,c2e:()=>JE,zSh:()=>xl,wAp:()=>wn,vHH:()=>Re,lri:()=>Yw,rWj:()=>Qw,D6c:()=>VD,cg1:()=>Py,kL8:()=>E_,dqk:()=>Ut,Z0I:()=>qr,sIi:()=>cl,CqO:()=>fp,QGY:()=>hp,QP$:()=>jt,F4k:()=>_y,RDi:()=>Pc,AaK:()=>wt,qOj:()=>Wi,TTD:()=>ui,_Bn:()=>Y_,jDz:()=>X_,xp6:()=>ag,uIk:()=>op,ekj:()=>lm,Suo:()=>vw,Xpm:()=>en,lG2:()=>be,Yz7:()=>zn,cJS:()=>tr,oAB:()=>Tr,Yjl:()=>le,Y36:()=>Lu,_UZ:()=>em,BQk:()=>gh,ynx:()=>dp,qZA:()=>ph,TgZ:()=>Du,EpF:()=>vy,n5z:()=>Fo,LFG:()=>pi,$8M:()=>sa,$Z:()=>xf,NdJ:()=>rm,CRH:()=>_w,kcU:()=>di,O4$:()=>Ss,oxw:()=>Dy,Q6J:()=>Eu,s9C:()=>mh,DdM:()=>ow,iGM:()=>yw,KtG:()=>Yo,CHM:()=>Ts,LSH:()=>xu,YNc:()=>dh,_uU:()=>Yr,Oqu:()=>Vr,hij:()=>cs});var _=G(7579),q=G(727),_e=G(9751),ce=G(8189),Ee=G(8421),oe=G(515),Ce=G(7669),we=G(8996),ee=G(2961),ue=G(4482);function tt(t,r,...s){if(!0===r)return void t();if(!1===r)return;const a=new ee.Hp({next:()=>{a.unsubscribe(),t()}});return r(...s).subscribe(a)}function Me(t){for(let r in t)if(t[r]===Me)return r;throw Error("Could not find renamed property on target object.")}function ct(t,r){for(const s in r)r.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(t[s]=r[s])}function wt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(wt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const r=t.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function Vt(t,r){return null==t||""===t?null===r?"":r:null==r||""===r?t:t+" "+r}const St=Me({__forward_ref__:Me});function xt(t){return t.__forward_ref__=xt,t.toString=function(){return wt(this())},t}function pt(t){return We(t)?t():t}function We(t){return"function"==typeof t&&t.hasOwnProperty(St)&&t.__forward_ref__===xt}class Re extends Error{constructor(r,s){super(function yt(t,r){return`NG0${Math.abs(t)}${r?": "+r.trim():""}`}(r,s)),this.code=r}}function je(t){return"string"==typeof t?t:null==t?"":String(t)}function K(t,r){throw new Re(-201,!1)}function un(t,r){null==t&&function sn(t,r,s,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${s} ${a} ${r} <=Actual]`))}(r,t,null,"!=")}function zn(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function tr(t){return{providers:t.providers||[],imports:t.imports||[]}}function Wn(t){return At(t,wr)||At(t,cn)}function qr(t){return null!==Wn(t)}function At(t,r){return t.hasOwnProperty(r)?t[r]:null}function nr(t){return t&&(t.hasOwnProperty(gi)||t.hasOwnProperty(br))?t[gi]:null}const wr=Me({\u0275prov:Me}),gi=Me({\u0275inj:Me}),cn=Me({ngInjectableDef:Me}),br=Me({ngInjectorDef:Me});var gt=(()=>((gt=gt||{})[gt.Default=0]="Default",gt[gt.Host=1]="Host",gt[gt.Self=2]="Self",gt[gt.SkipSelf=4]="SkipSelf",gt[gt.Optional=8]="Optional",gt))();let Et;function vn(t){const r=Et;return Et=t,r}function Bn(t,r,s){const a=Wn(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&gt.Optional?null:void 0!==r?r:void K(wt(t))}function sr(t){return{toString:t}.toString()}var An=(()=>((An=An||{})[An.OnPush=0]="OnPush",An[An.Default=1]="Default",An))(),Br=(()=>{return(t=Br||(Br={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",Br;var t})();const Ut=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),X={},te=[],ie=Me({\u0275cmp:Me}),Oe=Me({\u0275dir:Me}),ht=Me({\u0275pipe:Me}),Ot=Me({\u0275mod:Me}),qt=Me({\u0275fac:Me}),Ft=Me({__NG_ELEMENT_ID__:Me});let gn=0;function en(t){return sr(()=>{const s=!0===t.standalone,a={},c={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===An.OnPush,directiveDefs:null,pipeDefs:null,standalone:s,dependencies:s&&t.dependencies||null,getStandaloneInjector:null,selectors:t.selectors||te,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Br.Emulated,id:"c"+gn++,styles:t.styles||te,_:null,setInput:null,schemas:t.schemas||null,tView:null},d=t.dependencies,m=t.features;return c.inputs=ki(t.inputs,a),c.outputs=ki(t.outputs),m&&m.forEach(I=>I(c)),c.directiveDefs=d?()=>("function"==typeof d?d():d).map($r).filter(Jr):null,c.pipeDefs=d?()=>("function"==typeof d?d():d).map(He).filter(Jr):null,c})}function $r(t){return J(t)||Ae(t)}function Jr(t){return null!==t}function Tr(t){return sr(()=>({type:t.type,bootstrap:t.bootstrap||te,declarations:t.declarations||te,imports:t.imports||te,exports:t.exports||te,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function ki(t,r){if(null==t)return X;const s={};for(const a in t)if(t.hasOwnProperty(a)){let c=t[a],d=c;Array.isArray(c)&&(d=c[1],c=c[0]),s[c]=a,r&&(r[c]=d)}return s}const be=en;function le(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function J(t){return t[ie]||null}function Ae(t){return t[Oe]||null}function He(t){return t[ht]||null}function jt(t){const r=J(t)||Ae(t)||He(t);return null!==r&&r.standalone}function Lt(t,r){const s=t[Ot]||null;if(!s&&!0===r)throw new Error(`Type ${wt(t)} does not have '\u0275mod' property.`);return s}function Ar(t){return Array.isArray(t)&&"object"==typeof t[1]}function qn(t){return Array.isArray(t)&&!0===t[1]}function Eo(t){return 0!=(8&t.flags)}function gr(t){return 2==(2&t.flags)}function qi(t){return 1==(1&t.flags)}function Kr(t){return null!==t.template}function ws(t){return 0!=(256&t[2])}function Ls(t,r){return t.hasOwnProperty(qt)?t[qt]:null}class jn{constructor(r,s,a){this.previousValue=r,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function ui(){return To}function To(t){return t.type.prototype.ngOnChanges&&(t.setInput=Ks),Qi}function Qi(){const t=ma(this),r=t?.current;if(r){const s=t.previous;if(s===X)t.previous=r;else for(let a in r)s[a]=r[a];t.current=null,this.ngOnChanges(r)}}function Ks(t,r,s,a){const c=ma(t)||function Es(t,r){return t[Ji]=r}(t,{previous:X,current:null}),d=c.current||(c.current={}),m=c.previous,I=this.declaredInputs[s],b=m[I];d[I]=new jn(b&&b.currentValue,r,m===X),t[a]=r}ui.ngInherit=!0;const Ji="__ngSimpleChanges__";function ma(t){return t[Ji]||null}function yn(t){for(;Array.isArray(t);)t=t[0];return t}function Vs(t,r){return yn(r[t])}function Sr(t,r){return yn(r[t.index])}function mr(t,r){return t.data[r]}function ni(t,r){const s=r[t];return Ar(s)?s:s[0]}function lo(t){return 4==(4&t[2])}function Cs(t){return 64==(64&t[2])}function xi(t,r){return null==r?null:t[r]}function Xi(t){t[18]=0}function So(t,r){t[5]+=r;let s=t,a=t[3];for(;null!==a&&(1===r&&1===s[5]||-1===r&&0===s[5]);)a[5]+=r,s=a,a=a[3]}const Qt={lFrame:Ze(null),bindingsEnabled:!0};function es(){return Qt.bindingsEnabled}function Ge(){return Qt.lFrame.lView}function En(){return Qt.lFrame.tView}function Ts(t){return Qt.lFrame.contextLView=t,t[8]}function Yo(t){return Qt.lFrame.contextLView=null,t}function O(){let t=R();for(;null!==t&&64===t.type;)t=t.parent;return t}function R(){return Qt.lFrame.currentTNode}function H(t,r){const s=Qt.lFrame;s.currentTNode=t,s.isParent=r}function Ue(){return Qt.lFrame.isParent}function Pt(){Qt.lFrame.isParent=!1}function Ri(){return Qt.lFrame.bindingIndex++}function Qo(t,r){const s=Qt.lFrame;s.bindingIndex=s.bindingRootIndex=t,Jo(r)}function Jo(t){Qt.lFrame.currentDirectiveIndex=t}function T(){return Qt.lFrame.currentQueryIndex}function F(t){Qt.lFrame.currentQueryIndex=t}function M(t){const r=t[1];return 2===r.type?r.declTNode:1===r.type?t[6]:null}function $(t,r,s){if(s&gt.SkipSelf){let c=r,d=t;for(;!(c=c.parent,null!==c||s&gt.Host||(c=M(d),null===c||(d=d[15],10&c.type))););if(null===c)return!1;r=c,t=d}const a=Qt.lFrame=Ve();return a.currentTNode=r,a.lView=t,!0}function se(t){const r=Ve(),s=t[1];Qt.lFrame=r,r.currentTNode=s.firstChild,r.lView=t,r.tView=s,r.contextLView=t,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function Ve(){const t=Qt.lFrame,r=null===t?null:t.child;return null===r?Ze(t):r}function Ze(t){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=r),r}function Dt(){const t=Qt.lFrame;return Qt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const bn=Dt;function Ln(){const t=Dt();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Rn(){return Qt.lFrame.selectedIndex}function Nn(t){Qt.lFrame.selectedIndex=t}function Kt(){const t=Qt.lFrame;return mr(t.tView,t.selectedIndex)}function Ss(){Qt.lFrame.currentNamespace="svg"}function di(){!function ps(){Qt.lFrame.currentNamespace=null}()}function ta(t,r){for(let s=r.directiveStart,a=r.directiveEnd;s<a;s++){const d=t.data[s].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:I,ngAfterViewInit:b,ngAfterViewChecked:k,ngOnDestroy:j}=d;m&&(t.contentHooks||(t.contentHooks=[])).push(-s,m),I&&((t.contentHooks||(t.contentHooks=[])).push(s,I),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(s,I)),b&&(t.viewHooks||(t.viewHooks=[])).push(-s,b),k&&((t.viewHooks||(t.viewHooks=[])).push(s,k),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(s,k)),null!=j&&(t.destroyHooks||(t.destroyHooks=[])).push(s,j)}}function va(t,r,s){ns(t,r,3,s)}function ri(t,r,s,a){(3&t[2])===s&&ns(t,r,s,a)}function na(t,r){let s=t[2];(3&s)===r&&(s&=2047,s+=1,t[2]=s)}function ns(t,r,s,a){const d=a??-1,m=r.length-1;let I=0;for(let b=void 0!==a?65535&t[18]:0;b<m;b++)if("number"==typeof r[b+1]){if(I=r[b],null!=a&&I>=a)break}else r[b]<0&&(t[18]+=65536),(I<d||-1==d)&&(tu(t,s,r,b),t[18]=(4294901760&t[18])+b+2),b++}function tu(t,r,s,a){const c=s[a]<0,d=s[a+1],I=t[c?-s[a]:s[a]];if(c){if(t[2]>>11<t[18]>>16&&(3&t[2])===r){t[2]+=2048;try{d.call(I)}finally{}}}else try{d.call(I)}finally{}}class Mr{constructor(r,s,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function Rt(t,r,s){let a=0;for(;a<s.length;){const c=s[a];if("number"==typeof c){if(0!==c)break;a++;const d=s[a++],m=s[a++],I=s[a++];t.setAttribute(r,m,I,d)}else{const d=c,m=s[++a];bu(d)?t.setProperty(r,d,m):t.setAttribute(r,d,m),a++}}return a}function on(t){return 3===t||4===t||6===t}function bu(t){return 64===t.charCodeAt(0)}function _t(t,r){if(null!==r&&0!==r.length)if(null===t||0===t.length)t=r.slice();else{let s=-1;for(let a=0;a<r.length;a++){const c=r[a];"number"==typeof c?s=c:0===s||Be(t,s,c,null,-1===s||2===s?r[++a]:null)}}return t}function Be(t,r,s,a,c){let d=0,m=t.length;if(-1===r)m=-1;else for(;d<t.length;){const I=t[d++];if("number"==typeof I){if(I===r){m=-1;break}if(I>r){m=d-1;break}}}for(;d<t.length;){const I=t[d];if("number"==typeof I)break;if(I===s){if(null===a)return void(null!==c&&(t[d+1]=c));if(a===t[d+1])return void(t[d+2]=c)}d++,null!==a&&d++,null!==c&&d++}-1!==m&&(t.splice(m,0,r),d=m+1),t.splice(d++,0,s),null!==a&&t.splice(d++,0,a),null!==c&&t.splice(d++,0,c)}function it(t){return-1!==t}function Hr(t){return 32767&t}function fo(t,r){let s=function Ua(t){return t>>16}(t),a=r;for(;s>0;)a=a[15],s--;return a}let ia=!0;function Rr(t){const r=ia;return ia=t,r}let ru=0;const $s={};function po(t,r){const s=rs(t,r);if(-1!==s)return s;const a=r[1];a.firstCreatePass&&(t.injectorIndex=r.length,an(a.data,t),an(r,null),an(a.blueprint,null));const c=No(t,r),d=t.injectorIndex;if(it(c)){const m=Hr(c),I=fo(c,r),b=I[1].data;for(let k=0;k<8;k++)r[d+k]=I[m+k]|b[m+k]}return r[d+8]=c,d}function an(t,r){t.push(0,0,0,0,0,0,0,0,r)}function rs(t,r){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===r[t.injectorIndex+8]?-1:t.injectorIndex}function No(t,r){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let s=0,a=null,c=r;for(;null!==c;){if(a=gs(c),null===a)return-1;if(s++,c=c[15],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return-1}function Jn(t,r,s){!function Xu(t,r,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(Ft)&&(a=s[Ft]),null==a&&(a=s[Ft]=ru++);const c=255&a;r.data[t+(c>>5)]|=1<<c}(t,r,s)}function Oo(t,r,s){if(s&gt.Optional)return t;K()}function Cn(t,r,s,a){if(s&gt.Optional&&void 0===a&&(a=null),0==(s&(gt.Self|gt.Host))){const c=t[9],d=vn(void 0);try{return c?c.get(r,a,s&gt.Optional):Bn(r,a,s&gt.Optional)}finally{vn(d)}}return Oo(a,0,s)}function $a(t,r,s,a=gt.Default,c){if(null!==t){if(1024&r[2]){const m=function Oi(t,r,s,a,c){let d=t,m=r;for(;null!==d&&null!==m&&1024&m[2]&&!(256&m[2]);){const I=Dr(d,m,s,a|gt.Self,$s);if(I!==$s)return I;let b=d.parent;if(!b){const k=m[21];if(k){const j=k.get(s,$s,a);if(j!==$s)return j}b=gs(m),m=m[15]}d=b}return c}(t,r,s,a,$s);if(m!==$s)return m}const d=Dr(t,r,s,a,$s);if(d!==$s)return d}return Cn(r,s,a,c)}function Dr(t,r,s,a,c){const d=function to(t){if("string"==typeof t)return t.charCodeAt(0)||0;const r=t.hasOwnProperty(Ft)?t[Ft]:void 0;return"number"==typeof r?r>=0?255&r:go:r}(s);if("function"==typeof d){if(!$(r,t,a))return a&gt.Host?Oo(c,0,a):Cn(r,s,a,c);try{const m=d(a);if(null!=m||a&gt.Optional)return m;K()}finally{bn()}}else if("number"==typeof d){let m=null,I=rs(t,r),b=-1,k=a&gt.Host?r[16][6]:null;for((-1===I||a&gt.SkipSelf)&&(b=-1===I?No(t,r):r[I+8],-1!==b&&Ms(a,!1)?(m=r[1],I=Hr(b),r=fo(b,r)):I=-1);-1!==I;){const j=r[1];if(fi(d,I,j.data)){const Z=It(I,r,s,m,a,k);if(Z!==$s)return Z}b=r[I+8],-1!==b&&Ms(a,r[1].data[I+8]===k)&&fi(d,I,r)?(m=j,I=Hr(b),r=fo(b,r)):I=-1}}return c}function It(t,r,s,a,c,d){const m=r[1],I=m.data[t+8],j=js(I,m,s,null==a?gr(I)&&ia:a!=m&&0!=(3&I.type),c&gt.Host&&d===I);return null!==j?Po(r,m,j,I):$s}function js(t,r,s,a,c){const d=t.providerIndexes,m=r.data,I=1048575&d,b=t.directiveStart,j=d>>20,he=c?I+j:t.directiveEnd;for(let Se=a?I:I+j;Se<he;Se++){const Qe=m[Se];if(Se<b&&s===Qe||Se>=b&&Qe.type===s)return Se}if(c){const Se=m[b];if(Se&&Kr(Se)&&Se.type===s)return b}return null}function Po(t,r,s,a){let c=t[s];const d=r.data;if(function ra(t){return t instanceof Mr}(c)){const m=c;m.resolving&&function nt(t,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${t}`:"";throw new Re(-200,`Circular dependency in DI detected for ${t}${s}`)}(function Ie(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():je(t)}(d[s]));const I=Rr(m.canSeeViewProviders);m.resolving=!0;const b=m.injectImpl?vn(m.injectImpl):null;$(t,a,gt.Default);try{c=t[s]=m.factory(void 0,d,t,a),r.firstCreatePass&&s>=a.directiveStart&&function ea(t,r,s){const{ngOnChanges:a,ngOnInit:c,ngDoCheck:d}=r.type.prototype;if(a){const m=To(r);(s.preOrderHooks||(s.preOrderHooks=[])).push(t,m),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(t,m)}c&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-t,c),d&&((s.preOrderHooks||(s.preOrderHooks=[])).push(t,d),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(t,d))}(s,d[s],r)}finally{null!==b&&vn(b),Rr(I),m.resolving=!1,bn()}}return c}function fi(t,r,s){return!!(s[r+(t>>5)]&1<<t)}function Ms(t,r){return!(t&gt.Self||t&gt.Host&&r)}class ko{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,a){return $a(this._tNode,this._lView,r,a,s)}}function go(){return new ko(O(),Ge())}function Fo(t){return sr(()=>{const r=t.prototype.constructor,s=r[qt]||wa(r),a=Object.prototype;let c=Object.getPrototypeOf(t.prototype).constructor;for(;c&&c!==a;){const d=c[qt]||wa(c);if(d&&d!==s)return d;c=Object.getPrototypeOf(c)}return d=>new d})}function wa(t){return We(t)?()=>{const r=wa(pt(t));return r&&r()}:Ls(t)}function gs(t){const r=t[1],s=r.type;return 2===s?r.declTNode:1===s?t[6]:null}function sa(t){return function Xt(t,r){if("class"===r)return t.classes;if("style"===r)return t.styles;const s=t.attrs;if(s){const a=s.length;let c=0;for(;c<a;){const d=s[c];if(on(d))break;if(0===d)c+=2;else if("number"==typeof d)for(c++;c<a&&"string"==typeof s[c];)c++;else{if(d===r)return s[c+1];c+=2}}}return null}(O(),t)}const ms="__parameters__";function ji(t,r,s){return sr(()=>{const a=function mo(t){return function(...s){if(t){const a=t(...s);for(const c in a)this[c]=a[c]}}}(r);function c(...d){if(this instanceof c)return a.apply(this,d),this;const m=new c(...d);return I.annotation=m,I;function I(b,k,j){const Z=b.hasOwnProperty(ms)?b[ms]:Object.defineProperty(b,ms,{value:[]})[ms];for(;Z.length<=j;)Z.push(null);return(Z[j]=Z[j]||[]).push(m),b}}return s&&(c.prototype=Object.create(s.prototype)),c.prototype.ngMetadataName=t,c.annotationCls=c,c})}class Kn{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=zn({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Nr(t,r){void 0===r&&(r=t);for(let s=0;s<t.length;s++){let a=t[s];Array.isArray(a)?(r===t&&(r=t.slice(0,s)),Nr(a,r)):r!==t&&r.push(a)}return r}function Or(t,r){t.forEach(s=>Array.isArray(s)?Or(s,r):r(s))}function Rc(t,r,s){r>=t.length?t.push(s):t.splice(r,0,s)}function Pr(t,r){return r>=t.length-1?t.pop():t.splice(r,1)[0]}function g(t,r,s){let a=x(t,r);return a>=0?t[1|a]=s:(a=~a,function Vo(t,r,s,a){let c=t.length;if(c==r)t.push(s,a);else if(1===c)t.push(a,t[0]),t[0]=s;else{for(c--,t.push(t[c-1],t[c]);c>r;)t[c]=t[c-2],c--;t[r]=s,t[r+1]=a}}(t,a,r,s)),a}function D(t,r){const s=x(t,r);if(s>=0)return t[1|s]}function x(t,r){return function Q(t,r,s){let a=0,c=t.length>>s;for(;c!==a;){const d=a+(c-a>>1),m=t[d<<s];if(r===m)return d<<s;m>r?c=d:a=d+1}return~(c<<s)}(t,r,1)}const Fr={},Uo="__NG_DI_FLAG__",Gs="ngTempTokenPath",rc=/\n/gm,Tu="__source";let ou;function aa(t){const r=ou;return ou=t,r}function od(t,r=gt.Default){if(void 0===ou)throw new Re(-203,!1);return null===ou?Bn(t,void 0,r):ou.get(t,r&gt.Optional?null:void 0,r)}function pi(t,r=gt.Default){return(function Ht(){return Et}()||od)(pt(t),r)}function A(t,r=gt.Default){return"number"!=typeof r&&(r=0|(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)),pi(t,r)}function N(t){const r=[];for(let s=0;s<t.length;s++){const a=pt(t[s]);if(Array.isArray(a)){if(0===a.length)throw new Re(900,!1);let c,d=gt.Default;for(let m=0;m<a.length;m++){const I=a[m],b=Y(I);"number"==typeof b?-1===b?c=I.token:d|=b:c=I}r.push(pi(c,d))}else r.push(pi(a))}return r}function L(t,r){return t[Uo]=r,t.prototype[Uo]=r,t}function Y(t){return t[Uo]}const mt=L(ji("Optional"),8),fn=L(ji("SkipSelf"),4);let Rs;function Pc(t){Rs=t}class fd{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Ma(t){return t instanceof fd?t.changingThisBreaksApplicationSecurity:t}const pu=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var zt=(()=>((zt=zt||{})[zt.NONE=0]="NONE",zt[zt.HTML=1]="HTML",zt[zt.STYLE=2]="STYLE",zt[zt.SCRIPT=3]="SCRIPT",zt[zt.URL=4]="URL",zt[zt.RESOURCE_URL=5]="RESOURCE_URL",zt))();function xu(t){const r=function Uc(){const t=Ge();return t&&t[12]}();return r?r.sanitize(zt.URL,t)||"":function ca(t,r){const s=function pd(t){return t instanceof fd&&t.getTypeName()||null}(t);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===r}(t,"URL")?Ma(t):function Fc(t){return(t=String(t)).match(pu)?t:"unsafe:"+t}(je(t))}const yd=new Kn("ENVIRONMENT_INITIALIZER"),vd=new Kn("INJECTOR",-1),fc=new Kn("INJECTOR_DEF_TYPES");class _d{get(r,s=Fr){if(s===Fr){const a=new Error(`NullInjectorError: No provider for ${wt(r)}!`);throw a.name="NullInjectorError",a}return s}}function Np(...t){return{\u0275providers:ss(0,t)}}function ss(t,...r){const s=[],a=new Set;let c;return Or(r,d=>{const m=d;Bc(m,s,[],a)&&(c||(c=[]),c.push(m))}),void 0!==c&&Sl(c,s),s}function Sl(t,r){for(let s=0;s<t.length;s++){const{providers:c}=t[s];Or(c,d=>{r.push(d)})}}function Bc(t,r,s,a){if(!(t=pt(t)))return!1;let c=null,d=nr(t);const m=!d&&J(t);if(d||m){if(m&&!m.standalone)return!1;c=t}else{const b=t.ngModule;if(d=nr(b),!d)return!1;c=b}const I=a.has(c);if(m){if(I)return!1;if(a.add(c),m.dependencies){const b="function"==typeof m.dependencies?m.dependencies():m.dependencies;for(const k of b)Bc(k,r,s,a)}}else{if(!d)return!1;{if(null!=d.imports&&!I){let k;a.add(c);try{Or(d.imports,j=>{Bc(j,r,s,a)&&(k||(k=[]),k.push(j))})}finally{}void 0!==k&&Sl(k,r)}if(!I){const k=Ls(c)||(()=>new c);r.push({provide:c,useFactory:k,deps:te},{provide:fc,useValue:c,multi:!0},{provide:yd,useValue:()=>pi(c),multi:!0})}const b=d.providers;null==b||I||Or(b,j=>{r.push(j)})}}return c!==t&&void 0!==t.providers}const xa=Me({provide:String,useValue:Me});function $c(t){return null!==t&&"object"==typeof t&&xa in t}function mu(t){return"function"==typeof t}const xl=new Kn("Set Injector scope."),jc={},Op={};let Nu;function pc(){return void 0===Nu&&(Nu=new _d),Nu}class Ou{}class Id extends Ou{constructor(r,s,a,c){super(),this.parent=s,this.source=a,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Jt(r,m=>this.processProvider(m)),this.records.set(vd,B(void 0,this)),c.has("environment")&&this.records.set(Ou,B(void 0,this));const d=this.records.get(xl);null!=d&&"string"==typeof d.value&&this.scopes.add(d.value),this.injectorDefTypes=new Set(this.get(fc.multi,te,gt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();for(const r of this._onDestroyHooks)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(r){this._onDestroyHooks.push(r)}runInContext(r){this.assertNotDestroyed();const s=aa(this),a=vn(void 0);try{return r()}finally{aa(s),vn(a)}}get(r,s=Fr,a=gt.Default){this.assertNotDestroyed();const c=aa(this),d=vn(void 0);try{if(!(a&gt.SkipSelf)){let I=this.records.get(r);if(void 0===I){const b=function Ye(t){return"function"==typeof t||"object"==typeof t&&t instanceof Kn}(r)&&Wn(r);I=b&&this.injectableDefInScope(b)?B(w(r),jc):null,this.records.set(r,I)}if(null!=I)return this.hydrate(r,I)}return(a&gt.Self?pc():this.parent).get(r,s=a&gt.Optional&&s===Fr?null:s)}catch(m){if("NullInjectorError"===m.name){if((m[Gs]=m[Gs]||[]).unshift(wt(r)),c)throw m;return function ye(t,r,s,a){const c=t[Gs];throw r[Tu]&&c.unshift(r[Tu]),t.message=function Pe(t,r,s,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let c=wt(r);if(Array.isArray(r))c=r.map(wt).join(" -> ");else if("object"==typeof r){let d=[];for(let m in r)if(r.hasOwnProperty(m)){let I=r[m];d.push(m+":"+("string"==typeof I?JSON.stringify(I):wt(I)))}c=`{${d.join(", ")}}`}return`${s}${a?"("+a+")":""}[${c}]: ${t.replace(rc,"\n  ")}`}("\n"+t.message,c,s,a),t.ngTokenPath=c,t[Gs]=null,t}(m,r,"R3InjectorError",this.source)}throw m}finally{vn(d),aa(c)}}resolveInjectorInitializers(){const r=aa(this),s=vn(void 0);try{const a=this.get(yd.multi,te,gt.Self);for(const c of a)c()}finally{aa(r),vn(s)}}toString(){const r=[],s=this.records;for(const a of s.keys())r.push(wt(a));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Re(205,!1)}processProvider(r){let s=mu(r=pt(r))?r:pt(r&&r.provide);const a=function f(t){return $c(t)?B(void 0,t.useValue):B(C(t),jc)}(r);if(mu(r)||!0!==r.multi)this.records.get(s);else{let c=this.records.get(s);c||(c=B(void 0,jc,!0),c.factory=()=>N(c.multi),this.records.set(s,c)),s=r,c.multi.push(r)}this.records.set(s,a)}hydrate(r,s){return s.value===jc&&(s.value=Op,s.value=s.factory()),"object"==typeof s.value&&s.value&&function Te(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=pt(r.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}}function w(t){const r=Wn(t),s=null!==r?r.factory:Ls(t);if(null!==s)return s;if(t instanceof Kn)throw new Re(204,!1);if(t instanceof Function)return function h(t){const r=t.length;if(r>0)throw function su(t,r){const s=[];for(let a=0;a<t;a++)s.push(r);return s}(r,"?"),new Re(204,!1);const s=function cr(t){const r=t&&(t[wr]||t[cn]);if(r){const s=function Un(t){if(t.hasOwnProperty("name"))return t.name;const r=(""+t).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),r}return null}(t);return null!==s?()=>s.factory(t):()=>new t}(t);throw new Re(204,!1)}function C(t,r,s){let a;if(mu(t)){const c=pt(t);return Ls(c)||w(c)}if($c(t))a=()=>pt(t.useValue);else if(function Ru(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...N(t.deps||[]));else if(function wd(t){return!(!t||!t.useExisting)}(t))a=()=>pi(pt(t.useExisting));else{const c=pt(t&&(t.useClass||t.provide));if(!function W(t){return!!t.deps}(t))return Ls(c)||w(c);a=()=>new c(...N(t.deps))}return a}function B(t,r,s=!1){return{factory:t,value:r,multi:s?[]:void 0}}function Nt(t){return!!t.\u0275providers}function Jt(t,r){for(const s of t)Array.isArray(s)?Jt(s,r):Nt(s)?Jt(s.\u0275providers,r):r(s)}class Wr{}class Go{resolveComponentFactory(r){throw function ii(t){const r=Error(`No component factory found for ${wt(t)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=t,r}(r)}}let qa=(()=>{class t{}return t.NULL=new Go,t})();function gc(){return Ka(O(),Ge())}function Ka(t,r){return new yu(Sr(t,r))}let yu=(()=>{class t{constructor(s){this.nativeElement=s}}return t.__NG_ELEMENT_ID__=gc,t})();function Ed(t){return t instanceof yu?t.nativeElement:t}class Gc{}let Dd=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function Vh(){const t=Ge(),s=ni(O().index,t);return(Ar(s)?s:t)[11]}(),t})(),Rl=(()=>{class t{}return t.\u0275prov=zn({token:t,providedIn:"root",factory:()=>null}),t})();class Cd{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const Pp=new Cd("14.2.0"),Uh={};function zc(t){return t.ngOriginalError}class Na{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r);this._console.error("ERROR",r),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&zc(r);for(;s&&zc(s);)s=zc(s);return s||null}}const Wh=new Map;let Up=0;const Kh="__ngContext__";function os(t,r){Ar(r)?(t[Kh]=r[20],function Sd(t){Wh.set(t[20],t)}(r)):t[Kh]=r}function Oa(t){const r=t[Kh];return"number"==typeof r?function Wc(t){return Wh.get(t)||null}(r):r||null}function _u(t){const r=Oa(t);return r?Ar(r)?r:r.lView:null}function Za(t){return t instanceof Function?t():t}var io=(()=>((io=io||{})[io.Important=1]="Important",io[io.DashCase=2]="DashCase",io))();function Pu(t,r){return undefined(t,r)}function Ll(t){const r=t[3];return qn(r)?r[3]:r}function Jh(t){return Kp(t[13])}function qc(t){return Kp(t[4])}function Kp(t){for(;null!==t&&!qn(t);)t=t[4];return t}function Ic(t,r,s,a,c){if(null!=a){let d,m=!1;qn(a)?d=a:Ar(a)&&(m=!0,a=a[0]);const I=yn(a);0===t&&null!==s?null==c?eg(r,s,I):Ya(r,s,I,c||null,!0):1===t&&null!==s?Ya(r,s,I,c||null,!0):2===t?function rg(t,r,s){const a=ku(t,r);a&&function sf(t,r,s,a){t.removeChild(r,s,a)}(t,a,r,s)}(r,I,m):3===t&&r.destroyNode(I),null!=d&&function lf(t,r,s,a,c){const d=s[7];d!==yn(s)&&Ic(r,t,a,d,c);for(let I=10;I<s.length;I++){const b=s[I];Ul(b[1],b,t,r,a,d)}}(r,t,d,s,c)}}function Dc(t,r,s){return t.createElement(r,s)}function Nd(t,r){const s=t[9],a=s.indexOf(r),c=r[3];512&r[2]&&(r[2]&=-513,So(c,-1)),s.splice(a,1)}function as(t,r){if(t.length<=10)return;const s=10+r,a=t[s];if(a){const c=a[17];null!==c&&c!==t&&Nd(c,a),r>0&&(t[s-1][4]=a[4]);const d=Pr(t,10+r);!function Zp(t,r){Ul(t,r,r[11],2,null,null),r[0]=null,r[6]=null}(a[1],a);const m=d[19];null!==m&&m.detachView(d[1]),a[3]=null,a[4]=null,a[2]&=-65}return a}function Jp(t,r){if(!(128&r[2])){const s=r[11];s.destroyNode&&Ul(t,r,s,3,null,null),function Qp(t){let r=t[13];if(!r)return tf(t[1],t);for(;r;){let s=null;if(Ar(r))s=r[13];else{const a=r[10];a&&(s=a)}if(!s){for(;r&&!r[4]&&r!==t;)Ar(r)&&tf(r[1],r),r=r[3];null===r&&(r=t),Ar(r)&&tf(r[1],r),s=r&&r[4]}r=s}}(r)}}function tf(t,r){if(!(128&r[2])){r[2]&=-65,r[2]|=128,function jm(t,r){let s;if(null!=t&&null!=(s=t.destroyHooks))for(let a=0;a<s.length;a+=2){const c=r[s[a]];if(!(c instanceof Mr)){const d=s[a+1];if(Array.isArray(d))for(let m=0;m<d.length;m+=2){const I=c[d[m]],b=d[m+1];try{b.call(I)}finally{}}else try{d.call(c)}finally{}}}}(t,r),function $m(t,r){const s=t.cleanup,a=r[7];let c=-1;if(null!==s)for(let d=0;d<s.length-1;d+=2)if("string"==typeof s[d]){const m=s[d+1],I="function"==typeof m?m(r):yn(r[m]),b=a[c=s[d+2]],k=s[d+3];"boolean"==typeof k?I.removeEventListener(s[d],b,k):k>=0?a[c=k]():a[c=-k].unsubscribe(),d+=2}else{const m=a[c=s[d+1]];s[d].call(m)}if(null!==a){for(let d=c+1;d<a.length;d++)(0,a[d])();r[7]=null}}(t,r),1===r[1].type&&r[11].destroy();const s=r[17];if(null!==s&&qn(r[3])){s!==r[3]&&Nd(s,r);const a=r[19];null!==a&&a.detachView(t)}!function vc(t){Wh.delete(t[20])}(r)}}function nf(t,r,s){return function Xp(t,r,s){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return s[0];if(2&a.flags){const c=t.data[a.directiveStart].encapsulation;if(c===Br.None||c===Br.Emulated)return null}return Sr(a,s)}(t,r.parent,s)}function Ya(t,r,s,a,c){t.insertBefore(r,s,a,c)}function eg(t,r,s){t.appendChild(r,s)}function rf(t,r,s,a,c){null!==a?Ya(t,r,s,a,c):eg(t,r,s)}function ku(t,r){return t.parentNode(r)}let af=function kd(t,r,s){return 40&t.type?Sr(t,s):null};function Vl(t,r,s,a){const c=nf(t,a,r),d=r[11],I=function Pd(t,r,s){return af(t,r,s)}(a.parent||r[6],a,r);if(null!=c)if(Array.isArray(s))for(let b=0;b<s.length;b++)rf(d,c,s[b],I,!1);else rf(d,c,s,I,!1)}function Kc(t,r){if(null!==r){const s=r.type;if(3&s)return Sr(r,t);if(4&s)return Fd(-1,t[r.index]);if(8&s){const a=r.child;if(null!==a)return Kc(t,a);{const c=t[r.index];return qn(c)?Fd(-1,c):yn(c)}}if(32&s)return Pu(r,t)()||yn(t[r.index]);{const a=ng(t,r);return null!==a?Array.isArray(a)?a[0]:Kc(Ll(t[16]),a):Kc(t,r.next)}}return null}function ng(t,r){return null!==r?t[16][6].projection[r.projection]:null}function Fd(t,r){const s=10+t+1;if(s<r.length){const a=r[s],c=a[1].firstChild;if(null!==c)return Kc(a,c)}return r[7]}function Ld(t,r,s,a,c,d,m){for(;null!=s;){const I=a[s.index],b=s.type;if(m&&0===r&&(I&&os(yn(I),a),s.flags|=4),64!=(64&s.flags))if(8&b)Ld(t,r,s.child,a,c,d,!1),Ic(r,t,c,I,d);else if(32&b){const k=Pu(s,a);let j;for(;j=k();)Ic(r,t,c,j,d);Ic(r,t,c,I,d)}else 16&b?Cc(t,r,a,s,c,d):Ic(r,t,c,I,d);s=m?s.projectionNext:s.next}}function Ul(t,r,s,a,c,d){Ld(s,a,t.firstChild,r,c,d,!1)}function Cc(t,r,s,a,c,d){const m=s[16],b=m[6].projection[a.projection];if(Array.isArray(b))for(let k=0;k<b.length;k++)Ic(r,t,c,b[k],d);else Ld(t,r,b,m[3],c,d,!0)}function df(t,r,s){t.setAttribute(r,"style",s)}function Ud(t,r,s){""===s?t.removeAttribute(r,"class"):t.setAttribute(r,"class",s)}function hf(t,r,s){let a=t.length;for(;;){const c=t.indexOf(r,s);if(-1===c)return c;if(0===c||t.charCodeAt(c-1)<=32){const d=r.length;if(c+d===a||t.charCodeAt(c+d)<=32)return c}s=c+1}}const Bd="ng-template";function Hm(t,r,s){let a=0;for(;a<t.length;){let c=t[a++];if(s&&"class"===c){if(c=t[a],-1!==hf(c.toLowerCase(),r,0))return!0}else if(1===c){for(;a<t.length&&"string"==typeof(c=t[a++]);)if(c.toLowerCase()===r)return!0;return!1}}return!1}function $d(t){return 4===t.type&&t.value!==Bd}function ig(t,r,s){return r===(4!==t.type||s?t.value:Bd)}function sg(t,r,s){let a=4;const c=t.attrs||[],d=function ff(t){for(let r=0;r<t.length;r++)if(on(t[r]))return r;return t.length}(c);let m=!1;for(let I=0;I<r.length;I++){const b=r[I];if("number"!=typeof b){if(!m)if(4&a){if(a=2|1&a,""!==b&&!ig(t,b,s)||""===b&&1===r.length){if(zo(a))return!1;m=!0}}else{const k=8&a?b:r[++I];if(8&a&&null!==t.attrs){if(!Hm(t.attrs,k,s)){if(zo(a))return!1;m=!0}continue}const Z=jd(8&a?"class":b,c,$d(t),s);if(-1===Z){if(zo(a))return!1;m=!0;continue}if(""!==k){let he;he=Z>d?"":c[Z+1].toLowerCase();const Se=8&a?he:null;if(Se&&-1!==hf(Se,k,0)||2&a&&k!==he){if(zo(a))return!1;m=!0}}}}else{if(!m&&!zo(a)&&!zo(b))return!1;if(m&&zo(b))continue;m=!1,a=b|1&a}}return zo(a)||m}function zo(t){return 0==(1&t)}function jd(t,r,s,a){if(null===r)return-1;let c=0;if(a||!s){let d=!1;for(;c<r.length;){const m=r[c];if(m===t)return c;if(3===m||6===m)d=!0;else{if(1===m||2===m){let I=r[++c];for(;"string"==typeof I;)I=r[++c];continue}if(4===m)break;if(0===m){c+=4;continue}}c+=d?1:2}return-1}return function pf(t,r){let s=t.indexOf(4);if(s>-1)for(s++;s<t.length;){const a=t[s];if("number"==typeof a)return-1;if(a===r)return s;s++}return-1}(r,t)}function Yc(t,r,s=!1){for(let a=0;a<r.length;a++)if(sg(t,r[a],s))return!0;return!1}function mf(t,r){return t?":not("+r.trim()+")":r}function Gm(t){let r=t[0],s=1,a=2,c="",d=!1;for(;s<t.length;){let m=t[s];if("string"==typeof m)if(2&a){const I=t[++s];c+="["+m+(I.length>0?'="'+I+'"':"")+"]"}else 8&a?c+="."+m:4&a&&(c+=" "+m);else""!==c&&!zo(m)&&(r+=mf(d,c),c=""),a=m,d=d||!zo(a);s++}return""!==c&&(r+=mf(d,c)),r}const Pn={};function ag(t){yf(En(),Ge(),Rn()+t,!1)}function yf(t,r,s,a){if(!a)if(3==(3&r[2])){const d=t.preOrderCheckHooks;null!==d&&va(r,d,s)}else{const d=t.preOrderHooks;null!==d&&ri(r,d,0,s)}Nn(s)}function Qc(t,r=null,s=null,a){const c=Gd(t,r,s,a);return c.resolveInjectorInitializers(),c}function Gd(t,r=null,s=null,a,c=new Set){const d=[s||te,Np(t)];return a=a||("object"==typeof t?void 0:wt(t)),new Id(d,r||pc(),a||null,c)}let da=(()=>{class t{static create(s,a){if(Array.isArray(s))return Qc({name:""},a,s,"");{const c=s.name??"";return Qc({name:c},s.parent,s.providers,c)}}}return t.THROW_IF_NOT_FOUND=Fr,t.NULL=new _d,t.\u0275prov=zn({token:t,providedIn:"any",factory:()=>pi(vd)}),t.__NG_ELEMENT_ID__=-1,t})();function Lu(t,r=gt.Default){const s=Ge();return null===s?pi(t,r):$a(O(),s,pt(t),r)}function xf(){throw new Error("invalid")}function nl(t,r){return t<<17|r<<2}function Wo(t){return t>>17&32767}function jl(t){return 2|t}function $o(t){return(131068&t)>>2}function Uu(t,r){return-131069&t|r<<2}function Bu(t){return 1|t}function Jd(t,r){const s=t.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const c=s[a],d=s[a+1];if(-1!==d){const m=t.data[d];F(c),m.contentQueries(2,r[d],d)}}}function ha(t,r,s,a,c,d,m,I,b,k,j){const Z=r.blueprint.slice();return Z[0]=c,Z[2]=76|a,(null!==j||t&&1024&t[2])&&(Z[2]|=1024),Xi(Z),Z[3]=Z[15]=t,Z[8]=s,Z[10]=m||t&&t[10],Z[11]=I||t&&t[11],Z[12]=b||t&&t[12]||null,Z[9]=k||t&&t[9]||null,Z[6]=d,Z[20]=function Bp(){return Up++}(),Z[21]=j,Z[16]=2==r.type?t[16]:Z,Z}function ju(t,r,s,a,c){let d=t.data[r];if(null===d)d=function $f(t,r,s,a,c){const d=R(),m=Ue(),b=t.data[r]=function ay(t,r,s,a,c,d){return{type:s,index:a,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?d:d&&d.parent,s,r,a,c);return null===t.firstChild&&(t.firstChild=b),null!==d&&(m?null==d.child&&null!==b.parent&&(d.child=b):null===d.next&&(d.next=b)),b}(t,r,s,a,c),function ya(){return Qt.lFrame.inI18n}()&&(d.flags|=64);else if(64&d.type){d.type=s,d.value=a,d.attrs=c;const m=function S(){const t=Qt.lFrame,r=t.currentTNode;return t.isParent?r:r.parent}();d.injectorIndex=null===m?-1:m.injectorIndex}return H(d,!0),d}function Hu(t,r,s,a){if(0===s)return-1;const c=r.length;for(let d=0;d<s;d++)r.push(a),t.blueprint.push(a),t.data.push(null);return c}function Xd(t,r,s){se(r);try{const a=t.viewQuery;null!==a&&oh(1,a,s);const c=t.template;null!==c&&xg(t,r,c,1,s),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Jd(t,r),t.staticViewQueries&&oh(2,t.viewQuery,s);const d=t.components;null!==d&&function Bf(t,r){for(let s=0;s<r.length;s++)hy(t,r[s])}(r,d)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{r[2]&=-5,Ln()}}function zl(t,r,s,a){const c=r[2];if(128!=(128&c)){se(r);try{Xi(r),function As(t){return Qt.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==s&&xg(t,r,s,2,a);const m=3==(3&c);if(m){const k=t.preOrderCheckHooks;null!==k&&va(r,k,null)}else{const k=t.preOrderHooks;null!==k&&ri(r,k,0,null),na(r,0)}if(function al(t){for(let r=Jh(t);null!==r;r=qc(r)){if(!r[2])continue;const s=r[9];for(let a=0;a<s.length;a++){const c=s[a],d=c[3];0==(512&c[2])&&So(d,1),c[2]|=512}}}(r),function Jf(t){for(let r=Jh(t);null!==r;r=qc(r))for(let s=10;s<r.length;s++){const a=r[s],c=a[1];Cs(a)&&zl(c,a,c.template,a[8])}}(r),null!==t.contentQueries&&Jd(t,r),m){const k=t.contentCheckHooks;null!==k&&va(r,k)}else{const k=t.contentHooks;null!==k&&ri(r,k,1),na(r,1)}!function Mg(t,r){const s=t.hostBindingOpCodes;if(null!==s)try{for(let a=0;a<s.length;a++){const c=s[a];if(c<0)Nn(~c);else{const d=c,m=s[++a],I=s[++a];Qo(m,d),I(2,r[d])}}}finally{Nn(-1)}}(t,r);const I=t.components;null!==I&&function oy(t,r){for(let s=0;s<r.length;s++)Xf(t,r[s])}(r,I);const b=t.viewQuery;if(null!==b&&oh(2,b,a),m){const k=t.viewCheckHooks;null!==k&&va(r,k)}else{const k=t.viewHooks;null!==k&&ri(r,k,2),na(r,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),r[2]&=-41,512&r[2]&&(r[2]&=-513,So(r[3],-1))}finally{Ln()}}}function jf(t,r,s,a){const c=r[10],m=lo(r);try{!m&&c.begin&&c.begin(),m&&Xd(t,r,a),zl(t,r,s,a)}finally{!m&&c.end&&c.end()}}function xg(t,r,s,a,c){const d=Rn(),m=2&a;try{Nn(-1),m&&r.length>22&&yf(t,r,22,!1),s(a,c)}finally{Nn(d)}}function eh(t,r,s){if(Eo(r)){const c=r.directiveEnd;for(let d=r.directiveStart;d<c;d++){const m=t.data[d];m.contentQueries&&m.contentQueries(1,s[d],d)}}}function Hf(t,r,s){!es()||(function ih(t,r,s,a){const c=s.directiveStart,d=s.directiveEnd;t.firstCreatePass||po(s,r),os(a,r);const m=s.initialInputs;for(let I=c;I<d;I++){const b=t.data[I],k=Kr(b);k&&Kf(r,s,b);const j=Po(r,t,I,s);os(j,r),null!==m&&Zf(0,I-c,j,b,0,m),k&&(ni(s.index,r)[8]=j)}}(t,r,s,Sr(s,r)),128==(128&s.flags)&&function ly(t,r,s){const a=s.directiveStart,c=s.directiveEnd,d=s.index,m=function La(){return Qt.lFrame.currentDirectiveIndex}();try{Nn(d);for(let I=a;I<c;I++){const b=t.data[I],k=r[I];Jo(I),(null!==b.hostBindings||0!==b.hostVars||null!==b.hostAttrs)&&Vg(b,k)}}finally{Nn(-1),Jo(m)}}(t,r,s))}function Wl(t,r,s=Sr){const a=r.localNames;if(null!==a){let c=r.index+1;for(let d=0;d<a.length;d+=2){const m=a[d+1],I=-1===m?s(r,t):t[m];t[c++]=I}}}function Rg(t){const r=t.tView;return null===r||r.incompleteFirstPass?t.tView=ql(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):r}function ql(t,r,s,a,c,d,m,I,b,k){const j=22+a,Z=j+c,he=function Ng(t,r){const s=[];for(let a=0;a<r;a++)s.push(a<t?null:Pn);return s}(j,Z),Se="function"==typeof k?k():k;return he[1]={type:t,blueprint:he,template:s,queries:null,viewQuery:I,declTNode:r,data:he.slice().fill(null,j),bindingStartIndex:j,expandoStartIndex:Z,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:b,consts:Se,incompleteFirstPass:!1}}function kg(t,r,s,a){const c=zg(r);null===s?c.push(a):(c.push(s),t.firstCreatePass&&rp(t).push(a,c.length-1))}function th(t,r,s){for(let a in t)if(t.hasOwnProperty(a)){const c=t[a];(s=null===s?{}:s).hasOwnProperty(a)?s[a].push(r,c):s[a]=[r,c]}return s}function Fg(t,r){const a=r.directiveEnd,c=t.data,d=r.attrs,m=[];let I=null,b=null;for(let k=r.directiveStart;k<a;k++){const j=c[k],Z=j.inputs,he=null===d||$d(r)?null:$g(Z,d);m.push(he),I=th(Z,k,I),b=th(j.outputs,k,b)}null!==I&&(I.hasOwnProperty("class")&&(r.flags|=16),I.hasOwnProperty("style")&&(r.flags|=32)),r.initialInputs=m,r.inputs=I,r.outputs=b}function wo(t,r,s,a,c,d,m,I){const b=Sr(r,s);let j,k=r.inputs;!I&&null!=k&&(j=k[a])?(ar(t,s,j,a,c),gr(r)&&nh(s,r.index)):3&r.type&&(a=function Gf(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),c=null!=m?m(c,r.value||"",a):c,d.setProperty(b,a,c))}function nh(t,r){const s=ni(r,t);16&s[2]||(s[2]|=32)}function zf(t,r,s,a){let c=!1;if(es()){const d=function dy(t,r,s){const a=t.directiveRegistry;let c=null;if(a)for(let d=0;d<a.length;d++){const m=a[d];Yc(s,m.selectors,!1)&&(c||(c=[]),Jn(po(s,r),t,m.type),Kr(m)?(Ug(t,s),c.unshift(m)):c.push(m))}return c}(t,r,s),m=null===a?null:{"":-1};if(null!==d){c=!0,qf(s,t.data.length,d.length);for(let j=0;j<d.length;j++){const Z=d[j];Z.providersResolver&&Z.providersResolver(Z)}let I=!1,b=!1,k=Hu(t,r,d.length,null);for(let j=0;j<d.length;j++){const Z=d[j];s.mergedAttrs=_t(s.mergedAttrs,Z.hostAttrs),sh(t,s,r,k,Z),Wf(k,Z,m),null!==Z.contentQueries&&(s.flags|=8),(null!==Z.hostBindings||null!==Z.hostAttrs||0!==Z.hostVars)&&(s.flags|=128);const he=Z.type.prototype;!I&&(he.ngOnChanges||he.ngOnInit||he.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(s.index),I=!0),!b&&(he.ngOnChanges||he.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(s.index),b=!0),k++}Fg(t,s)}m&&function Bg(t,r,s){if(r){const a=t.localNames=[];for(let c=0;c<r.length;c+=2){const d=s[r[c+1]];if(null==d)throw new Re(-301,!1);a.push(r[c],d)}}}(s,a,m)}return s.mergedAttrs=_t(s.mergedAttrs,s.attrs),c}function rh(t,r,s,a,c,d){const m=d.hostBindings;if(m){let I=t.hostBindingOpCodes;null===I&&(I=t.hostBindingOpCodes=[]);const b=~r.index;(function Lg(t){let r=t.length;for(;r>0;){const s=t[--r];if("number"==typeof s&&s<0)return s}return 0})(I)!=b&&I.push(b),I.push(a,c,m)}}function Vg(t,r){null!==t.hostBindings&&t.hostBindings(1,r)}function Ug(t,r){r.flags|=2,(t.components||(t.components=[])).push(r.index)}function Wf(t,r,s){if(s){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)s[r.exportAs[a]]=t;Kr(r)&&(s[""]=t)}}function qf(t,r,s){t.flags|=1,t.directiveStart=r,t.directiveEnd=r+s,t.providerIndexes=r}function sh(t,r,s,a,c){t.data[a]=c;const d=c.factory||(c.factory=Ls(c.type)),m=new Mr(d,Kr(c),Lu);t.blueprint[a]=m,s[a]=m,rh(t,r,0,a,Hu(t,s,c.hostVars,Pn),c)}function Kf(t,r,s){const a=Sr(r,t),c=Rg(s),d=t[10],m=Kl(t,ha(t,c,null,s.onPush?32:16,a,r,d,d.createRenderer(a,s),null,null,null));t[r.index]=m}function fa(t,r,s,a,c,d){const m=Sr(t,r);!function ol(t,r,s,a,c,d,m){if(null==d)t.removeAttribute(r,c,s);else{const I=null==m?je(d):m(d,a||"",c);t.setAttribute(r,c,I,s)}}(r[11],m,d,t.value,s,a,c)}function Zf(t,r,s,a,c,d){const m=d[r];if(null!==m){const I=a.setInput;for(let b=0;b<m.length;){const k=m[b++],j=m[b++],Z=m[b++];null!==I?a.setInput(s,Z,k,j):s[j]=Z}}}function $g(t,r){let s=null,a=0;for(;a<r.length;){const c=r[a];if(0!==c)if(5!==c){if("number"==typeof c)break;t.hasOwnProperty(c)&&(null===s&&(s=[]),s.push(c,t[c],r[a+1])),a+=2}else a+=2;else a+=4}return s}function Qf(t,r,s,a){return new Array(t,!0,!1,r,null,0,a,s,null,null)}function Xf(t,r){const s=ni(r,t);if(Cs(s)){const a=s[1];48&s[2]?zl(a,s,a.template,s[8]):s[5]>0&&ep(s)}}function ep(t){for(let a=Jh(t);null!==a;a=qc(a))for(let c=10;c<a.length;c++){const d=a[c];if(Cs(d))if(512&d[2]){const m=d[1];zl(m,d,m.template,d[8])}else d[5]>0&&ep(d)}const s=t[1].components;if(null!==s)for(let a=0;a<s.length;a++){const c=ni(s[a],t);Cs(c)&&c[5]>0&&ep(c)}}function hy(t,r){const s=ni(r,t),a=s[1];(function fy(t,r){for(let s=r.length;s<t.blueprint.length;s++)r.push(t.blueprint[s])})(a,s),Xd(a,s,s[8])}function Kl(t,r){return t[13]?t[14][4]=r:t[13]=r,t[14]=r,r}function tp(t){for(;t;){t[2]|=32;const r=Ll(t);if(ws(t)&&!r)return t;t=r}return null}function oh(t,r,s){F(0),r(t,s)}function zg(t){return t[7]||(t[7]=[])}function rp(t){return t.cleanup||(t.cleanup=[])}function Zl(t,r){const s=t[9],a=s?s.get(Na,null):null;a&&a.handleError(r)}function ar(t,r,s,a,c){for(let d=0;d<s.length;){const m=s[d++],I=s[d++],b=r[m],k=t.data[m];null!==k.setInput?k.setInput(b,c,a,I):b[I]=c}}function Yl(t,r,s){let a=s?t.styles:null,c=s?t.classes:null,d=0;if(null!==r)for(let m=0;m<r.length;m++){const I=r[m];"number"==typeof I?d=I:1==d?c=Vt(c,I):2==d&&(a=Vt(a,I+": "+r[++m]+";"))}s?t.styles=a:t.stylesWithoutHost=a,s?t.classes=c:t.classesWithoutHost=c}function Gu(t,r,s,a,c=!1){for(;null!==s;){const d=r[s.index];if(null!==d&&a.push(yn(d)),qn(d))for(let I=10;I<d.length;I++){const b=d[I],k=b[1].firstChild;null!==k&&Gu(b[1],b,k,a)}const m=s.type;if(8&m)Gu(t,r,s.child,a);else if(32&m){const I=Pu(s,r);let b;for(;b=I();)a.push(b)}else if(16&m){const I=ng(r,s);if(Array.isArray(I))a.push(...I);else{const b=Ll(r[16]);Gu(b[1],b,I,a,!0)}}s=c?s.projectionNext:s.next}return a}class ah{constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const r=this._lView,s=r[1];return Gu(s,r,s.firstChild,[])}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if(qn(r)){const s=r[8],a=s?s.indexOf(this):-1;a>-1&&(as(r,a),Pr(s,a))}this._attachedToViewContainer=!1}Jp(this._lView[1],this._lView)}onDestroy(r){kg(this._lView[1],this._lView,null,r)}markForCheck(){tp(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function np(t,r,s){const a=r[10];a.begin&&a.begin();try{zl(t,r,t.template,s)}catch(c){throw Zl(r,c),c}finally{a.end&&a.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Re(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Vm(t,r){Ul(t,r,r[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new Re(902,!1);this._appRef=r}}class zi extends ah{constructor(r){super(r),this._view=r}detectChanges(){!function Hg(t){!function jg(t){for(let r=0;r<t.components.length;r++){const s=t.components[r],a=_u(s);if(null!==a){const c=a[1];jf(c,a,c.template,s)}}}(t[8])}(this._view)}checkNoChanges(){}get context(){return null}}class Os extends qa{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=J(r);return new Ql(s,this.ngModule)}}function Pa(t){const r=[];for(let s in t)t.hasOwnProperty(s)&&r.push({propName:t[s],templateName:s});return r}class Uv{constructor(r,s){this.injector=r,this.parentInjector=s}get(r,s,a){const c=this.injector.get(r,Uh,a);return c!==Uh||s===Uh?c:this.parentInjector.get(r,s,a)}}class Ql extends Wr{constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function og(t){return t.map(Gm).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return Pa(this.componentDef.inputs)}get outputs(){return Pa(this.componentDef.outputs)}create(r,s,a,c){let d=(c=c||this.ngModule)instanceof Ou?c:c?.injector;d&&null!==this.componentDef.getStandaloneInjector&&(d=this.componentDef.getStandaloneInjector(d)||d);const m=d?new Uv(r,d):r,I=m.get(Gc,null);if(null===I)throw new Re(407,!1);const b=m.get(Rl,null),k=I.createRenderer(null,this.componentDef),j=this.componentDef.selectors[0][0]||"div",Z=a?function Pg(t,r,s){return t.selectRootElement(r,s===Br.ShadowDom)}(k,a,this.componentDef.encapsulation):Dc(I.createRenderer(null,this.componentDef),j,function py(t){const r=t.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(j)),he=this.componentDef.onPush?288:272,Se={components:[]},Qe=ql(0,null,null,1,0,null,null,null,null,null),ft=ha(null,Qe,Se,he,null,null,I,k,b,m,null);let Tt,kt;se(ft);try{const dn=function my(t,r,s,a,c,d){const m=s[1];s[22]=t;const b=ju(m,22,2,"#host",null),k=b.mergedAttrs=r.hostAttrs;null!==k&&(Yl(b,k,!0),null!==t&&(Rt(c,t,k),null!==b.classes&&Ud(c,t,b.classes),null!==b.styles&&df(c,t,b.styles)));const j=a.createRenderer(t,r),Z=ha(s,Rg(r),null,r.onPush?32:16,s[22],b,a,j,d||null,null,null);return m.firstCreatePass&&(Jn(po(b,s),m,r.type),Ug(m,b),qf(b,s.length,1)),Kl(s,Z),s[22]=Z}(Z,this.componentDef,ft,I,k);if(Z)if(a)Rt(k,Z,["ng-version",Pp.full]);else{const{attrs:at,classes:pn}=function zm(t){const r=[],s=[];let a=1,c=2;for(;a<t.length;){let d=t[a];if("string"==typeof d)2===c?""!==d&&r.push(d,t[++a]):8===c&&s.push(d);else{if(!zo(c))break;c=d}a++}return{attrs:r,classes:s}}(this.componentDef.selectors[0]);at&&Rt(k,Z,at),pn&&pn.length>0&&Ud(k,Z,pn.join(" "))}if(kt=mr(Qe,22),void 0!==s){const at=kt.projection=[];for(let pn=0;pn<this.ngContentSelectors.length;pn++){const fr=s[pn];at.push(null!=fr?Array.from(fr):null)}}Tt=function jv(t,r,s,a,c){const d=s[1],m=function cy(t,r,s){const a=O();t.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),sh(t,a,r,Hu(t,r,1,null),s),Fg(t,a));const c=Po(r,t,a.directiveStart,a);os(c,r);const d=Sr(a,r);return d&&os(d,r),c}(d,s,r);if(a.components.push(m),t[8]=m,null!==c)for(const b of c)b(m,r);if(r.contentQueries){const b=O();r.contentQueries(1,m,b.directiveStart)}const I=O();return!d.firstCreatePass||null===r.hostBindings&&null===r.hostAttrs||(Nn(I.index),rh(s[1],I,0,I.directiveStart,I.directiveEnd,r),Vg(r,m)),m}(dn,this.componentDef,ft,Se,[Hv]),Xd(Qe,ft,null)}finally{Ln()}return new gy(this.componentType,Tt,Ka(kt,ft),ft,kt)}}class gy extends class Hn{}{constructor(r,s,a,c,d){super(),this.location=a,this._rootLView=c,this._tNode=d,this.instance=s,this.hostView=this.changeDetectorRef=new zi(c),this.componentType=r}setInput(r,s){const a=this._tNode.inputs;let c;if(null!==a&&(c=a[r])){const d=this._rootLView;ar(d[1],d,c,r,s),nh(d,this._tNode.index)}}get injector(){return new ko(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function Hv(){const t=O();ta(Ge()[1],t)}function Wi(t){let r=function qg(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),s=!0;const a=[t];for(;r;){let c;if(Kr(t))c=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new Re(903,!1);c=r.\u0275dir}if(c){if(s){a.push(c);const m=t;m.inputs=Zg(t.inputs),m.declaredInputs=Zg(t.declaredInputs),m.outputs=Zg(t.outputs);const I=c.hostBindings;I&&zv(t,I);const b=c.viewQuery,k=c.contentQueries;if(b&&Gv(t,b),k&&Yg(t,k),ct(t.inputs,c.inputs),ct(t.declaredInputs,c.declaredInputs),ct(t.outputs,c.outputs),Kr(c)&&c.data.animation){const j=t.data;j.animation=(j.animation||[]).concat(c.data.animation)}}const d=c.features;if(d)for(let m=0;m<d.length;m++){const I=d[m];I&&I.ngInherit&&I(t),I===Wi&&(s=!1)}}r=Object.getPrototypeOf(r)}!function Kg(t){let r=0,s=null;for(let a=t.length-1;a>=0;a--){const c=t[a];c.hostVars=r+=c.hostVars,c.hostAttrs=_t(c.hostAttrs,s=_t(s,c.hostAttrs))}}(a)}function Zg(t){return t===X?{}:t===te?[]:t}function Gv(t,r){const s=t.viewQuery;t.viewQuery=s?(a,c)=>{r(a,c),s(a,c)}:r}function Yg(t,r){const s=t.contentQueries;t.contentQueries=s?(a,c,d)=>{r(a,c,d),s(a,c,d)}:r}function zv(t,r){const s=t.hostBindings;t.hostBindings=s?(a,c)=>{r(a,c),s(a,c)}:r}let sp=null;function ul(){if(!sp){const t=Ut.Symbol;if(t&&t.iterator)sp=t.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<r.length;++s){const a=r[s];"entries"!==a&&"size"!==a&&Map.prototype[a]===Map.prototype.entries&&(sp=a)}}}return sp}function cl(t){return!!Iu(t)&&(Array.isArray(t)||!(t instanceof Map)&&ul()in t)}function Iu(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function so(t,r,s){return!Object.is(t[r],s)&&(t[r]=s,!0)}function op(t,r,s,a){const c=Ge();return so(c,Ri(),r)&&(En(),fa(Kt(),c,t,r,s,a)),op}function Wu(t,r,s,a){return so(t,Ri(),s)?r+je(s)+a:Pn}function dh(t,r,s,a,c,d,m,I){const b=Ge(),k=En(),j=t+22,Z=k.firstCreatePass?function Xg(t,r,s,a,c,d,m,I,b){const k=r.consts,j=ju(r,t,4,m||null,xi(k,I));zf(r,s,j,xi(k,b)),ta(r,j);const Z=j.tViews=ql(2,j,a,c,d,r.directiveRegistry,r.pipeRegistry,null,r.schemas,k);return null!==r.queries&&(r.queries.template(r,j),Z.queries=r.queries.embeddedTView(j)),j}(j,k,b,r,s,a,c,d,m):k.data[j];H(Z,!1);const he=b[11].createComment("");Vl(k,b,he,Z),os(he,b),Kl(b,b[j]=Qf(he,b,he,Z)),qi(Z)&&Hf(k,b,Z),null!=m&&Wl(b,Z,I)}function Eu(t,r,s){const a=Ge();return so(a,Ri(),r)&&wo(En(),Kt(),a,t,r,a[11],s,!1),Eu}function Zu(t,r,s,a,c){const m=c?"class":"style";ar(t,s,r.inputs[m],m,a)}function Du(t,r,s,a){const c=Ge(),d=En(),m=22+t,I=c[11],b=c[m]=Dc(I,r,function Xo(){return Qt.lFrame.currentNamespace}()),k=d.firstCreatePass?function fh(t,r,s,a,c,d,m){const I=r.consts,k=ju(r,t,2,c,xi(I,d));return zf(r,s,k,xi(I,m)),null!==k.attrs&&Yl(k,k.attrs,!1),null!==k.mergedAttrs&&Yl(k,k.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,k),k}(m,d,c,0,r,s,a):d.data[m];H(k,!0);const j=k.mergedAttrs;null!==j&&Rt(I,b,j);const Z=k.classes;null!==Z&&Ud(I,b,Z);const he=k.styles;return null!==he&&df(I,b,he),64!=(64&k.flags)&&Vl(d,c,b,k),0===function Qs(){return Qt.lFrame.elementDepthCount}()&&os(b,c),function Js(){Qt.lFrame.elementDepthCount++}(),qi(k)&&(Hf(d,c,k),eh(d,k,c)),null!==a&&Wl(c,k),Du}function ph(){let t=O();Ue()?Pt():(t=t.parent,H(t,!1));const r=t;!function Mo(){Qt.lFrame.elementDepthCount--}();const s=En();return s.firstCreatePass&&(ta(s,t),Eo(t)&&s.queries.elementEnd(t)),null!=r.classesWithoutHost&&function ut(t){return 0!=(16&t.flags)}(r)&&Zu(s,r,Ge(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function xr(t){return 0!=(32&t.flags)}(r)&&Zu(s,r,Ge(),r.stylesWithoutHost,!1),ph}function em(t,r,s,a){return Du(t,r,s,a),ph(),em}function dp(t,r,s){const a=Ge(),c=En(),d=t+22,m=c.firstCreatePass?function tm(t,r,s,a,c){const d=r.consts,m=xi(d,a),I=ju(r,t,8,"ng-container",m);return null!==m&&Yl(I,m,!0),zf(r,s,I,xi(d,c)),null!==r.queries&&r.queries.elementStart(r,I),I}(d,c,a,r,s):c.data[d];H(m,!0);const I=a[d]=a[11].createComment("");return Vl(c,a,I,m),os(I,a),qi(m)&&(Hf(c,a,m),eh(c,m,a)),null!=s&&Wl(a,m),dp}function gh(){let t=O();const r=En();return Ue()?Pt():(t=t.parent,H(t,!1)),r.firstCreatePass&&(ta(r,t),Eo(t)&&r.queries.elementEnd(t)),gh}function vy(){return Ge()}function hp(t){return!!t&&"function"==typeof t.then}function _y(t){return!!t&&"function"==typeof t.subscribe}const fp=_y;function rm(t,r,s,a){const c=Ge(),d=En(),m=O();return function Iy(t,r,s,a,c,d,m,I){const b=qi(a),j=t.firstCreatePass&&rp(t),Z=r[8],he=zg(r);let Se=!0;if(3&a.type||I){const Tt=Sr(a,r),kt=I?I(Tt):Tt,dn=he.length,at=I?fr=>I(yn(fr[a.index])):a.index;let pn=null;if(!I&&b&&(pn=function im(t,r,s,a){const c=t.cleanup;if(null!=c)for(let d=0;d<c.length-1;d+=2){const m=c[d];if(m===s&&c[d+1]===a){const I=r[7],b=c[d+2];return I.length>b?I[b]:null}"string"==typeof m&&(d+=2)}return null}(t,r,c,a.index)),null!==pn)(pn.__ngLastListenerFn__||pn).__ngNextListenerFn__=d,pn.__ngLastListenerFn__=d,Se=!1;else{d=pp(a,r,Z,d,!1);const fr=s.listen(kt,c,d);he.push(d,fr),j&&j.push(c,at,dn,dn+1)}}else d=pp(a,r,Z,d,!1);const Qe=a.outputs;let ft;if(Se&&null!==Qe&&(ft=Qe[c])){const Tt=ft.length;if(Tt)for(let kt=0;kt<Tt;kt+=2){const Ai=r[ft[kt]][ft[kt+1]].subscribe(d),id=he.length;he.push(d,Ai),j&&j.push(c,a.index,id,-(id+1))}}}(d,c,c[11],m,t,r,0,a),rm}function Ey(t,r,s,a){try{return!1!==s(a)}catch(c){return Zl(t,c),!1}}function pp(t,r,s,a,c){return function d(m){if(m===Function)return a;tp(2&t.flags?ni(t.index,r):r);let b=Ey(r,0,a,m),k=d.__ngNextListenerFn__;for(;k;)b=Ey(r,0,k,m)&&b,k=k.__ngNextListenerFn__;return c&&!1===b&&(m.preventDefault(),m.returnValue=!1),b}}function Dy(t=1){return function er(t){return(Qt.lFrame.contextLView=function xn(t,r){for(;t>0;)r=r[15],t--;return r}(t,Qt.lFrame.contextLView))[8]}(t)}function mh(t,r,s){return yh(t,"",r,"",s),mh}function yh(t,r,s,a,c){const d=Ge(),m=Wu(d,r,s,a);return m!==Pn&&wo(En(),Kt(),d,t,m,d[11],c,!1),yh}function Ay(t,r,s,a,c){const d=t[s+1],m=null===r;let I=a?Wo(d):$o(d),b=!1;for(;0!==I&&(!1===b||m);){const j=t[I+1];Jv(t[I],r)&&(b=!0,t[I+1]=a?Bu(j):jl(j)),I=a?Wo(j):$o(j)}b&&(t[s+1]=a?jl(d):Bu(d))}function Jv(t,r){return null===t||null==r||(Array.isArray(t)?t[1]:t)===r||!(!Array.isArray(t)||"string"!=typeof r)&&x(t,r)>=0}function lm(t,r){return function o(t,r,s,a){const c=Ge(),d=En(),m=function Ni(t){const r=Qt.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+t,s}(2);d.firstUpdatePass&&function p(t,r,s,a){const c=t.data;if(null===c[s+1]){const d=c[Rn()],m=function l(t,r){return r>=t.expandoStartIndex}(t,s);(function us(t,r){return 0!=(t.flags&(r?16:32))})(d,a)&&null===r&&!m&&(r=!1),r=function E(t,r,s,a){const c=function Xs(t){const r=Qt.lFrame.currentDirectiveIndex;return-1===r?null:t[r]}(t);let d=a?r.residualClasses:r.residualStyles;if(null===c)0===(a?r.classBindings:r.styleBindings)&&(s=xe(s=re(null,t,r,s,a),r.attrs,a),d=null);else{const m=r.directiveStylingLast;if(-1===m||t[m]!==c)if(s=re(c,t,r,s,a),null===d){let b=function P(t,r,s){const a=s?r.classBindings:r.styleBindings;if(0!==$o(a))return t[Wo(a)]}(t,r,a);void 0!==b&&Array.isArray(b)&&(b=re(null,t,r,b[1],a),b=xe(b,r.attrs,a),function V(t,r,s,a){t[Wo(s?r.classBindings:r.styleBindings)]=a}(t,r,a,b))}else d=function z(t,r,s){let a;const c=r.directiveEnd;for(let d=1+r.directiveStylingLast;d<c;d++)a=xe(a,t[d].hostAttrs,s);return xe(a,r.attrs,s)}(t,r,a)}return void 0!==d&&(a?r.residualClasses=d:r.residualStyles=d),s}(c,d,r,a),function Qv(t,r,s,a,c,d){let m=d?r.classBindings:r.styleBindings,I=Wo(m),b=$o(m);t[a]=s;let j,k=!1;if(Array.isArray(s)){const Z=s;j=Z[1],(null===j||x(Z,j)>0)&&(k=!0)}else j=s;if(c)if(0!==b){const he=Wo(t[I+1]);t[a+1]=nl(he,I),0!==he&&(t[he+1]=Uu(t[he+1],a)),t[I+1]=function Vu(t,r){return 131071&t|r<<17}(t[I+1],a)}else t[a+1]=nl(I,0),0!==I&&(t[I+1]=Uu(t[I+1],a)),I=a;else t[a+1]=nl(b,0),0===I?I=a:t[b+1]=Uu(t[b+1],a),b=a;k&&(t[a+1]=jl(t[a+1])),Ay(t,j,a,!0),Ay(t,j,a,!1),function Ty(t,r,s,a,c){const d=c?t.residualClasses:t.residualStyles;null!=d&&"string"==typeof r&&x(d,r)>=0&&(s[a+1]=Bu(s[a+1]))}(r,j,t,a,d),m=nl(I,b),d?r.classBindings=m:r.styleBindings=m}(c,d,r,s,m,a)}}(d,t,m,a),r!==Pn&&so(c,m,r)&&function Wt(t,r,s,a,c,d,m,I){if(!(3&r.type))return;const b=t.data,k=b[I+1];Lr(function Rf(t){return 1==(1&t)}(k)?pr(b,r,s,c,$o(k),m):void 0)||(Lr(d)||function Tc(t){return 2==(2&t)}(k)&&(d=pr(b,null,s,c,I,m)),function Vd(t,r,s,a,c){if(r)c?t.addClass(s,a):t.removeClass(s,a);else{let d=-1===a.indexOf("-")?void 0:io.DashCase;null==c?t.removeStyle(s,a,d):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),d|=io.Important),t.setStyle(s,a,c,d))}}(a,m,Vs(Rn(),s),c,d))}(d,d.data[Rn()],c,c[11],t,c[m+1]=function si(t,r){return null==t||("string"==typeof r?t+=r:"object"==typeof t&&(t=wt(Ma(t)))),t}(r,s),a,m)}(t,r,null,!0),lm}function re(t,r,s,a,c){let d=null;const m=s.directiveEnd;let I=s.directiveStylingLast;for(-1===I?I=s.directiveStart:I++;I<m&&(d=r[I],a=xe(a,d.hostAttrs,c),d!==t);)I++;return null!==t&&(s.directiveStylingLast=I),a}function xe(t,r,s){const a=s?1:2;let c=-1;if(null!==r)for(let d=0;d<r.length;d++){const m=r[d];"number"==typeof m?c=m:c===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),g(t,m,!!s||r[++d]))}return void 0===t?null:t}function pr(t,r,s,a,c,d){const m=null===r;let I;for(;c>0;){const b=t[c],k=Array.isArray(b),j=k?b[1]:b,Z=null===j;let he=s[c+1];he===Pn&&(he=Z?te:void 0);let Se=Z?D(he,a):j===a?he:void 0;if(k&&!Lr(Se)&&(Se=D(b,a)),Lr(Se)&&(I=Se,m))return I;const Qe=t[c+1];c=m?Wo(Qe):$o(Qe)}if(null!==r){let b=d?r.residualClasses:r.residualStyles;null!=b&&(I=D(b,a))}return I}function Lr(t){return void 0!==t}function Yr(t,r=""){const s=Ge(),a=En(),c=t+22,d=a.firstCreatePass?ju(a,c,1,r,null):a.data[c],m=s[c]=function Xh(t,r){return t.createText(r)}(s[11],r);Vl(a,s,m,d),H(d,!1)}function Vr(t){return cs("",t,""),Vr}function cs(t,r,s){const a=Ge(),c=Wu(a,t,r,s);return c!==Pn&&function Ja(t,r,s){const a=Vs(r,t);!function ef(t,r,s){t.setValue(r,s)}(t[11],a,s)}(a,Rn(),c),cs}const nd=void 0;var jI=["en",[["a","p"],["AM","PM"],nd],[["AM","PM"],nd,nd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],nd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],nd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",nd,"{1} 'at' {0}",nd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function $I(t){const s=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let wh={};function Py(t){const r=function HI(t){return t.toLowerCase().replace(/_/g,"-")}(t);let s=D_(r);if(s)return s;const a=r.split("-")[0];if(s=D_(a),s)return s;if("en"===a)return jI;throw new Re(701,!1)}function E_(t){return Py(t)[wn.PluralCase]}function D_(t){return t in wh||(wh[t]=Ut.ng&&Ut.ng.common&&Ut.ng.common.locales&&Ut.ng.common.locales[t]),wh[t]}var wn=(()=>((wn=wn||{})[wn.LocaleId=0]="LocaleId",wn[wn.DayPeriodsFormat=1]="DayPeriodsFormat",wn[wn.DayPeriodsStandalone=2]="DayPeriodsStandalone",wn[wn.DaysFormat=3]="DaysFormat",wn[wn.DaysStandalone=4]="DaysStandalone",wn[wn.MonthsFormat=5]="MonthsFormat",wn[wn.MonthsStandalone=6]="MonthsStandalone",wn[wn.Eras=7]="Eras",wn[wn.FirstDayOfWeek=8]="FirstDayOfWeek",wn[wn.WeekendRange=9]="WeekendRange",wn[wn.DateFormat=10]="DateFormat",wn[wn.TimeFormat=11]="TimeFormat",wn[wn.DateTimeFormat=12]="DateTimeFormat",wn[wn.NumberSymbols=13]="NumberSymbols",wn[wn.NumberFormats=14]="NumberFormats",wn[wn.CurrencyCode=15]="CurrencyCode",wn[wn.CurrencySymbol=16]="CurrencySymbol",wn[wn.CurrencyName=17]="CurrencyName",wn[wn.Currencies=18]="Currencies",wn[wn.Directionality=19]="Directionality",wn[wn.PluralCase=20]="PluralCase",wn[wn.ExtraData=21]="ExtraData",wn))();const Ih="en-US";let C_=Ih;function Ly(t,r,s,a,c){if(t=pt(t),Array.isArray(t))for(let d=0;d<t.length;d++)Ly(t[d],r,s,a,c);else{const d=En(),m=Ge();let I=mu(t)?t:pt(t.provide),b=C(t);const k=O(),j=1048575&k.providerIndexes,Z=k.directiveStart,he=k.providerIndexes>>20;if(mu(t)||!t.multi){const Se=new Mr(b,c,Lu),Qe=Uy(I,r,c?j:j+he,Z);-1===Qe?(Jn(po(k,m),d,I),Vy(d,t,r.length),r.push(I),k.directiveStart++,k.directiveEnd++,c&&(k.providerIndexes+=1048576),s.push(Se),m.push(Se)):(s[Qe]=Se,m[Qe]=Se)}else{const Se=Uy(I,r,j+he,Z),Qe=Uy(I,r,j,j+he),ft=Se>=0&&s[Se],Tt=Qe>=0&&s[Qe];if(c&&!Tt||!c&&!ft){Jn(po(k,m),d,I);const kt=function $0(t,r,s,a,c){const d=new Mr(t,s,Lu);return d.multi=[],d.index=r,d.componentProviders=0,Z_(d,c,a&&!s),d}(c?B0:U0,s.length,c,a,b);!c&&Tt&&(s[Qe].providerFactory=kt),Vy(d,t,r.length,0),r.push(I),k.directiveStart++,k.directiveEnd++,c&&(k.providerIndexes+=1048576),s.push(kt),m.push(kt)}else Vy(d,t,Se>-1?Se:Qe,Z_(s[c?Qe:Se],b,!c&&a));!c&&a&&Tt&&s[Qe].componentProviders++}}}function Vy(t,r,s,a){const c=mu(r),d=function Fh(t){return!!t.useClass}(r);if(c||d){const b=(d?pt(r.useClass):r).prototype.ngOnDestroy;if(b){const k=t.destroyHooks||(t.destroyHooks=[]);if(!c&&r.multi){const j=k.indexOf(s);-1===j?k.push(s,[a,b]):k[j+1].push(a,b)}else k.push(s,b)}}}function Z_(t,r,s){return s&&t.componentProviders++,t.multi.push(r)-1}function Uy(t,r,s,a){for(let c=s;c<a;c++)if(r[c]===t)return c;return-1}function U0(t,r,s,a){return By(this.multi,[])}function B0(t,r,s,a){const c=this.multi;let d;if(this.providerFactory){const m=this.providerFactory.componentProviders,I=Po(s,s[1],this.providerFactory.index,a);d=I.slice(0,m),By(c,d);for(let b=m;b<I.length;b++)d.push(I[b])}else d=[],By(c,d);return d}function By(t,r){for(let s=0;s<t.length;s++)r.push((0,t[s])());return r}function Y_(t,r=[]){return s=>{s.providersResolver=(a,c)=>function V0(t,r,s){const a=En();if(a.firstCreatePass){const c=Kr(t);Ly(s,a.data,a.blueprint,c,!0),Ly(r,a.data,a.blueprint,c,!1)}}(a,c?c(t):t,r)}}class Dh{}class Q_{}function j0(t,r){return new J_(t,r??null)}class J_ extends Dh{constructor(r,s){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Os(this);const a=Lt(r);this._bootstrapComponents=Za(a.bootstrap),this._r3Injector=Gd(r,s,[{provide:Dh,useValue:this},{provide:qa,useValue:this.componentFactoryResolver}],wt(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class $y extends Q_{constructor(r){super(),this.moduleType=r}create(r){return new J_(this.moduleType,r)}}class H0 extends Dh{constructor(r,s,a){super(),this.componentFactoryResolver=new Os(this),this.instance=null;const c=new Id([...r,{provide:Dh,useValue:this},{provide:qa,useValue:this.componentFactoryResolver}],s||pc(),a,new Set(["environment"]));this.injector=c,c.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function jy(t,r,s=null){return new H0(t,r,s).injector}let G0=(()=>{class t{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s.id)){const a=ss(0,s.type),c=a.length>0?jy([a],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s.id,c)}return this.cachedInjectors.get(s.id)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}}return t.\u0275prov=zn({token:t,providedIn:"environment",factory:()=>new t(pi(Ou))}),t})();function X_(t){t.getStandaloneInjector=r=>r.get(G0).getOrCreateStandaloneInjector(t)}function ow(t,r,s){const a=function jr(){const t=Qt.lFrame;let r=t.bindingRootIndex;return-1===r&&(r=t.bindingRootIndex=t.tView.bindingStartIndex),r}()+t,c=Ge();return c[a]===Pn?function pa(t,r,s){return t[r]=s}(c,a,s?r.call(s):r()):function Jl(t,r){return t[r]}(c,a)}function Gy(t){return r=>{setTimeout(t,void 0,r)}}const Qu=class gE extends _.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,a){let c=r,d=s||(()=>null),m=a;if(r&&"object"==typeof r){const b=r;c=b.next?.bind(b),d=b.error?.bind(b),m=b.complete?.bind(b)}this.__isAsync&&(d=Gy(d),c&&(c=Gy(c)),m&&(m=Gy(m)));const I=super.subscribe({next:c,error:d,complete:m});return r instanceof q.w0&&r.add(I),I}};function mE(){return this._results[ul()]()}class zy{constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=ul(),a=zy.prototype;a[s]||(a[s]=mE)}get changes(){return this._changes||(this._changes=new Qu)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const a=this;a.dirty=!1;const c=Nr(r);(this._changesDetected=!function Ea(t,r,s){if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++){let c=t[a],d=r[a];if(s&&(c=s(c),d=s(d)),d!==c)return!1}return!0}(a._results,c,s))&&(a._results=c,a.length=c.length,a.last=c[this.length-1],a.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Ip=(()=>{class t{}return t.__NG_ELEMENT_ID__=_E,t})();const yE=Ip,vE=class extends yE{constructor(r,s,a){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=a}createEmbeddedView(r,s){const a=this._declarationTContainer.tViews,c=ha(this._declarationLView,a,r,16,null,a.declTNode,null,null,null,null,s||null);c[17]=this._declarationLView[this._declarationTContainer.index];const m=this._declarationLView[19];return null!==m&&(c[19]=m.createEmbeddedView(a)),Xd(a,c,r),new ah(c)}};function _E(){return gm(O(),Ge())}function gm(t,r){return 4&t.type?new vE(r,t,Ka(t,r)):null}let mm=(()=>{class t{}return t.__NG_ELEMENT_ID__=wE,t})();function wE(){return pw(O(),Ge())}const IE=mm,hw=class extends IE{constructor(r,s,a){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=a}get element(){return Ka(this._hostTNode,this._hostLView)}get injector(){return new ko(this._hostTNode,this._hostLView)}get parentInjector(){const r=No(this._hostTNode,this._hostLView);if(it(r)){const s=fo(r,this._hostLView),a=Hr(r);return new ko(s[1].data[a+8],s)}return new ko(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=fw(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,s,a){let c,d;"number"==typeof a?c=a:null!=a&&(c=a.index,d=a.injector);const m=r.createEmbeddedView(s||{},d);return this.insert(m,c),m}createComponent(r,s,a,c,d){const m=r&&!function Cr(t){return"function"==typeof t}(r);let I;if(m)I=s;else{const Z=s||{};I=Z.index,a=Z.injector,c=Z.projectableNodes,d=Z.environmentInjector||Z.ngModuleRef}const b=m?r:new Ql(J(r)),k=a||this.parentInjector;if(!d&&null==b.ngModule){const he=(m?k:this.parentInjector).get(Ou,null);he&&(d=he)}const j=b.create(k,c,void 0,d);return this.insert(j.hostView,I),j}insert(r,s){const a=r._lView,c=a[1];if(function bs(t){return qn(t[3])}(a)){const j=this.indexOf(r);if(-1!==j)this.detach(j);else{const Z=a[3],he=new hw(Z,Z[6],Z[3]);he.detach(he.indexOf(r))}}const d=this._adjustIndex(s),m=this._lContainer;!function Um(t,r,s,a){const c=10+a,d=s.length;a>0&&(s[c-1][4]=r),a<d-10?(r[4]=s[c],Rc(s,10+a,r)):(s.push(r),r[4]=null),r[3]=s;const m=r[17];null!==m&&s!==m&&function Bm(t,r){const s=t[9];r[16]!==r[3][3][16]&&(t[2]=!0),null===s?t[9]=[r]:s.push(r)}(m,r);const I=r[19];null!==I&&I.insertView(t),r[2]|=64}(c,a,m,d);const I=Fd(d,m),b=a[11],k=ku(b,m[7]);return null!==k&&function Yp(t,r,s,a,c,d){a[0]=c,a[6]=r,Ul(t,a,s,1,c,d)}(c,m[6],b,a,k,I),r.attachToViewContainerRef(),Rc(Wy(m),d,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=fw(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),a=as(this._lContainer,s);a&&(Pr(Wy(this._lContainer),s),Jp(a[1],a))}detach(r){const s=this._adjustIndex(r,-1),a=as(this._lContainer,s);return a&&null!=Pr(Wy(this._lContainer),s)?new ah(a):null}_adjustIndex(r,s=0){return r??this.length+s}};function fw(t){return t[8]}function Wy(t){return t[8]||(t[8]=[])}function pw(t,r){let s;const a=r[t.index];if(qn(a))s=a;else{let c;if(8&t.type)c=yn(a);else{const d=r[11];c=d.createComment("");const m=Sr(t,r);Ya(d,ku(d,m),c,function Od(t,r){return t.nextSibling(r)}(d,m),!1)}r[t.index]=s=Qf(a,r,c,t),Kl(r,s)}return new hw(s,t,r)}class qy{constructor(r){this.queryList=r,this.matches=null}clone(){return new qy(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ky{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const a=null!==r.contentQueries?r.contentQueries[0]:s.length,c=[];for(let d=0;d<a;d++){const m=s.getByIndex(d);c.push(this.queries[m.indexInDeclarationView].clone())}return new Ky(c)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==Ew(r,s).matches&&this.queries[s].setDirty()}}class gw{constructor(r,s,a=null){this.predicate=r,this.flags=s,this.read=a}}class Zy{constructor(r=[]){this.queries=r}elementStart(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let a=0;a<this.length;a++){const c=null!==s?s.length:0,d=this.getByIndex(a).embeddedTView(r,c);d&&(d.indexInDeclarationView=a,null!==s?s.push(d):s=[d])}return null!==s?new Zy(s):null}template(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class Yy{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new Yy(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let c=0;c<a.length;c++){const d=a[c];this.matchTNodeWithReadOption(r,s,CE(s,d)),this.matchTNodeWithReadOption(r,s,js(s,r,d,!1,!1))}else a===Ip?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,js(s,r,a,!1,!1))}matchTNodeWithReadOption(r,s,a){if(null!==a){const c=this.metadata.read;if(null!==c)if(c===yu||c===mm||c===Ip&&4&s.type)this.addMatch(s.index,-2);else{const d=js(s,r,c,!1,!1);null!==d&&this.addMatch(s.index,d)}else this.addMatch(s.index,a)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function CE(t,r){const s=t.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===r)return s[a+1];return null}function TE(t,r,s,a){return-1===s?function bE(t,r){return 11&t.type?Ka(t,r):4&t.type?gm(t,r):null}(r,t):-2===s?function AE(t,r,s){return s===yu?Ka(r,t):s===Ip?gm(r,t):s===mm?pw(r,t):void 0}(t,r,a):Po(t,t[1],s,r)}function mw(t,r,s,a){const c=r[19].queries[a];if(null===c.matches){const d=t.data,m=s.matches,I=[];for(let b=0;b<m.length;b+=2){const k=m[b];I.push(k<0?null:TE(r,d[k],m[b+1],s.metadata.read))}c.matches=I}return c.matches}function Qy(t,r,s,a){const c=t.queries.getByIndex(s),d=c.matches;if(null!==d){const m=mw(t,r,c,s);for(let I=0;I<d.length;I+=2){const b=d[I];if(b>0)a.push(m[I/2]);else{const k=d[I+1],j=r[-b];for(let Z=10;Z<j.length;Z++){const he=j[Z];he[17]===he[3]&&Qy(he[1],he,k,a)}if(null!==j[9]){const Z=j[9];for(let he=0;he<Z.length;he++){const Se=Z[he];Qy(Se[1],Se,k,a)}}}}}return a}function yw(t){const r=Ge(),s=En(),a=T();F(a+1);const c=Ew(s,a);if(t.dirty&&lo(r)===(2==(2&c.metadata.flags))){if(null===c.matches)t.reset([]);else{const d=c.crossesNgTemplate?Qy(s,r,a,[]):mw(s,r,c,a);t.reset(d,Ed),t.notifyOnChanges()}return!0}return!1}function vw(t,r,s,a){const c=En();if(c.firstCreatePass){const d=O();(function Iw(t,r,s){null===t.queries&&(t.queries=new Zy),t.queries.track(new Yy(r,s))})(c,new gw(r,s,a),d.index),function xE(t,r){const s=t.contentQueries||(t.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(t.queries.length-1,r)}(c,t),2==(2&s)&&(c.staticContentQueries=!0)}!function ww(t,r,s){const a=new zy(4==(4&s));kg(t,r,a,a.destroy),null===r[19]&&(r[19]=new Ky),r[19].queries.push(new qy(a))}(c,Ge(),s)}function _w(){return function ME(t,r){return t[19].queries[r].queryList}(Ge(),T())}function Ew(t,r){return t.queries.getByIndex(r)}function vm(...t){}const $w=new Kn("Application Initializer");let _m=(()=>{class t{constructor(s){this.appInits=s,this.resolve=vm,this.reject=vm,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,c)=>{this.resolve=a,this.reject=c})}runInitializers(){if(this.initialized)return;const s=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const d=this.appInits[c]();if(hp(d))s.push(d);else if(fp(d)){const m=new Promise((I,b)=>{d.subscribe({complete:I,error:b})});s.push(m)}}Promise.all(s).then(()=>{a()}).catch(c=>{this.reject(c)}),0===s.length&&a(),this.initialized=!0}}return t.\u0275fac=function(s){return new(s||t)(pi($w,8))},t.\u0275prov=zn({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const jw=new Kn("AppId",{providedIn:"root",factory:function Hw(){return`${nv()}${nv()}${nv()}`}});function nv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Gw=new Kn("Platform Initializer"),QE=new Kn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),zw=new Kn("appBootstrapListener");let JE=(()=>{class t{log(s){console.log(s)}warn(s){console.warn(s)}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=zn({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const wm=new Kn("LocaleId",{providedIn:"root",factory:()=>A(wm,gt.Optional|gt.SkipSelf)||function XE(){return typeof $localize<"u"&&$localize.locale||Ih}()}),eD=new Kn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class tD{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let nD=(()=>{class t{compileModuleSync(s){return new $y(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const a=this.compileModuleSync(s),d=Za(Lt(s).declarations).reduce((m,I)=>{const b=J(I);return b&&m.push(new Ql(b)),m},[]);return new tD(a,d)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=zn({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const sD=(()=>Promise.resolve(0))();function rv(t){typeof Zone>"u"?sD.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class eu{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Qu(!1),this.onMicrotaskEmpty=new Qu(!1),this.onStable=new Qu(!1),this.onError=new Qu(!1),typeof Zone>"u")throw new Re(908,!1);Zone.assertZonePatched();const c=this;if(c._nesting=0,c._outer=c._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const d=Zone.AsyncStackTaggingZoneSpec;c._inner=c._inner.fork(new d("Angular"))}Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!a&&s,c.shouldCoalesceRunChangeDetection=a,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function oD(){let t=Ut.requestAnimationFrame,r=Ut.cancelAnimationFrame;if(typeof Zone<"u"&&t&&r){const s=t[Zone.__symbol__("OriginalDelegate")];s&&(t=s);const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function cD(t){const r=()=>{!function uD(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Ut,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,sv(t),t.isCheckStableRunning=!0,iv(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),sv(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,c,d,m,I)=>{try{return Kw(t),s.invokeTask(c,d,m,I)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||t.shouldCoalesceRunChangeDetection)&&r(),Zw(t)}},onInvoke:(s,a,c,d,m,I,b)=>{try{return Kw(t),s.invoke(c,d,m,I,b)}finally{t.shouldCoalesceRunChangeDetection&&r(),Zw(t)}},onHasTask:(s,a,c,d)=>{s.hasTask(c,d),a===c&&("microTask"==d.change?(t._hasPendingMicrotasks=d.microTask,sv(t),iv(t)):"macroTask"==d.change&&(t.hasPendingMacrotasks=d.macroTask))},onHandleError:(s,a,c,d)=>(s.handleError(c,d),t.runOutsideAngular(()=>t.onError.emit(d)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!eu.isInAngularZone())throw new Re(909,!1)}static assertNotInAngularZone(){if(eu.isInAngularZone())throw new Re(909,!1)}run(r,s,a){return this._inner.run(r,s,a)}runTask(r,s,a,c){const d=this._inner,m=d.scheduleEventTask("NgZoneEvent: "+c,r,aD,vm,vm);try{return d.runTask(m,s,a)}finally{d.cancelTask(m)}}runGuarded(r,s,a){return this._inner.runGuarded(r,s,a)}runOutsideAngular(r){return this._outer.run(r)}}const aD={};function iv(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function sv(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Kw(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Zw(t){t._nesting--,iv(t)}class lD{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Qu,this.onMicrotaskEmpty=new Qu,this.onStable=new Qu,this.onError=new Qu}run(r,s,a){return r.apply(s,a)}runGuarded(r,s,a){return r.apply(s,a)}runOutsideAngular(r){return r()}runTask(r,s,a,c){return r.apply(s,a)}}const Yw=new Kn(""),Qw=new Kn("");let ov,dD=(()=>{class t{constructor(s,a,c){this._ngZone=s,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,ov||(function hD(t){ov=t}(c),c.addToWindow(a)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{eu.assertNotInAngularZone(),rv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())rv(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,c){let d=-1;a&&a>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==d),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:d,updateCb:c})}whenStable(s,a,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,a,c){return[]}}return t.\u0275fac=function(s){return new(s||t)(pi(eu),pi(Jw),pi(Qw))},t.\u0275prov=zn({token:t,factory:t.\u0275fac}),t})(),Jw=(()=>{class t{constructor(){this._applications=new Map}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){return ov?.findTestabilityInTree(this,s,a)??null}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=zn({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})(),yl=null;const Xw=new Kn("AllowMultipleToken"),av=new Kn("PlatformDestroyListeners");class gD{constructor(r,s){this.name=r,this.token=s}}function tI(t,r,s=[]){const a=`Platform: ${r}`,c=new Kn(a);return(d=[])=>{let m=uv();if(!m||m.injector.get(Xw,!1)){const I=[...s,...d,{provide:c,useValue:!0}];t?t(I):function mD(t){if(yl&&!yl.get(Xw,!1))throw new Re(400,!1);yl=t;const r=t.get(rI);(function eI(t){const r=t.get(Gw,null);r&&r.forEach(s=>s())})(t)}(function nI(t=[],r){return da.create({name:r,providers:[{provide:xl,useValue:"platform"},{provide:av,useValue:new Set([()=>yl=null])},...t]})}(I,a))}return function vD(t){const r=uv();if(!r)throw new Re(401,!1);return r}()}}function uv(){return yl?.get(rI)??null}let rI=(()=>{class t{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const c=function sI(t,r){let s;return s="noop"===t?new lD:("zone.js"===t?void 0:t)||new eu(r),s}(a?.ngZone,function iI(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!t||!t.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!t||!t.ngZoneRunCoalescing)||!1}}(a)),d=[{provide:eu,useValue:c}];return c.run(()=>{const m=da.create({providers:d,parent:this.injector,name:s.moduleType.name}),I=s.create(m),b=I.injector.get(Na,null);if(!b)throw new Re(402,!1);return c.runOutsideAngular(()=>{const k=c.onError.subscribe({next:j=>{b.handleError(j)}});I.onDestroy(()=>{Em(this._modules,I),k.unsubscribe()})}),function oI(t,r,s){try{const a=s();return hp(a)?a.catch(c=>{throw r.runOutsideAngular(()=>t.handleError(c)),c}):a}catch(a){throw r.runOutsideAngular(()=>t.handleError(a)),a}}(b,c,()=>{const k=I.injector.get(_m);return k.runInitializers(),k.donePromise.then(()=>(function b_(t){un(t,"Expected localeId to be defined"),"string"==typeof t&&(C_=t.toLowerCase().replace(/_/g,"-"))}(I.injector.get(wm,Ih)||Ih),this._moduleDoBootstrap(I),I))})})}bootstrapModule(s,a=[]){const c=aI({},a);return function fD(t,r,s){const a=new $y(s);return Promise.resolve(a)}(0,0,s).then(d=>this.bootstrapModuleFactory(d,c))}_moduleDoBootstrap(s){const a=s.injector.get(Im);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(c=>a.bootstrap(c));else{if(!s.instance.ngDoBootstrap)throw new Re(403,!1);s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Re(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const s=this._injector.get(av,null);s&&(s.forEach(a=>a()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(s){return new(s||t)(pi(da))},t.\u0275prov=zn({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function aI(t,r){return Array.isArray(r)?r.reduce(aI,t):{...t,...r}}let Im=(()=>{class t{constructor(s,a,c){this._zone=s,this._injector=a,this._exceptionHandler=c,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const d=new _e.y(I=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{I.next(this._stable),I.complete()})}),m=new _e.y(I=>{let b;this._zone.runOutsideAngular(()=>{b=this._zone.onStable.subscribe(()=>{eu.assertNotInAngularZone(),rv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,I.next(!0))})})});const k=this._zone.onUnstable.subscribe(()=>{eu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{I.next(!1)}))});return()=>{b.unsubscribe(),k.unsubscribe()}});this.isStable=function qe(...t){const r=(0,Ce.yG)(t),s=(0,Ce._6)(t,1/0),a=t;return a.length?1===a.length?(0,Ee.Xf)(a[0]):(0,ce.J)(s)((0,we.D)(a,r)):oe.E}(d,m.pipe(function Fe(t={}){const{connector:r=(()=>new _.x),resetOnError:s=!0,resetOnComplete:a=!0,resetOnRefCountZero:c=!0}=t;return d=>{let m,I,b,k=0,j=!1,Z=!1;const he=()=>{I?.unsubscribe(),I=void 0},Se=()=>{he(),m=b=void 0,j=Z=!1},Qe=()=>{const ft=m;Se(),ft?.unsubscribe()};return(0,ue.e)((ft,Tt)=>{k++,!Z&&!j&&he();const kt=b=b??r();Tt.add(()=>{k--,0===k&&!Z&&!j&&(I=tt(Qe,c))}),kt.subscribe(Tt),!m&&k>0&&(m=new ee.Hp({next:dn=>kt.next(dn),error:dn=>{Z=!0,he(),I=tt(Se,s,dn),kt.error(dn)},complete:()=>{j=!0,he(),I=tt(Se,a),kt.complete()}}),(0,Ee.Xf)(ft).subscribe(m))})(d)}}()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,a){const c=s instanceof Wr;if(!this._injector.get(_m).done)throw!c&&jt(s),new Re(405,false);let m;m=c?s:this._injector.get(qa).resolveComponentFactory(s),this.componentTypes.push(m.componentType);const I=function pD(t){return t.isBoundToModule}(m)?void 0:this._injector.get(Dh),k=m.create(da.NULL,[],a||m.selector,I),j=k.location.nativeElement,Z=k.injector.get(Yw,null);return Z?.registerApplication(j),k.onDestroy(()=>{this.detachView(k.hostView),Em(this.components,k),Z?.unregisterApplication(j)}),this._loadComponent(k),k}tick(){if(this._runningTick)throw new Re(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;Em(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(zw,[]).concat(this._bootstrapListeners).forEach(c=>c(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>Em(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new Re(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(s){return new(s||t)(pi(eu),pi(Ou),pi(Na))},t.\u0275prov=zn({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Em(t,r){const s=t.indexOf(r);s>-1&&t.splice(s,1)}let cI=!0;function wD(){cI=!1}let ID=(()=>{class t{}return t.__NG_ELEMENT_ID__=ED,t})();function ED(t){return function DD(t,r,s){if(gr(t)&&!s){const a=ni(t.index,r);return new ah(a,a)}return 47&t.type?new ah(r[16],r):null}(O(),Ge(),16==(16&t))}class pI{constructor(){}supports(r){return cl(r)}create(r){return new MD(r)}}const SD=(t,r)=>r;class MD{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||SD}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,a=this._removalsHead,c=0,d=null;for(;s||a;){const m=!a||s&&s.currentIndex<mI(a,c,d)?s:a,I=mI(m,c,d),b=m.currentIndex;if(m===a)c--,a=a._nextRemoved;else if(s=s._next,null==m.previousIndex)c++;else{d||(d=[]);const k=I-c,j=b-c;if(k!=j){for(let he=0;he<k;he++){const Se=he<d.length?d[he]:d[he]=0,Qe=Se+he;j<=Qe&&Qe<k&&(d[he]=Se+1)}d[m.previousIndex]=j-k}}I!==b&&r(m,I,b)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!cl(r))throw new Re(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let c,d,m,s=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let I=0;I<this.length;I++)d=r[I],m=this._trackByFn(I,d),null!==s&&Object.is(s.trackById,m)?(a&&(s=this._verifyReinsertion(s,d,m,I)),Object.is(s.item,d)||this._addIdentityChange(s,d)):(s=this._mismatch(s,d,m,I),a=!0),s=s._next}else c=0,function Zv(t,r){if(Array.isArray(t))for(let s=0;s<t.length;s++)r(t[s]);else{const s=t[ul()]();let a;for(;!(a=s.next()).done;)r(a.value)}}(r,I=>{m=this._trackByFn(c,I),null!==s&&Object.is(s.trackById,m)?(a&&(s=this._verifyReinsertion(s,I,m,c)),Object.is(s.item,I)||this._addIdentityChange(s,I)):(s=this._mismatch(s,I,m,c),a=!0),s=s._next,c++}),this.length=c;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,a,c){let d;return null===r?d=this._itTail:(d=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,d,c)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,c))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,d,c)):r=this._addAfter(new xD(s,a),d,c),r}_verifyReinsertion(r,s,a,c){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==d?r=this._reinsertAfter(d,r._prev,c):r.currentIndex!=c&&(r.currentIndex=c,this._addToMoves(r,c)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const c=r._prevRemoved,d=r._nextRemoved;return null===c?this._removalsHead=d:c._nextRemoved=d,null===d?this._removalsTail=c:d._prevRemoved=c,this._insertAfter(r,s,a),this._addToMoves(r,a),r}_moveAfter(r,s,a){return this._unlink(r),this._insertAfter(r,s,a),this._addToMoves(r,a),r}_addAfter(r,s,a){return this._insertAfter(r,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,a){const c=null===s?this._itHead:s._next;return r._next=c,r._prev=s,null===c?this._itTail=r:c._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new gI),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,a=r._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new gI),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class xD{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class RD{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const s=r._prevDup,a=r._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class gI{constructor(){this.map=new Map}put(r){const s=r.trackById;let a=this.map.get(s);a||(a=new RD,this.map.set(s,a)),a.add(r)}get(r,s){const c=this.map.get(r);return c?c.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function mI(t,r,s){const a=t.previousIndex;if(null===a)return a;let c=0;return s&&a<s.length&&(c=s[a]),a+r+c}class yI{constructor(){}supports(r){return r instanceof Map||Iu(r)}create(){return new ND}}class ND{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||Iu(r)))throw new Re(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,c)=>{if(s&&s.key===c)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const d=this._getOrCreateRecordForKey(c,a);s=this._insertBeforeOrAppend(s,d)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const a=r._prev;return s._next=r,s._prev=a,r._prev=s,a&&(a._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const c=this._records.get(r);this._maybeAddToChanges(c,s);const d=c._prev,m=c._next;return d&&(d._next=m),m&&(m._prev=d),c._next=null,c._prev=null,c}const a=new OD(r);return this._records.set(r,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(a=>s(r[a],a))}}class OD{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function vI(){return new fv([new pI])}let fv=(()=>{class t{constructor(s){this.factories=s}static create(s,a){if(null!=a){const c=a.factories.slice();s=s.concat(c)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||vI()),deps:[[t,new fn,new mt]]}}find(s){const a=this.factories.find(c=>c.supports(s));if(null!=a)return a;throw new Re(901,!1)}}return t.\u0275prov=zn({token:t,providedIn:"root",factory:vI}),t})();function _I(){return new pv([new yI])}let pv=(()=>{class t{constructor(s){this.factories=s}static create(s,a){if(a){const c=a.factories.slice();s=s.concat(c)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||_I()),deps:[[t,new fn,new mt]]}}find(s){const a=this.factories.find(c=>c.supports(s));if(a)return a;throw new Re(901,!1)}}return t.\u0275prov=zn({token:t,providedIn:"root",factory:_I}),t})();const FD=tI(null,"core",[]);let LD=(()=>{class t{constructor(s){}}return t.\u0275fac=function(s){return new(s||t)(pi(Im))},t.\u0275mod=Tr({type:t}),t.\u0275inj=tr({}),t})();function VD(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}},433:(Yt,Xe,G)=>{G.d(Xe,{Fj:()=>We,u5:()=>Qs,JJ:()=>br,JL:()=>gt,F:()=>ot,On:()=>Fi,_Y:()=>oo});var _=G(8256),q=G(6895),_e=G(8996),ce=G(9751),Ee=G(4742),oe=G(8421),Ce=G(7669),we=G(5403),qe=G(3268),ee=G(1810),Fe=G(4004);let tt=(()=>{class O{constructor(S,H){this._renderer=S,this._elementRef=H,this.onChange=Ue=>{},this.onTouched=()=>{}}setProperty(S,H){this._renderer.setProperty(this._elementRef.nativeElement,S,H)}registerOnTouched(S){this.onTouched=S}registerOnChange(S){this.onChange=S}setDisabledState(S){this.setProperty("disabled",S)}}return O.\u0275fac=function(S){return new(S||O)(_.Y36(_.Qsj),_.Y36(_.SBq))},O.\u0275dir=_.lG2({type:O}),O})(),Me=(()=>{class O extends tt{}return O.\u0275fac=function(){let R;return function(H){return(R||(R=_.n5z(O)))(H||O)}}(),O.\u0275dir=_.lG2({type:O,features:[_.qOj]}),O})();const ct=new _.OlP("NgValueAccessor"),St={provide:ct,useExisting:(0,_.Gpc)(()=>We),multi:!0},pt=new _.OlP("CompositionEventMode");let We=(()=>{class O extends tt{constructor(S,H,Ue){super(S,H),this._compositionMode=Ue,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function xt(){const O=(0,q.q)()?(0,q.q)().getUserAgent():"";return/android (\d+)/.test(O.toLowerCase())}())}writeValue(S){this.setProperty("value",S??"")}_handleInput(S){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(S)}_compositionStart(){this._composing=!0}_compositionEnd(S){this._composing=!1,this._compositionMode&&this.onChange(S)}}return O.\u0275fac=function(S){return new(S||O)(_.Y36(_.Qsj),_.Y36(_.SBq),_.Y36(pt,8))},O.\u0275dir=_.lG2({type:O,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(S,H){1&S&&_.NdJ("input",function(Pt){return H._handleInput(Pt.target.value)})("blur",function(){return H.onTouched()})("compositionstart",function(){return H._compositionStart()})("compositionend",function(Pt){return H._compositionEnd(Pt.target.value)})},features:[_._Bn([St]),_.qOj]}),O})();const je=new _.OlP("NgValidators"),Ie=new _.OlP("NgAsyncValidators");function rn(O){return null!=O}function Vn(O){return(0,_.QGY)(O)?(0,_e.D)(O):O}function Dn(O){let R={};return O.forEach(S=>{R=null!=S?{...R,...S}:R}),0===Object.keys(R).length?null:R}function vr(O,R){return R.map(S=>S(O))}function kn(O){return O.map(R=>function Qn(O){return!O.validate}(R)?R:S=>R.validate(S))}function sn(O){return null!=O?function un(O){if(!O)return null;const R=O.filter(rn);return 0==R.length?null:function(S){return Dn(vr(S,R))}}(kn(O)):null}function In(O){return null!=O?function _r(O){if(!O)return null;const R=O.filter(rn);return 0==R.length?null:function(S){return function ue(...O){const R=(0,Ce.jO)(O),{args:S,keys:H}=(0,Ee.D)(O),Ue=new ce.y(Pt=>{const{length:hr}=S;if(!hr)return void Pt.complete();const zr=new Array(hr);let Bs=hr,fs=hr;for(let jr=0;jr<hr;jr++){let Zr=!1;(0,oe.Xf)(S[jr]).subscribe((0,we.x)(Pt,As=>{Zr||(Zr=!0,fs--),zr[jr]=As},()=>Bs--,void 0,()=>{(!Bs||!Zr)&&(fs||Pt.next(H?(0,ee.n)(H,zr):zr),Pt.complete())}))}});return R?Ue.pipe((0,qe.Z)(R)):Ue}(vr(S,R).map(Vn)).pipe((0,Fe.U)(Dn))}}(kn(O)):null}function Gn(O,R){return null===O?[R]:Array.isArray(O)?[...O,R]:[O,R]}function tr(O){return O?Array.isArray(O)?O:[O]:[]}function Wn(O,R){return Array.isArray(O)?O.includes(R):O===R}function qr(O,R){const S=tr(R);return tr(O).forEach(Ue=>{Wn(S,Ue)||S.push(Ue)}),S}function At(O,R){return tr(R).filter(S=>!Wn(O,S))}class cr{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(R){this._rawValidators=R||[],this._composedValidatorFn=sn(this._rawValidators)}_setAsyncValidators(R){this._rawAsyncValidators=R||[],this._composedAsyncValidatorFn=In(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(R){this._onDestroyCallbacks.push(R)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(R=>R()),this._onDestroyCallbacks=[]}reset(R){this.control&&this.control.reset(R)}hasError(R,S){return!!this.control&&this.control.hasError(R,S)}getError(R,S){return this.control?this.control.getError(R,S):null}}class Un extends cr{get formDirective(){return null}get path(){return null}}class nr extends cr{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class wr{constructor(R){this._cd=R}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let br=(()=>{class O extends wr{constructor(S){super(S)}}return O.\u0275fac=function(S){return new(S||O)(_.Y36(nr,2))},O.\u0275dir=_.lG2({type:O,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(S,H){2&S&&_.ekj("ng-untouched",H.isUntouched)("ng-touched",H.isTouched)("ng-pristine",H.isPristine)("ng-dirty",H.isDirty)("ng-valid",H.isValid)("ng-invalid",H.isInvalid)("ng-pending",H.isPending)},features:[_.qOj]}),O})(),gt=(()=>{class O extends wr{constructor(S){super(S)}}return O.\u0275fac=function(S){return new(S||O)(_.Y36(Un,10))},O.\u0275dir=_.lG2({type:O,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(S,H){2&S&&_.ekj("ng-untouched",H.isUntouched)("ng-touched",H.isTouched)("ng-pristine",H.isPristine)("ng-dirty",H.isDirty)("ng-valid",H.isValid)("ng-invalid",H.isInvalid)("ng-pending",H.isPending)("ng-submitted",H.isSubmitted)},features:[_.qOj]}),O})();const Ot="VALID",qt="INVALID",Ft="PENDING",gn="DISABLED";function en(O){return(Tr(O)?O.validators:O)||null}function Qr(O){return Array.isArray(O)?sn(O):O||null}function $r(O,R){return(Tr(R)?R.asyncValidators:O)||null}function Jr(O){return Array.isArray(O)?In(O):O||null}function Tr(O){return null!=O&&!Array.isArray(O)&&"object"==typeof O}class be{constructor(R,S){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=R,this._rawAsyncValidators=S,this._composedValidatorFn=Qr(this._rawValidators),this._composedAsyncValidatorFn=Jr(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(R){this._rawValidators=this._composedValidatorFn=R}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(R){this._rawAsyncValidators=this._composedAsyncValidatorFn=R}get parent(){return this._parent}get valid(){return this.status===Ot}get invalid(){return this.status===qt}get pending(){return this.status==Ft}get disabled(){return this.status===gn}get enabled(){return this.status!==gn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(R){this._rawValidators=R,this._composedValidatorFn=Qr(R)}setAsyncValidators(R){this._rawAsyncValidators=R,this._composedAsyncValidatorFn=Jr(R)}addValidators(R){this.setValidators(qr(R,this._rawValidators))}addAsyncValidators(R){this.setAsyncValidators(qr(R,this._rawAsyncValidators))}removeValidators(R){this.setValidators(At(R,this._rawValidators))}removeAsyncValidators(R){this.setAsyncValidators(At(R,this._rawAsyncValidators))}hasValidator(R){return Wn(this._rawValidators,R)}hasAsyncValidator(R){return Wn(this._rawAsyncValidators,R)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(R={}){this.touched=!0,this._parent&&!R.onlySelf&&this._parent.markAsTouched(R)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(R=>R.markAllAsTouched())}markAsUntouched(R={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(S=>{S.markAsUntouched({onlySelf:!0})}),this._parent&&!R.onlySelf&&this._parent._updateTouched(R)}markAsDirty(R={}){this.pristine=!1,this._parent&&!R.onlySelf&&this._parent.markAsDirty(R)}markAsPristine(R={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(S=>{S.markAsPristine({onlySelf:!0})}),this._parent&&!R.onlySelf&&this._parent._updatePristine(R)}markAsPending(R={}){this.status=Ft,!1!==R.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!R.onlySelf&&this._parent.markAsPending(R)}disable(R={}){const S=this._parentMarkedDirty(R.onlySelf);this.status=gn,this.errors=null,this._forEachChild(H=>{H.disable({...R,onlySelf:!0})}),this._updateValue(),!1!==R.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...R,skipPristineCheck:S}),this._onDisabledChange.forEach(H=>H(!0))}enable(R={}){const S=this._parentMarkedDirty(R.onlySelf);this.status=Ot,this._forEachChild(H=>{H.enable({...R,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:R.emitEvent}),this._updateAncestors({...R,skipPristineCheck:S}),this._onDisabledChange.forEach(H=>H(!1))}_updateAncestors(R){this._parent&&!R.onlySelf&&(this._parent.updateValueAndValidity(R),R.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(R){this._parent=R}getRawValue(){return this.value}updateValueAndValidity(R={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ot||this.status===Ft)&&this._runAsyncValidator(R.emitEvent)),!1!==R.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!R.onlySelf&&this._parent.updateValueAndValidity(R)}_updateTreeValidity(R={emitEvent:!0}){this._forEachChild(S=>S._updateTreeValidity(R)),this.updateValueAndValidity({onlySelf:!0,emitEvent:R.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?gn:Ot}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(R){if(this.asyncValidator){this.status=Ft,this._hasOwnPendingAsyncValidator=!0;const S=Vn(this.asyncValidator(this));this._asyncValidationSubscription=S.subscribe(H=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(H,{emitEvent:R})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(R,S={}){this.errors=R,this._updateControlsErrors(!1!==S.emitEvent)}get(R){let S=R;return null==S||(Array.isArray(S)||(S=S.split(".")),0===S.length)?null:S.reduce((H,Ue)=>H&&H._find(Ue),this)}getError(R,S){const H=S?this.get(S):this;return H&&H.errors?H.errors[R]:null}hasError(R,S){return!!this.getError(R,S)}get root(){let R=this;for(;R._parent;)R=R._parent;return R}_updateControlsErrors(R){this.status=this._calculateStatus(),R&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(R)}_initObservables(){this.valueChanges=new _.vpe,this.statusChanges=new _.vpe}_calculateStatus(){return this._allControlsDisabled()?gn:this.errors?qt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ft)?Ft:this._anyControlsHaveStatus(qt)?qt:Ot}_anyControlsHaveStatus(R){return this._anyControls(S=>S.status===R)}_anyControlsDirty(){return this._anyControls(R=>R.dirty)}_anyControlsTouched(){return this._anyControls(R=>R.touched)}_updatePristine(R={}){this.pristine=!this._anyControlsDirty(),this._parent&&!R.onlySelf&&this._parent._updatePristine(R)}_updateTouched(R={}){this.touched=this._anyControlsTouched(),this._parent&&!R.onlySelf&&this._parent._updateTouched(R)}_registerOnCollectionChange(R){this._onCollectionChange=R}_setUpdateStrategy(R){Tr(R)&&null!=R.updateOn&&(this._updateOn=R.updateOn)}_parentMarkedDirty(R){return!R&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(R){return null}}class le extends be{constructor(R,S,H){super(en(S),$r(H,S)),this.controls=R,this._initObservables(),this._setUpdateStrategy(S),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(R,S){return this.controls[R]?this.controls[R]:(this.controls[R]=S,S.setParent(this),S._registerOnCollectionChange(this._onCollectionChange),S)}addControl(R,S,H={}){this.registerControl(R,S),this.updateValueAndValidity({emitEvent:H.emitEvent}),this._onCollectionChange()}removeControl(R,S={}){this.controls[R]&&this.controls[R]._registerOnCollectionChange(()=>{}),delete this.controls[R],this.updateValueAndValidity({emitEvent:S.emitEvent}),this._onCollectionChange()}setControl(R,S,H={}){this.controls[R]&&this.controls[R]._registerOnCollectionChange(()=>{}),delete this.controls[R],S&&this.registerControl(R,S),this.updateValueAndValidity({emitEvent:H.emitEvent}),this._onCollectionChange()}contains(R){return this.controls.hasOwnProperty(R)&&this.controls[R].enabled}setValue(R,S={}){(function ki(O,R,S){O._forEachChild((H,Ue)=>{if(void 0===S[Ue])throw new _.vHH(1002,"")})})(this,0,R),Object.keys(R).forEach(H=>{(function Pi(O,R,S){const H=O.controls;if(!(R?Object.keys(H):H).length)throw new _.vHH(1e3,"");if(!H[S])throw new _.vHH(1001,"")})(this,!0,H),this.controls[H].setValue(R[H],{onlySelf:!0,emitEvent:S.emitEvent})}),this.updateValueAndValidity(S)}patchValue(R,S={}){null!=R&&(Object.keys(R).forEach(H=>{const Ue=this.controls[H];Ue&&Ue.patchValue(R[H],{onlySelf:!0,emitEvent:S.emitEvent})}),this.updateValueAndValidity(S))}reset(R={},S={}){this._forEachChild((H,Ue)=>{H.reset(R[Ue],{onlySelf:!0,emitEvent:S.emitEvent})}),this._updatePristine(S),this._updateTouched(S),this.updateValueAndValidity(S)}getRawValue(){return this._reduceChildren({},(R,S,H)=>(R[H]=S.getRawValue(),R))}_syncPendingControls(){let R=this._reduceChildren(!1,(S,H)=>!!H._syncPendingControls()||S);return R&&this.updateValueAndValidity({onlySelf:!0}),R}_forEachChild(R){Object.keys(this.controls).forEach(S=>{const H=this.controls[S];H&&R(H,S)})}_setUpControls(){this._forEachChild(R=>{R.setParent(this),R._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(R){for(const[S,H]of Object.entries(this.controls))if(this.contains(S)&&R(H))return!0;return!1}_reduceValue(){return this._reduceChildren({},(S,H,Ue)=>((H.enabled||this.disabled)&&(S[Ue]=H.value),S))}_reduceChildren(R,S){let H=R;return this._forEachChild((Ue,Pt)=>{H=S(H,Ue,Pt)}),H}_allControlsDisabled(){for(const R of Object.keys(this.controls))if(this.controls[R].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(R){return this.controls.hasOwnProperty(R)?this.controls[R]:null}}function _n(O,R){lr(O,R),R.valueAccessor.writeValue(O.value),O.disabled&&R.valueAccessor.setDisabledState?.(!0),function ur(O,R){R.valueAccessor.registerOnChange(S=>{O._pendingValue=S,O._pendingChange=!0,O._pendingDirty=!0,"change"===O.updateOn&&hn(O,R)})}(O,R),function oi(O,R){const S=(H,Ue)=>{R.valueAccessor.writeValue(H),Ue&&R.viewToModelUpdate(H)};O.registerOnChange(S),R._registerOnDestroy(()=>{O._unregisterOnChange(S)})}(O,R),function mi(O,R){R.valueAccessor.registerOnTouched(()=>{O._pendingTouched=!0,"blur"===O.updateOn&&O._pendingChange&&hn(O,R),"submit"!==O.updateOn&&O.markAsTouched()})}(O,R),function $n(O,R){if(R.valueAccessor.setDisabledState){const S=H=>{R.valueAccessor.setDisabledState(H)};O.registerOnDisabledChange(S),R._registerOnDestroy(()=>{O._unregisterOnDisabledChange(S)})}}(O,R)}function Gt(O,R){O.forEach(S=>{S.registerOnValidatorChange&&S.registerOnValidatorChange(R)})}function lr(O,R){const S=function zn(O){return O._rawValidators}(O);null!==R.validator?O.setValidators(Gn(S,R.validator)):"function"==typeof S&&O.setValidators([S]);const H=function Ur(O){return O._rawAsyncValidators}(O);null!==R.asyncValidator?O.setAsyncValidators(Gn(H,R.asyncValidator)):"function"==typeof H&&O.setAsyncValidators([H]);const Ue=()=>O.updateValueAndValidity();Gt(R._rawValidators,Ue),Gt(R._rawAsyncValidators,Ue)}function hn(O,R){O._pendingDirty&&O.markAsDirty(),O.setValue(O._pendingValue,{emitModelToViewChange:!1}),R.viewToModelUpdate(O._pendingValue),O._pendingChange=!1}const De={provide:Un,useExisting:(0,_.Gpc)(()=>ot)},ze=(()=>Promise.resolve(null))();let ot=(()=>{class O extends Un{constructor(S,H){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new _.vpe,this.form=new le({},sn(S),In(H))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(S){ze.then(()=>{const H=this._findContainer(S.path);S.control=H.registerControl(S.name,S.control),_n(S.control,S),S.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(S)})}getControl(S){return this.form.get(S.path)}removeControl(S){ze.then(()=>{const H=this._findContainer(S.path);H&&H.removeControl(S.name),this._directives.delete(S)})}addFormGroup(S){ze.then(()=>{const H=this._findContainer(S.path),Ue=new le({});(function Si(O,R){lr(O,R)})(Ue,S),H.registerControl(S.name,Ue),Ue.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(S){ze.then(()=>{const H=this._findContainer(S.path);H&&H.removeControl(S.name)})}getFormGroup(S){return this.form.get(S.path)}updateModel(S,H){ze.then(()=>{this.form.get(S.path).setValue(H)})}setValue(S){this.control.setValue(S)}onSubmit(S){return this.submitted=!0,function ei(O,R){O._syncPendingControls(),R.forEach(S=>{const H=S.control;"submit"===H.updateOn&&H._pendingChange&&(S.viewToModelUpdate(H._pendingValue),H._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(S),!1}onReset(){this.resetForm()}resetForm(S){this.form.reset(S),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(S){return S.pop(),S.length?this.form.get(S):this.form}}return O.\u0275fac=function(S){return new(S||O)(_.Y36(je,10),_.Y36(Ie,10))},O.\u0275dir=_.lG2({type:O,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(S,H){1&S&&_.NdJ("submit",function(Pt){return H.onSubmit(Pt)})("reset",function(){return H.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[_._Bn([De]),_.qOj]}),O})();function bt(O,R){const S=O.indexOf(R);S>-1&&O.splice(S,1)}function mn(O){return"object"==typeof O&&null!==O&&2===Object.keys(O).length&&"value"in O&&"disabled"in O}const rr=class extends be{constructor(R=null,S,H){super(en(S),$r(H,S)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(R),this._setUpdateStrategy(S),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Tr(S)&&(S.nonNullable||S.initialValueIsDefault)&&(this.defaultValue=mn(R)?R.value:R)}setValue(R,S={}){this.value=this._pendingValue=R,this._onChange.length&&!1!==S.emitModelToViewChange&&this._onChange.forEach(H=>H(this.value,!1!==S.emitViewToModelChange)),this.updateValueAndValidity(S)}patchValue(R,S={}){this.setValue(R,S)}reset(R=this.defaultValue,S={}){this._applyFormState(R),this.markAsPristine(S),this.markAsUntouched(S),this.setValue(this.value,S),this._pendingChange=!1}_updateValue(){}_anyControls(R){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(R){this._onChange.push(R)}_unregisterOnChange(R){bt(this._onChange,R)}registerOnDisabledChange(R){this._onDisabledChange.push(R)}_unregisterOnDisabledChange(R){bt(this._onDisabledChange,R)}_forEachChild(R){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(R){mn(R)?(this.value=this._pendingValue=R.value,R.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=R}},Kr={provide:nr,useExisting:(0,_.Gpc)(()=>Fi)},ws=(()=>Promise.resolve(null))();let Fi=(()=>{class O extends nr{constructor(S,H,Ue,Pt,hr){super(),this._changeDetectorRef=hr,this.control=new rr,this._registered=!1,this.update=new _.vpe,this._parent=S,this._setValidators(H),this._setAsyncValidators(Ue),this.valueAccessor=function Gr(O,R){if(!R)return null;let S,H,Ue;return Array.isArray(R),R.forEach(Pt=>{Pt.constructor===We?S=Pt:function ai(O){return Object.getPrototypeOf(O.constructor)===Me}(Pt)?H=Pt:Ue=Pt}),Ue||H||S||null}(0,Pt)}ngOnChanges(S){if(this._checkForErrors(),!this._registered||"name"in S){if(this._registered&&(this._checkName(),this.formDirective)){const H=S.name.previousValue;this.formDirective.removeControl({name:H,path:this._getPath(H)})}this._setUpControl()}"isDisabled"in S&&this._updateDisabled(S),function Xn(O,R){if(!O.hasOwnProperty("model"))return!1;const S=O.model;return!!S.isFirstChange()||!Object.is(R,S.currentValue)}(S,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(S){this.viewModel=S,this.update.emit(S)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){_n(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(S){ws.then(()=>{this.control.setValue(S,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(S){const H=S.isDisabled.currentValue,Ue=0!==H&&(0,_.D6c)(H);ws.then(()=>{Ue&&!this.control.disabled?this.control.disable():!Ue&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(S){return this._parent?function Lt(O,R){return[...R.path,O]}(S,this._parent):[S]}}return O.\u0275fac=function(S){return new(S||O)(_.Y36(Un,9),_.Y36(je,10),_.Y36(Ie,10),_.Y36(ct,10),_.Y36(_.sBO,8))},O.\u0275dir=_.lG2({type:O,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[_._Bn([Kr]),_.qOj,_.TTD]}),O})(),oo=(()=>{class O{}return O.\u0275fac=function(S){return new(S||O)},O.\u0275dir=_.lG2({type:O,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),O})(),Co=(()=>{class O{}return O.\u0275fac=function(S){return new(S||O)},O.\u0275mod=_.oAB({type:O}),O.\u0275inj=_.cJS({}),O})(),Us=(()=>{class O{}return O.\u0275fac=function(S){return new(S||O)},O.\u0275mod=_.oAB({type:O}),O.\u0275inj=_.cJS({imports:[Co]}),O})(),Qs=(()=>{class O{}return O.\u0275fac=function(S){return new(S||O)},O.\u0275mod=_.oAB({type:O}),O.\u0275inj=_.cJS({imports:[Us]}),O})()},1481:(Yt,Xe,G)=>{G.d(Xe,{Dx:()=>br,b2:()=>Un,q6:()=>Wn});var _=G(6895),q=G(8256);class _e extends _.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ce extends _e{static makeCurrent(){(0,_.HT)(new ce)}onAndCancel(le,J,Ae){return le.addEventListener(J,Ae,!1),()=>{le.removeEventListener(J,Ae,!1)}}dispatchEvent(le,J){le.dispatchEvent(J)}remove(le){le.parentNode&&le.parentNode.removeChild(le)}createElement(le,J){return(J=J||this.getDefaultDocument()).createElement(le)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(le){return le.nodeType===Node.ELEMENT_NODE}isShadowRoot(le){return le instanceof DocumentFragment}getGlobalEventTarget(le,J){return"window"===J?window:"document"===J?le:"body"===J?le.body:null}getBaseHref(le){const J=function oe(){return Ee=Ee||document.querySelector("base"),Ee?Ee.getAttribute("href"):null}();return null==J?null:function we(be){Ce=Ce||document.createElement("a"),Ce.setAttribute("href",be);const le=Ce.pathname;return"/"===le.charAt(0)?le:`/${le}`}(J)}resetBaseElement(){Ee=null}getUserAgent(){return window.navigator.userAgent}getCookie(le){return(0,_.Mx)(document.cookie,le)}}let Ce,Ee=null;const qe=new q.OlP("TRANSITION_ID"),ue=[{provide:q.ip1,useFactory:function ee(be,le,J){return()=>{J.get(q.CZH).donePromise.then(()=>{const Ae=(0,_.q)(),He=le.querySelectorAll(`style[ng-transition="${be}"]`);for(let jt=0;jt<He.length;jt++)Ae.remove(He[jt])})}},deps:[qe,_.K0,q.zs3],multi:!0}];let tt=(()=>{class be{build(){return new XMLHttpRequest}}return be.\u0275fac=function(J){return new(J||be)},be.\u0275prov=q.Yz7({token:be,factory:be.\u0275fac}),be})();const Me=new q.OlP("EventManagerPlugins");let ct=(()=>{class be{constructor(J,Ae){this._zone=Ae,this._eventNameToPlugin=new Map,J.forEach(He=>He.manager=this),this._plugins=J.slice().reverse()}addEventListener(J,Ae,He){return this._findPluginFor(Ae).addEventListener(J,Ae,He)}addGlobalEventListener(J,Ae,He){return this._findPluginFor(Ae).addGlobalEventListener(J,Ae,He)}getZone(){return this._zone}_findPluginFor(J){const Ae=this._eventNameToPlugin.get(J);if(Ae)return Ae;const He=this._plugins;for(let jt=0;jt<He.length;jt++){const Lt=He[jt];if(Lt.supports(J))return this._eventNameToPlugin.set(J,Lt),Lt}throw new Error(`No event manager plugin found for event ${J}`)}}return be.\u0275fac=function(J){return new(J||be)(q.LFG(Me),q.LFG(q.R0b))},be.\u0275prov=q.Yz7({token:be,factory:be.\u0275fac}),be})();class wt{constructor(le){this._doc=le}addGlobalEventListener(le,J,Ae){const He=(0,_.q)().getGlobalEventTarget(this._doc,le);if(!He)throw new Error(`Unsupported event target ${He} for event ${J}`);return this.addEventListener(He,J,Ae)}}let Vt=(()=>{class be{constructor(){this._stylesSet=new Set}addStyles(J){const Ae=new Set;J.forEach(He=>{this._stylesSet.has(He)||(this._stylesSet.add(He),Ae.add(He))}),this.onStylesAdded(Ae)}onStylesAdded(J){}getAllStyles(){return Array.from(this._stylesSet)}}return be.\u0275fac=function(J){return new(J||be)},be.\u0275prov=q.Yz7({token:be,factory:be.\u0275fac}),be})(),St=(()=>{class be extends Vt{constructor(J){super(),this._doc=J,this._hostNodes=new Map,this._hostNodes.set(J.head,[])}_addStylesToHost(J,Ae,He){J.forEach(jt=>{const Lt=this._doc.createElement("style");Lt.textContent=jt,He.push(Ae.appendChild(Lt))})}addHost(J){const Ae=[];this._addStylesToHost(this._stylesSet,J,Ae),this._hostNodes.set(J,Ae)}removeHost(J){const Ae=this._hostNodes.get(J);Ae&&Ae.forEach(xt),this._hostNodes.delete(J)}onStylesAdded(J){this._hostNodes.forEach((Ae,He)=>{this._addStylesToHost(J,He,Ae)})}ngOnDestroy(){this._hostNodes.forEach(J=>J.forEach(xt))}}return be.\u0275fac=function(J){return new(J||be)(q.LFG(_.K0))},be.\u0275prov=q.Yz7({token:be,factory:be.\u0275fac}),be})();function xt(be){(0,_.q)().remove(be)}const pt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},We=/%COMP%/g;function me(be,le,J){for(let Ae=0;Ae<le.length;Ae++){let He=le[Ae];Array.isArray(He)?me(be,He,J):(He=He.replace(We,be),J.push(He))}return J}function ve(be){return le=>{if("__ngUnwrap__"===le)return be;!1===be(le)&&(le.preventDefault(),le.returnValue=!1)}}let de=(()=>{class be{constructor(J,Ae,He){this.eventManager=J,this.sharedStylesHost=Ae,this.appId=He,this.rendererByCompId=new Map,this.defaultRenderer=new Le(J)}createRenderer(J,Ae){if(!J||!Ae)return this.defaultRenderer;switch(Ae.encapsulation){case q.ifc.Emulated:{let He=this.rendererByCompId.get(Ae.id);return He||(He=new Yn(this.eventManager,this.sharedStylesHost,Ae,this.appId),this.rendererByCompId.set(Ae.id,He)),He.applyToHost(J),He}case 1:case q.ifc.ShadowDom:return new vt(this.eventManager,this.sharedStylesHost,J,Ae);default:if(!this.rendererByCompId.has(Ae.id)){const He=me(Ae.id,Ae.styles,[]);this.sharedStylesHost.addStyles(He),this.rendererByCompId.set(Ae.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return be.\u0275fac=function(J){return new(J||be)(q.LFG(ct),q.LFG(St),q.LFG(q.AFp))},be.\u0275prov=q.Yz7({token:be,factory:be.\u0275fac}),be})();class Le{constructor(le){this.eventManager=le,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(le,J){return J?document.createElementNS(pt[J]||J,le):document.createElement(le)}createComment(le){return document.createComment(le)}createText(le){return document.createTextNode(le)}appendChild(le,J){($t(le)?le.content:le).appendChild(J)}insertBefore(le,J,Ae){le&&($t(le)?le.content:le).insertBefore(J,Ae)}removeChild(le,J){le&&le.removeChild(J)}selectRootElement(le,J){let Ae="string"==typeof le?document.querySelector(le):le;if(!Ae)throw new Error(`The selector "${le}" did not match any elements`);return J||(Ae.textContent=""),Ae}parentNode(le){return le.parentNode}nextSibling(le){return le.nextSibling}setAttribute(le,J,Ae,He){if(He){J=He+":"+J;const jt=pt[He];jt?le.setAttributeNS(jt,J,Ae):le.setAttribute(J,Ae)}else le.setAttribute(J,Ae)}removeAttribute(le,J,Ae){if(Ae){const He=pt[Ae];He?le.removeAttributeNS(He,J):le.removeAttribute(`${Ae}:${J}`)}else le.removeAttribute(J)}addClass(le,J){le.classList.add(J)}removeClass(le,J){le.classList.remove(J)}setStyle(le,J,Ae,He){He&(q.JOm.DashCase|q.JOm.Important)?le.style.setProperty(J,Ae,He&q.JOm.Important?"important":""):le.style[J]=Ae}removeStyle(le,J,Ae){Ae&q.JOm.DashCase?le.style.removeProperty(J):le.style[J]=""}setProperty(le,J,Ae){le[J]=Ae}setValue(le,J){le.nodeValue=J}listen(le,J,Ae){return"string"==typeof le?this.eventManager.addGlobalEventListener(le,J,ve(Ae)):this.eventManager.addEventListener(le,J,ve(Ae))}}function $t(be){return"TEMPLATE"===be.tagName&&void 0!==be.content}class Yn extends Le{constructor(le,J,Ae,He){super(le),this.component=Ae;const jt=me(He+"-"+Ae.id,Ae.styles,[]);J.addStyles(jt),this.contentAttr=function Ie(be){return"_ngcontent-%COMP%".replace(We,be)}(He+"-"+Ae.id),this.hostAttr=function nt(be){return"_nghost-%COMP%".replace(We,be)}(He+"-"+Ae.id)}applyToHost(le){super.setAttribute(le,this.hostAttr,"")}createElement(le,J){const Ae=super.createElement(le,J);return super.setAttribute(Ae,this.contentAttr,""),Ae}}class vt extends Le{constructor(le,J,Ae,He){super(le),this.sharedStylesHost=J,this.hostEl=Ae,this.shadowRoot=Ae.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const jt=me(He.id,He.styles,[]);for(let Lt=0;Lt<jt.length;Lt++){const _n=document.createElement("style");_n.textContent=jt[Lt],this.shadowRoot.appendChild(_n)}}nodeOrShadowRoot(le){return le===this.hostEl?this.shadowRoot:le}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(le,J){return super.appendChild(this.nodeOrShadowRoot(le),J)}insertBefore(le,J,Ae){return super.insertBefore(this.nodeOrShadowRoot(le),J,Ae)}removeChild(le,J){return super.removeChild(this.nodeOrShadowRoot(le),J)}parentNode(le){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(le)))}}let rn=(()=>{class be extends wt{constructor(J){super(J)}supports(J){return!0}addEventListener(J,Ae,He){return J.addEventListener(Ae,He,!1),()=>this.removeEventListener(J,Ae,He)}removeEventListener(J,Ae,He){return J.removeEventListener(Ae,He)}}return be.\u0275fac=function(J){return new(J||be)(q.LFG(_.K0))},be.\u0275prov=q.Yz7({token:be,factory:be.\u0275fac}),be})();const Vn=["alt","control","meta","shift"],Dn={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},vr={alt:be=>be.altKey,control:be=>be.ctrlKey,meta:be=>be.metaKey,shift:be=>be.shiftKey};let Qn=(()=>{class be extends wt{constructor(J){super(J)}supports(J){return null!=be.parseEventName(J)}addEventListener(J,Ae,He){const jt=be.parseEventName(Ae),Lt=be.eventCallback(jt.fullKey,He,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,_.q)().onAndCancel(J,jt.domEventName,Lt))}static parseEventName(J){const Ae=J.toLowerCase().split("."),He=Ae.shift();if(0===Ae.length||"keydown"!==He&&"keyup"!==He)return null;const jt=be._normalizeKey(Ae.pop());let Lt="",_n=Ae.indexOf("code");if(_n>-1&&(Ae.splice(_n,1),Lt="code."),Vn.forEach(Gt=>{const $n=Ae.indexOf(Gt);$n>-1&&(Ae.splice($n,1),Lt+=Gt+".")}),Lt+=jt,0!=Ae.length||0===jt.length)return null;const st={};return st.domEventName=He,st.fullKey=Lt,st}static matchEventFullKeyCode(J,Ae){let He=Dn[J.key]||J.key,jt="";return Ae.indexOf("code.")>-1&&(He=J.code,jt="code."),!(null==He||!He)&&(He=He.toLowerCase()," "===He?He="space":"."===He&&(He="dot"),Vn.forEach(Lt=>{Lt!==He&&(0,vr[Lt])(J)&&(jt+=Lt+".")}),jt+=He,jt===Ae)}static eventCallback(J,Ae,He){return jt=>{be.matchEventFullKeyCode(jt,J)&&He.runGuarded(()=>Ae(jt))}}static _normalizeKey(J){return"esc"===J?"escape":J}}return be.\u0275fac=function(J){return new(J||be)(q.LFG(_.K0))},be.\u0275prov=q.Yz7({token:be,factory:be.\u0275fac}),be})();const Wn=(0,q.eFA)(q._c5,"browser",[{provide:q.Lbi,useValue:_.bD},{provide:q.g9A,useValue:function Gn(){ce.makeCurrent()},multi:!0},{provide:_.K0,useFactory:function Ur(){return(0,q.RDi)(document),document},deps:[]}]),qr=new q.OlP(""),At=[{provide:q.rWj,useClass:class Fe{addToWindow(le){q.dqk.getAngularTestability=(Ae,He=!0)=>{const jt=le.findTestabilityInTree(Ae,He);if(null==jt)throw new Error("Could not find testability for element.");return jt},q.dqk.getAllAngularTestabilities=()=>le.getAllTestabilities(),q.dqk.getAllAngularRootElements=()=>le.getAllRootElements(),q.dqk.frameworkStabilizers||(q.dqk.frameworkStabilizers=[]),q.dqk.frameworkStabilizers.push(Ae=>{const He=q.dqk.getAllAngularTestabilities();let jt=He.length,Lt=!1;const _n=function(st){Lt=Lt||st,jt--,0==jt&&Ae(Lt)};He.forEach(function(st){st.whenStable(_n)})})}findTestabilityInTree(le,J,Ae){return null==J?null:le.getTestability(J)??(Ae?(0,_.q)().isShadowRoot(J)?this.findTestabilityInTree(le,J.host,!0):this.findTestabilityInTree(le,J.parentElement,!0):null)}},deps:[]},{provide:q.lri,useClass:q.dDg,deps:[q.R0b,q.eoX,q.rWj]},{provide:q.dDg,useClass:q.dDg,deps:[q.R0b,q.eoX,q.rWj]}],cr=[{provide:q.zSh,useValue:"root"},{provide:q.qLn,useFactory:function zn(){return new q.qLn},deps:[]},{provide:Me,useClass:rn,multi:!0,deps:[_.K0,q.R0b,q.Lbi]},{provide:Me,useClass:Qn,multi:!0,deps:[_.K0]},{provide:de,useClass:de,deps:[ct,St,q.AFp]},{provide:q.FYo,useExisting:de},{provide:Vt,useExisting:St},{provide:St,useClass:St,deps:[_.K0]},{provide:ct,useClass:ct,deps:[Me,q.R0b]},{provide:_.JF,useClass:tt,deps:[]},[]];let Un=(()=>{class be{constructor(J){}static withServerTransition(J){return{ngModule:be,providers:[{provide:q.AFp,useValue:J.appId},{provide:qe,useExisting:q.AFp},ue]}}}return be.\u0275fac=function(J){return new(J||be)(q.LFG(qr,12))},be.\u0275mod=q.oAB({type:be}),be.\u0275inj=q.cJS({providers:[...cr,...At],imports:[_.ez,q.hGG]}),be})(),br=(()=>{class be{constructor(J){this._doc=J}getTitle(){return this._doc.title}setTitle(J){this._doc.title=J||""}}return be.\u0275fac=function(J){return new(J||be)(q.LFG(_.K0))},be.\u0275prov=q.Yz7({token:be,factory:function(J){let Ae=null;return Ae=J?new J:function cn(){return new br((0,q.LFG)(_.K0))}(),Ae},providedIn:"root"}),be})();typeof window<"u"&&window},1766:(Yt,Xe,G)=>{G.d(Xe,{F0:()=>fi,rH:()=>go,Bz:()=>Nr,lC:()=>Zs});var _=G(8256),q=G(8996),_e=G(7669);function ce(...y){const v=(0,_e.yG)(y);return(0,q.D)(y,v)}var Ee=G(7579);class oe extends Ee.x{constructor(v){super(),this._value=v}get value(){return this.getValue()}_subscribe(v){const g=super._subscribe(v);return!g.closed&&v.next(this._value),g}getValue(){const{hasError:v,thrownError:g,_value:D}=this;if(v)throw g;return this._throwIfClosed(),D}next(v){super.next(this._value=v)}}const we=(0,G(3888).d)(y=>function(){y(this),this.name="EmptyError",this.message="no elements in sequence"});var qe=G(9751),ee=G(4742),ue=G(4671),Fe=G(3268),tt=G(1810),Me=G(5403),ct=G(9672);function wt(...y){const v=(0,_e.yG)(y),g=(0,_e.jO)(y),{args:D,keys:x}=(0,ee.D)(y);if(0===D.length)return(0,q.D)([],v);const U=new qe.y(function Vt(y,v,g=ue.y){return D=>{St(v,()=>{const{length:x}=y,U=new Array(x);let Q=x,ne=x;for(let ke=0;ke<x;ke++)St(v,()=>{const dt=(0,q.D)(y[ke],v);let Bt=!1;dt.subscribe((0,Me.x)(D,Ct=>{U[ke]=Ct,Bt||(Bt=!0,ne--),ne||D.next(g(U.slice()))},()=>{--Q||D.complete()}))},D)},D)}}(D,v,x?Q=>(0,tt.n)(x,Q):ue.y));return g?U.pipe((0,Fe.Z)(g)):U}function St(y,v,g){y?(0,ct.f)(g,y,v):v()}var xt=G(8189);function We(...y){return function pt(){return(0,xt.J)(1)}()((0,q.D)(y,(0,_e.yG)(y)))}var et=G(8421);function Re(y){return new qe.y(v=>{(0,et.Xf)(y()).subscribe(v)})}var yt=G(9635),je=G(576);function Ie(y,v){const g=(0,je.m)(y)?y:()=>y,D=x=>x.error(g());return new qe.y(v?x=>v.schedule(D,0,x):D)}var nt=G(515),me=G(727),ve=G(4482);function K(){return(0,ve.e)((y,v)=>{let g=null;y._refCount++;const D=(0,Me.x)(v,void 0,void 0,void 0,()=>{if(!y||y._refCount<=0||0<--y._refCount)return void(g=null);const x=y._connection,U=g;g=null,x&&(!U||x===U)&&x.unsubscribe(),v.unsubscribe()});y.subscribe(D),D.closed||(g=y.connect())})}class de extends qe.y{constructor(v,g){super(),this.source=v,this.subjectFactory=g,this._subject=null,this._refCount=0,this._connection=null,(0,ve.A)(v)&&(this.lift=v.lift)}_subscribe(v){return this.getSubject().subscribe(v)}getSubject(){const v=this._subject;return(!v||v.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:v}=this;this._subject=this._connection=null,v?.unsubscribe()}connect(){let v=this._connection;if(!v){v=this._connection=new me.w0;const g=this.getSubject();v.add(this.source.subscribe((0,Me.x)(g,void 0,()=>{this._teardown(),g.complete()},D=>{this._teardown(),g.error(D)},()=>this._teardown()))),v.closed&&(this._connection=null,v=me.w0.EMPTY)}return v}refCount(){return K()(this)}}var Le=G(6895),$e=G(4004);function lt(y,v){return(0,ve.e)((g,D)=>{let x=null,U=0,Q=!1;const ne=()=>Q&&!x&&D.complete();g.subscribe((0,Me.x)(D,ke=>{x?.unsubscribe();let dt=0;const Bt=U++;(0,et.Xf)(y(ke,Bt)).subscribe(x=(0,Me.x)(D,Ct=>D.next(v?v(ke,Ct,Bt,dt++):Ct),()=>{x=null,ne()}))},()=>{Q=!0,ne()}))})}var $t=G(5698);function vt(y,v){return(0,ve.e)((g,D)=>{let x=0;g.subscribe((0,Me.x)(D,U=>y.call(v,U,x++)&&D.next(U)))})}var rn=G(5577);function Vn(y){return(0,ve.e)((v,g)=>{let D=!1;v.subscribe((0,Me.x)(g,x=>{D=!0,g.next(x)},()=>{D||g.next(y),g.complete()}))})}function Dn(y=vr){return(0,ve.e)((v,g)=>{let D=!1;v.subscribe((0,Me.x)(g,x=>{D=!0,g.next(x)},()=>D?g.complete():g.error(y())))})}function vr(){return new we}function Qn(y,v){const g=arguments.length>=2;return D=>D.pipe(y?vt((x,U)=>y(x,U,D)):ue.y,(0,$t.q)(1),g?Vn(v):Dn(()=>new we))}function kn(y,v){return(0,je.m)(v)?(0,rn.z)(y,v,1):(0,rn.z)(y,1)}var un=G(8505);function sn(y){return(0,ve.e)((v,g)=>{let U,D=null,x=!1;D=v.subscribe((0,Me.x)(g,void 0,void 0,Q=>{U=(0,et.Xf)(y(Q,sn(y)(v))),D?(D.unsubscribe(),D=null,U.subscribe(g)):x=!0})),x&&(D.unsubscribe(),D=null,U.subscribe(g))})}function _r(y,v,g,D,x){return(U,Q)=>{let ne=g,ke=v,dt=0;U.subscribe((0,Me.x)(Q,Bt=>{const Ct=dt++;ke=ne?y(ke,Bt,Ct):(ne=!0,Bt),D&&Q.next(ke)},x&&(()=>{ne&&Q.next(ke),Q.complete()})))}}function In(y,v){return(0,ve.e)(_r(y,v,arguments.length>=2,!0))}function Gn(y){return y<=0?()=>nt.E:(0,ve.e)((v,g)=>{let D=[];v.subscribe((0,Me.x)(g,x=>{D.push(x),y<D.length&&D.shift()},()=>{for(const x of D)g.next(x);g.complete()},void 0,()=>{D=null}))})}function zn(y,v){const g=arguments.length>=2;return D=>D.pipe(y?vt((x,U)=>y(x,U,D)):ue.y,Gn(1),g?Vn(v):Dn(()=>new we))}function Wn(y){return(0,ve.e)((v,g)=>{try{v.subscribe(g)}finally{g.add(y)}})}var qr=G(1481);const At="primary",cr=Symbol("RouteTitle");class Un{constructor(v){this.params=v||{}}has(v){return Object.prototype.hasOwnProperty.call(this.params,v)}get(v){if(this.has(v)){const g=this.params[v];return Array.isArray(g)?g[0]:g}return null}getAll(v){if(this.has(v)){const g=this.params[v];return Array.isArray(g)?g:[g]}return[]}get keys(){return Object.keys(this.params)}}function nr(y){return new Un(y)}function wr(y,v,g){const D=g.path.split("/");if(D.length>y.length||"full"===g.pathMatch&&(v.hasChildren()||D.length<y.length))return null;const x={};for(let U=0;U<D.length;U++){const Q=D[U],ne=y[U];if(Q.startsWith(":"))x[Q.substring(1)]=ne;else if(Q!==ne.path)return null}return{consumed:y.slice(0,D.length),posParams:x}}function cn(y,v){const g=y?Object.keys(y):void 0,D=v?Object.keys(v):void 0;if(!g||!D||g.length!=D.length)return!1;let x;for(let U=0;U<g.length;U++)if(x=g[U],!br(y[x],v[x]))return!1;return!0}function br(y,v){if(Array.isArray(y)&&Array.isArray(v)){if(y.length!==v.length)return!1;const g=[...y].sort(),D=[...v].sort();return g.every((x,U)=>D[U]===x)}return y===v}function gt(y){return Array.prototype.concat.apply([],y)}function Et(y){return y.length>0?y[y.length-1]:null}function vn(y,v){for(const g in y)y.hasOwnProperty(g)&&v(y[g],g)}function Bn(y){return(0,_.CqO)(y)?y:(0,_.QGY)(y)?(0,q.D)(Promise.resolve(y)):ce(y)}const An={exact:function Ut(y,v,g){if(!qt(y.segments,v.segments)||!te(y.segments,v.segments,g)||y.numberOfChildren!==v.numberOfChildren)return!1;for(const D in v.children)if(!y.children[D]||!Ut(y.children[D],v.children[D],g))return!1;return!0},subset:ae},Ir={exact:function Br(y,v){return cn(y,v)},subset:function ge(y,v){return Object.keys(v).length<=Object.keys(y).length&&Object.keys(v).every(g=>br(y[g],v[g]))},ignored:()=>!0};function Fn(y,v,g){return An[g.paths](y.root,v.root,g.matrixParams)&&Ir[g.queryParams](y.queryParams,v.queryParams)&&!("exact"===g.fragment&&y.fragment!==v.fragment)}function ae(y,v,g){return X(y,v,v.segments,g)}function X(y,v,g,D){if(y.segments.length>g.length){const x=y.segments.slice(0,g.length);return!(!qt(x,g)||v.hasChildren()||!te(x,g,D))}if(y.segments.length===g.length){if(!qt(y.segments,g)||!te(y.segments,g,D))return!1;for(const x in v.children)if(!y.children[x]||!ae(y.children[x],v.children[x],D))return!1;return!0}{const x=g.slice(0,y.segments.length),U=g.slice(y.segments.length);return!!(qt(y.segments,x)&&te(y.segments,x,D)&&y.children[At])&&X(y.children[At],v,U,D)}}function te(y,v,g){return v.every((D,x)=>Ir[g](y[x].parameters,D.parameters))}class ie{constructor(v,g,D){this.root=v,this.queryParams=g,this.fragment=D}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=nr(this.queryParams)),this._queryParamMap}toString(){return Qr.serialize(this)}}class Oe{constructor(v,g){this.segments=v,this.children=g,this.parent=null,vn(g,(D,x)=>D.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return $r(this)}}class ht{constructor(v,g){this.path=v,this.parameters=g}get parameterMap(){return this._parameterMap||(this._parameterMap=nr(this.parameters)),this._parameterMap}toString(){return Ae(this)}}function qt(y,v){return y.length===v.length&&y.every((g,D)=>g.path===v[D].path)}let gn=(()=>{class y{}return y.\u0275fac=function(g){return new(g||y)},y.\u0275prov=_.Yz7({token:y,factory:function(){return new en},providedIn:"root"}),y})();class en{parse(v){const g=new Ii(v);return new ie(g.parseRootSegment(),g.parseQueryParams(),g.parseFragment())}serialize(v){const g=`/${Jr(v.root,!0)}`,D=function jt(y){const v=Object.keys(y).map(g=>{const D=y[g];return Array.isArray(D)?D.map(x=>`${Pi(g)}=${Pi(x)}`).join("&"):`${Pi(g)}=${Pi(D)}`}).filter(g=>!!g);return v.length?`?${v.join("&")}`:""}(v.queryParams);return`${g}${D}${"string"==typeof v.fragment?`#${function ki(y){return encodeURI(y)}(v.fragment)}`:""}`}}const Qr=new en;function $r(y){return y.segments.map(v=>Ae(v)).join("/")}function Jr(y,v){if(!y.hasChildren())return $r(y);if(v){const g=y.children[At]?Jr(y.children[At],!1):"",D=[];return vn(y.children,(x,U)=>{U!==At&&D.push(`${U}:${Jr(x,!1)}`)}),D.length>0?`${g}(${D.join("//")})`:g}{const g=function Ft(y,v){let g=[];return vn(y.children,(D,x)=>{x===At&&(g=g.concat(v(D,x)))}),vn(y.children,(D,x)=>{x!==At&&(g=g.concat(v(D,x)))}),g}(y,(D,x)=>x===At?[Jr(y.children[At],!1)]:[`${x}:${Jr(D,!1)}`]);return 1===Object.keys(y.children).length&&null!=y.children[At]?`${$r(y)}/${g[0]}`:`${$r(y)}/(${g.join("//")})`}}function Tr(y){return encodeURIComponent(y).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Pi(y){return Tr(y).replace(/%3B/gi,";")}function be(y){return Tr(y).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function le(y){return decodeURIComponent(y)}function J(y){return le(y.replace(/\+/g,"%20"))}function Ae(y){return`${be(y.path)}${function He(y){return Object.keys(y).map(v=>`;${be(v)}=${be(y[v])}`).join("")}(y.parameters)}`}const Lt=/^[^\/()?;=#]+/;function _n(y){const v=y.match(Lt);return v?v[0]:""}const st=/^[^=?&#]+/,$n=/^[^&#]+/;class Ii{constructor(v){this.url=v,this.remaining=v}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Oe([],{}):new Oe([],this.parseChildren())}parseQueryParams(){const v={};if(this.consumeOptional("?"))do{this.parseQueryParam(v)}while(this.consumeOptional("&"));return v}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const v=[];for(this.peekStartsWith("(")||v.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),v.push(this.parseSegment());let g={};this.peekStartsWith("/(")&&(this.capture("/"),g=this.parseParens(!0));let D={};return this.peekStartsWith("(")&&(D=this.parseParens(!1)),(v.length>0||Object.keys(g).length>0)&&(D[At]=new Oe(v,g)),D}parseSegment(){const v=_n(this.remaining);if(""===v&&this.peekStartsWith(";"))throw new _.vHH(4009,!1);return this.capture(v),new ht(le(v),this.parseMatrixParams())}parseMatrixParams(){const v={};for(;this.consumeOptional(";");)this.parseParam(v);return v}parseParam(v){const g=_n(this.remaining);if(!g)return;this.capture(g);let D="";if(this.consumeOptional("=")){const x=_n(this.remaining);x&&(D=x,this.capture(D))}v[le(g)]=le(D)}parseQueryParam(v){const g=function Gt(y){const v=y.match(st);return v?v[0]:""}(this.remaining);if(!g)return;this.capture(g);let D="";if(this.consumeOptional("=")){const Q=function lr(y){const v=y.match($n);return v?v[0]:""}(this.remaining);Q&&(D=Q,this.capture(D))}const x=J(g),U=J(D);if(v.hasOwnProperty(x)){let Q=v[x];Array.isArray(Q)||(Q=[Q],v[x]=Q),Q.push(U)}else v[x]=U}parseParens(v){const g={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const D=_n(this.remaining),x=this.remaining[D.length];if("/"!==x&&")"!==x&&";"!==x)throw new _.vHH(4010,!1);let U;D.indexOf(":")>-1?(U=D.slice(0,D.indexOf(":")),this.capture(U),this.capture(":")):v&&(U=At);const Q=this.parseChildren();g[U]=1===Object.keys(Q).length?Q[At]:new Oe([],Q),this.consumeOptional("//")}return g}peekStartsWith(v){return this.remaining.startsWith(v)}consumeOptional(v){return!!this.peekStartsWith(v)&&(this.remaining=this.remaining.substring(v.length),!0)}capture(v){if(!this.consumeOptional(v))throw new _.vHH(4011,!1)}}function ur(y){return y.segments.length>0?new Oe([],{[At]:y}):y}function mi(y){const v={};for(const D of Object.keys(y.children)){const U=mi(y.children[D]);(U.segments.length>0||U.hasChildren())&&(v[D]=U)}return function hn(y){if(1===y.numberOfChildren&&y.children[At]){const v=y.children[At];return new Oe(y.segments.concat(v.segments),v.children)}return y}(new Oe(y.segments,v))}function oi(y){return y instanceof ie}function Mi(y,v,g,D,x){if(0===g.length)return ai(v.root,v.root,v.root,D,x);const U=function pe(y){if("string"==typeof y[0]&&1===y.length&&"/"===y[0])return new Gr(!0,0,y);let v=0,g=!1;const D=y.reduce((x,U,Q)=>{if("object"==typeof U&&null!=U){if(U.outlets){const ne={};return vn(U.outlets,(ke,dt)=>{ne[dt]="string"==typeof ke?ke.split("/"):ke}),[...x,{outlets:ne}]}if(U.segmentPath)return[...x,U.segmentPath]}return"string"!=typeof U?[...x,U]:0===Q?(U.split("/").forEach((ne,ke)=>{0==ke&&"."===ne||(0==ke&&""===ne?g=!0:".."===ne?v++:""!=ne&&x.push(ne))}),x):[...x,U]},[]);return new Gr(g,v,D)}(g);return U.toRoot()?ai(v.root,v.root,new Oe([],{}),D,x):function Q(ke){const dt=function ze(y,v,g,D){if(y.isAbsolute)return new fe(v.root,!0,0);if(-1===D)return new fe(g,g===v.root,0);return function ot(y,v,g){let D=y,x=v,U=g;for(;U>x;){if(U-=x,D=D.parent,!D)throw new _.vHH(4005,!1);x=D.segments.length}return new fe(D,!1,x-U)}(g,D+(Ei(y.commands[0])?0:1),y.numberOfDoubleDots)}(U,v,y.snapshot?._urlSegment,ke),Bt=dt.processChildren?rr(dt.segmentGroup,dt.index,U.commands):mn(dt.segmentGroup,dt.index,U.commands);return ai(v.root,dt.segmentGroup,Bt,D,x)}(y.snapshot?._lastPathIndex)}function Ei(y){return"object"==typeof y&&null!=y&&!y.outlets&&!y.segmentPath}function Xn(y){return"object"==typeof y&&null!=y&&y.outlets}function ai(y,v,g,D,x){let Q,U={};D&&vn(D,(ke,dt)=>{U[dt]=Array.isArray(ke)?ke.map(Bt=>`${Bt}`):`${ke}`}),Q=y===v?g:ei(y,v,g);const ne=ur(mi(Q));return new ie(ne,U,x)}function ei(y,v,g){const D={};return vn(y.children,(x,U)=>{D[U]=x===v?g:ei(x,v,g)}),new Oe(y.segments,D)}class Gr{constructor(v,g,D){if(this.isAbsolute=v,this.numberOfDoubleDots=g,this.commands=D,v&&D.length>0&&Ei(D[0]))throw new _.vHH(4003,!1);const x=D.find(Xn);if(x&&x!==Et(D))throw new _.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class fe{constructor(v,g,D){this.segmentGroup=v,this.processChildren=g,this.index=D}}function mn(y,v,g){if(y||(y=new Oe([],{})),0===y.segments.length&&y.hasChildren())return rr(y,v,g);const D=function Tn(y,v,g){let D=0,x=v;const U={match:!1,pathIndex:0,commandIndex:0};for(;x<y.segments.length;){if(D>=g.length)return U;const Q=y.segments[x],ne=g[D];if(Xn(ne))break;const ke=`${ne}`,dt=D<g.length-1?g[D+1]:null;if(x>0&&void 0===ke)break;if(ke&&dt&&"object"==typeof dt&&void 0===dt.outlets){if(!Ar(ke,dt,Q))return U;D+=2}else{if(!Ar(ke,{},Q))return U;D++}x++}return{match:!0,pathIndex:x,commandIndex:D}}(y,v,g),x=g.slice(D.commandIndex);if(D.match&&D.pathIndex<y.segments.length){const U=new Oe(y.segments.slice(0,D.pathIndex),{});return U.children[At]=new Oe(y.segments.slice(D.pathIndex),y.children),rr(U,0,x)}return D.match&&0===x.length?new Oe(y.segments,{}):D.match&&!y.hasChildren()?or(y,v,g):D.match?rr(y,0,x):or(y,v,g)}function rr(y,v,g){if(0===g.length)return new Oe(y.segments,{});{const D=function bt(y){return Xn(y[0])?y[0].outlets:{[At]:y}}(g),x={};return vn(D,(U,Q)=>{"string"==typeof U&&(U=[U]),null!==U&&(x[Q]=mn(y.children[Q],v,U))}),vn(y.children,(U,Q)=>{void 0===D[Q]&&(x[Q]=U)}),new Oe(y.segments,x)}}function or(y,v,g){const D=y.segments.slice(0,v);let x=0;for(;x<g.length;){const U=g[x];if(Xn(U)){const ke=dr(U.outlets);return new Oe(D,ke)}if(0===x&&Ei(g[0])){D.push(new ht(y.segments[v].path,ks(g[0]))),x++;continue}const Q=Xn(U)?U.outlets[At]:`${U}`,ne=x<g.length-1?g[x+1]:null;Q&&ne&&Ei(ne)?(D.push(new ht(Q,ks(ne))),x+=2):(D.push(new ht(Q,{})),x++)}return new Oe(D,{})}function dr(y){const v={};return vn(y,(g,D)=>{"string"==typeof g&&(g=[g]),null!==g&&(v[D]=or(new Oe([],{}),0,g))}),v}function ks(y){const v={};return vn(y,(g,D)=>v[D]=`${g}`),v}function Ar(y,v,g){return y==g.path&&cn(v,g.parameters)}class qn{constructor(v,g){this.id=v,this.url=g}}class Eo extends qn{constructor(v,g,D="imperative",x=null){super(v,g),this.type=0,this.navigationTrigger=D,this.restoredState=x}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class gr extends qn{constructor(v,g,D){super(v,g),this.urlAfterRedirects=D,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class qi extends qn{constructor(v,g,D,x){super(v,g),this.reason=D,this.code=x,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Kr extends qn{constructor(v,g,D,x){super(v,g),this.error=D,this.target=x,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ws extends qn{constructor(v,g,D,x){super(v,g),this.urlAfterRedirects=D,this.state=x,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fi extends qn{constructor(v,g,D,x){super(v,g),this.urlAfterRedirects=D,this.state=x,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class oo extends qn{constructor(v,g,D,x,U){super(v,g),this.urlAfterRedirects=D,this.state=x,this.shouldActivate=U,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ao extends qn{constructor(v,g,D,x){super(v,g),this.urlAfterRedirects=D,this.state=x,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Li extends qn{constructor(v,g,D,x){super(v,g),this.urlAfterRedirects=D,this.state=x,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Do{constructor(v){this.route=v,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ko{constructor(v){this.route=v,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Co{constructor(v){this.snapshot=v,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ws{constructor(v){this.snapshot=v,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fs{constructor(v){this.snapshot=v,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bo{constructor(v){this.snapshot=v,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ga{constructor(v,g,D){this.routerEvent=v,this.position=g,this.anchor=D,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Is{constructor(v){this._root=v}get root(){return this._root.value}parent(v){const g=this.pathFromRoot(v);return g.length>1?g[g.length-2]:null}children(v){const g=Vi(v,this._root);return g?g.children.map(D=>D.value):[]}firstChild(v){const g=Vi(v,this._root);return g&&g.children.length>0?g.children[0].value:null}siblings(v){const g=ds(v,this._root);return g.length<2?[]:g[g.length-2].children.map(x=>x.value).filter(x=>x!==v)}pathFromRoot(v){return ds(v,this._root).map(g=>g.value)}}function Vi(y,v){if(y===v.value)return v;for(const g of v.children){const D=Vi(y,g);if(D)return D}return null}function ds(y,v){if(y===v.value)return[v];for(const g of v.children){const D=ds(y,g);if(D.length)return D.unshift(v),D}return[]}class Ui{constructor(v,g){this.value=v,this.children=g}toString(){return`TreeNode(${this.value})`}}function Ki(y){const v={};return y&&y.children.forEach(g=>v[g.value.outlet]=g),v}class Zi extends Is{constructor(v,g){super(v),this.snapshot=g,To(this,v)}toString(){return this.snapshot.toString()}}function ti(y,v){const g=function yi(y,v){const Q=new jn([],{},{},"",{},At,v,null,y.root,-1,{});return new ui("",new Ui(Q,[]))}(y,v),D=new oe([new ht("",{})]),x=new oe({}),U=new oe({}),Q=new oe({}),ne=new oe(""),ke=new Yi(D,x,Q,ne,U,At,v,g.root);return ke.snapshot=g.root,new Zi(new Ui(ke,[]),g)}class Yi{constructor(v,g,D,x,U,Q,ne,ke){this.url=v,this.params=g,this.queryParams=D,this.fragment=x,this.data=U,this.outlet=Q,this.component=ne,this.title=this.data?.pipe((0,$e.U)(dt=>dt[cr]))??ce(void 0),this._futureSnapshot=ke}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,$e.U)(v=>nr(v)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,$e.U)(v=>nr(v)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function qs(y,v="emptyOnly"){const g=y.pathFromRoot;let D=0;if("always"!==v)for(D=g.length-1;D>=1;){const x=g[D],U=g[D-1];if(x.routeConfig&&""===x.routeConfig.path)D--;else{if(U.component)break;D--}}return function Ls(y){return y.reduce((v,g)=>({params:{...v.params,...g.params},data:{...v.data,...g.data},resolve:{...g.data,...v.resolve,...g.routeConfig?.data,...g._resolvedData}}),{params:{},data:{},resolve:{}})}(g.slice(D))}class jn{constructor(v,g,D,x,U,Q,ne,ke,dt,Bt,Ct,Sn){this.url=v,this.params=g,this.queryParams=D,this.fragment=x,this.data=U,this.outlet=Q,this.component=ne,this.title=this.data?.[cr],this.routeConfig=ke,this._urlSegment=dt,this._lastPathIndex=Bt,this._correctedLastPathIndex=Sn??Bt,this._resolve=Ct}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=nr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=nr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(D=>D.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ui extends Is{constructor(v,g){super(g),this.url=v,To(this,g)}toString(){return Qi(this._root)}}function To(y,v){v.value._routerState=y,v.children.forEach(g=>To(y,g))}function Qi(y){const v=y.children.length>0?` { ${y.children.map(Qi).join(", ")} } `:"";return`${y.value}${v}`}function Ks(y){if(y.snapshot){const v=y.snapshot,g=y._futureSnapshot;y.snapshot=g,cn(v.queryParams,g.queryParams)||y.queryParams.next(g.queryParams),v.fragment!==g.fragment&&y.fragment.next(g.fragment),cn(v.params,g.params)||y.params.next(g.params),function gi(y,v){if(y.length!==v.length)return!1;for(let g=0;g<y.length;++g)if(!cn(y[g],v[g]))return!1;return!0}(v.url,g.url)||y.url.next(g.url),cn(v.data,g.data)||y.data.next(g.data)}else y.snapshot=y._futureSnapshot,y.data.next(y._futureSnapshot.data)}function Ji(y,v){const g=cn(y.params,v.params)&&function Ot(y,v){return qt(y,v)&&y.every((g,D)=>cn(g.parameters,v[D].parameters))}(y.url,v.url);return g&&!(!y.parent!=!v.parent)&&(!y.parent||Ji(y.parent,v.parent))}function Es(y,v,g){if(g&&y.shouldReuseRoute(v.value,g.value.snapshot)){const D=g.value;D._futureSnapshot=v.value;const x=function jo(y,v,g){return v.children.map(D=>{for(const x of g.children)if(y.shouldReuseRoute(D.value,x.value.snapshot))return Es(y,D,x);return Es(y,D)})}(y,v,g);return new Ui(D,x)}{if(y.shouldAttach(v.value)){const U=y.retrieve(v.value);if(null!==U){const Q=U.route;return Q.value._futureSnapshot=v.value,Q.children=v.children.map(ne=>Es(y,ne)),Q}}const D=function vi(y){return new Yi(new oe(y.url),new oe(y.params),new oe(y.queryParams),new oe(y.fragment),new oe(y.data),y.outlet,y.component,y)}(v.value),x=v.children.map(U=>Es(y,U));return new Ui(D,x)}}const ci="ngNavigationCancelingError";function Bi(y,v){const{redirectTo:g,navigationBehaviorOptions:D}=oi(v)?{redirectTo:v,navigationBehaviorOptions:void 0}:v,x=$i(!1,0,v);return x.url=g,x.navigationBehaviorOptions=D,x}function $i(y,v,g){const D=new Error("NavigationCancelingError: "+(y||""));return D[ci]=!0,D.cancellationCode=v,g&&(D.url=g),D}function Er(y){return co(y)&&oi(y.url)}function co(y){return y&&y[ci]}class Ao{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new yn,this.attachRef=null}}let yn=(()=>{class y{constructor(){this.contexts=new Map}onChildOutletCreated(g,D){const x=this.getOrCreateContext(g);x.outlet=D,this.contexts.set(g,x)}onChildOutletDestroyed(g){const D=this.getContext(g);D&&(D.outlet=null,D.attachRef=null)}onOutletDeactivated(){const g=this.contexts;return this.contexts=new Map,g}onOutletReAttached(g){this.contexts=g}getOrCreateContext(g){let D=this.getContext(g);return D||(D=new Ao,this.contexts.set(g,D)),D}getContext(g){return this.contexts.get(g)||null}}return y.\u0275fac=function(g){return new(g||y)},y.\u0275prov=_.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();const Di=!1;let Zs=(()=>{class y{constructor(g,D,x,U,Q){this.parentContexts=g,this.location=D,this.changeDetector=U,this.environmentInjector=Q,this.activated=null,this._activatedRoute=null,this.activateEvents=new _.vpe,this.deactivateEvents=new _.vpe,this.attachEvents=new _.vpe,this.detachEvents=new _.vpe,this.name=x||At,g.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const g=this.parentContexts.getContext(this.name);g&&g.route&&(g.attachRef?this.attach(g.attachRef,g.route):this.activateWith(g.route,g.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new _.vHH(4012,Di);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new _.vHH(4012,Di);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new _.vHH(4012,Di);this.location.detach();const g=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(g.instance),g}attach(g,D){this.activated=g,this._activatedRoute=D,this.location.insert(g.hostView),this.attachEvents.emit(g.instance)}deactivate(){if(this.activated){const g=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(g)}}activateWith(g,D){if(this.isActivated)throw new _.vHH(4013,Di);this._activatedRoute=g;const x=this.location,Q=g._futureSnapshot.component,ne=this.parentContexts.getOrCreateContext(this.name).children,ke=new Vs(g,ne,x.injector);if(D&&function Sr(y){return!!y.resolveComponentFactory}(D)){const dt=D.resolveComponentFactory(Q);this.activated=x.createComponent(dt,x.length,ke)}else this.activated=x.createComponent(Q,{index:x.length,injector:ke,environmentInjector:D??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return y.\u0275fac=function(g){return new(g||y)(_.Y36(yn),_.Y36(_.s_b),_.$8M("name"),_.Y36(_.sBO),_.Y36(_.lqb))},y.\u0275dir=_.lG2({type:y,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),y})();class Vs{constructor(v,g,D){this.route=v,this.childContexts=g,this.parent=D}get(v,g){return v===Yi?this.route:v===yn?this.childContexts:this.parent.get(v,g)}}let Ys=(()=>{class y{}return y.\u0275fac=function(g){return new(g||y)},y.\u0275cmp=_.Xpm({type:y,selectors:[["ng-component"]],standalone:!0,features:[_.jDz],decls:1,vars:0,template:function(g,D){1&g&&_._UZ(0,"router-outlet")},dependencies:[Zs],encapsulation:2}),y})();function mr(y,v){return y.providers&&!y._injector&&(y._injector=(0,_.MMx)(y.providers,v,`Route: ${y.path}`)),y._injector??v}function Qt(y){const v=y.children&&y.children.map(Qt),g=v?{...y,children:v}:{...y};return!g.component&&!g.loadComponent&&(v||g.loadChildren)&&g.outlet&&g.outlet!==At&&(g.component=Ys),g}function li(y){return y.outlet||At}function Us(y,v){const g=y.filter(D=>li(D)===v);return g.push(...y.filter(D=>li(D)!==v)),g}function Qs(y){if(!y)return null;if(y.routeConfig?._injector)return y.routeConfig._injector;for(let v=y.parent;v;v=v.parent){const g=v.routeConfig;if(g?._loadedInjector)return g._loadedInjector;if(g?._injector)return g._injector}return null}class Mo{constructor(v,g,D,x){this.routeReuseStrategy=v,this.futureState=g,this.currState=D,this.forwardEvent=x}activate(v){const g=this.futureState._root,D=this.currState?this.currState._root:null;this.deactivateChildRoutes(g,D,v),Ks(this.futureState.root),this.activateChildRoutes(g,D,v)}deactivateChildRoutes(v,g,D){const x=Ki(g);v.children.forEach(U=>{const Q=U.value.outlet;this.deactivateRoutes(U,x[Q],D),delete x[Q]}),vn(x,(U,Q)=>{this.deactivateRouteAndItsChildren(U,D)})}deactivateRoutes(v,g,D){const x=v.value,U=g?g.value:null;if(x===U)if(x.component){const Q=D.getContext(x.outlet);Q&&this.deactivateChildRoutes(v,g,Q.children)}else this.deactivateChildRoutes(v,g,D);else U&&this.deactivateRouteAndItsChildren(g,D)}deactivateRouteAndItsChildren(v,g){v.value.component&&this.routeReuseStrategy.shouldDetach(v.value.snapshot)?this.detachAndStoreRouteSubtree(v,g):this.deactivateRouteAndOutlet(v,g)}detachAndStoreRouteSubtree(v,g){const D=g.getContext(v.value.outlet),x=D&&v.value.component?D.children:g,U=Ki(v);for(const Q of Object.keys(U))this.deactivateRouteAndItsChildren(U[Q],x);if(D&&D.outlet){const Q=D.outlet.detach(),ne=D.children.onOutletDeactivated();this.routeReuseStrategy.store(v.value.snapshot,{componentRef:Q,route:v,contexts:ne})}}deactivateRouteAndOutlet(v,g){const D=g.getContext(v.value.outlet),x=D&&v.value.component?D.children:g,U=Ki(v);for(const Q of Object.keys(U))this.deactivateRouteAndItsChildren(U[Q],x);D&&D.outlet&&(D.outlet.deactivate(),D.children.onOutletDeactivated(),D.attachRef=null,D.resolver=null,D.route=null)}activateChildRoutes(v,g,D){const x=Ki(g);v.children.forEach(U=>{this.activateRoutes(U,x[U.value.outlet],D),this.forwardEvent(new bo(U.value.snapshot))}),v.children.length&&this.forwardEvent(new Ws(v.value.snapshot))}activateRoutes(v,g,D){const x=v.value,U=g?g.value:null;if(Ks(x),x===U)if(x.component){const Q=D.getOrCreateContext(x.outlet);this.activateChildRoutes(v,g,Q.children)}else this.activateChildRoutes(v,g,D);else if(x.component){const Q=D.getOrCreateContext(x.outlet);if(this.routeReuseStrategy.shouldAttach(x.snapshot)){const ne=this.routeReuseStrategy.retrieve(x.snapshot);this.routeReuseStrategy.store(x.snapshot,null),Q.children.onOutletReAttached(ne.contexts),Q.attachRef=ne.componentRef,Q.route=ne.route.value,Q.outlet&&Q.outlet.attach(ne.componentRef,ne.route.value),Ks(ne.route.value),this.activateChildRoutes(v,null,Q.children)}else{const ne=Qs(x.snapshot),ke=ne?.get(_._Vd)??null;Q.attachRef=null,Q.route=x,Q.resolver=ke,Q.injector=ne,Q.outlet&&Q.outlet.activateWith(x,Q.injector),this.activateChildRoutes(v,null,Q.children)}}else this.activateChildRoutes(v,null,D)}}class es{constructor(v){this.path=v,this.route=this.path[this.path.length-1]}}class hs{constructor(v,g){this.component=v,this.route=g}}function Zo(y,v,g){const D=y._root;return Ts(D,v?v._root:null,g,[D.value])}function En(y,v){const g=Symbol(),D=v.get(y,g);return D===g?"function"!=typeof y||(0,_.Z0I)(y)?v.get(y):y:D}function Ts(y,v,g,D,x={canDeactivateChecks:[],canActivateChecks:[]}){const U=Ki(v);return y.children.forEach(Q=>{(function Yo(y,v,g,D,x={canDeactivateChecks:[],canActivateChecks:[]}){const U=y.value,Q=v?v.value:null,ne=g?g.getContext(y.value.outlet):null;if(Q&&U.routeConfig===Q.routeConfig){const ke=function O(y,v,g){if("function"==typeof g)return g(y,v);switch(g){case"pathParamsChange":return!qt(y.url,v.url);case"pathParamsOrQueryParamsChange":return!qt(y.url,v.url)||!cn(y.queryParams,v.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ji(y,v)||!cn(y.queryParams,v.queryParams);default:return!Ji(y,v)}}(Q,U,U.routeConfig.runGuardsAndResolvers);ke?x.canActivateChecks.push(new es(D)):(U.data=Q.data,U._resolvedData=Q._resolvedData),Ts(y,v,U.component?ne?ne.children:null:g,D,x),ke&&ne&&ne.outlet&&ne.outlet.isActivated&&x.canDeactivateChecks.push(new hs(ne.outlet.component,Q))}else Q&&R(v,ne,x),x.canActivateChecks.push(new es(D)),Ts(y,null,U.component?ne?ne.children:null:g,D,x)})(Q,U[Q.value.outlet],g,D.concat([Q.value]),x),delete U[Q.value.outlet]}),vn(U,(Q,ne)=>R(Q,g.getContext(ne),x)),x}function R(y,v,g){const D=Ki(y),x=y.value;vn(D,(U,Q)=>{R(U,x.component?v?v.children.getContext(Q):null:v,g)}),g.canDeactivateChecks.push(new hs(x.component&&v&&v.outlet&&v.outlet.isActivated?v.outlet.component:null,x))}function S(y){return"function"==typeof y}function Zr(y){return y instanceof we||"EmptyError"===y?.name}const As=Symbol("INITIAL_VALUE");function Ri(){return lt(y=>wt(y.map(v=>v.pipe((0,$t.q)(1),function Yn(...y){const v=(0,_e.yG)(y);return(0,ve.e)((g,D)=>{(v?We(y,g,v):We(y,g)).subscribe(D)})}(As)))).pipe((0,$e.U)(v=>{for(const g of v)if(!0!==g){if(g===As)return As;if(!1===g||g instanceof ie)return g}return!0}),vt(v=>v!==As),(0,$t.q)(1)))}function M(y){return(0,yt.z)((0,un.b)(v=>{if(oi(v))throw Bi(0,v)}),(0,$e.U)(v=>!0===v))}const se={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ve(y,v,g,D,x){const U=Ze(y,v,g);return U.matched?function $(y,v,g,D){const x=v.canMatch;return x&&0!==x.length?ce(x.map(Q=>{const ne=En(Q,y);return Bn(function Bs(y){return y&&S(y.canMatch)}(ne)?ne.canMatch(v,g):y.runInContext(()=>ne(v,g)))})).pipe(Ri(),M()):ce(!0)}(D=mr(v,D),v,g).pipe((0,$e.U)(Q=>!0===Q?U:{...se})):ce(U)}function Ze(y,v,g){if(""===v.path)return"full"===v.pathMatch&&(y.hasChildren()||g.length>0)?{...se}:{matched:!0,consumedSegments:[],remainingSegments:g,parameters:{},positionalParamSegments:{}};const x=(v.matcher||wr)(g,y,v);if(!x)return{...se};const U={};vn(x.posParams,(ne,ke)=>{U[ke]=ne.path});const Q=x.consumed.length>0?{...U,...x.consumed[x.consumed.length-1].parameters}:U;return{matched:!0,consumedSegments:x.consumed,remainingSegments:g.slice(x.consumed.length),parameters:Q,positionalParamSegments:x.posParams??{}}}function Dt(y,v,g,D,x="corrected"){if(g.length>0&&function er(y,v,g){return g.some(D=>Rn(y,v,D)&&li(D)!==At)}(y,g,D)){const Q=new Oe(v,function Ln(y,v,g,D){const x={};x[At]=D,D._sourceSegment=y,D._segmentIndexShift=v.length;for(const U of g)if(""===U.path&&li(U)!==At){const Q=new Oe([],{});Q._sourceSegment=y,Q._segmentIndexShift=v.length,x[li(U)]=Q}return x}(y,v,D,new Oe(g,y.children)));return Q._sourceSegment=y,Q._segmentIndexShift=v.length,{segmentGroup:Q,slicedSegments:[]}}if(0===g.length&&function xn(y,v,g){return g.some(D=>Rn(y,v,D))}(y,g,D)){const Q=new Oe(y.segments,function bn(y,v,g,D,x,U){const Q={};for(const ne of D)if(Rn(y,g,ne)&&!x[li(ne)]){const ke=new Oe([],{});ke._sourceSegment=y,ke._segmentIndexShift="legacy"===U?y.segments.length:v.length,Q[li(ne)]=ke}return{...x,...Q}}(y,v,g,D,y.children,x));return Q._sourceSegment=y,Q._segmentIndexShift=v.length,{segmentGroup:Q,slicedSegments:g}}const U=new Oe(y.segments,y.children);return U._sourceSegment=y,U._segmentIndexShift=v.length,{segmentGroup:U,slicedSegments:g}}function Rn(y,v,g){return(!(y.hasChildren()||v.length>0)||"full"!==g.pathMatch)&&""===g.path}function Nn(y,v,g,D){return!!(li(y)===D||D!==At&&Rn(v,g,y))&&("**"===y.path||Ze(v,y,g).matched)}function Kt(y,v,g){return 0===v.length&&!y.children[g]}const Ss=!1;class ts{constructor(v){this.segmentGroup=v||null}}class di{constructor(v){this.urlTree=v}}function ps(y){return Ie(new ts(y))}function Xo(y){return Ie(new di(y))}class ri{constructor(v,g,D,x,U){this.injector=v,this.configLoader=g,this.urlSerializer=D,this.urlTree=x,this.config=U,this.allowRedirects=!0}apply(){const v=Dt(this.urlTree.root,[],[],this.config).segmentGroup,g=new Oe(v.segments,v.children);return this.expandSegmentGroup(this.injector,this.config,g,At).pipe((0,$e.U)(U=>this.createUrlTree(mi(U),this.urlTree.queryParams,this.urlTree.fragment))).pipe(sn(U=>{if(U instanceof di)return this.allowRedirects=!1,this.match(U.urlTree);throw U instanceof ts?this.noMatchError(U):U}))}match(v){return this.expandSegmentGroup(this.injector,this.config,v.root,At).pipe((0,$e.U)(x=>this.createUrlTree(mi(x),v.queryParams,v.fragment))).pipe(sn(x=>{throw x instanceof ts?this.noMatchError(x):x}))}noMatchError(v){return new _.vHH(4002,Ss)}createUrlTree(v,g,D){const x=ur(v);return new ie(x,g,D)}expandSegmentGroup(v,g,D,x){return 0===D.segments.length&&D.hasChildren()?this.expandChildren(v,g,D).pipe((0,$e.U)(U=>new Oe([],U))):this.expandSegment(v,D,g,D.segments,x,!0)}expandChildren(v,g,D){const x=[];for(const U of Object.keys(D.children))"primary"===U?x.unshift(U):x.push(U);return(0,q.D)(x).pipe(kn(U=>{const Q=D.children[U],ne=Us(g,U);return this.expandSegmentGroup(v,ne,Q,U).pipe((0,$e.U)(ke=>({segment:ke,outlet:U})))}),In((U,Q)=>(U[Q.outlet]=Q.segment,U),{}),zn())}expandSegment(v,g,D,x,U,Q){return(0,q.D)(D).pipe(kn(ne=>this.expandSegmentAgainstRoute(v,g,D,ne,x,U,Q).pipe(sn(dt=>{if(dt instanceof ts)return ce(null);throw dt}))),Qn(ne=>!!ne),sn((ne,ke)=>{if(Zr(ne))return Kt(g,x,U)?ce(new Oe([],{})):ps(g);throw ne}))}expandSegmentAgainstRoute(v,g,D,x,U,Q,ne){return Nn(x,g,U,Q)?void 0===x.redirectTo?this.matchSegmentAgainstRoute(v,g,x,U,Q):ne&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(v,g,D,x,U,Q):ps(g):ps(g)}expandSegmentAgainstRouteUsingRedirect(v,g,D,x,U,Q){return"**"===x.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(v,D,x,Q):this.expandRegularSegmentAgainstRouteUsingRedirect(v,g,D,x,U,Q)}expandWildCardWithParamsAgainstRouteUsingRedirect(v,g,D,x){const U=this.applyRedirectCommands([],D.redirectTo,{});return D.redirectTo.startsWith("/")?Xo(U):this.lineralizeSegments(D,U).pipe((0,rn.z)(Q=>{const ne=new Oe(Q,{});return this.expandSegment(v,ne,g,Q,x,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(v,g,D,x,U,Q){const{matched:ne,consumedSegments:ke,remainingSegments:dt,positionalParamSegments:Bt}=Ze(g,x,U);if(!ne)return ps(g);const Ct=this.applyRedirectCommands(ke,x.redirectTo,Bt);return x.redirectTo.startsWith("/")?Xo(Ct):this.lineralizeSegments(x,Ct).pipe((0,rn.z)(Sn=>this.expandSegment(v,g,D,Sn.concat(dt),Q,!1)))}matchSegmentAgainstRoute(v,g,D,x,U){return"**"===D.path?(v=mr(D,v),D.loadChildren?(D._loadedRoutes?ce({routes:D._loadedRoutes,injector:D._loadedInjector}):this.configLoader.loadChildren(v,D)).pipe((0,$e.U)(ne=>(D._loadedRoutes=ne.routes,D._loadedInjector=ne.injector,new Oe(x,{})))):ce(new Oe(x,{}))):Ve(g,D,x,v).pipe(lt(({matched:Q,consumedSegments:ne,remainingSegments:ke})=>Q?this.getChildConfig(v=D._injector??v,D,x).pipe((0,rn.z)(Bt=>{const Ct=Bt.injector??v,Sn=Bt.routes,{segmentGroup:Ci,slicedSegments:bi}=Dt(g,ne,ke,Sn),Gi=new Oe(Ci.segments,Ci.children);if(0===bi.length&&Gi.hasChildren())return this.expandChildren(Ct,Sn,Gi).pipe((0,$e.U)(Bo=>new Oe(ne,Bo)));if(0===Sn.length&&0===bi.length)return ce(new Oe(ne,{}));const Fr=li(D)===U;return this.expandSegment(Ct,Gi,Sn,bi,Fr?At:U,!0).pipe((0,$e.U)(Gs=>new Oe(ne.concat(Gs.segments),Gs.children)))})):ps(g)))}getChildConfig(v,g,D){return g.children?ce({routes:g.children,injector:v}):g.loadChildren?void 0!==g._loadedRoutes?ce({routes:g._loadedRoutes,injector:g._loadedInjector}):function F(y,v,g,D){const x=v.canLoad;return void 0===x||0===x.length?ce(!0):ce(x.map(Q=>{const ne=En(Q,y);return Bn(function Ue(y){return y&&S(y.canLoad)}(ne)?ne.canLoad(v,g):y.runInContext(()=>ne(v,g)))})).pipe(Ri(),M())}(v,g,D).pipe((0,rn.z)(x=>x?this.configLoader.loadChildren(v,g).pipe((0,un.b)(U=>{g._loadedRoutes=U.routes,g._loadedInjector=U.injector})):function ta(y){return Ie($i(Ss,3))}())):ce({routes:[],injector:v})}lineralizeSegments(v,g){let D=[],x=g.root;for(;;){if(D=D.concat(x.segments),0===x.numberOfChildren)return ce(D);if(x.numberOfChildren>1||!x.children[At])return Ie(new _.vHH(4e3,Ss));x=x.children[At]}}applyRedirectCommands(v,g,D){return this.applyRedirectCreateUrlTree(g,this.urlSerializer.parse(g),v,D)}applyRedirectCreateUrlTree(v,g,D,x){const U=this.createSegmentGroup(v,g.root,D,x);return new ie(U,this.createQueryParams(g.queryParams,this.urlTree.queryParams),g.fragment)}createQueryParams(v,g){const D={};return vn(v,(x,U)=>{if("string"==typeof x&&x.startsWith(":")){const ne=x.substring(1);D[U]=g[ne]}else D[U]=x}),D}createSegmentGroup(v,g,D,x){const U=this.createSegments(v,g.segments,D,x);let Q={};return vn(g.children,(ne,ke)=>{Q[ke]=this.createSegmentGroup(v,ne,D,x)}),new Oe(U,Q)}createSegments(v,g,D,x){return g.map(U=>U.path.startsWith(":")?this.findPosParam(v,U,x):this.findOrReturn(U,D))}findPosParam(v,g,D){const x=D[g.path.substring(1)];if(!x)throw new _.vHH(4001,Ss);return x}findOrReturn(v,g){let D=0;for(const x of g){if(x.path===v.path)return g.splice(D),x;D++}return v}}class tu{}class ra{constructor(v,g,D,x,U,Q,ne,ke){this.injector=v,this.rootComponentType=g,this.config=D,this.urlTree=x,this.url=U,this.paramsInheritanceStrategy=Q,this.relativeLinkResolution=ne,this.urlSerializer=ke}recognize(){const v=Dt(this.urlTree.root,[],[],this.config.filter(g=>void 0===g.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,v,At).pipe((0,$e.U)(g=>{if(null===g)return null;const D=new jn([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},At,this.rootComponentType,null,this.urlTree.root,-1,{}),x=new Ui(D,g),U=new ui(this.url,x);return this.inheritParamsAndData(U._root),U}))}inheritParamsAndData(v){const g=v.value,D=qs(g,this.paramsInheritanceStrategy);g.params=Object.freeze(D.params),g.data=Object.freeze(D.data),v.children.forEach(x=>this.inheritParamsAndData(x))}processSegmentGroup(v,g,D,x){return 0===D.segments.length&&D.hasChildren()?this.processChildren(v,g,D):this.processSegment(v,g,D,D.segments,x)}processChildren(v,g,D){return(0,q.D)(Object.keys(D.children)).pipe(kn(x=>{const U=D.children[x],Q=Us(g,x);return this.processSegmentGroup(v,Q,U,x)}),In((x,U)=>x&&U?(x.push(...U),x):null),function Ur(y,v=!1){return(0,ve.e)((g,D)=>{let x=0;g.subscribe((0,Me.x)(D,U=>{const Q=y(U,x++);(Q||v)&&D.next(U),!Q&&D.complete()}))})}(x=>null!==x),Vn(null),zn(),(0,$e.U)(x=>{if(null===x)return null;const U=ut(x);return function eo(y){y.sort((v,g)=>v.value.outlet===At?-1:g.value.outlet===At?1:v.value.outlet.localeCompare(g.value.outlet))}(U),U}))}processSegment(v,g,D,x,U){return(0,q.D)(g).pipe(kn(Q=>this.processSegmentAgainstRoute(Q._injector??v,Q,D,x,U)),Qn(Q=>!!Q),sn(Q=>{if(Zr(Q))return Kt(D,x,U)?ce([]):ce(null);throw Q}))}processSegmentAgainstRoute(v,g,D,x,U){if(g.redirectTo||!Nn(g,D,x,U))return ce(null);let Q;if("**"===g.path){const ne=x.length>0?Et(x).parameters:{},ke=nu(D)+x.length;Q=ce({snapshot:new jn(x,ne,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,on(g),li(g),g.component??g._loadedComponent??null,g,hi(D),ke,bu(g),ke),consumedSegments:[],remainingSegments:[]})}else Q=Ve(D,g,x,v).pipe((0,$e.U)(({matched:ne,consumedSegments:ke,remainingSegments:dt,parameters:Bt})=>{if(!ne)return null;const Ct=nu(D)+ke.length;return{snapshot:new jn(ke,Bt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,on(g),li(g),g.component??g._loadedComponent??null,g,hi(D),Ct,bu(g),Ct),consumedSegments:ke,remainingSegments:dt}}));return Q.pipe(lt(ne=>{if(null===ne)return ce(null);const{snapshot:ke,consumedSegments:dt,remainingSegments:Bt}=ne;v=g._injector??v;const Ct=g._loadedInjector??v,Sn=function ho(y){return y.children?y.children:y.loadChildren?y._loadedRoutes:[]}(g),{segmentGroup:Ci,slicedSegments:bi}=Dt(D,dt,Bt,Sn.filter(Fr=>void 0===Fr.redirectTo),this.relativeLinkResolution);if(0===bi.length&&Ci.hasChildren())return this.processChildren(Ct,Sn,Ci).pipe((0,$e.U)(Fr=>null===Fr?null:[new Ui(ke,Fr)]));if(0===Sn.length&&0===bi.length)return ce([new Ui(ke,[])]);const Gi=li(g)===U;return this.processSegment(Ct,Sn,Ci,bi,Gi?At:U).pipe((0,$e.U)(Fr=>null===Fr?null:[new Ui(ke,Fr)]))}))}}function Va(y){const v=y.value.routeConfig;return v&&""===v.path&&void 0===v.redirectTo}function ut(y){const v=[],g=new Set;for(const D of y){if(!Va(D)){v.push(D);continue}const x=v.find(U=>D.value.routeConfig===U.value.routeConfig);void 0!==x?(x.children.push(...D.children),g.add(x)):v.push(D)}for(const D of g){const x=ut(D.children);v.push(new Ui(D.value,x))}return v.filter(D=>!g.has(D))}function hi(y){let v=y;for(;v._sourceSegment;)v=v._sourceSegment;return v}function nu(y){let v=y,g=v._segmentIndexShift??0;for(;v._sourceSegment;)v=v._sourceSegment,g+=v._segmentIndexShift??0;return g-1}function on(y){return y.data||{}}function bu(y){return y.resolve||{}}function ia(y){return"string"==typeof y.title||null===y.title}function Rr(y){return lt(v=>{const g=y(v);return g?(0,q.D)(g).pipe((0,$e.U)(()=>v)):ce(v)})}let Ju=(()=>{class y{buildTitle(g){let D,x=g.root;for(;void 0!==x;)D=this.getResolvedTitleForRoute(x)??D,x=x.children.find(U=>U.outlet===At);return D}getResolvedTitleForRoute(g){return g.data[cr]}}return y.\u0275fac=function(g){return new(g||y)},y.\u0275prov=_.Yz7({token:y,factory:function(){return(0,_.f3M)(_a)},providedIn:"root"}),y})(),_a=(()=>{class y extends Ju{constructor(g){super(),this.title=g}updateTitle(g){const D=this.buildTitle(g);void 0!==D&&this.title.setTitle(D)}}return y.\u0275fac=function(g){return new(g||y)(_.LFG(qr.Dx))},y.\u0275prov=_.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();class ru{}class Xu extends class $s{shouldDetach(v){return!1}store(v,g){}shouldAttach(v){return!1}retrieve(v){return null}shouldReuseRoute(v,g){return v.routeConfig===g.routeConfig}}{}const an=new _.OlP("",{providedIn:"root",factory:()=>({})}),No=new _.OlP("ROUTES");let Jn=(()=>{class y{constructor(g,D){this.injector=g,this.compiler=D,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(g){if(this.componentLoaders.get(g))return this.componentLoaders.get(g);if(g._loadedComponent)return ce(g._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(g);const D=Bn(g.loadComponent()).pipe((0,un.b)(U=>{this.onLoadEndListener&&this.onLoadEndListener(g),g._loadedComponent=U}),Wn(()=>{this.componentLoaders.delete(g)})),x=new de(D,()=>new Ee.x).pipe(K());return this.componentLoaders.set(g,x),x}loadChildren(g,D){if(this.childrenLoaders.get(D))return this.childrenLoaders.get(D);if(D._loadedRoutes)return ce({routes:D._loadedRoutes,injector:D._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(D);const U=this.loadModuleFactoryOrRoutes(D.loadChildren).pipe((0,$e.U)(ne=>{this.onLoadEndListener&&this.onLoadEndListener(D);let ke,dt,Bt=!1;Array.isArray(ne)?dt=ne:(ke=ne.create(g).injector,dt=gt(ke.get(No,[],_.XFs.Self|_.XFs.Optional)));return{routes:dt.map(Qt),injector:ke}}),Wn(()=>{this.childrenLoaders.delete(D)})),Q=new de(U,()=>new Ee.x).pipe(K());return this.childrenLoaders.set(D,Q),Q}loadModuleFactoryOrRoutes(g){return Bn(g()).pipe((0,rn.z)(D=>D instanceof _.YKP||Array.isArray(D)?ce(D):(0,q.D)(this.compiler.compileModuleAsync(D))))}}return y.\u0275fac=function(g){return new(g||y)(_.LFG(_.zs3),_.LFG(_.Sil))},y.\u0275prov=_.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();class Xt{}class Oo{shouldProcessUrl(v){return!0}extract(v){return v}merge(v,g){return v}}function $a(y){throw y}function Dr(y,v,g){return v.parse("/")}const It={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},js={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function to(){const y=(0,_.f3M)(gn),v=(0,_.f3M)(yn),g=(0,_.f3M)(Le.Ye),D=(0,_.f3M)(_.zs3),x=(0,_.f3M)(_.Sil),U=(0,_.f3M)(No,{optional:!0})??[],Q=(0,_.f3M)(an,{optional:!0})??{},ne=(0,_.f3M)(_a),ke=(0,_.f3M)(Ju,{optional:!0}),dt=(0,_.f3M)(Xt,{optional:!0}),Bt=(0,_.f3M)(ru,{optional:!0}),Ct=new fi(null,y,v,g,D,x,gt(U));return dt&&(Ct.urlHandlingStrategy=dt),Bt&&(Ct.routeReuseStrategy=Bt),Ct.titleStrategy=ke??ne,function Po(y,v){y.errorHandler&&(v.errorHandler=y.errorHandler),y.malformedUriErrorHandler&&(v.malformedUriErrorHandler=y.malformedUriErrorHandler),y.onSameUrlNavigation&&(v.onSameUrlNavigation=y.onSameUrlNavigation),y.paramsInheritanceStrategy&&(v.paramsInheritanceStrategy=y.paramsInheritanceStrategy),y.relativeLinkResolution&&(v.relativeLinkResolution=y.relativeLinkResolution),y.urlUpdateStrategy&&(v.urlUpdateStrategy=y.urlUpdateStrategy),y.canceledNavigationResolution&&(v.canceledNavigationResolution=y.canceledNavigationResolution)}(Q,Ct),Ct}let fi=(()=>{class y{constructor(g,D,x,U,Q,ne,ke){this.rootComponentType=g,this.urlSerializer=D,this.rootContexts=x,this.location=U,this.config=ke,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Ee.x,this.errorHandler=$a,this.malformedUriErrorHandler=Dr,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>ce(void 0),this.urlHandlingStrategy=new Oo,this.routeReuseStrategy=new Xu,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=Q.get(Jn),this.configLoader.onLoadEndListener=Sn=>this.triggerEvent(new Ko(Sn)),this.configLoader.onLoadStartListener=Sn=>this.triggerEvent(new Do(Sn)),this.ngModule=Q.get(_.h0i),this.console=Q.get(_.c2e);const Ct=Q.get(_.R0b);this.isNgZoneEnabled=Ct instanceof _.R0b&&_.R0b.isInAngularZone(),this.resetConfig(ke),this.currentUrlTree=function sr(){return new ie(new Oe([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=ti(this.currentUrlTree,this.rootComponentType),this.transitions=new oe({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(g){const D=this.events;return g.pipe(vt(x=>0!==x.id),(0,$e.U)(x=>({...x,extractedUrl:this.urlHandlingStrategy.extract(x.rawUrl)})),lt(x=>{let U=!1,Q=!1;return ce(x).pipe((0,un.b)(ne=>{this.currentNavigation={id:ne.id,initialUrl:ne.rawUrl,extractedUrl:ne.extractedUrl,trigger:ne.source,extras:ne.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),lt(ne=>{const ke=this.browserUrlTree.toString(),dt=!this.navigated||ne.extractedUrl.toString()!==ke||ke!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||dt)&&this.urlHandlingStrategy.shouldProcessUrl(ne.rawUrl))return ko(ne.source)&&(this.browserUrlTree=ne.extractedUrl),ce(ne).pipe(lt(Ct=>{const Sn=this.transitions.getValue();return D.next(new Eo(Ct.id,this.serializeUrl(Ct.extractedUrl),Ct.source,Ct.restoredState)),Sn!==this.transitions.getValue()?nt.E:Promise.resolve(Ct)}),function na(y,v,g,D){return lt(x=>function va(y,v,g,D,x){return new ri(y,v,g,D,x).apply()}(y,v,g,x.extractedUrl,D).pipe((0,$e.U)(U=>({...x,urlAfterRedirects:U}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,un.b)(Ct=>{this.currentNavigation={...this.currentNavigation,finalUrl:Ct.urlAfterRedirects},x.urlAfterRedirects=Ct.urlAfterRedirects}),function _t(y,v,g,D,x,U){return(0,rn.z)(Q=>function Mr(y,v,g,D,x,U,Q="emptyOnly",ne="legacy"){return new ra(y,v,g,D,x,Q,ne,U).recognize().pipe(lt(ke=>null===ke?function Ro(y){return new qe.y(v=>v.error(y))}(new tu):ce(ke)))}(y,v,g,Q.urlAfterRedirects,D.serialize(Q.urlAfterRedirects),D,x,U).pipe((0,$e.U)(ne=>({...Q,targetSnapshot:ne}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,un.b)(Ct=>{if(x.targetSnapshot=Ct.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!Ct.extras.skipLocationChange){const Ci=this.urlHandlingStrategy.merge(Ct.urlAfterRedirects,Ct.rawUrl);this.setBrowserUrl(Ci,Ct)}this.browserUrlTree=Ct.urlAfterRedirects}const Sn=new ws(Ct.id,this.serializeUrl(Ct.extractedUrl),this.serializeUrl(Ct.urlAfterRedirects),Ct.targetSnapshot);D.next(Sn)}));if(dt&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Sn,extractedUrl:Ci,source:bi,restoredState:Gi,extras:Fr}=ne,Uo=new Eo(Sn,this.serializeUrl(Ci),bi,Gi);D.next(Uo);const Gs=ti(Ci,this.rootComponentType).snapshot;return ce(x={...ne,targetSnapshot:Gs,urlAfterRedirects:Ci,extras:{...Fr,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=ne.rawUrl,ne.resolve(null),nt.E}),(0,un.b)(ne=>{const ke=new Fi(ne.id,this.serializeUrl(ne.extractedUrl),this.serializeUrl(ne.urlAfterRedirects),ne.targetSnapshot);this.triggerEvent(ke)}),(0,$e.U)(ne=>x={...ne,guards:Zo(ne.targetSnapshot,ne.currentSnapshot,this.rootContexts)}),function Ni(y,v){return(0,rn.z)(g=>{const{targetSnapshot:D,currentSnapshot:x,guards:{canActivateChecks:U,canDeactivateChecks:Q}}=g;return 0===Q.length&&0===U.length?ce({...g,guardsResult:!0}):function ya(y,v,g,D){return(0,q.D)(y).pipe((0,rn.z)(x=>function T(y,v,g,D,x){const U=v&&v.routeConfig?v.routeConfig.canDeactivate:null;return U&&0!==U.length?ce(U.map(ne=>{const ke=Qs(v)??x,dt=En(ne,ke);return Bn(function zr(y){return y&&S(y.canDeactivate)}(dt)?dt.canDeactivate(y,v,g,D):ke.runInContext(()=>dt(y,v,g,D))).pipe(Qn())})).pipe(Ri()):ce(!0)}(x.component,x.route,g,v,D)),Qn(x=>!0!==x,!0))}(Q,D,x,y).pipe((0,rn.z)(ne=>ne&&function H(y){return"boolean"==typeof y}(ne)?function xo(y,v,g,D){return(0,q.D)(v).pipe(kn(x=>We(function La(y,v){return null!==y&&v&&v(new Co(y)),ce(!0)}(x.route.parent,D),function Qo(y,v){return null!==y&&v&&v(new Fs(y)),ce(!0)}(x.route,D),function Xs(y,v,g){const D=v[v.length-1],U=v.slice(0,v.length-1).reverse().map(Q=>function Ge(y){const v=y.routeConfig?y.routeConfig.canActivateChild:null;return v&&0!==v.length?{node:y,guards:v}:null}(Q)).filter(Q=>null!==Q).map(Q=>Re(()=>ce(Q.guards.map(ke=>{const dt=Qs(Q.node)??g,Bt=En(ke,dt);return Bn(function hr(y){return y&&S(y.canActivateChild)}(Bt)?Bt.canActivateChild(D,y):dt.runInContext(()=>Bt(D,y))).pipe(Qn())})).pipe(Ri())));return ce(U).pipe(Ri())}(y,x.path,g),function Jo(y,v,g){const D=v.routeConfig?v.routeConfig.canActivate:null;if(!D||0===D.length)return ce(!0);const x=D.map(U=>Re(()=>{const Q=Qs(v)??g,ne=En(U,Q);return Bn(function Pt(y){return y&&S(y.canActivate)}(ne)?ne.canActivate(v,y):Q.runInContext(()=>ne(v,y))).pipe(Qn())}));return ce(x).pipe(Ri())}(y,x.route,g))),Qn(x=>!0!==x,!0))}(D,U,y,v):ce(ne)),(0,$e.U)(ne=>({...g,guardsResult:ne})))})}(this.ngModule.injector,ne=>this.triggerEvent(ne)),(0,un.b)(ne=>{if(x.guardsResult=ne.guardsResult,oi(ne.guardsResult))throw Bi(0,ne.guardsResult);const ke=new oo(ne.id,this.serializeUrl(ne.extractedUrl),this.serializeUrl(ne.urlAfterRedirects),ne.targetSnapshot,!!ne.guardsResult);this.triggerEvent(ke)}),vt(ne=>!!ne.guardsResult||(this.restoreHistory(ne),this.cancelNavigationTransition(ne,"",3),!1)),Rr(ne=>{if(ne.guards.canActivateChecks.length)return ce(ne).pipe((0,un.b)(ke=>{const dt=new ao(ke.id,this.serializeUrl(ke.extractedUrl),this.serializeUrl(ke.urlAfterRedirects),ke.targetSnapshot);this.triggerEvent(dt)}),lt(ke=>{let dt=!1;return ce(ke).pipe(function Be(y,v){return(0,rn.z)(g=>{const{targetSnapshot:D,guards:{canActivateChecks:x}}=g;if(!x.length)return ce(g);let U=0;return(0,q.D)(x).pipe(kn(Q=>function it(y,v,g,D){const x=y.routeConfig,U=y._resolve;return void 0!==x?.title&&!ia(x)&&(U[cr]=x.title),function Hr(y,v,g,D){const x=function Ua(y){return[...Object.keys(y),...Object.getOwnPropertySymbols(y)]}(y);if(0===x.length)return ce({});const U={};return(0,q.D)(x).pipe((0,rn.z)(Q=>function fo(y,v,g,D){const x=Qs(v)??D,U=En(y,x);return Bn(U.resolve?U.resolve(v,g):x.runInContext(()=>U(v,g)))}(y[Q],v,g,D).pipe(Qn(),(0,un.b)(ne=>{U[Q]=ne}))),Gn(1),function tr(y){return(0,$e.U)(()=>y)}(U),sn(Q=>Zr(Q)?nt.E:Ie(Q)))}(U,y,v,D).pipe((0,$e.U)(Q=>(y._resolvedData=Q,y.data=qs(y,g).resolve,x&&ia(x)&&(y.data[cr]=x.title),null)))}(Q.route,D,y,v)),(0,un.b)(()=>U++),Gn(1),(0,rn.z)(Q=>U===x.length?ce(g):nt.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,un.b)({next:()=>dt=!0,complete:()=>{dt||(this.restoreHistory(ke),this.cancelNavigationTransition(ke,"",2))}}))}),(0,un.b)(ke=>{const dt=new Li(ke.id,this.serializeUrl(ke.extractedUrl),this.serializeUrl(ke.urlAfterRedirects),ke.targetSnapshot);this.triggerEvent(dt)}))}),Rr(ne=>{const ke=dt=>{const Bt=[];dt.routeConfig?.loadComponent&&!dt.routeConfig._loadedComponent&&Bt.push(this.configLoader.loadComponent(dt.routeConfig).pipe((0,un.b)(Ct=>{dt.component=Ct}),(0,$e.U)(()=>{})));for(const Ct of dt.children)Bt.push(...ke(Ct));return Bt};return wt(ke(ne.targetSnapshot.root)).pipe(Vn(),(0,$t.q)(1))}),Rr(()=>this.afterPreactivation()),(0,$e.U)(ne=>{const ke=function ma(y,v,g){const D=Es(y,v._root,g?g._root:void 0);return new Zi(D,v)}(this.routeReuseStrategy,ne.targetSnapshot,ne.currentRouterState);return x={...ne,targetRouterState:ke}}),(0,un.b)(ne=>{this.currentUrlTree=ne.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(ne.urlAfterRedirects,ne.rawUrl),this.routerState=ne.targetRouterState,"deferred"===this.urlUpdateStrategy&&(ne.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,ne),this.browserUrlTree=ne.urlAfterRedirects)}),((y,v,g)=>(0,$e.U)(D=>(new Mo(v,D.targetRouterState,D.currentRouterState,g).activate(y),D)))(this.rootContexts,this.routeReuseStrategy,ne=>this.triggerEvent(ne)),(0,un.b)({next(){U=!0},complete(){U=!0}}),Wn(()=>{U||Q||this.cancelNavigationTransition(x,"",1),this.currentNavigation?.id===x.id&&(this.currentNavigation=null)}),sn(ne=>{if(Q=!0,co(ne)){Er(ne)||(this.navigated=!0,this.restoreHistory(x,!0));const ke=new qi(x.id,this.serializeUrl(x.extractedUrl),ne.message,ne.cancellationCode);if(D.next(ke),Er(ne)){const dt=this.urlHandlingStrategy.merge(ne.url,this.rawUrlTree),Bt={skipLocationChange:x.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||ko(x.source)};this.scheduleNavigation(dt,"imperative",null,Bt,{resolve:x.resolve,reject:x.reject,promise:x.promise})}else x.resolve(!1)}else{this.restoreHistory(x,!0);const ke=new Kr(x.id,this.serializeUrl(x.extractedUrl),ne,x.targetSnapshot??void 0);D.next(ke);try{x.resolve(this.errorHandler(ne))}catch(dt){x.reject(dt)}}return nt.E}))}))}resetRootComponentType(g){this.rootComponentType=g,this.routerState.root.component=this.rootComponentType}setTransition(g){this.transitions.next({...this.transitions.value,...g})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(g=>{const D="popstate"===g.type?"popstate":"hashchange";"popstate"===D&&setTimeout(()=>{const x={replaceUrl:!0},U=g.state?.navigationId?g.state:null;if(U){const ne={...U};delete ne.navigationId,delete ne.\u0275routerPageId,0!==Object.keys(ne).length&&(x.state=ne)}const Q=this.parseUrl(g.url);this.scheduleNavigation(Q,D,U,x)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(g){this.events.next(g)}resetConfig(g){this.config=g.map(Qt),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(g,D={}){const{relativeTo:x,queryParams:U,fragment:Q,queryParamsHandling:ne,preserveFragment:ke}=D,dt=x||this.routerState.root,Bt=ke?this.currentUrlTree.fragment:Q;let Ct=null;switch(ne){case"merge":Ct={...this.currentUrlTree.queryParams,...U};break;case"preserve":Ct=this.currentUrlTree.queryParams;break;default:Ct=U||null}return null!==Ct&&(Ct=this.removeEmptyProps(Ct)),Mi(dt,this.currentUrlTree,g,Ct,Bt??null)}navigateByUrl(g,D={skipLocationChange:!1}){const x=oi(g)?g:this.parseUrl(g),U=this.urlHandlingStrategy.merge(x,this.rawUrlTree);return this.scheduleNavigation(U,"imperative",null,D)}navigate(g,D={skipLocationChange:!1}){return function Ms(y){for(let v=0;v<y.length;v++){if(null==y[v])throw new _.vHH(4008,false)}}(g),this.navigateByUrl(this.createUrlTree(g,D),D)}serializeUrl(g){return this.urlSerializer.serialize(g)}parseUrl(g){let D;try{D=this.urlSerializer.parse(g)}catch(x){D=this.malformedUriErrorHandler(x,this.urlSerializer,g)}return D}isActive(g,D){let x;if(x=!0===D?{...It}:!1===D?{...js}:D,oi(g))return Fn(this.currentUrlTree,g,x);const U=this.parseUrl(g);return Fn(this.currentUrlTree,U,x)}removeEmptyProps(g){return Object.keys(g).reduce((D,x)=>{const U=g[x];return null!=U&&(D[x]=U),D},{})}processNavigations(){this.navigations.subscribe(g=>{this.navigated=!0,this.lastSuccessfulId=g.id,this.currentPageId=g.targetPageId,this.events.next(new gr(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),g.resolve(!0)},g=>{this.console.warn(`Unhandled Navigation Error: ${g}`)})}scheduleNavigation(g,D,x,U,Q){if(this.disposed)return Promise.resolve(!1);let ne,ke,dt;Q?(ne=Q.resolve,ke=Q.reject,dt=Q.promise):dt=new Promise((Sn,Ci)=>{ne=Sn,ke=Ci});const Bt=++this.navigationId;let Ct;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(x=this.location.getState()),Ct=x&&x.\u0275routerPageId?x.\u0275routerPageId:U.replaceUrl||U.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):Ct=0,this.setTransition({id:Bt,targetPageId:Ct,source:D,restoredState:x,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:g,extras:U,resolve:ne,reject:ke,promise:dt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),dt.catch(Sn=>Promise.reject(Sn))}setBrowserUrl(g,D){const x=this.urlSerializer.serialize(g),U={...D.extras.state,...this.generateNgRouterState(D.id,D.targetPageId)};this.location.isCurrentPathEqualTo(x)||D.extras.replaceUrl?this.location.replaceState(x,"",U):this.location.go(x,"",U)}restoreHistory(g,D=!1){if("computed"===this.canceledNavigationResolution){const x=this.currentPageId-g.targetPageId;"popstate"!==g.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===x?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===x&&(this.resetState(g),this.browserUrlTree=g.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(x)}else"replace"===this.canceledNavigationResolution&&(D&&this.resetState(g),this.resetUrlToCurrentUrlTree())}resetState(g){this.routerState=g.currentRouterState,this.currentUrlTree=g.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,g.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(g,D,x){const U=new qi(g.id,this.serializeUrl(g.extractedUrl),D,x);this.triggerEvent(U),g.resolve(!1)}generateNgRouterState(g,D){return"computed"===this.canceledNavigationResolution?{navigationId:g,\u0275routerPageId:D}:{navigationId:g}}}return y.\u0275fac=function(g){_.$Z()},y.\u0275prov=_.Yz7({token:y,factory:function(){return to()},providedIn:"root"}),y})();function ko(y){return"imperative"!==y}let go=(()=>{class y{constructor(g,D,x,U,Q){this.router=g,this.route=D,this.tabIndexAttribute=x,this.renderer=U,this.el=Q,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new Ee.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(g){this._preserveFragment=(0,_.D6c)(g)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(g){this._skipLocationChange=(0,_.D6c)(g)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(g){this._replaceUrl=(0,_.D6c)(g)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(g){if(null!=this.tabIndexAttribute)return;const D=this.renderer,x=this.el.nativeElement;null!==g?D.setAttribute(x,"tabindex",g):D.removeAttribute(x,"tabindex")}ngOnChanges(g){this.onChanges.next(this)}set routerLink(g){null!=g?(this.commands=Array.isArray(g)?g:[g],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return y.\u0275fac=function(g){return new(g||y)(_.Y36(fi),_.Y36(Yi),_.$8M("tabindex"),_.Y36(_.Qsj),_.Y36(_.SBq))},y.\u0275dir=_.lG2({type:y,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(g,D){1&g&&_.NdJ("click",function(){return D.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[_.TTD]}),y})();class gs{}let ms=(()=>{class y{constructor(g,D,x,U,Q){this.router=g,this.injector=x,this.preloadingStrategy=U,this.loader=Q}setUpPreloading(){this.subscription=this.router.events.pipe(vt(g=>g instanceof gr),kn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(g,D){const x=[];for(const U of D){U.providers&&!U._injector&&(U._injector=(0,_.MMx)(U.providers,g,`Route: ${U.path}`));const Q=U._injector??g,ne=U._loadedInjector??Q;U.loadChildren&&!U._loadedRoutes&&void 0===U.canLoad||U.loadComponent&&!U._loadedComponent?x.push(this.preloadConfig(Q,U)):(U.children||U._loadedRoutes)&&x.push(this.processRoutes(ne,U.children??U._loadedRoutes))}return(0,q.D)(x).pipe((0,xt.J)())}preloadConfig(g,D){return this.preloadingStrategy.preload(D,()=>{let x;x=D.loadChildren&&void 0===D.canLoad?this.loader.loadChildren(g,D):ce(null);const U=x.pipe((0,rn.z)(Q=>null===Q?ce(void 0):(D._loadedRoutes=Q.routes,D._loadedInjector=Q.injector,this.processRoutes(Q.injector??g,Q.routes))));if(D.loadComponent&&!D._loadedComponent){const Q=this.loader.loadComponent(D);return(0,q.D)([U,Q]).pipe((0,xt.J)())}return U})}}return y.\u0275fac=function(g){return new(g||y)(_.LFG(fi),_.LFG(_.Sil),_.LFG(_.lqb),_.LFG(gs),_.LFG(Jn))},y.\u0275prov=_.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();const no=new _.OlP("");let Ne=(()=>{class y{constructor(g,D,x={}){this.router=g,this.viewportScroller=D,this.options=x,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},x.scrollPositionRestoration=x.scrollPositionRestoration||"disabled",x.anchorScrolling=x.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(g=>{g instanceof Eo?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=g.navigationTrigger,this.restoredId=g.restoredState?g.restoredState.navigationId:0):g instanceof gr&&(this.lastId=g.id,this.scheduleScrollEvent(g,this.router.parseUrl(g.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(g=>{g instanceof ga&&(g.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(g.position):g.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(g.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(g,D){this.router.triggerEvent(new ga(g,"popstate"===this.lastSource?this.store[this.restoredId]:null,D))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return y.\u0275fac=function(g){_.$Z()},y.\u0275prov=_.Yz7({token:y,factory:y.\u0275fac}),y})();function Hs(y,v){return{\u0275kind:y,\u0275providers:v}}function Kn(y){return[{provide:No,multi:!0,useValue:y}]}function oa(){const y=(0,_.f3M)(_.zs3);return v=>{const g=y.get(_.z2F);if(v!==g.components[0])return;const D=y.get(fi),x=y.get(ec);1===y.get(ja)&&D.initialNavigation(),y.get(Ho,null,_.XFs.Optional)?.setUpPreloading(),y.get(no,null,_.XFs.Optional)?.init(),D.resetRootComponentType(g.componentTypes[0]),x.next(),x.complete()}}const ec=new _.OlP("",{factory:()=>new Ee.x}),ja=new _.OlP("",{providedIn:"root",factory:()=>1});const Ho=new _.OlP("");function Lo(y){return Hs(0,[{provide:Ho,useExisting:ms},{provide:gs,useExisting:y}])}const Cr=new _.OlP("ROUTER_FORROOT_GUARD"),yr=[Le.Ye,{provide:gn,useClass:en},{provide:fi,useFactory:to},yn,{provide:Yi,useFactory:function iu(y){return y.routerState.root},deps:[fi]},Jn];function Ea(){return new _.PXZ("Router",fi)}let Nr=(()=>{class y{constructor(g){}static forRoot(g,D){return{ngModule:y,providers:[yr,[],Kn(g),{provide:Cr,useFactory:su,deps:[[fi,new _.FiY,new _.tp0]]},{provide:an,useValue:D||{}},D?.useHash?{provide:Le.S$,useClass:Le.Do}:{provide:Le.S$,useClass:Le.b0},{provide:no,useFactory:()=>{const y=(0,_.f3M)(fi),v=(0,_.f3M)(Le.EM),g=(0,_.f3M)(an);return g.scrollOffset&&v.setOffset(g.scrollOffset),new Ne(y,v,g)}},D?.preloadingStrategy?Lo(D.preloadingStrategy).\u0275providers:[],{provide:_.PXZ,multi:!0,useFactory:Ea},D?.initialNavigation?Hi(D):[],[{provide:kr,useFactory:oa},{provide:_.tb,multi:!0,useExisting:kr}]]}}static forChild(g){return{ngModule:y,providers:[Kn(g)]}}}return y.\u0275fac=function(g){return new(g||y)(_.LFG(Cr,8))},y.\u0275mod=_.oAB({type:y}),y.\u0275inj=_.cJS({imports:[Ys]}),y})();function su(y){return"guarded"}function Hi(y){return["disabled"===y.initialNavigation?Hs(3,[{provide:_.ip1,multi:!0,useFactory:()=>{const v=(0,_.f3M)(fi);return()=>{v.setUpLocationChangeListener()}}},{provide:ja,useValue:2}]).\u0275providers:[],"enabledBlocking"===y.initialNavigation?Hs(2,[{provide:ja,useValue:0},{provide:_.ip1,multi:!0,deps:[_.zs3],useFactory:v=>{const g=v.get(Le.V_,Promise.resolve(null));let D=!1;return()=>g.then(()=>new Promise(U=>{const Q=v.get(fi),ne=v.get(ec);(function x(U){v.get(fi).events.pipe(vt(ne=>ne instanceof gr||ne instanceof qi||ne instanceof Kr),(0,$e.U)(ne=>ne instanceof gr||ne instanceof qi&&(0===ne.code||1===ne.code)&&null),vt(ne=>null!==ne),(0,$t.q)(1)).subscribe(()=>{U()})})(()=>{U(!0),D=!0}),Q.afterPreactivation=()=>(U(!0),D||ne.closed?ce(void 0):ne),Q.initialNavigation()}))}}]).\u0275providers:[]]}const kr=new _.OlP("")},9681:(Yt,Xe,G)=>{G.d(Xe,{C6:()=>Wn,Jn:()=>zn,KN:()=>cr,Mq:()=>tr,Xd:()=>Qn,ZF:()=>Ur,qX:()=>kn});var _=G(5861),q=G(4859),_e=G(1877),ce=G(2090),Ee=G(8766);class oe{constructor(te){this.container=te}getPlatformInfoString(){return this.container.getProviders().map(ie=>{if(function Ce(X){return"VERSION"===X.getComponent()?.type}(ie)){const Oe=ie.getImmediate();return`${Oe.library}/${Oe.version}`}return null}).filter(ie=>ie).join(" ")}}const we="@firebase/app",ee=new _e.Yd("@firebase/app"),Yn="[DEFAULT]",vt={[we]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},rn=new Map,Vn=new Map;function Dn(X,te){try{X.container.addComponent(te)}catch(ie){ee.debug(`Component ${te.name} failed to register with FirebaseApp ${X.name}`,ie)}}function Qn(X){const te=X.name;if(Vn.has(te))return ee.debug(`There were multiple attempts to register component ${te}.`),!1;Vn.set(te,X);for(const ie of rn.values())Dn(ie,X);return!0}function kn(X,te){const ie=X.container.getProvider("heartbeat").getImmediate({optional:!0});return ie&&ie.triggerHeartbeat(),X.container.getProvider(te)}const In=new ce.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Gn{constructor(te,ie,Oe){this._isDeleted=!1,this._options=Object.assign({},te),this._config=Object.assign({},ie),this._name=ie.name,this._automaticDataCollectionEnabled=ie.automaticDataCollectionEnabled,this._container=Oe,this.container.addComponent(new q.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(te){this.checkDestroyed(),this._automaticDataCollectionEnabled=te}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(te){this._isDeleted=te}checkDestroyed(){if(this.isDeleted)throw In.create("app-deleted",{appName:this._name})}}const zn="9.9.4";function Ur(X,te={}){"object"!=typeof te&&(te={name:te});const ie=Object.assign({name:Yn,automaticDataCollectionEnabled:!1},te),Oe=ie.name;if("string"!=typeof Oe||!Oe)throw In.create("bad-app-name",{appName:String(Oe)});const ht=rn.get(Oe);if(ht){if((0,ce.vZ)(X,ht.options)&&(0,ce.vZ)(ie,ht.config))return ht;throw In.create("duplicate-app",{appName:Oe})}const Ot=new q.H0(Oe);for(const Ft of Vn.values())Ot.addComponent(Ft);const qt=new Gn(X,ie,Ot);return rn.set(Oe,qt),qt}function tr(X=Yn){const te=rn.get(X);if(!te)throw In.create("no-app",{appName:X});return te}function Wn(){return Array.from(rn.values())}function cr(X,te,ie){var Oe;let ht=null!==(Oe=vt[X])&&void 0!==Oe?Oe:X;ie&&(ht+=`-${ie}`);const Ot=ht.match(/\s|\//),qt=te.match(/\s|\//);if(Ot||qt){const Ft=[`Unable to register library "${ht}" with version "${te}":`];return Ot&&Ft.push(`library name "${ht}" contains illegal characters (whitespace or "/")`),Ot&&qt&&Ft.push("and"),qt&&Ft.push(`version name "${te}" contains illegal characters (whitespace or "/")`),void ee.warn(Ft.join(" "))}Qn(new q.wA(`${ht}-version`,()=>({library:ht,version:te}),"VERSION"))}const cn="firebase-heartbeat-store";let br=null;function gt(){return br||(br=(0,Ee.X3)("firebase-heartbeat-database",1,{upgrade:(X,te)=>{0===te&&X.createObjectStore(cn)}}).catch(X=>{throw In.create("idb-open",{originalErrorMessage:X.message})})),br}function Ht(){return(Ht=(0,_.Z)(function*(X){var te;try{return(yield gt()).transaction(cn).objectStore(cn).get(Mn(X))}catch(ie){if(ie instanceof ce.ZR)ee.warn(ie.message);else{const Oe=In.create("idb-get",{originalErrorMessage:null===(te=ie)||void 0===te?void 0:te.message});ee.warn(Oe.message)}}})).apply(this,arguments)}function vn(X,te){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,_.Z)(function*(X,te){var ie;try{const ht=(yield gt()).transaction(cn,"readwrite");return yield ht.objectStore(cn).put(te,Mn(X)),ht.done}catch(Oe){if(Oe instanceof ce.ZR)ee.warn(Oe.message);else{const ht=In.create("idb-set",{originalErrorMessage:null===(ie=Oe)||void 0===ie?void 0:ie.message});ee.warn(ht.message)}}})).apply(this,arguments)}function Mn(X){return`${X.name}!${X.options.appId}`}class Ir{constructor(te){this.container=te,this._heartbeatsCache=null;const ie=this.container.getProvider("app").getImmediate();this._storage=new Ut(ie),this._heartbeatsCachePromise=this._storage.read().then(Oe=>(this._heartbeatsCache=Oe,Oe))}triggerHeartbeat(){var te=this;return(0,_.Z)(function*(){const Oe=te.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),ht=Fn();if(null===te._heartbeatsCache&&(te._heartbeatsCache=yield te._heartbeatsCachePromise),te._heartbeatsCache.lastSentHeartbeatDate!==ht&&!te._heartbeatsCache.heartbeats.some(Ot=>Ot.date===ht))return te._heartbeatsCache.heartbeats.push({date:ht,agent:Oe}),te._heartbeatsCache.heartbeats=te._heartbeatsCache.heartbeats.filter(Ot=>{const qt=new Date(Ot.date).valueOf();return Date.now()-qt<=2592e6}),te._storage.overwrite(te._heartbeatsCache)})()}getHeartbeatsHeader(){var te=this;return(0,_.Z)(function*(){if(null===te._heartbeatsCache&&(yield te._heartbeatsCachePromise),null===te._heartbeatsCache||0===te._heartbeatsCache.heartbeats.length)return"";const ie=Fn(),{heartbeatsToSend:Oe,unsentEntries:ht}=function Br(X,te=1024){const ie=[];let Oe=X.slice();for(const ht of X){const Ot=ie.find(qt=>qt.agent===ht.agent);if(Ot){if(Ot.dates.push(ht.date),ge(ie)>te){Ot.dates.pop();break}}else if(ie.push({agent:ht.agent,dates:[ht.date]}),ge(ie)>te){ie.pop();break}Oe=Oe.slice(1)}return{heartbeatsToSend:ie,unsentEntries:Oe}}(te._heartbeatsCache.heartbeats),Ot=(0,ce.L)(JSON.stringify({version:2,heartbeats:Oe}));return te._heartbeatsCache.lastSentHeartbeatDate=ie,ht.length>0?(te._heartbeatsCache.heartbeats=ht,yield te._storage.overwrite(te._heartbeatsCache)):(te._heartbeatsCache.heartbeats=[],te._storage.overwrite(te._heartbeatsCache)),Ot})()}}function Fn(){return(new Date).toISOString().substring(0,10)}class Ut{constructor(te){this.app=te,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,_.Z)(function*(){return!!(0,ce.hl)()&&(0,ce.eu)().then(()=>!0).catch(()=>!1)})()}read(){var te=this;return(0,_.Z)(function*(){return(yield te._canUseIndexedDBPromise)&&(yield function Et(X){return Ht.apply(this,arguments)}(te.app))||{heartbeats:[]}})()}overwrite(te){var ie=this;return(0,_.Z)(function*(){var Oe;if(yield ie._canUseIndexedDBPromise){const Ot=yield ie.read();return vn(ie.app,{lastSentHeartbeatDate:null!==(Oe=te.lastSentHeartbeatDate)&&void 0!==Oe?Oe:Ot.lastSentHeartbeatDate,heartbeats:te.heartbeats})}})()}add(te){var ie=this;return(0,_.Z)(function*(){var Oe;if(yield ie._canUseIndexedDBPromise){const Ot=yield ie.read();return vn(ie.app,{lastSentHeartbeatDate:null!==(Oe=te.lastSentHeartbeatDate)&&void 0!==Oe?Oe:Ot.lastSentHeartbeatDate,heartbeats:[...Ot.heartbeats,...te.heartbeats]})}})()}}function ge(X){return(0,ce.L)(JSON.stringify({version:2,heartbeats:X})).length}!function ae(X){Qn(new q.wA("platform-logger",te=>new oe(te),"PRIVATE")),Qn(new q.wA("heartbeat",te=>new Ir(te),"PRIVATE")),cr(we,"0.7.32",X),cr(we,"0.7.32","esm2017"),cr("fire-js","")}("")},4859:(Yt,Xe,G)=>{G.d(Xe,{H0:()=>we,wA:()=>_e});var _=G(5861),q=G(2090);class _e{constructor(ee,ue,Fe){this.name=ee,this.instanceFactory=ue,this.type=Fe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ee){return this.instantiationMode=ee,this}setMultipleInstances(ee){return this.multipleInstances=ee,this}setServiceProps(ee){return this.serviceProps=ee,this}setInstanceCreatedCallback(ee){return this.onInstanceCreated=ee,this}}const ce="[DEFAULT]";class Ee{constructor(ee,ue){this.name=ee,this.container=ue,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ee){const ue=this.normalizeInstanceIdentifier(ee);if(!this.instancesDeferred.has(ue)){const Fe=new q.BH;if(this.instancesDeferred.set(ue,Fe),this.isInitialized(ue)||this.shouldAutoInitialize())try{const tt=this.getOrInitializeService({instanceIdentifier:ue});tt&&Fe.resolve(tt)}catch{}}return this.instancesDeferred.get(ue).promise}getImmediate(ee){var ue;const Fe=this.normalizeInstanceIdentifier(ee?.identifier),tt=null!==(ue=ee?.optional)&&void 0!==ue&&ue;if(!this.isInitialized(Fe)&&!this.shouldAutoInitialize()){if(tt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Fe})}catch(Me){if(tt)return null;throw Me}}getComponent(){return this.component}setComponent(ee){if(ee.name!==this.name)throw Error(`Mismatching Component ${ee.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ee,this.shouldAutoInitialize()){if(function Ce(qe){return"EAGER"===qe.instantiationMode}(ee))try{this.getOrInitializeService({instanceIdentifier:ce})}catch{}for(const[ue,Fe]of this.instancesDeferred.entries()){const tt=this.normalizeInstanceIdentifier(ue);try{const Me=this.getOrInitializeService({instanceIdentifier:tt});Fe.resolve(Me)}catch{}}}}clearInstance(ee=ce){this.instancesDeferred.delete(ee),this.instancesOptions.delete(ee),this.instances.delete(ee)}delete(){var ee=this;return(0,_.Z)(function*(){const ue=Array.from(ee.instances.values());yield Promise.all([...ue.filter(Fe=>"INTERNAL"in Fe).map(Fe=>Fe.INTERNAL.delete()),...ue.filter(Fe=>"_delete"in Fe).map(Fe=>Fe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ee=ce){return this.instances.has(ee)}getOptions(ee=ce){return this.instancesOptions.get(ee)||{}}initialize(ee={}){const{options:ue={}}=ee,Fe=this.normalizeInstanceIdentifier(ee.instanceIdentifier);if(this.isInitialized(Fe))throw Error(`${this.name}(${Fe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const tt=this.getOrInitializeService({instanceIdentifier:Fe,options:ue});for(const[Me,ct]of this.instancesDeferred.entries())Fe===this.normalizeInstanceIdentifier(Me)&&ct.resolve(tt);return tt}onInit(ee,ue){var Fe;const tt=this.normalizeInstanceIdentifier(ue),Me=null!==(Fe=this.onInitCallbacks.get(tt))&&void 0!==Fe?Fe:new Set;Me.add(ee),this.onInitCallbacks.set(tt,Me);const ct=this.instances.get(tt);return ct&&ee(ct,tt),()=>{Me.delete(ee)}}invokeOnInitCallbacks(ee,ue){const Fe=this.onInitCallbacks.get(ue);if(Fe)for(const tt of Fe)try{tt(ee,ue)}catch{}}getOrInitializeService({instanceIdentifier:ee,options:ue={}}){let Fe=this.instances.get(ee);if(!Fe&&this.component&&(Fe=this.component.instanceFactory(this.container,{instanceIdentifier:(qe=ee,qe===ce?void 0:qe),options:ue}),this.instances.set(ee,Fe),this.instancesOptions.set(ee,ue),this.invokeOnInitCallbacks(Fe,ee),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ee,Fe)}catch{}var qe;return Fe||null}normalizeInstanceIdentifier(ee=ce){return this.component?this.component.multipleInstances?ee:ce:ee}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class we{constructor(ee){this.name=ee,this.providers=new Map}addComponent(ee){const ue=this.getProvider(ee.name);if(ue.isComponentSet())throw new Error(`Component ${ee.name} has already been registered with ${this.name}`);ue.setComponent(ee)}addOrOverwriteComponent(ee){this.getProvider(ee.name).isComponentSet()&&this.providers.delete(ee.name),this.addComponent(ee)}getProvider(ee){if(this.providers.has(ee))return this.providers.get(ee);const ue=new Ee(ee,this);return this.providers.set(ee,ue),ue}getProviders(){return Array.from(this.providers.values())}}},1877:(Yt,Xe,G)=>{G.d(Xe,{Yd:()=>Ce,in:()=>q});const _=[];var q=(()=>{return(ee=q||(q={}))[ee.DEBUG=0]="DEBUG",ee[ee.VERBOSE=1]="VERBOSE",ee[ee.INFO=2]="INFO",ee[ee.WARN=3]="WARN",ee[ee.ERROR=4]="ERROR",ee[ee.SILENT=5]="SILENT",q;var ee})();const _e={debug:q.DEBUG,verbose:q.VERBOSE,info:q.INFO,warn:q.WARN,error:q.ERROR,silent:q.SILENT},ce=q.INFO,Ee={[q.DEBUG]:"log",[q.VERBOSE]:"log",[q.INFO]:"info",[q.WARN]:"warn",[q.ERROR]:"error"},oe=(ee,ue,...Fe)=>{if(ue<ee.logLevel)return;const tt=(new Date).toISOString(),Me=Ee[ue];if(!Me)throw new Error(`Attempted to log a message with an invalid logType (value: ${ue})`);console[Me](`[${tt}]  ${ee.name}:`,...Fe)};class Ce{constructor(ue){this.name=ue,this._logLevel=ce,this._logHandler=oe,this._userLogHandler=null,_.push(this)}get logLevel(){return this._logLevel}set logLevel(ue){if(!(ue in q))throw new TypeError(`Invalid value "${ue}" assigned to \`logLevel\``);this._logLevel=ue}setLogLevel(ue){this._logLevel="string"==typeof ue?_e[ue]:ue}get logHandler(){return this._logHandler}set logHandler(ue){if("function"!=typeof ue)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ue}get userLogHandler(){return this._userLogHandler}set userLogHandler(ue){this._userLogHandler=ue}debug(...ue){this._userLogHandler&&this._userLogHandler(this,q.DEBUG,...ue),this._logHandler(this,q.DEBUG,...ue)}log(...ue){this._userLogHandler&&this._userLogHandler(this,q.VERBOSE,...ue),this._logHandler(this,q.VERBOSE,...ue)}info(...ue){this._userLogHandler&&this._userLogHandler(this,q.INFO,...ue),this._logHandler(this,q.INFO,...ue)}warn(...ue){this._userLogHandler&&this._userLogHandler(this,q.WARN,...ue),this._logHandler(this,q.WARN,...ue)}error(...ue){this._userLogHandler&&this._userLogHandler(this,q.ERROR,...ue),this._logHandler(this,q.ERROR,...ue)}}},8766:(Yt,Xe,G)=>{G.d(Xe,{Lj:()=>We,X3:()=>pt});var _=G(5861);let _e,ce;const Ce=new WeakMap,we=new WeakMap,qe=new WeakMap,ee=new WeakMap,ue=new WeakMap;let Me={get(Ie,nt,me){if(Ie instanceof IDBTransaction){if("done"===nt)return we.get(Ie);if("objectStoreNames"===nt)return Ie.objectStoreNames||qe.get(Ie);if("store"===nt)return me.objectStoreNames[1]?void 0:me.objectStore(me.objectStoreNames[0])}return St(Ie[nt])},set:(Ie,nt,me)=>(Ie[nt]=me,!0),has:(Ie,nt)=>Ie instanceof IDBTransaction&&("done"===nt||"store"===nt)||nt in Ie};function Vt(Ie){return"function"==typeof Ie?function wt(Ie){return Ie!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function oe(){return ce||(ce=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Ie)?function(...nt){return Ie.apply(xt(this),nt),St(Ce.get(this))}:function(...nt){return St(Ie.apply(xt(this),nt))}:function(nt,...me){const ve=Ie.call(xt(this),nt,...me);return qe.set(ve,nt.sort?nt.sort():[nt]),St(ve)}}(Ie):(Ie instanceof IDBTransaction&&function tt(Ie){if(we.has(Ie))return;const nt=new Promise((me,ve)=>{const K=()=>{Ie.removeEventListener("complete",de),Ie.removeEventListener("error",Le),Ie.removeEventListener("abort",Le)},de=()=>{me(),K()},Le=()=>{ve(Ie.error||new DOMException("AbortError","AbortError")),K()};Ie.addEventListener("complete",de),Ie.addEventListener("error",Le),Ie.addEventListener("abort",Le)});we.set(Ie,nt)}(Ie),((Ie,nt)=>nt.some(me=>Ie instanceof me))(Ie,function Ee(){return _e||(_e=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Ie,Me):Ie)}function St(Ie){if(Ie instanceof IDBRequest)return function Fe(Ie){const nt=new Promise((me,ve)=>{const K=()=>{Ie.removeEventListener("success",de),Ie.removeEventListener("error",Le)},de=()=>{me(St(Ie.result)),K()},Le=()=>{ve(Ie.error),K()};Ie.addEventListener("success",de),Ie.addEventListener("error",Le)});return nt.then(me=>{me instanceof IDBCursor&&Ce.set(me,Ie)}).catch(()=>{}),ue.set(nt,Ie),nt}(Ie);if(ee.has(Ie))return ee.get(Ie);const nt=Vt(Ie);return nt!==Ie&&(ee.set(Ie,nt),ue.set(nt,Ie)),nt}const xt=Ie=>ue.get(Ie);function pt(Ie,nt,{blocked:me,upgrade:ve,blocking:K,terminated:de}={}){const Le=indexedDB.open(Ie,nt),$e=St(Le);return ve&&Le.addEventListener("upgradeneeded",lt=>{ve(St(Le.result),lt.oldVersion,lt.newVersion,St(Le.transaction))}),me&&Le.addEventListener("blocked",()=>me()),$e.then(lt=>{de&&lt.addEventListener("close",()=>de()),K&&lt.addEventListener("versionchange",()=>K())}).catch(()=>{}),$e}function We(Ie,{blocked:nt}={}){const me=indexedDB.deleteDatabase(Ie);return nt&&me.addEventListener("blocked",()=>nt()),St(me).then(()=>{})}const et=["get","getKey","getAll","getAllKeys","count"],Re=["put","add","delete","clear"],yt=new Map;function je(Ie,nt){if(!(Ie instanceof IDBDatabase)||nt in Ie||"string"!=typeof nt)return;if(yt.get(nt))return yt.get(nt);const me=nt.replace(/FromIndex$/,""),ve=nt!==me,K=Re.includes(me);if(!(me in(ve?IDBIndex:IDBObjectStore).prototype)||!K&&!et.includes(me))return;const de=function(){var Le=(0,_.Z)(function*($e,...lt){const $t=this.transaction($e,K?"readwrite":"readonly");let Yn=$t.store;return ve&&(Yn=Yn.index(lt.shift())),(yield Promise.all([Yn[me](...lt),K&&$t.done]))[0]});return function(lt){return Le.apply(this,arguments)}}();return yt.set(nt,de),de}!function ct(Ie){Me=Ie(Me)}(Ie=>({...Ie,get:(nt,me,ve)=>je(nt,me)||Ie.get(nt,me,ve),has:(nt,me)=>!!je(nt,me)||Ie.has(nt,me)}))},5861:(Yt,Xe,G)=>{function _(_e,ce,Ee,oe,Ce,we,qe){try{var ee=_e[we](qe),ue=ee.value}catch(Fe){return void Ee(Fe)}ee.done?ce(ue):Promise.resolve(ue).then(oe,Ce)}function q(_e){return function(){var ce=this,Ee=arguments;return new Promise(function(oe,Ce){var we=_e.apply(ce,Ee);function qe(ue){_(we,oe,Ce,qe,ee,"next",ue)}function ee(ue){_(we,oe,Ce,qe,ee,"throw",ue)}qe(void 0)})}}G.d(Xe,{Z:()=>q})}},Yt=>{Yt(Yt.s=7853)}]);