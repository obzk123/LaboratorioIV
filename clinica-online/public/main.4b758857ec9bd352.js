"use strict";(self.webpackChunkclinica_online=self.webpackChunkclinica_online||[]).push([[179],{7128:(sn,Je,j)=>{j.d(Je,{nm:()=>Rr});var M=j(8321),De=(j(8256),j(3692),j(5867),j(5861)),ue=j(9681),Ee=j(4859),Te=j(2090),qe=j(1877);const K=new Map,ae={activated:!1,tokenObservers:[]},Pe={initialized:!1,enabled:!1};function ze(ge){return K.get(ge)||ae}function Le(ge,he){K.set(ge,he)}function vt(){return Pe}class nt{constructor(he,Ie,He,at,Ct){if(this.operation=he,this.retryPolicy=Ie,this.getWaitDuration=He,this.lowerBound=at,this.upperBound=Ct,this.pending=null,this.nextErrorWaitInterval=at,at>Ct)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(he){var Ie=this;return(0,De.Z)(function*(){Ie.stop();try{Ie.pending=new Te.BH,yield function Oe(ge){return new Promise(he=>{setTimeout(he,ge)})}(Ie.getNextRun(he)),Ie.pending.resolve(),yield Ie.pending.promise,Ie.pending=new Te.BH,yield Ie.operation(),Ie.pending.resolve(),yield Ie.pending.promise,Ie.process(!0).catch(()=>{})}catch(He){Ie.retryPolicy(He)?Ie.process(!1).catch(()=>{}):Ie.stop()}})()}getNextRun(he){if(he)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Ie=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Ie}}}const Ge=new Te.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function ot(ge){if(!ze(ge).activated)throw Ge.create("use-before-activation",{appName:ge.name})}function re(ge,he){return de.apply(this,arguments)}function de(){return(de=(0,De.Z)(function*({url:ge,body:he},Ie){var He,at;const Ct={"Content-Type":"application/json"},In=Ie.getImmediate({optional:!0});if(In){const tr=yield In.getHeartbeatsHeader();tr&&(Ct["X-Firebase-Client"]=tr)}const ur={method:"POST",body:JSON.stringify(he),headers:Ct};let jn,Er;try{jn=yield fetch(ge,ur)}catch(tr){throw Ge.create("fetch-network-error",{originalErrorMessage:null===(He=tr)||void 0===He?void 0:He.message})}if(200!==jn.status)throw Ge.create("fetch-status-error",{httpStatus:jn.status});try{Er=yield jn.json()}catch(tr){throw Ge.create("fetch-parse-error",{originalErrorMessage:null===(at=tr)||void 0===at?void 0:at.message})}const kr=Er.ttl.match(/^([\d.]+)(s)$/);if(!kr||!kr[2]||isNaN(Number(kr[1])))throw Ge.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Er.ttl}`});const _s=1e3*Number(kr[1]),Vr=Date.now();return{token:Er.token,expireTimeMillis:Vr+_s,issuedAtTimeMillis:Vr}})).apply(this,arguments)}function yt(ge,he){const{projectId:Ie,appId:He,apiKey:at}=ge.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${Ie}/apps/${He}:exchangeDebugToken?key=${at}`,body:{debug_token:he}}}const Ht="firebase-app-check-store";let On=null;function yn(){return On||(On=new Promise((ge,he)=>{var Ie;try{const He=indexedDB.open("firebase-app-check-database",1);He.onsuccess=at=>{ge(at.target.result)},He.onerror=at=>{var Ct;he(Ge.create("storage-open",{originalErrorMessage:null===(Ct=at.target.error)||void 0===Ct?void 0:Ct.message}))},He.onupgradeneeded=at=>{0===at.oldVersion&&at.target.result.createObjectStore(Ht,{keyPath:"compositeKey"})}}catch(He){he(Ge.create("storage-open",{originalErrorMessage:null===(Ie=He)||void 0===Ie?void 0:Ie.message}))}}),On)}function Kn(){return(Kn=(0,De.Z)(function*(ge,he){const He=(yield yn()).transaction(Ht,"readwrite"),Ct=He.objectStore(Ht).put({compositeKey:ge,value:he});return new Promise((In,ur)=>{Ct.onsuccess=jn=>{In()},He.onerror=jn=>{var Er;ur(Ge.create("storage-set",{originalErrorMessage:null===(Er=jn.target.error)||void 0===Er?void 0:Er.message}))}})})).apply(this,arguments)}const ni=new qe.Yd("@firebase/app-check");function Xr(ge,he){return(0,Te.hl)()?function Tn(ge,he){return function Ut(ge,he){return Kn.apply(this,arguments)}(function dr(ge){return`${ge.options.appId}-${ge.name}`}(ge),he)}(ge,he).catch(Ie=>{ni.warn(`Failed to write token to IndexedDB. Error: ${Ie}`)}):Promise.resolve()}function hi(){return vt().enabled}function _r(){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,De.Z)(function*(){const ge=vt();if(ge.enabled&&ge.token)return ge.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Zn={error:"UNKNOWN_ERROR"};function ri(ge){return Te.US.encodeString(JSON.stringify(ge),!1)}function wt(ge){return kt.apply(this,arguments)}function kt(){return(kt=(0,De.Z)(function*(ge,he=!1){const Ie=ge.app;ot(Ie);const He=ze(Ie);let Ct,at=He.token;if(at&&!Ln(at)&&(Le(Ie,Object.assign(Object.assign({},He),{token:void 0})),at=void 0),!at){const jn=yield He.cachedTokenPromise;jn&&(Ln(jn)?at=jn:yield Xr(Ie,void 0))}if(!he&&at&&Ln(at))return{token:at.token};let ur,In=!1;if(hi()){He.exchangeTokenPromise||(He.exchangeTokenPromise=re(yt(Ie,yield _r()),ge.heartbeatServiceProvider).finally(()=>{He.exchangeTokenPromise=void 0}),In=!0);const jn=yield He.exchangeTokenPromise;return yield Xr(Ie,jn),Le(Ie,Object.assign(Object.assign({},He),{token:jn})),{token:jn.token}}try{He.exchangeTokenPromise||(He.exchangeTokenPromise=He.provider.getToken().finally(()=>{He.exchangeTokenPromise=void 0}),In=!0),at=yield He.exchangeTokenPromise}catch(jn){"appCheck/throttled"===jn.code?ni.warn(jn.message):ni.error(jn),Ct=jn}return at?Ct?ur=Ln(at)?{token:at.token,internalError:Ct}:Hr(Ct):(ur={token:at.token},Le(Ie,Object.assign(Object.assign({},He),{token:at})),yield Xr(Ie,at)):ur=Hr(Ct),In&&vr(Ie,ur),ur})).apply(this,arguments)}function dn(ge,he){const Ie=ze(ge),He=Ie.tokenObservers.filter(at=>at.next!==he);0===He.length&&Ie.tokenRefresher&&Ie.tokenRefresher.isRunning()&&Ie.tokenRefresher.stop(),Le(ge,Object.assign(Object.assign({},Ie),{tokenObservers:He}))}function hr(ge){const{app:he}=ge,Ie=ze(he);let He=Ie.tokenRefresher;He||(He=function vn(ge){const{app:he}=ge;return new nt((0,De.Z)(function*(){let He;if(He=ze(he).token?yield wt(ge,!0):yield wt(ge),He.error)throw He.error;if(He.internalError)throw He.internalError}),()=>!0,()=>{const Ie=ze(he);if(Ie.token){let He=Ie.token.issuedAtTimeMillis+.5*(Ie.token.expireTimeMillis-Ie.token.issuedAtTimeMillis)+3e5;return He=Math.min(He,Ie.token.expireTimeMillis-3e5),Math.max(0,He-Date.now())}return 0},3e4,96e4)}(ge),Le(he,Object.assign(Object.assign({},Ie),{tokenRefresher:He}))),!He.isRunning()&&Ie.isTokenAutoRefreshEnabled&&He.start()}function vr(ge,he){const Ie=ze(ge).tokenObservers;for(const He of Ie)try{"EXTERNAL"===He.type&&null!=he.error?He.error(he.error):He.next(he)}catch{}}function Ln(ge){return ge.expireTimeMillis-Date.now()>0}function Hr(ge){return{token:ri(Zn),error:ge}}class $n{constructor(he,Ie){this.app=he,this.heartbeatServiceProvider=Ie}_delete(){const{tokenObservers:he}=ze(this.app);for(const Ie of he)dn(this.app,Ie.next);return Promise.resolve()}}const kn="app-check-internal";!function ht(){(0,ue.Xd)(new Ee.wA("app-check",ge=>function Wr(ge,he){return new $n(ge,he)}(ge.getProvider("app").getImmediate(),ge.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((ge,he,Ie)=>{ge.getProvider(kn).initialize()})),(0,ue.Xd)(new Ee.wA(kn,ge=>function Nt(ge){return{getToken:he=>wt(ge,he),addTokenListener:he=>function Xt(ge,he,Ie,He){const{app:at}=ge,Ct=ze(at),In={next:Ie,error:He,type:he};if(Le(at,Object.assign(Object.assign({},Ct),{tokenObservers:[...Ct.tokenObservers,In]})),Ct.token&&Ln(Ct.token)){const ur=Ct.token;Promise.resolve().then(()=>{Ie({token:ur.token}),hr(ge)}).catch(()=>{})}Ct.cachedTokenPromise.then(()=>hr(ge))}(ge,"INTERNAL",he),removeTokenListener:he=>dn(ge.app,he)}}(ge.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ue.KN)("@firebase/app-check","0.5.15")}();class Rr{constructor(){return(0,M.vb)("app-check")}}typeof window<"u"&&window},3692:(sn,Je,j)=>{j.d(Je,{Ot:()=>ve,ZF:()=>Wt,hX:()=>ze,z6:()=>De});var M=j(5867),z=j(8256),te=j(8321);class ve{constructor(nt){return nt}}class De{constructor(){return(0,M.C6)()}}const Te=new z.OlP("angularfire2._apps"),qe={provide:ve,useFactory:function Ee(Qe){return Qe&&1===Qe.length?Qe[0]:new ve((0,M.Mq)())},deps:[[new z.FiY,Te]]},K={provide:De,deps:[[new z.FiY,Te]]};function ae(Qe){return(nt,Oe)=>{const Et=nt.runOutsideAngular(()=>Qe(Oe));return new ve(Et)}}let Pe=(()=>{class Qe{constructor(Oe){(0,M.KN)("angularfire",te.q4.full,"core"),(0,M.KN)("angularfire",te.q4.full,"app"),(0,M.KN)("angular",z.q4F.full,Oe.toString())}}return Qe.\u0275fac=function(Oe){return new(Oe||Qe)(z.LFG(z.Lbi))},Qe.\u0275mod=z.oAB({type:Qe}),Qe.\u0275inj=z.cJS({providers:[qe,K]}),Qe})();function ze(Qe,...nt){return{ngModule:Pe,providers:[{provide:Te,useFactory:ae(Qe),multi:!0,deps:[z.R0b,z.zs3,te.HU,...nt]}]}}const Wt=(0,te.u3)(M.ZF,!0)},9201:(sn,Je,j)=>{j.d(Je,{gx:()=>ka,dh:()=>Oc,Xb:()=>Wn,v0:()=>ku,AR:()=>Bs,w$:()=>xl,LS:()=>Nu,e5:()=>sc,w7:()=>Sd,gQ:()=>Ml});var M=j(8321),z=j(8256),te=j(3692),ve=j(5867),De=j(7128),ue=j(5861),Ee=j(2090),Te=j(9681),qe=j(1877),K=j(655),ae=j(4859);const _t=function xt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Qe=new Ee.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Oe=new qe.Yd("@firebase/auth");function Et(v,...h){Oe.logLevel<=qe.in.ERROR&&Oe.error(`Auth (${Te.Jn}): ${v}`,...h)}function Ge(v,...h){throw _e(v,...h)}function ye(v,...h){return _e(v,...h)}function ot(v,h,f){const E=Object.assign(Object.assign({},_t()),{[h]:f});return new Ee.LL("auth","Firebase",E).create(h,{appName:v.name})}function _e(v,...h){if("string"!=typeof v){const f=h[0],E=[...h.slice(1)];return E[0]&&(E[0].appName=v.name),v._errorFactory.create(f,...E)}return Qe.create(v,...h)}function re(v,h,...f){if(!v)throw _e(h,...f)}function de(v){const h="INTERNAL ASSERTION FAILED: "+v;throw Et(h),new Error(h)}function Ke(v,h){v||de(h)}const $e=new Map;function yt(v){Ke(v instanceof Function,"Expected a class definition");let h=$e.get(v);return h?(Ke(h instanceof v,"Instance stored in cache mismatched with class"),h):(h=new v,$e.set(v,h),h)}function Ht(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function On(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class Tn{constructor(h,f){this.shortDelay=h,this.longDelay=f,Ke(f>h,"Short delay should be less than long delay!"),this.isMobile=(0,Ee.uI)()||(0,Ee.b$)()}get(){return function yn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Qt(){return"http:"===On()||"https:"===On()}()||(0,Ee.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Rn(v,h){Ke(v.emulator,"Emulator should always be set here");const{url:f}=v.emulator;return h?`${f}${h.startsWith("/")?h.slice(1):h}`:f}class ft{static initialize(h,f,E){this.fetchImpl=h,f&&(this.headersImpl=f),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void de("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void de("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void de("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ut={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Kn=new Tn(3e4,6e4);function _n(v,h){return v.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:v.tenantId}):h}function sr(v,h,f,E){return dr.apply(this,arguments)}function dr(){return(dr=(0,ue.Z)(function*(v,h,f,E,V={}){return ni(v,V,(0,ue.Z)(function*(){let G={},Ce={};E&&("GET"===h?Ce=E:G={body:JSON.stringify(E)});const Xe=(0,Ee.xO)(Object.assign({key:v.config.apiKey},Ce)).slice(1),jt=yield v._getAdditionalHeaders();return jt["Content-Type"]="application/json",v.languageCode&&(jt["X-Firebase-Locale"]=v.languageCode),ft.fetch()(Lt(v,v.config.apiHost,f,Xe),Object.assign({method:h,headers:jt,referrerPolicy:"no-referrer"},G))}))})).apply(this,arguments)}function ni(v,h,f){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,ue.Z)(function*(v,h,f){v._canInitEmulator=!1;const E=Object.assign(Object.assign({},Ut),h);try{const V=new ar(v),G=yield Promise.race([f(),V.promise]);V.clearNetworkTimeout();const Ce=yield G.json();if("needConfirmation"in Ce)throw hi(v,"account-exists-with-different-credential",Ce);if(G.ok&&!("errorMessage"in Ce))return Ce;{const Xe=G.ok?Ce.errorMessage:Ce.error.message,[jt,an]=Xe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===jt)throw hi(v,"credential-already-in-use",Ce);if("EMAIL_EXISTS"===jt)throw hi(v,"email-already-in-use",Ce);if("USER_DISABLED"===jt)throw hi(v,"user-disabled",Ce);const Jn=E[jt]||jt.toLowerCase().replace(/[_\s]+/g,"-");if(an)throw ot(v,Jn,an);Ge(v,Jn)}}catch(V){if(V instanceof Ee.ZR)throw V;Ge(v,"network-request-failed")}})).apply(this,arguments)}function yr(v,h,f,E){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,ue.Z)(function*(v,h,f,E,V={}){const G=yield sr(v,h,f,E,V);return"mfaPendingCredential"in G&&Ge(v,"multi-factor-auth-required",{_serverResponse:G}),G})).apply(this,arguments)}function Lt(v,h,f,E){const V=`${h}${f}?${E}`;return v.config.emulator?Rn(v.config,V):`${v.config.apiScheme}://${V}`}class ar{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((f,E)=>{this.timer=setTimeout(()=>E(ye(this.auth,"network-request-failed")),Kn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function hi(v,h,f){const E={appName:v.name};f.email&&(E.email=f.email),f.phoneNumber&&(E.phoneNumber=f.phoneNumber);const V=ye(v,h,E);return V.customData._tokenResponse=f,V}function Ir(){return(Ir=(0,ue.Z)(function*(v,h){return sr(v,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function ri(v,h){return wt.apply(this,arguments)}function wt(){return(wt=(0,ue.Z)(function*(v,h){return sr(v,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function kt(v){if(v)try{const h=new Date(Number(v));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function hr(){return(hr=(0,ue.Z)(function*(v,h=!1){const f=(0,Ee.m9)(v),E=yield f.getIdToken(h),V=vr(E);re(V&&V.exp&&V.auth_time&&V.iat,f.auth,"internal-error");const G="object"==typeof V.firebase?V.firebase:void 0,Ce=G?.sign_in_provider;return{claims:V,token:E,authTime:kt(vn(V.auth_time)),issuedAtTime:kt(vn(V.iat)),expirationTime:kt(vn(V.exp)),signInProvider:Ce||null,signInSecondFactor:G?.sign_in_second_factor||null}})).apply(this,arguments)}function vn(v){return 1e3*Number(v)}function vr(v){var h;const[f,E,V]=v.split(".");if(void 0===f||void 0===E||void 0===V)return Et("JWT malformed, contained fewer than 3 sections"),null;try{const G=(0,Ee.tV)(E);return G?JSON.parse(G):(Et("Failed to decode base64 JWT payload"),null)}catch(G){return Et("Caught error parsing JWT payload as JSON",null===(h=G)||void 0===h?void 0:h.toString()),null}}function Hr(v,h){return $n.apply(this,arguments)}function $n(){return($n=(0,ue.Z)(function*(v,h,f=!1){if(f)return h;try{return yield h}catch(E){throw E instanceof Ee.ZR&&Wr(E)&&v.auth.currentUser===v&&(yield v.auth.signOut()),E}})).apply(this,arguments)}function Wr({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}class Nt{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var f;if(h){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const V=(null!==(f=this.user.stsTokenManager.expirationTime)&&void 0!==f?f:0)-Date.now()-3e5;return Math.max(0,V)}}schedule(h=!1){var f=this;if(!this.isRunning)return;const E=this.getInterval(h);this.timerId=setTimeout((0,ue.Z)(function*(){yield f.iteration()}),E)}iteration(){var h=this;return(0,ue.Z)(function*(){var f;try{yield h.user.getIdToken(!0)}catch(E){return void("auth/network-request-failed"===(null===(f=E)||void 0===f?void 0:f.code)&&h.schedule(!0))}h.schedule()})()}}class li{constructor(h,f){this.createdAt=h,this.lastLoginAt=f,this._initializeTime()}_initializeTime(){this.lastSignInTime=kt(this.lastLoginAt),this.creationTime=kt(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function qr(v){return dt.apply(this,arguments)}function dt(){return(dt=(0,ue.Z)(function*(v){var h;const f=v.auth,E=yield v.getIdToken(),V=yield Hr(v,ri(f,{idToken:E}));re(V?.users.length,f,"internal-error");const G=V.users[0];v._notifyReloadListener(G);const Ce=null!==(h=G.providerUserInfo)&&void 0!==h&&h.length?Ot(G.providerUserInfo):[],Xe=rt(v.providerData,Ce),Jn=!!v.isAnonymous&&!(v.email&&G.passwordHash||Xe?.length),ai={uid:G.localId,displayName:G.displayName||null,photoURL:G.photoUrl||null,email:G.email||null,emailVerified:G.emailVerified||!1,phoneNumber:G.phoneNumber||null,tenantId:G.tenantId||null,providerData:Xe,metadata:new li(G.createdAt,G.lastLoginAt),isAnonymous:Jn};Object.assign(v,ai)})).apply(this,arguments)}function mt(){return(mt=(0,ue.Z)(function*(v){const h=(0,Ee.m9)(v);yield qr(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function rt(v,h){return[...v.filter(E=>!h.some(V=>V.providerId===E.providerId)),...h]}function Ot(v){return v.map(h=>{var{providerId:f}=h,E=(0,K._T)(h,["providerId"]);return{providerId:f,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}function ee(){return(ee=(0,ue.Z)(function*(v,h){const f=yield ni(v,{},(0,ue.Z)(function*(){const E=(0,Ee.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:V,apiKey:G}=v.config,Ce=Lt(v,V,"/v1/token",`key=${G}`),Xe=yield v._getAdditionalHeaders();return Xe["Content-Type"]="application/x-www-form-urlencoded",ft.fetch()(Ce,{method:"POST",headers:Xe,body:E})}));return{accessToken:f.access_token,expiresIn:f.expires_in,refreshToken:f.refresh_token}})).apply(this,arguments)}class J{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){re(h.idToken,"internal-error"),re(typeof h.idToken<"u","internal-error"),re(typeof h.refreshToken<"u","internal-error");const f="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):function Ln(v){const h=vr(v);return re(h,"internal-error"),re(typeof h.exp<"u","internal-error"),re(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,f)}getToken(h,f=!1){var E=this;return(0,ue.Z)(function*(){return re(!E.accessToken||E.refreshToken,h,"user-token-expired"),f||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(h,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,f){var E=this;return(0,ue.Z)(function*(){const{accessToken:V,refreshToken:G,expiresIn:Ce}=yield function wn(v,h){return ee.apply(this,arguments)}(h,f);E.updateTokensAndExpiration(V,G,Number(Ce))})()}updateTokensAndExpiration(h,f,E){this.refreshToken=f||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(h,f){const{refreshToken:E,accessToken:V,expirationTime:G}=f,Ce=new J;return E&&(re("string"==typeof E,"internal-error",{appName:h}),Ce.refreshToken=E),V&&(re("string"==typeof V,"internal-error",{appName:h}),Ce.accessToken=V),G&&(re("number"==typeof G,"internal-error",{appName:h}),Ce.expirationTime=G),Ce}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new J,this.toJSON())}_performRefresh(){return de("not implemented")}}function fe(v,h){re("string"==typeof v||typeof v>"u","internal-error",{appName:h})}class je{constructor(h){var{uid:f,auth:E,stsTokenManager:V}=h,G=(0,K._T)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Nt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=f,this.auth=E,this.stsTokenManager=V,this.accessToken=V.accessToken,this.displayName=G.displayName||null,this.email=G.email||null,this.emailVerified=G.emailVerified||!1,this.phoneNumber=G.phoneNumber||null,this.photoURL=G.photoURL||null,this.isAnonymous=G.isAnonymous||!1,this.tenantId=G.tenantId||null,this.providerData=G.providerData?[...G.providerData]:[],this.metadata=new li(G.createdAt||void 0,G.lastLoginAt||void 0)}getIdToken(h){var f=this;return(0,ue.Z)(function*(){const E=yield Hr(f,f.stsTokenManager.getToken(f.auth,h));return re(E,f.auth,"internal-error"),f.accessToken!==E&&(f.accessToken=E,yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)),E})()}getIdTokenResult(h){return function dn(v){return hr.apply(this,arguments)}(this,h)}reload(){return function xe(v){return mt.apply(this,arguments)}(this)}_assign(h){this!==h&&(re(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(f=>Object.assign({},f)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){return new je(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(h){re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,f=!1){var E=this;return(0,ue.Z)(function*(){let V=!1;h.idToken&&h.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(h),V=!0),f&&(yield qr(E)),yield E.auth._persistUserIfCurrent(E),V&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var h=this;return(0,ue.Z)(function*(){const f=yield h.getIdToken();return yield Hr(h,function _r(v,h){return Ir.apply(this,arguments)}(h.auth,{idToken:f})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,f){var E,V,G,Ce,Xe,jt,an,Jn;const ai=null!==(E=f.displayName)&&void 0!==E?E:void 0,Na=null!==(V=f.email)&&void 0!==V?V:void 0,Qa=null!==(G=f.phoneNumber)&&void 0!==G?G:void 0,Xa=null!==(Ce=f.photoURL)&&void 0!==Ce?Ce:void 0,Md=null!==(Xe=f.tenantId)&&void 0!==Xe?Xe:void 0,Ja=null!==(jt=f._redirectEventId)&&void 0!==jt?jt:void 0,Ou=null!==(an=f.createdAt)&&void 0!==an?an:void 0,Rd=null!==(Jn=f.lastLoginAt)&&void 0!==Jn?Jn:void 0,{uid:kd,emailVerified:Rl,isAnonymous:Pd,providerData:kl,stsTokenManager:Pl}=f;re(kd&&Pl,h,"internal-error");const Nd=J.fromJSON(this.name,Pl);re("string"==typeof kd,h,"internal-error"),fe(ai,h.name),fe(Na,h.name),re("boolean"==typeof Rl,h,"internal-error"),re("boolean"==typeof Pd,h,"internal-error"),fe(Qa,h.name),fe(Xa,h.name),fe(Md,h.name),fe(Ja,h.name),fe(Ou,h.name),fe(Rd,h.name);const oc=new je({uid:kd,auth:h,email:Na,emailVerified:Rl,displayName:ai,isAnonymous:Pd,photoURL:Xa,phoneNumber:Qa,tenantId:Md,stsTokenManager:Nd,createdAt:Ou,lastLoginAt:Rd});return kl&&Array.isArray(kl)&&(oc.providerData=kl.map(Bc=>Object.assign({},Bc))),Ja&&(oc._redirectEventId=Ja),oc}static _fromIdTokenResponse(h,f,E=!1){return(0,ue.Z)(function*(){const V=new J;V.updateFromServerResponse(f);const G=new je({uid:f.localId,auth:h,stsTokenManager:V,isAnonymous:E});return yield qr(G),G})()}}const It=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,ue.Z)(function*(){return!0})()}_set(f,E){var V=this;return(0,ue.Z)(function*(){V.storage[f]=E})()}_get(f){var E=this;return(0,ue.Z)(function*(){const V=E.storage[f];return void 0===V?null:V})()}_remove(f){var E=this;return(0,ue.Z)(function*(){delete E.storage[f]})()}_addListener(f,E){}_removeListener(f,E){}}return v.type="NONE",v})();function Kt(v,h,f){return`firebase:${v}:${h}:${f}`}class Cn{constructor(h,f,E){this.persistence=h,this.auth=f,this.userKey=E;const{config:V,name:G}=this.auth;this.fullUserKey=Kt(this.userKey,V.apiKey,G),this.fullPersistenceKey=Kt("persistence",V.apiKey,G),this.boundEventHandler=f._onStorageEvent.bind(f),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,ue.Z)(function*(){const f=yield h.persistence._get(h.fullUserKey);return f?je._fromJSON(h.auth,f):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var f=this;return(0,ue.Z)(function*(){if(f.persistence===h)return;const E=yield f.getCurrentUser();return yield f.removeCurrentUser(),f.persistence=h,E?f.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,f,E="authUser"){return(0,ue.Z)(function*(){if(!f.length)return new Cn(yt(It),h,E);const V=(yield Promise.all(f.map(function(){var an=(0,ue.Z)(function*(Jn){if(yield Jn._isAvailable())return Jn});return function(Jn){return an.apply(this,arguments)}}()))).filter(an=>an);let G=V[0]||yt(It);const Ce=Kt(E,h.config.apiKey,h.name);let Xe=null;for(const an of f)try{const Jn=yield an._get(Ce);if(Jn){const ai=je._fromJSON(h,Jn);an!==G&&(Xe=ai),G=an;break}}catch{}const jt=V.filter(an=>an._shouldAllowMigration);return G._shouldAllowMigration&&jt.length?(G=jt[0],Xe&&(yield G._set(Ce,Xe.toJSON())),yield Promise.all(f.map(function(){var an=(0,ue.Z)(function*(Jn){if(Jn!==G)try{yield Jn._remove(Ce)}catch{}});return function(Jn){return an.apply(this,arguments)}}())),new Cn(G,h,E)):new Cn(G,h,E)})()}}function Lr(v){const h=v.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(W(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(er(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(Be(h))return"Blackberry";if(Zt(h))return"Webos";if(we(h))return"Safari";if((h.includes("chrome/")||ne(h))&&!h.includes("edge/"))return"Chrome";if(be(h))return"Android";{const E=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===E?.length)return E[1]}return"Other"}function er(v=(0,Ee.z$)()){return/firefox\//i.test(v)}function we(v=(0,Ee.z$)()){const h=v.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function ne(v=(0,Ee.z$)()){return/crios\//i.test(v)}function W(v=(0,Ee.z$)()){return/iemobile/i.test(v)}function be(v=(0,Ee.z$)()){return/android/i.test(v)}function Be(v=(0,Ee.z$)()){return/blackberry/i.test(v)}function Zt(v=(0,Ee.z$)()){return/webos/i.test(v)}function en(v=(0,Ee.z$)()){return/iphone|ipad|ipod/i.test(v)||/macintosh/i.test(v)&&/mobile/i.test(v)}function Fn(v=(0,Ee.z$)()){return en(v)||be(v)||Zt(v)||Be(v)||/windows phone/i.test(v)||W(v)}function ls(v,h=[]){let f;switch(v){case"Browser":f=Lr((0,Ee.z$)());break;case"Worker":f=`${Lr((0,Ee.z$)())}-${v}`;break;default:f=v}const E=h.length?h.join(","):"FirebaseCore-web";return`${f}/JsCore/${Te.Jn}/${E}`}class Cr{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,f){const E=G=>new Promise((Ce,Xe)=>{try{Ce(h(G))}catch(jt){Xe(jt)}});E.onAbort=f,this.queue.push(E);const V=this.queue.length-1;return()=>{this.queue[V]=()=>Promise.resolve()}}runMiddleware(h){var f=this;return(0,ue.Z)(function*(){var E;if(f.auth.currentUser===h)return;const V=[];try{for(const G of f.queue)yield G(h),G.onAbort&&V.push(G.onAbort)}catch(G){V.reverse();for(const Ce of V)try{Ce()}catch{}throw f.auth._errorFactory.create("login-blocked",{originalMessage:null===(E=G)||void 0===E?void 0:E.message})}})()}}class Kr{constructor(h,f,E){this.app=h,this.heartbeatServiceProvider=f,this.config=E,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ei(this),this.idTokenSubscription=new Ei(this),this.beforeStateQueue=new Cr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Qe,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=E.sdkClientVersion}_initializeWithPersistence(h,f){var E=this;return f&&(this._popupRedirectResolver=yt(f)),this._initializationPromise=this.queue((0,ue.Z)(function*(){var V,G;if(!E._deleted&&(E.persistenceManager=yield Cn.create(E,h),!E._deleted)){if(null!==(V=E._popupRedirectResolver)&&void 0!==V&&V._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch{}yield E.initializeCurrentUser(f),E.lastNotifiedUid=(null===(G=E.currentUser)||void 0===G?void 0:G.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,ue.Z)(function*(){if(h._deleted)return;const f=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||f){if(h.currentUser&&f&&h.currentUser.uid===f.uid)return h._currentUser._assign(f),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(f,!0)}})()}initializeCurrentUser(h){var f=this;return(0,ue.Z)(function*(){var E;const V=yield f.assertedPersistence.getCurrentUser();let G=V,Ce=!1;if(h&&f.config.authDomain){yield f.getOrInitRedirectPersistenceManager();const Xe=null===(E=f.redirectUser)||void 0===E?void 0:E._redirectEventId,jt=G?._redirectEventId,an=yield f.tryRedirectSignIn(h);(!Xe||Xe===jt)&&an?.user&&(G=an.user,Ce=!0)}if(!G)return f.directlySetCurrentUser(null);if(!G._redirectEventId){if(Ce)try{yield f.beforeStateQueue.runMiddleware(G)}catch(Xe){G=V,f._popupRedirectResolver._overrideRedirectResult(f,()=>Promise.reject(Xe))}return G?f.reloadAndSetCurrentUserOrClear(G):f.directlySetCurrentUser(null)}return re(f._popupRedirectResolver,f,"argument-error"),yield f.getOrInitRedirectPersistenceManager(),f.redirectUser&&f.redirectUser._redirectEventId===G._redirectEventId?f.directlySetCurrentUser(G):f.reloadAndSetCurrentUserOrClear(G)})()}tryRedirectSignIn(h){var f=this;return(0,ue.Z)(function*(){let E=null;try{E=yield f._popupRedirectResolver._completeRedirectFn(f,h,!0)}catch{yield f._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(h){var f=this;return(0,ue.Z)(function*(){var E;try{yield qr(h)}catch(V){if("auth/network-request-failed"!==(null===(E=V)||void 0===E?void 0:E.code))return f.directlySetCurrentUser(null)}return f.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function xr(){if(typeof navigator>"u")return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var h=this;return(0,ue.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var f=this;return(0,ue.Z)(function*(){const E=h?(0,Ee.m9)(h):null;return E&&re(E.auth.config.apiKey===f.config.apiKey,f,"invalid-user-token"),f._updateCurrentUser(E&&E._clone(f))})()}_updateCurrentUser(h,f=!1){var E=this;return(0,ue.Z)(function*(){if(!E._deleted)return h&&re(E.tenantId===h.tenantId,E,"tenant-id-mismatch"),f||(yield E.beforeStateQueue.runMiddleware(h)),E.queue((0,ue.Z)(function*(){yield E.directlySetCurrentUser(h),E.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,ue.Z)(function*(){return yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0)})()}setPersistence(h){var f=this;return this.queue((0,ue.Z)(function*(){yield f.assertedPersistence.setPersistence(yt(h))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new Ee.LL("auth","Firebase",h())}onAuthStateChanged(h,f,E){return this.registerStateListener(this.authStateSubscription,h,f,E)}beforeAuthStateChanged(h,f){return this.beforeStateQueue.pushCallback(h,f)}onIdTokenChanged(h,f,E){return this.registerStateListener(this.idTokenSubscription,h,f,E)}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,f){var E=this;return(0,ue.Z)(function*(){const V=yield E.getOrInitRedirectPersistenceManager(f);return null===h?V.removeCurrentUser():V.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var f=this;return(0,ue.Z)(function*(){if(!f.redirectPersistenceManager){const E=h&&yt(h)||f._popupRedirectResolver;re(E,f,"argument-error"),f.redirectPersistenceManager=yield Cn.create(f,[yt(E._redirectPersistence)],"redirectUser"),f.redirectUser=yield f.redirectPersistenceManager.getCurrentUser()}return f.redirectPersistenceManager})()}_redirectUserForId(h){var f=this;return(0,ue.Z)(function*(){var E,V;return f._isInitialized&&(yield f.queue((0,ue.Z)(function*(){}))),(null===(E=f._currentUser)||void 0===E?void 0:E._redirectEventId)===h?f._currentUser:(null===(V=f.redirectUser)||void 0===V?void 0:V._redirectEventId)===h?f.redirectUser:null})()}_persistUserIfCurrent(h){var f=this;return(0,ue.Z)(function*(){if(h===f.currentUser)return f.queue((0,ue.Z)(function*(){return f.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,f;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(f=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==f?f:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,f,E,V){if(this._deleted)return()=>{};const G="function"==typeof f?f:f.next.bind(f),Ce=this._isInitialized?Promise.resolve():this._initializationPromise;return re(Ce,this,"internal-error"),Ce.then(()=>G(this.currentUser)),"function"==typeof f?h.addObserver(f,E,V):h.addObserver(f)}directlySetCurrentUser(h){var f=this;return(0,ue.Z)(function*(){f.currentUser&&f.currentUser!==h&&f._currentUser._stopProactiveRefresh(),h&&f.isProactiveRefreshEnabled&&h._startProactiveRefresh(),f.currentUser=h,h?yield f.assertedPersistence.setCurrentUser(h):yield f.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=ls(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,ue.Z)(function*(){var f;const E={"X-Client-Version":h.clientVersion};h.app.options.appId&&(E["X-Firebase-gmpid"]=h.app.options.appId);const V=yield null===(f=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===f?void 0:f.getHeartbeatsHeader();return V&&(E["X-Firebase-Client"]=V),E})()}}function Sn(v){return(0,Ee.m9)(v)}class Ei{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,Ee.ne)(f=>this.observer=f)}get next(){return re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function fn(v){const h=v.indexOf(":");return h<0?"":v.substr(0,h+1)}function Di(v){if(!v)return null;const h=Number(v);return isNaN(h)?null:h}class bi{constructor(h,f){this.providerId=h,this.signInMethod=f}toJSON(){return de("not implemented")}_getIdTokenResponse(h){return de("not implemented")}_linkToIdToken(h,f){return de("not implemented")}_getReauthenticationResolver(h){return de("not implemented")}}function fi(v,h){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,ue.Z)(function*(v,h){return sr(v,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function He(){return(He=(0,ue.Z)(function*(v,h){return yr(v,"POST","/v1/accounts:signInWithPassword",_n(v,h))})).apply(this,arguments)}function at(v,h){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,ue.Z)(function*(v,h){return sr(v,"POST","/v1/accounts:sendOobCode",_n(v,h))})).apply(this,arguments)}function In(v,h){return ur.apply(this,arguments)}function ur(){return(ur=(0,ue.Z)(function*(v,h){return at(v,h)})).apply(this,arguments)}function jn(v,h){return Er.apply(this,arguments)}function Er(){return(Er=(0,ue.Z)(function*(v,h){return at(v,h)})).apply(this,arguments)}function Pr(){return(Pr=(0,ue.Z)(function*(v,h){return yr(v,"POST","/v1/accounts:signInWithEmailLink",_n(v,h))})).apply(this,arguments)}function di(){return(di=(0,ue.Z)(function*(v,h){return yr(v,"POST","/v1/accounts:signInWithEmailLink",_n(v,h))})).apply(this,arguments)}class to extends bi{constructor(h,f,E,V=null){super("password",E),this._email=h,this._password=f,this._tenantId=V}static _fromEmailAndPassword(h,f){return new to(h,f,"password")}static _fromEmailAndCode(h,f,E=null){return new to(h,f,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const f="string"==typeof h?JSON.parse(h):h;if(f?.email&&f?.password){if("password"===f.signInMethod)return this._fromEmailAndPassword(f.email,f.password);if("emailLink"===f.signInMethod)return this._fromEmailAndCode(f.email,f.password,f.tenantId)}return null}_getIdTokenResponse(h){var f=this;return(0,ue.Z)(function*(){switch(f.signInMethod){case"password":return function Ie(v,h){return He.apply(this,arguments)}(h,{returnSecureToken:!0,email:f._email,password:f._password});case"emailLink":return function js(v,h){return Pr.apply(this,arguments)}(h,{email:f._email,oobCode:f._password});default:Ge(h,"internal-error")}})()}_linkToIdToken(h,f){var E=this;return(0,ue.Z)(function*(){switch(E.signInMethod){case"password":return fi(h,{idToken:f,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function vs(v,h){return di.apply(this,arguments)}(h,{idToken:f,email:E._email,oobCode:E._password});default:Ge(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function Pi(v,h){return no.apply(this,arguments)}function no(){return(no=(0,ue.Z)(function*(v,h){return yr(v,"POST","/v1/accounts:signInWithIdp",_n(v,h))})).apply(this,arguments)}class Yn{constructor(h){var f,E,V,G,Ce,Xe;const jt=(0,Ee.zd)((0,Ee.pd)(h)),an=null!==(f=jt.apiKey)&&void 0!==f?f:null,Jn=null!==(E=jt.oobCode)&&void 0!==E?E:null,ai=function ro(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(V=jt.mode)&&void 0!==V?V:null);re(an&&Jn&&ai,"argument-error"),this.apiKey=an,this.operation=ai,this.code=Jn,this.continueUrl=null!==(G=jt.continueUrl)&&void 0!==G?G:null,this.languageCode=null!==(Ce=jt.languageCode)&&void 0!==Ce?Ce:null,this.tenantId=null!==(Xe=jt.tenantId)&&void 0!==Xe?Xe:null}static parseLink(h){const f=function ws(v){const h=(0,Ee.zd)((0,Ee.pd)(v)).link,f=h?(0,Ee.zd)((0,Ee.pd)(h)).deep_link_id:null,E=(0,Ee.zd)((0,Ee.pd)(v)).deep_link_id;return(E?(0,Ee.zd)((0,Ee.pd)(E)).link:null)||E||f||h||v}(h);try{return new Yn(f)}catch{return null}}}let $i=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(f,E){return to._fromEmailAndPassword(f,E)}static credentialWithLink(f,E){const V=Yn.parseLink(E);return re(V,"argument-error"),to._fromEmailAndCode(f,V.code,V.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class xi{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class so extends xi{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}function ie(v,h){return me.apply(this,arguments)}function me(){return(me=(0,ue.Z)(function*(v,h){return yr(v,"POST","/v1/accounts:signUp",_n(v,h))})).apply(this,arguments)}class Ve{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,f,E,V=!1){return(0,ue.Z)(function*(){const G=yield je._fromIdTokenResponse(h,E,V),Ce=ut(E);return new Ve({user:G,providerId:Ce,_tokenResponse:E,operationType:f})})()}static _forOperation(h,f,E){return(0,ue.Z)(function*(){yield h._updateTokensIfNecessary(E,!0);const V=ut(E);return new Ve({user:h,providerId:V,_tokenResponse:E,operationType:f})})()}}function ut(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}class un extends Ee.ZR{constructor(h,f,E,V){var G;super(f.code,f.message),this.operationType=E,this.user=V,Object.setPrototypeOf(this,un.prototype),this.customData={appName:h.name,tenantId:null!==(G=h.tenantId)&&void 0!==G?G:void 0,_serverResponse:f.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(h,f,E,V){return new un(h,f,E,V)}}function Un(v,h,f,E){return("reauthenticate"===h?f._getReauthenticationResolver(v):f._getIdTokenResponse(v)).catch(G=>{throw"auth/multi-factor-auth-required"===G.code?un._fromErrorAndOperation(v,G,h,E):G})}function Sr(v,h){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,ue.Z)(function*(v,h,f=!1){const E=yield Hr(v,h._linkToIdToken(v.auth,yield v.getIdToken()),f);return Ve._forOperation(v,"link",E)})).apply(this,arguments)}function Ar(){return(Ar=(0,ue.Z)(function*(v,h,f=!1){var E;const{auth:V}=v,G="reauthenticate";try{const Ce=yield Hr(v,Un(V,G,h,v),f);re(Ce.idToken,V,"internal-error");const Xe=vr(Ce.idToken);re(Xe,V,"internal-error");const{sub:jt}=Xe;return re(v.uid===jt,V,"user-mismatch"),Ve._forOperation(v,G,Ce)}catch(Ce){throw"auth/user-not-found"===(null===(E=Ce)||void 0===E?void 0:E.code)&&Ge(V,"user-mismatch"),Ce}})).apply(this,arguments)}function Hn(v,h){return ds.apply(this,arguments)}function ds(){return(ds=(0,ue.Z)(function*(v,h,f=!1){const E="signIn",V=yield Un(v,E,h),G=yield Ve._fromIdTokenResponse(v,E,V);return f||(yield v._updateCurrentUser(G.user)),G})).apply(this,arguments)}function hs(){return(hs=(0,ue.Z)(function*(v,h){return Hn(Sn(v),h)})).apply(this,arguments)}function ao(v,h,f){var E;re((null===(E=f.url)||void 0===E?void 0:E.length)>0,v,"invalid-continue-uri"),re(typeof f.dynamicLinkDomain>"u"||f.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),h.continueUrl=f.url,h.dynamicLinkDomain=f.dynamicLinkDomain,h.canHandleCodeInApp=f.handleCodeInApp,f.iOS&&(re(f.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),h.iOSBundleId=f.iOS.bundleId),f.android&&(re(f.android.packageName.length>0,v,"missing-android-pkg-name"),h.androidInstallApp=f.android.installApp,h.androidMinimumVersionCode=f.android.minimumVersion,h.androidPackageName=f.android.packageName)}function yo(v,h,f){return et.apply(this,arguments)}function et(){return(et=(0,ue.Z)(function*(v,h,f){const E=(0,Ee.m9)(v),V={requestType:"PASSWORD_RESET",email:h};f&&ao(E,V,f),yield jn(E,V)})).apply(this,arguments)}function _a(v,h,f){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,ue.Z)(function*(v,h,f){const E=Sn(v),V=yield ie(E,{returnSecureToken:!0,email:h,password:f}),G=yield Ve._fromIdTokenResponse(E,"signIn",V);return yield E._updateCurrentUser(G.user),G})).apply(this,arguments)}function bu(v,h,f){return function Ti(v,h){return hs.apply(this,arguments)}((0,Ee.m9)(v),$i.credential(h,f))}function va(v,h){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,ue.Z)(function*(v,h){const f=(0,Ee.m9)(v),V={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};h&&ao(f.auth,V,h);const{email:G}=yield In(f.auth,V);G!==v.email&&(yield v.reload())})).apply(this,arguments)}function Fe(v,h){return function We(v,h,f){return Mt.apply(this,arguments)}((0,Ee.m9)(v),null,h)}function Mt(){return(Mt=(0,ue.Z)(function*(v,h,f){const{auth:E}=v,G={idToken:yield v.getIdToken(),returnSecureToken:!0};h&&(G.email=h),f&&(G.password=f);const Ce=yield Hr(v,fi(E,G));yield v._updateTokensIfNecessary(Ce,!0)})).apply(this,arguments)}function ct(v){return(0,Ee.m9)(v).signOut()}const Ba="__sak";class is{constructor(h,f){this.storageRetriever=h,this.type=f}_isAvailable(){try{return this.storage?(this.storage.setItem(Ba,"1"),this.storage.removeItem(Ba),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,f){return this.storage.setItem(h,JSON.stringify(f)),Promise.resolve()}_get(h){const f=this.storage.getItem(h);return Promise.resolve(f?JSON.parse(f):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const ja=(()=>{class v extends is{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(f,E)=>this.onStorageEvent(f,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Qu(){const v=(0,Ee.z$)();return we(v)||en(v)}()&&function Rr(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Fn(),this._shouldAllowMigration=!0}forAllChangedKeys(f){for(const E of Object.keys(this.listeners)){const V=this.storage.getItem(E),G=this.localCache[E];V!==G&&f(E,G,V)}}onStorageEvent(f,E=!1){if(!f.key)return void this.forAllChangedKeys((Xe,jt,an)=>{this.notifyListeners(Xe,an)});const V=f.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Xe=this.storage.getItem(V);if(f.newValue!==Xe)null!==f.newValue?this.storage.setItem(V,f.newValue):this.storage.removeItem(V);else if(this.localCache[V]===f.newValue&&!E)return}const G=()=>{const Xe=this.storage.getItem(V);!E&&this.localCache[V]===Xe||this.notifyListeners(V,Xe)},Ce=this.storage.getItem(V);!function rn(){return(0,Ee.w1)()&&10===document.documentMode}()||Ce===f.newValue||f.newValue===f.oldValue?G():setTimeout(G,10)}notifyListeners(f,E){this.localCache[f]=E;const V=this.listeners[f];if(V)for(const G of Array.from(V))G(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((f,E,V)=>{this.onStorageEvent(new StorageEvent("storage",{key:f,oldValue:E,newValue:V}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(f,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[f]||(this.listeners[f]=new Set,this.localCache[f]=this.storage.getItem(f)),this.listeners[f].add(E)}_removeListener(f,E){this.listeners[f]&&(this.listeners[f].delete(E),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(f,E){var V=()=>super._set,G=this;return(0,ue.Z)(function*(){yield V().call(G,f,E),G.localCache[f]=JSON.stringify(E)})()}_get(f){var E=()=>super._get,V=this;return(0,ue.Z)(function*(){const G=yield E().call(V,f);return V.localCache[f]=JSON.stringify(G),G})()}_remove(f){var E=()=>super._remove,V=this;return(0,ue.Z)(function*(){yield E().call(V,f),delete V.localCache[f]})()}}return v.type="LOCAL",v})(),Ea=(()=>{class v extends is{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(f,E){}_removeListener(f,E){}}return v.type="SESSION",v})();let En=(()=>{class v{constructor(f){this.eventTarget=f,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(f){const E=this.receivers.find(G=>G.isListeningto(f));if(E)return E;const V=new v(f);return this.receivers.push(V),V}isListeningto(f){return this.eventTarget===f}handleEvent(f){var E=this;return(0,ue.Z)(function*(){const V=f,{eventId:G,eventType:Ce,data:Xe}=V.data,jt=E.handlersMap[Ce];if(!jt?.size)return;V.ports[0].postMessage({status:"ack",eventId:G,eventType:Ce});const an=Array.from(jt).map(function(){var ai=(0,ue.Z)(function*(Na){return Na(V.origin,Xe)});return function(Na){return ai.apply(this,arguments)}}()),Jn=yield function Vo(v){return Promise.all(v.map(function(){var h=(0,ue.Z)(function*(f){try{return{fulfilled:!0,value:yield f}}catch(E){return{fulfilled:!1,reason:E}}});return function(f){return h.apply(this,arguments)}}()))}(an);V.ports[0].postMessage({status:"done",eventId:G,eventType:Ce,response:Jn})})()}_subscribe(f,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[f]||(this.handlersMap[f]=new Set),this.handlersMap[f].add(E)}_unsubscribe(f,E){this.handlersMap[f]&&E&&this.handlersMap[f].delete(E),(!E||0===this.handlersMap[f].size)&&delete this.handlersMap[f],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function ss(v="",h=10){let f="";for(let E=0;E<h;E++)f+=Math.floor(10*Math.random());return v+f}class Bo{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,f,E=50){var V=this;return(0,ue.Z)(function*(){const G=typeof MessageChannel<"u"?new MessageChannel:null;if(!G)throw new Error("connection_unavailable");let Ce,Xe;return new Promise((jt,an)=>{const Jn=ss("",20);G.port1.start();const ai=setTimeout(()=>{an(new Error("unsupported_event"))},E);Xe={messageChannel:G,onMessage(Na){const Qa=Na;if(Qa.data.eventId===Jn)switch(Qa.data.status){case"ack":clearTimeout(ai),Ce=setTimeout(()=>{an(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ce),jt(Qa.data.response);break;default:clearTimeout(ai),clearTimeout(Ce),an(new Error("invalid_response"))}}},V.handlers.add(Xe),G.port1.addEventListener("message",Xe.onMessage),V.target.postMessage({eventType:h,eventId:Jn,data:f},[G.port2])}).finally(()=>{Xe&&V.removeMessageHandler(Xe)})})()}}function bn(){return window}function uo(){return typeof bn().WorkerGlobalScope<"u"&&"function"==typeof bn().importScripts}function uu(){return(uu=(0,ue.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Ps="firebaseLocalStorageDb",Hi="firebaseLocalStorage",$o="fbase_key";class Gi{constructor(h){this.request=h}toPromise(){return new Promise((h,f)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{f(this.request.error)})})}}function Ha(v,h){return v.transaction([Hi],h?"readwrite":"readonly").objectStore(Hi)}function qs(){const v=indexedDB.open(Ps,1);return new Promise((h,f)=>{v.addEventListener("error",()=>{f(v.error)}),v.addEventListener("upgradeneeded",()=>{const E=v.result;try{E.createObjectStore(Hi,{keyPath:$o})}catch(V){f(V)}}),v.addEventListener("success",(0,ue.Z)(function*(){const E=v.result;E.objectStoreNames.contains(Hi)?h(E):(E.close(),yield function wo(){const v=indexedDB.deleteDatabase(Ps);return new Gi(v).toPromise()}(),h(yield qs()))}))})}function Da(v,h,f){return ki.apply(this,arguments)}function ki(){return(ki=(0,ue.Z)(function*(v,h,f){const E=Ha(v,!0).put({[$o]:h,value:f});return new Gi(E).toPromise()})).apply(this,arguments)}function co(){return(co=(0,ue.Z)(function*(v,h){const f=Ha(v,!1).get(h),E=yield new Gi(f).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function sa(v,h){const f=Ha(v,!0).delete(h);return new Gi(f).toPromise()}const Os=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var f=this;return(0,ue.Z)(function*(){return f.db||(f.db=yield qs()),f.db})()}_withRetries(f){var E=this;return(0,ue.Z)(function*(){let V=0;for(;;)try{const G=yield E._openDb();return yield f(G)}catch(G){if(V++>3)throw G;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var f=this;return(0,ue.Z)(function*(){return uo()?f.initializeReceiver():f.initializeSender()})()}initializeReceiver(){var f=this;return(0,ue.Z)(function*(){f.receiver=En._getInstance(function Tt(){return uo()?self:null}()),f.receiver._subscribe("keyChanged",function(){var E=(0,ue.Z)(function*(V,G){return{keyProcessed:(yield f._poll()).includes(G.key)}});return function(V,G){return E.apply(this,arguments)}}()),f.receiver._subscribe("ping",function(){var E=(0,ue.Z)(function*(V,G){return["keyChanged"]});return function(V,G){return E.apply(this,arguments)}}())})()}initializeSender(){var f=this;return(0,ue.Z)(function*(){var E,V;if(f.activeServiceWorker=yield function Xn(){return uu.apply(this,arguments)}(),!f.activeServiceWorker)return;f.sender=new Bo(f.activeServiceWorker);const G=yield f.sender._send("ping",{},800);!G||(null===(E=G[0])||void 0===E?void 0:E.fulfilled)&&(null===(V=G[0])||void 0===V?void 0:V.value.includes("keyChanged"))&&(f.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(f){var E=this;return(0,ue.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function pr(){var v;return(null===(v=navigator?.serviceWorker)||void 0===v?void 0:v.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:f},E.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,ue.Z)(function*(){try{if(!indexedDB)return!1;const f=yield qs();return yield Da(f,Ba,"1"),yield sa(f,Ba),!0}catch{}return!1})()}_withPendingWrite(f){var E=this;return(0,ue.Z)(function*(){E.pendingWrites++;try{yield f()}finally{E.pendingWrites--}})()}_set(f,E){var V=this;return(0,ue.Z)(function*(){return V._withPendingWrite((0,ue.Z)(function*(){return yield V._withRetries(G=>Da(G,f,E)),V.localCache[f]=E,V.notifyServiceWorker(f)}))})()}_get(f){var E=this;return(0,ue.Z)(function*(){const V=yield E._withRetries(G=>function cu(v,h){return co.apply(this,arguments)}(G,f));return E.localCache[f]=V,V})()}_remove(f){var E=this;return(0,ue.Z)(function*(){return E._withPendingWrite((0,ue.Z)(function*(){return yield E._withRetries(V=>sa(V,f)),delete E.localCache[f],E.notifyServiceWorker(f)}))})()}_poll(){var f=this;return(0,ue.Z)(function*(){const E=yield f._withRetries(Ce=>{const Xe=Ha(Ce,!1).getAll();return new Gi(Xe).toPromise()});if(!E)return[];if(0!==f.pendingWrites)return[];const V=[],G=new Set;for(const{fbase_key:Ce,value:Xe}of E)G.add(Ce),JSON.stringify(f.localCache[Ce])!==JSON.stringify(Xe)&&(f.notifyListeners(Ce,Xe),V.push(Ce));for(const Ce of Object.keys(f.localCache))f.localCache[Ce]&&!G.has(Ce)&&(f.notifyListeners(Ce,null),V.push(Ce));return V})()}notifyListeners(f,E){this.localCache[f]=E;const V=this.listeners[f];if(V)for(const G of Array.from(V))G(E)}startPolling(){var f=this;this.stopPolling(),this.pollTimer=setInterval((0,ue.Z)(function*(){return f._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(f,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[f]||(this.listeners[f]=new Set,this._get(f)),this.listeners[f].add(E)}_removeListener(f,E){this.listeners[f]&&(this.listeners[f].delete(E),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();function oa(v){return`__${v}${Math.floor(1e6*Math.random())}`}function Wi(v,h){return h?yt(h):(re(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}oa("rcb"),new Tn(3e4,6e4);class ua extends bi{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return Pi(h,this._buildIdpRequest())}_linkToIdToken(h,f){return Pi(h,this._buildIdpRequest(f))}_getReauthenticationResolver(h){return Pi(h,this._buildIdpRequest())}_buildIdpRequest(h){const f={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(f.idToken=h),f}}function Co(v){return Hn(v.auth,new ua(v),v.bypassAuthState)}function So(v){const{auth:h,user:f}=v;return re(f,h,"internal-error"),function cr(v,h){return Ar.apply(this,arguments)}(f,new ua(v),v.bypassAuthState)}function y(v){return _.apply(this,arguments)}function _(){return(_=(0,ue.Z)(function*(v){const{auth:h,user:f}=v;return re(f,h,"internal-error"),Sr(f,new ua(v),v.bypassAuthState)})).apply(this,arguments)}new Tn(2e3,1e4);const lr=new Map;class Ui extends class g{constructor(h,f,E,V,G=!1){this.auth=h,this.resolver=E,this.user=V,this.bypassAuthState=G,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(f)?f:[f]}execute(){var h=this;return new Promise(function(){var f=(0,ue.Z)(function*(E,V){h.pendingPromise={resolve:E,reject:V};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(G){h.reject(G)}});return function(E,V){return f.apply(this,arguments)}}())}onAuthEvent(h){var f=this;return(0,ue.Z)(function*(){const{urlResponse:E,sessionId:V,postBody:G,tenantId:Ce,error:Xe,type:jt}=h;if(Xe)return void f.reject(Xe);const an={auth:f.auth,requestUri:E,sessionId:V,tenantId:Ce||void 0,postBody:G||void 0,user:f.user,bypassAuthState:f.bypassAuthState};try{f.resolve(yield f.getIdpTask(jt)(an))}catch(Jn){f.reject(Jn)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return Co;case"linkViaPopup":case"linkViaRedirect":return y;case"reauthViaPopup":case"reauthViaRedirect":return So;default:Ge(this.auth,"internal-error")}}resolve(h){Ke(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){Ke(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}{constructor(h,f,E=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],f,void 0,E),this.eventId=null}execute(){var h=()=>super.execute,f=this;return(0,ue.Z)(function*(){let E=lr.get(f.auth._key());if(!E){try{const G=(yield function Ds(v,h){return os.apply(this,arguments)}(f.resolver,f.auth))?yield h().call(f):null;E=()=>Promise.resolve(G)}catch(V){E=()=>Promise.reject(V)}lr.set(f.auth._key(),E)}return f.bypassAuthState||lr.set(f.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(h){var f=()=>super.onAuthEvent,E=this;return(0,ue.Z)(function*(){if("signInViaRedirect"===h.type)return f().call(E,h);if("unknown"!==h.type){if(h.eventId){const V=yield E.auth._redirectUserForId(h.eventId);if(V)return E.user=V,f().call(E,h);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,ue.Z)(function*(){})()}cleanUp(){}}function os(){return(os=(0,ue.Z)(function*(v,h){const f=Go(h),E=Ac(v);if(!(yield E._isAvailable()))return!1;const V="true"===(yield E._get(f));return yield E._remove(f),V})).apply(this,arguments)}function gr(v,h){lr.set(v._key(),h)}function Ac(v){return yt(v._redirectPersistence)}function Go(v){return Kt("pendingRedirect",v.config.apiKey,v.name)}function ke(v,h){return it.apply(this,arguments)}function it(){return(it=(0,ue.Z)(function*(v,h,f=!1){const E=Sn(v),V=Wi(E,h),Ce=yield new Ui(E,V,f).execute();return Ce&&!f&&(delete Ce.user._redirectEventId,yield E._persistUserIfCurrent(Ce.user),yield E._setRedirectUser(null,h)),Ce})).apply(this,arguments)}class xn{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let f=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(h,E)&&(f=!0,this.sendToConsumer(h,E),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function qi(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wi(v);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,f||(this.queuedRedirectEvent=h,f=!0)),f}sendToConsumer(h,f){var E;if(h.error&&!wi(h)){const V=(null===(E=h.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";f.onError(ye(this.auth,V))}else f.onAuthEvent(h)}isEventForConsumer(h,f){const E=null===f.eventId||!!h.eventId&&h.eventId===f.eventId;return f.filter.includes(h.type)&&E}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(nn(h))}saveEventToCache(h){this.cachedEventUids.add(nn(h)),this.lastProcessedEventTime=Date.now()}}function nn(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(h=>h).join("-")}function wi({type:v,error:h}){return"unknown"===v&&"auth/no-auth-event"===h?.code}function Wa(v){return ms.apply(this,arguments)}function ms(){return(ms=(0,ue.Z)(function*(v,h={}){return sr(v,"GET","/v1/projects",h)})).apply(this,arguments)}const Aa=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ho=/^https?/;function zo(){return(zo=(0,ue.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:h}=yield Wa(v);for(const f of h)try{if(la(f))return}catch{}Ge(v,"unauthorized-domain")})).apply(this,arguments)}function la(v){const h=Ht(),{protocol:f,hostname:E}=new URL(h);if(v.startsWith("chrome-extension://")){const Ce=new URL(v);return""===Ce.hostname&&""===E?"chrome-extension:"===f&&v.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===f&&Ce.hostname===E}if(!ho.test(f))return!1;if(Aa.test(v))return E===v;const V=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+V+"|"+V+")$","i").test(E)}const Wo=new Tn(3e4,6e4);function da(){const v=bn().___jsl;if(v?.H)for(const h of Object.keys(v.H))if(v.H[h].r=v.H[h].r||[],v.H[h].L=v.H[h].L||[],v.H[h].r=[...v.H[h].L],v.CP)for(let f=0;f<v.CP.length;f++)v.CP[f]=null}let hu=null;function ec(v){return hu=hu||function Ys(v){return new Promise((h,f)=>{var E,V,G;function Ce(){da(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{da(),f(ye(v,"network-request-failed"))},timeout:Wo.get()})}if(null!==(V=null===(E=bn().gapi)||void 0===E?void 0:E.iframes)&&void 0!==V&&V.Iframe)h(gapi.iframes.getContext());else{if(null===(G=bn().gapi)||void 0===G||!G.load){const Xe=oa("iframefcb");return bn()[Xe]=()=>{gapi.load?Ce():f(ye(v,"network-request-failed"))},function Us(v){return new Promise((h,f)=>{const E=document.createElement("script");E.setAttribute("src",v),E.onload=h,E.onerror=V=>{const G=ye("internal-error");G.customData=V,f(G)},E.type="text/javascript",E.charset="UTF-8",function Fs(){var v,h;return null!==(h=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==h?h:document}().appendChild(E)})}(`https://apis.google.com/js/api.js?onload=${Xe}`).catch(jt=>f(jt))}Ce()}}).catch(h=>{throw hu=null,h})}(v),hu}const md=new Tn(5e3,15e3),yd={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yl=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Cp(v){const h=v.config;re(h.authDomain,v,"auth-domain-config-required");const f=h.emulator?Rn(h,"emulator/auth/iframe"):`https://${v.config.authDomain}/__/auth/iframe`,E={apiKey:h.apiKey,appName:v.name,v:Te.Jn},V=yl.get(v.config.apiHost);V&&(E.eid=V);const G=v._getFrameworks();return G.length&&(E.fw=G.join(",")),`${f}?${(0,Ee.xO)(E).slice(1)}`}function vl(){return vl=(0,ue.Z)(function*(v){const h=yield ec(v),f=bn().gapi;return re(f,v,"internal-error"),h.open({where:document.body,url:Cp(v),messageHandlersFilter:f.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yd,dontclear:!0},E=>new Promise(function(){var V=(0,ue.Z)(function*(G,Ce){yield E.restyle({setHideOnLeave:!1});const Xe=ye(v,"network-request-failed"),jt=bn().setTimeout(()=>{Ce(Xe)},md.get());function an(){bn().clearTimeout(jt),G(E)}E.ping(an).then(an,()=>{Ce(Xe)})});return function(G,Ce){return V.apply(this,arguments)}}()))}),vl.apply(this,arguments)}const Mc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class xo{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function xa(v,h,f,E,V,G){re(v.config.authDomain,v,"auth-domain-config-required"),re(v.config.apiKey,v,"invalid-api-key");const Ce={apiKey:v.config.apiKey,appName:v.name,authType:f,redirectUrl:E,v:Te.Jn,eventId:V};if(h instanceof xi){h.setDefaultLanguage(v.languageCode),Ce.providerId=h.providerId||"",(0,Ee.xb)(h.getCustomParameters())||(Ce.customParameters=JSON.stringify(h.getCustomParameters()));for(const[jt,an]of Object.entries(G||{}))Ce[jt]=an}if(h instanceof so){const jt=h.getScopes().filter(an=>""!==an);jt.length>0&&(Ce.scopes=jt.join(","))}v.tenantId&&(Ce.tid=v.tenantId);const Xe=Ce;for(const jt of Object.keys(Xe))void 0===Xe[jt]&&delete Xe[jt];return`${function wl({config:v}){return v.emulator?Rn(v,"emulator/auth/handler"):`https://${v.authDomain}/__/auth/handler`}(v)}?${(0,Ee.xO)(Xe).slice(1)}`}const nc="webStorageSupport",wd=class Mu{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ea,this._completeRedirectFn=ke,this._overrideRedirectResult=gr}_openPopup(h,f,E,V){var G=this;return(0,ue.Z)(function*(){var Ce;Ke(null===(Ce=G.eventManagers[h._key()])||void 0===Ce?void 0:Ce.manager,"_initialize() not called before _openPopup()");const Xe=xa(h,f,E,Ht(),V);return function fu(v,h,f,E=500,V=600){const G=Math.max((window.screen.availHeight-V)/2,0).toString(),Ce=Math.max((window.screen.availWidth-E)/2,0).toString();let Xe="";const jt=Object.assign(Object.assign({},Mc),{width:E.toString(),height:V.toString(),top:G,left:Ce}),an=(0,Ee.z$)().toLowerCase();f&&(Xe=ne(an)?"_blank":f),er(an)&&(h=h||"http://localhost",jt.scrollbars="yes");const Jn=Object.entries(jt).reduce((Na,[Qa,Xa])=>`${Na}${Qa}=${Xa},`,"");if(function ht(v=(0,Ee.z$)()){var h;return en(v)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(an)&&"_self"!==Xe)return function vd(v,h){const f=document.createElement("a");f.href=v,f.target=h;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),f.dispatchEvent(E)}(h||"",Xe),new xo(null);const ai=window.open(h||"",Xe,Jn);re(ai,v,"popup-blocked");try{ai.focus()}catch{}return new xo(ai)}(h,Xe,ss())})()}_openRedirect(h,f,E,V){var G=this;return(0,ue.Z)(function*(){return yield G._originValidation(h),function hn(v){bn().location.href=v}(xa(h,f,E,Ht(),V)),new Promise(()=>{})})()}_initialize(h){const f=h._key();if(this.eventManagers[f]){const{manager:V,promise:G}=this.eventManagers[f];return V?Promise.resolve(V):(Ke(G,"If manager is not set, promise should be"),G)}const E=this.initAndGetManager(h);return this.eventManagers[f]={promise:E},E.catch(()=>{delete this.eventManagers[f]}),E}initAndGetManager(h){var f=this;return(0,ue.Z)(function*(){const E=yield function _l(v){return vl.apply(this,arguments)}(h),V=new xn(h);return E.register("authEvent",G=>(re(G?.authEvent,h,"invalid-auth-event"),{status:V.onEvent(G.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),f.eventManagers[h._key()]={manager:V},f.iframes[h._key()]=E,V})()}_isIframeWebStorageSupported(h,f){this.iframes[h._key()].send(nc,{type:nc},V=>{var G;const Ce=null===(G=V?.[0])||void 0===G?void 0:G[nc];void 0!==Ce&&f(!!Ce),Ge(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const f=h._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function ca(v){return zo.apply(this,arguments)}(h)),this.originValidationPromises[f]}get _shouldInitProactively(){return Fn()||we()||en()}};var rc="@firebase/auth",El="0.20.10";class qa{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var f=this;return(0,ue.Z)(function*(){return f.assertAuthConfigured(),yield f.auth._initializationPromise,f.auth.currentUser?{accessToken:yield f.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const f=this.auth.onIdTokenChanged(E=>{var V;h((null===(V=E)||void 0===V?void 0:V.stsTokenManager.accessToken)||null)});this.internalListeners.set(h,f),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const f=this.internalListeners.get(h);!f||(this.internalListeners.delete(h),f(),this.updateProactiveRefresh())}assertAuthConfigured(){re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const ic=(0,Ee.Pz)("authIdTokenMaxAge")||300;let Ra=null;const Kh=v=>function(){var h=(0,ue.Z)(function*(f){const E=f&&(yield f.getIdTokenResult()),V=E&&((new Date).getTime()-Date.parse(E.issuedAtTime))/1e3;if(V&&V>ic)return;const G=E?.token;Ra!==G&&(Ra=G,yield fetch(v,{method:G?"POST":"DELETE",headers:G?{Authorization:`Bearer ${G}`}:{}}))});return function(f){return h.apply(this,arguments)}}();function Zh(v=(0,Te.Mq)()){const h=(0,Te.qX)(v,"auth");if(h.isInitialized())return h.getImmediate();const f=function Jt(v,h){const f=(0,Te.qX)(v,"auth");if(f.isInitialized()){const V=f.getImmediate(),G=f.getOptions();if((0,Ee.vZ)(G,h??{}))return V;Ge(V,"already-initialized")}return f.initialize({options:h})}(v,{popupRedirectResolver:wd,persistence:[Os,ja,Ea]}),E=(0,Ee.Pz)("authTokenSyncURL");if(E){const G=Kh(E);(function mi(v,h,f){(0,Ee.m9)(v).beforeAuthStateChanged(h,f)})(f,G,()=>G(f.currentUser)),function wr(v,h,f,E){(0,Ee.m9)(v).onIdTokenChanged(h,f,E)}(f,Ce=>G(Ce))}const V=(0,Ee.q4)("auth");return V&&function or(v,h,f){const E=Sn(v);re(E._canInitEmulator,E,"emulator-config-failed"),re(/^https?:\/\//.test(h),E,"invalid-emulator-scheme");const V=!!f?.disableWarnings,G=fn(h),{host:Ce,port:Xe}=function Ur(v){const h=fn(v),f=/(\/\/)?([^?#/]+)/.exec(v.substr(h.length));if(!f)return{host:"",port:null};const E=f[2].split("@").pop()||"",V=/^(\[[^\]]+\])(:|$)/.exec(E);if(V){const G=V[1];return{host:G,port:Di(E.substr(G.length+1))}}{const[G,Ce]=E.split(":");return{host:G,port:Di(Ce)}}}(h);E.config.emulator={url:`${G}//${Ce}${null===Xe?"":`:${Xe}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:Ce,port:Xe,protocol:G.replace(":",""),options:Object.freeze({disableWarnings:V})}),V||function Yi(){function v(){const h=document.createElement("p"),f=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",f.position="fixed",f.width="100%",f.backgroundColor="#ffffff",f.border=".1em solid #000000",f.color="#b50000",f.bottom="0px",f.left="0px",f.margin="0px",f.zIndex="10000",f.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}(f,`http://${V}`),f}!function Wh(v){(0,Te.Xd)(new ae.wA("auth",(h,{options:f})=>{const E=h.getProvider("app").getImmediate(),V=h.getProvider("heartbeat"),{apiKey:G,authDomain:Ce}=E.options;return((Xe,jt)=>{re(G&&!G.includes(":"),"invalid-api-key",{appName:Xe.name}),re(!Ce?.includes(":"),"argument-error",{appName:Xe.name});const an={apiKey:G,authDomain:Ce,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ls(v)},Jn=new Kr(Xe,jt,an);return function ir(v,h){const f=h?.persistence||[],E=(Array.isArray(f)?f:[f]).map(yt);h?.errorMap&&v._updateErrorMap(h.errorMap),v._initializeWithPersistence(E,h?.popupRedirectResolver)}(Jn,f),Jn})(E,V)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,f,E)=>{h.getProvider("auth-internal").initialize()})),(0,Te.Xd)(new ae.wA("auth-internal",h=>{const f=Sn(h.getProvider("auth").getImmediate());return new qa(f)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Te.KN)(rc,El,function Ma(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,Te.KN)(rc,El,"esm2017")}("Browser");class ka{constructor(h){return h}}class Oc{constructor(){return(0,M.vb)("auth")}}const Ai=new z.OlP("angularfire2.auth-instances");function ha(v){return(h,f)=>{const E=h.runOutsideAngular(()=>v(f));return new ka(E)}}const Ru={provide:Oc,deps:[[new z.FiY,Ai]]},Pa={provide:ka,useFactory:function mr(v,h){const f=(0,M.JM)("auth",v,h);return f&&new ka(f)},deps:[[new z.FiY,Ai],te.Ot]};let Id=(()=>{class v{constructor(){(0,ve.KN)("angularfire",M.q4.full,"auth")}}return v.\u0275fac=function(f){return new(f||v)},v.\u0275mod=z.oAB({type:v}),v.\u0275inj=z.cJS({providers:[Pa,Ru]}),v})();function Bs(v,...h){return{ngModule:Id,providers:[{provide:Ai,useFactory:ha(v),multi:!0,deps:[z.R0b,z.zs3,M.HU,te.z6,[new z.FiY,De.nm],...h]}]}}const Wn=(0,M.u3)(_a,!0),ku=(0,M.u3)(Zh,!0),xl=(0,M.u3)(va,!0),Nu=(0,M.u3)(yo,!0),sc=(0,M.u3)(bu,!0),Sd=(0,M.u3)(ct,!0),Ml=(0,M.u3)(Fe,!0)},7554:(sn,Je,j)=>{j.d(Je,{Cm:()=>xt,ad:()=>Mr,gg:()=>Te});var M=j(8321),z=j(8256),te=j(9201),ve=j(3692),De=j(5867),ue=j(7128),Ee=j(3209);class Te{constructor(xe){return xe}}const qe="firestore",Pe=new z.OlP("angularfire2.firestore-instances");function Le(dt){return(xe,mt)=>{const rt=xe.runOutsideAngular(()=>dt(mt));return new Te(rt)}}const vt={provide:class K{constructor(){return(0,M.vb)(qe)}},deps:[[new z.FiY,Pe]]},bt={provide:Te,useFactory:function ze(dt,xe){const mt=(0,M.JM)(qe,dt,xe);return mt&&new Te(mt)},deps:[[new z.FiY,Pe],ve.Ot]};let Wt=(()=>{class dt{constructor(){(0,De.KN)("angularfire",M.q4.full,"fst")}}return dt.\u0275fac=function(mt){return new(mt||dt)},dt.\u0275mod=z.oAB({type:dt}),dt.\u0275inj=z.cJS({providers:[bt,vt]}),dt})();function xt(dt,...xe){return{ngModule:Wt,providers:[{provide:Pe,useFactory:Le(dt),multi:!0,deps:[z.R0b,z.zs3,M.HU,ve.z6,[new z.FiY,te.dh],[new z.FiY,ue.nm],...xe]}]}}const Mr=(0,M.u3)(Ee.ad,!0)},8321:(sn,Je,j)=>{j.d(Je,{q4:()=>g,HU:()=>Ao,vb:()=>Ds,JM:()=>Ui,u3:()=>du});var M=j(8256),z=j(5867),te=j(5861),ve=j(9681),De=j(2090),ue=j(4859),Ee=j(1877),Te=j(8766);const qe="@firebase/installations",K="0.5.15",Pe=`w:${K}`,ze="FIS_v2",$t=new De.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function _t(C){return C instanceof De.ZR&&C.code.includes("request-failed")}function Qe({projectId:C}){return`https://firebaseinstallations.googleapis.com/v1/projects/${C}/installations`}function nt(C){return{token:C.token,requestStatus:2,expiresIn:_e(C.expiresIn),creationTime:Date.now()}}function Oe(C,x){return Et.apply(this,arguments)}function Et(){return(Et=(0,te.Z)(function*(C,x){const Z=(yield x.json()).error;return $t.create("request-failed",{requestName:C,serverCode:Z.code,serverMessage:Z.message,serverStatus:Z.status})})).apply(this,arguments)}function Ge({apiKey:C}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C})}function ye(C,{refreshToken:x}){const L=Ge(C);return L.append("Authorization",function re(C){return`${ze} ${C}`}(x)),L}function ot(C){return ce.apply(this,arguments)}function ce(){return(ce=(0,te.Z)(function*(C){const x=yield C();return x.status>=500&&x.status<600?C():x})).apply(this,arguments)}function _e(C){return Number(C.replace("s","000"))}function de(C,x){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,te.Z)(function*({appConfig:C,heartbeatServiceProvider:x},{fid:L}){const Z=Qe(C),pe=Ge(C),ke=x.getImmediate({optional:!0});if(ke){const An=yield ke.getHeartbeatsHeader();An&&pe.append("x-firebase-client",An)}const Dt={method:"POST",headers:pe,body:JSON.stringify({fid:L,authVersion:ze,appId:C.appId,sdkVersion:Pe})},cn=yield ot(()=>fetch(Z,Dt));if(cn.ok){const An=yield cn.json();return{fid:An.fid||L,registrationStatus:2,refreshToken:An.refreshToken,authToken:nt(An.authToken)}}throw yield Oe("Create Installation",cn)})).apply(this,arguments)}function $e(C){return new Promise(x=>{setTimeout(x,C)})}const Jt=/^[cdef][\w-]{21}$/;function Ht(){try{const C=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(C),C[0]=112+C[0]%16;const L=function Qt(C){return function yt(C){return btoa(String.fromCharCode(...C)).replace(/\+/g,"-").replace(/\//g,"_")}(C).substr(0,22)}(C);return Jt.test(L)?L:""}catch{return""}}function On(C){return`${C.appName}!${C.appId}`}const yn=new Map;function xr(C,x){const L=On(C);ft(L,x),function Ut(C,x){const L=function _n(){return!Kn&&"BroadcastChannel"in self&&(Kn=new BroadcastChannel("[Firebase] FID Change"),Kn.onmessage=C=>{ft(C.data.key,C.data.fid)}),Kn}();L&&L.postMessage({key:C,fid:x}),function sr(){0===yn.size&&Kn&&(Kn.close(),Kn=null)}()}(L,x)}function ft(C,x){const L=yn.get(C);if(L)for(const Z of L)Z(x)}let Kn=null;const Mr="firebase-installations-store";let yr=null;function Xr(){return yr||(yr=(0,Te.X3)("firebase-installations-database",1,{upgrade:(C,x)=>{0===x&&C.createObjectStore(Mr)}})),yr}function Lt(C,x){return ar.apply(this,arguments)}function ar(){return(ar=(0,te.Z)(function*(C,x){const L=On(C),pe=(yield Xr()).transaction(Mr,"readwrite"),ke=pe.objectStore(Mr),it=yield ke.get(L);return yield ke.put(x,L),yield pe.done,(!it||it.fid!==x.fid)&&xr(C,x.fid),x})).apply(this,arguments)}function hi(C){return _r.apply(this,arguments)}function _r(){return(_r=(0,te.Z)(function*(C){const x=On(C),Z=(yield Xr()).transaction(Mr,"readwrite");yield Z.objectStore(Mr).delete(x),yield Z.done})).apply(this,arguments)}function Ir(C,x){return ci.apply(this,arguments)}function ci(){return(ci=(0,te.Z)(function*(C,x){const L=On(C),pe=(yield Xr()).transaction(Mr,"readwrite"),ke=pe.objectStore(Mr),it=yield ke.get(L),Dt=x(it);return void 0===Dt?yield ke.delete(L):yield ke.put(Dt,L),yield pe.done,Dt&&(!it||it.fid!==Dt.fid)&&xr(C,Dt.fid),Dt})).apply(this,arguments)}function Zn(C){return ri.apply(this,arguments)}function ri(){return(ri=(0,te.Z)(function*(C){let x;const L=yield Ir(C.appConfig,Z=>{const pe=wt(Z),ke=kt(C,pe);return x=ke.registrationPromise,ke.installationEntry});return""===L.fid?{installationEntry:yield x}:{installationEntry:L,registrationPromise:x}})).apply(this,arguments)}function wt(C){return Ln(C||{fid:Ht(),registrationStatus:0})}function kt(C,x){if(0===x.registrationStatus){if(!navigator.onLine)return{installationEntry:x,registrationPromise:Promise.reject($t.create("app-offline"))};const L={fid:x.fid,registrationStatus:1,registrationTime:Date.now()},Z=function Xt(C,x){return dn.apply(this,arguments)}(C,L);return{installationEntry:L,registrationPromise:Z}}return 1===x.registrationStatus?{installationEntry:x,registrationPromise:hr(C)}:{installationEntry:x}}function dn(){return(dn=(0,te.Z)(function*(C,x){try{const L=yield de(C,x);return Lt(C.appConfig,L)}catch(L){throw _t(L)&&409===L.customData.serverCode?yield hi(C.appConfig):yield Lt(C.appConfig,{fid:x.fid,registrationStatus:0}),L}})).apply(this,arguments)}function hr(C){return vn.apply(this,arguments)}function vn(){return(vn=(0,te.Z)(function*(C){let x=yield vr(C.appConfig);for(;1===x.registrationStatus;)yield $e(100),x=yield vr(C.appConfig);if(0===x.registrationStatus){const{installationEntry:L,registrationPromise:Z}=yield Zn(C);return Z||L}return x})).apply(this,arguments)}function vr(C){return Ir(C,x=>{if(!x)throw $t.create("installation-not-found");return Ln(x)})}function Ln(C){return function Hr(C){return 1===C.registrationStatus&&C.registrationTime+1e4<Date.now()}(C)?{fid:C.fid,registrationStatus:0}:C}function $n(C,x){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,te.Z)(function*({appConfig:C,heartbeatServiceProvider:x},L){const Z=Nt(C,L),pe=ye(C,L),ke=x.getImmediate({optional:!0});if(ke){const An=yield ke.getHeartbeatsHeader();An&&pe.append("x-firebase-client",An)}const Dt={method:"POST",headers:pe,body:JSON.stringify({installation:{sdkVersion:Pe,appId:C.appId}})},cn=yield ot(()=>fetch(Z,Dt));if(cn.ok)return nt(yield cn.json());throw yield Oe("Generate Auth Token",cn)})).apply(this,arguments)}function Nt(C,{fid:x}){return`${Qe(C)}/${x}/authTokens:generate`}function li(C){return qr.apply(this,arguments)}function qr(){return(qr=(0,te.Z)(function*(C,x=!1){let L;const Z=yield Ir(C.appConfig,ke=>{if(!wn(ke))throw $t.create("not-registered");const it=ke.authToken;if(!x&&ee(it))return ke;if(1===it.requestStatus)return L=dt(C,x),ke;{if(!navigator.onLine)throw $t.create("app-offline");const Dt=fe(ke);return L=rt(C,Dt),Dt}});return L?yield L:Z.authToken})).apply(this,arguments)}function dt(C,x){return xe.apply(this,arguments)}function xe(){return(xe=(0,te.Z)(function*(C,x){let L=yield mt(C.appConfig);for(;1===L.authToken.requestStatus;)yield $e(100),L=yield mt(C.appConfig);const Z=L.authToken;return 0===Z.requestStatus?li(C,x):Z})).apply(this,arguments)}function mt(C){return Ir(C,x=>{if(!wn(x))throw $t.create("not-registered");return function je(C){return 1===C.requestStatus&&C.requestTime+1e4<Date.now()}(x.authToken)?Object.assign(Object.assign({},x),{authToken:{requestStatus:0}}):x})}function rt(C,x){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,te.Z)(function*(C,x){try{const L=yield $n(C,x),Z=Object.assign(Object.assign({},x),{authToken:L});return yield Lt(C.appConfig,Z),L}catch(L){if(!_t(L)||401!==L.customData.serverCode&&404!==L.customData.serverCode){const Z=Object.assign(Object.assign({},x),{authToken:{requestStatus:0}});yield Lt(C.appConfig,Z)}else yield hi(C.appConfig);throw L}})).apply(this,arguments)}function wn(C){return void 0!==C&&2===C.registrationStatus}function ee(C){return 2===C.requestStatus&&!function J(C){const x=Date.now();return x<C.creationTime||C.creationTime+C.expiresIn<x+36e5}(C)}function fe(C){const x={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},C),{authToken:x})}function It(){return(It=(0,te.Z)(function*(C){const x=C,{installationEntry:L,registrationPromise:Z}=yield Zn(x);return Z?Z.catch(console.error):li(x).catch(console.error),L.fid})).apply(this,arguments)}function Cn(){return(Cn=(0,te.Z)(function*(C,x=!1){const L=C;return yield Lr(L),(yield li(L,x)).token})).apply(this,arguments)}function Lr(C){return er.apply(this,arguments)}function er(){return(er=(0,te.Z)(function*(C){const{registrationPromise:x}=yield Zn(C);x&&(yield x)})).apply(this,arguments)}function ht(C){return $t.create("missing-app-config-values",{valueName:C})}const rn="installations",Rr=C=>{const x=C.getProvider("app").getImmediate(),L=function kn(C){if(!C||!C.options)throw ht("App Configuration");if(!C.name)throw ht("App Name");const x=["projectId","apiKey","appId"];for(const L of x)if(!C.options[L])throw ht(L);return{appName:C.name,projectId:C.options.projectId,apiKey:C.options.apiKey,appId:C.options.appId}}(x);return{app:x,appConfig:L,heartbeatServiceProvider:(0,ve.qX)(x,"heartbeat"),_delete:()=>Promise.resolve()}},ls=C=>{const x=C.getProvider("app").getImmediate(),L=(0,ve.qX)(x,rn).getImmediate();return{getId:()=>function Ae(C){return It.apply(this,arguments)}(L),getToken:pe=>function Kt(C){return Cn.apply(this,arguments)}(L,pe)}};(function Cr(){(0,ve.Xd)(new ue.wA(rn,Rr,"PUBLIC")),(0,ve.Xd)(new ue.wA("installations-internal",ls,"PRIVATE"))})(),(0,ve.KN)(qe,K),(0,ve.KN)(qe,K,"esm2017");const Kr="@firebase/remote-config",Ur=new De.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Vr{constructor(x,L,Z,pe){this.client=x,this.storage=L,this.storageCache=Z,this.logger=pe}isCachedDataFresh(x,L){if(!L)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Z=Date.now()-L,pe=Z<=x;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Z}. Cache max age millis (minimumFetchIntervalMillis setting): ${x}. Is cache hit: ${pe}.`),pe}fetch(x){var L=this;return(0,te.Z)(function*(){const[Z,pe]=yield Promise.all([L.storage.getLastSuccessfulFetchTimestampMillis(),L.storage.getLastSuccessfulFetchResponse()]);if(pe&&L.isCachedDataFresh(x.cacheMaxAgeMillis,Z))return pe;x.eTag=pe&&pe.eTag;const ke=yield L.client.fetch(x),it=[L.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ke.status&&it.push(L.storage.setLastSuccessfulFetchResponse(ke)),yield Promise.all(it),ke})()}}function tr(C=navigator){return C.languages&&C.languages[0]||C.language}class js{constructor(x,L,Z,pe,ke,it){this.firebaseInstallations=x,this.sdkVersion=L,this.namespace=Z,this.projectId=pe,this.apiKey=ke,this.appId=it}fetch(x){var L=this;return(0,te.Z)(function*(){var Z,pe,ke;const[it,Dt]=yield Promise.all([L.firebaseInstallations.getId(),L.firebaseInstallations.getToken()]),An=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${L.projectId}/namespaces/${L.namespace}:fetch?key=${L.apiKey}`,xn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":x.eTag||"*"},nn={sdk_version:L.sdkVersion,app_instance_id:it,app_instance_id_token:Dt,app_id:L.appId,language_code:tr()},wi={method:"POST",headers:xn,body:JSON.stringify(nn)},qi=fetch(An,wi),Wa=new Promise((la,Wo)=>{x.signal.addEventListener(()=>{const da=new Error("The operation was aborted.");da.name="AbortError",Wo(da)})});let ms;try{yield Promise.race([qi,Wa]),ms=yield qi}catch(la){let Wo="fetch-client-network";throw"AbortError"===(null===(Z=la)||void 0===Z?void 0:Z.name)&&(Wo="fetch-timeout"),Ur.create(Wo,{originalErrorMessage:null===(pe=la)||void 0===pe?void 0:pe.message})}let Aa=ms.status;const ho=ms.headers.get("ETag")||void 0;let ca,zo;if(200===ms.status){let la;try{la=yield ms.json()}catch(Wo){throw Ur.create("fetch-client-parse",{originalErrorMessage:null===(ke=Wo)||void 0===ke?void 0:ke.message})}ca=la.entries,zo=la.state}if("INSTANCE_STATE_UNSPECIFIED"===zo?Aa=500:"NO_CHANGE"===zo?Aa=304:("NO_TEMPLATE"===zo||"EMPTY_CONFIG"===zo)&&(ca={}),304!==Aa&&200!==Aa)throw Ur.create("fetch-status",{httpStatus:Aa});return{status:Aa,eTag:ho,config:ca}})()}}class di{constructor(x,L){this.client=x,this.storage=L}fetch(x){var L=this;return(0,te.Z)(function*(){const Z=(yield L.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return L.attemptFetch(x,Z)})()}attemptFetch(x,{throttleEndTimeMillis:L,backoffCount:Z}){var pe=this;return(0,te.Z)(function*(){yield function Pr(C,x){return new Promise((L,Z)=>{const pe=Math.max(x-Date.now(),0),ke=setTimeout(L,pe);C.addEventListener(()=>{clearTimeout(ke),Z(Ur.create("fetch-throttle",{throttleEndTimeMillis:x}))})})}(x.signal,L);try{const ke=yield pe.client.fetch(x);return yield pe.storage.deleteThrottleMetadata(),ke}catch(ke){if(!function vs(C){if(!(C instanceof De.ZR&&C.customData))return!1;const x=Number(C.customData.httpStatus);return 429===x||500===x||503===x||504===x}(ke))throw ke;const it={throttleEndTimeMillis:Date.now()+(0,De.$s)(Z),backoffCount:Z+1};return yield pe.storage.setThrottleMetadata(it),pe.attemptFetch(x,it)}})()}}class no{constructor(x,L,Z,pe,ke){this.app=x,this._client=L,this._storageCache=Z,this._storage=pe,this._logger=ke,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ss(C,x){var L;const Z=C.target.error||void 0;return Ur.create(x,{originalErrorMessage:Z&&(null===(L=Z)||void 0===L?void 0:L.message)})}const pi="app_namespace_store";class ko{constructor(x,L,Z,pe=function ga(){return new Promise((C,x)=>{var L;try{const Z=indexedDB.open("firebase_remote_config",1);Z.onerror=pe=>{x(Ss(pe,"storage-open"))},Z.onsuccess=pe=>{C(pe.target.result)},Z.onupgradeneeded=pe=>{0===pe.oldVersion&&pe.target.result.createObjectStore(pi,{keyPath:"compositeKey"})}}catch(Z){x(Ur.create("storage-open",{originalErrorMessage:null===(L=Z)||void 0===L?void 0:L.message}))}})}()){this.appId=x,this.appName=L,this.namespace=Z,this.openDbPromise=pe}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(x){return this.set("last_fetch_status",x)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(x){return this.set("last_successful_fetch_timestamp_millis",x)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(x){return this.set("last_successful_fetch_response",x)}getActiveConfig(){return this.get("active_config")}setActiveConfig(x){return this.set("active_config",x)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(x){return this.set("active_config_etag",x)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(x){return this.set("throttle_metadata",x)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(x){var L=this;return(0,te.Z)(function*(){const Z=yield L.openDbPromise;return new Promise((pe,ke)=>{var it;const cn=Z.transaction([pi],"readonly").objectStore(pi),An=L.createCompositeKey(x);try{const xn=cn.get(An);xn.onerror=nn=>{ke(Ss(nn,"storage-get"))},xn.onsuccess=nn=>{const wi=nn.target.result;pe(wi?wi.value:void 0)}}catch(xn){ke(Ur.create("storage-get",{originalErrorMessage:null===(it=xn)||void 0===it?void 0:it.message}))}})})()}set(x,L){var Z=this;return(0,te.Z)(function*(){const pe=yield Z.openDbPromise;return new Promise((ke,it)=>{var Dt;const An=pe.transaction([pi],"readwrite").objectStore(pi),xn=Z.createCompositeKey(x);try{const nn=An.put({compositeKey:xn,value:L});nn.onerror=wi=>{it(Ss(wi,"storage-set"))},nn.onsuccess=()=>{ke()}}catch(nn){it(Ur.create("storage-set",{originalErrorMessage:null===(Dt=nn)||void 0===Dt?void 0:Dt.message}))}})})()}delete(x){var L=this;return(0,te.Z)(function*(){const Z=yield L.openDbPromise;return new Promise((pe,ke)=>{var it;const cn=Z.transaction([pi],"readwrite").objectStore(pi),An=L.createCompositeKey(x);try{const xn=cn.delete(An);xn.onerror=nn=>{ke(Ss(nn,"storage-delete"))},xn.onsuccess=()=>{pe()}}catch(xn){ke(Ur.create("storage-delete",{originalErrorMessage:null===(it=xn)||void 0===it?void 0:it.message}))}})})()}createCompositeKey(x){return[this.appId,this.appName,this.namespace,x].join()}}class Xo{constructor(x){this.storage=x}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var x=this;return(0,te.Z)(function*(){const L=x.storage.getLastFetchStatus(),Z=x.storage.getLastSuccessfulFetchTimestampMillis(),pe=x.storage.getActiveConfig(),ke=yield L;ke&&(x.lastFetchStatus=ke);const it=yield Z;it&&(x.lastSuccessfulFetchTimestampMillis=it);const Dt=yield pe;Dt&&(x.activeConfig=Dt)})()}setLastFetchStatus(x){return this.lastFetchStatus=x,this.storage.setLastFetchStatus(x)}setLastSuccessfulFetchTimestampMillis(x){return this.lastSuccessfulFetchTimestampMillis=x,this.storage.setLastSuccessfulFetchTimestampMillis(x)}setActiveConfig(x){return this.activeConfig=x,this.storage.setActiveConfig(x)}}function Qi(){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,te.Z)(function*(){if(!(0,De.hl)())return!1;try{return yield(0,De.eu)()}catch{return!1}})).apply(this,arguments)}!function Jo(){(0,ve.Xd)(new ue.wA("remote-config",function C(x,{instanceIdentifier:L}){const Z=x.getProvider("app").getImmediate(),pe=x.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Ur.create("registration-window");if(!(0,De.hl)())throw Ur.create("indexed-db-unavailable");const{projectId:ke,apiKey:it,appId:Dt}=Z.options;if(!ke)throw Ur.create("registration-project-id");if(!it)throw Ur.create("registration-api-key");if(!Dt)throw Ur.create("registration-app-id");const cn=new ko(Dt,Z.name,L=L||"firebase"),An=new Xo(cn),xn=new Ee.Yd(Kr);xn.logLevel=Ee.in.ERROR;const nn=new js(pe,ve.Jn,L,ke,it,Dt),wi=new di(nn,cn),qi=new Vr(wi,cn,An,xn),Wa=new no(Z,qi,An,cn,xn);return function Ie(C){const x=(0,De.m9)(C);x._initializePromise||(x._initializePromise=x._storageCache.loadFromStorage().then(()=>{x._isInitializationComplete=!0}))}(Wa),Wa},"PUBLIC").setMultipleInstances(!0)),(0,ve.KN)(Kr,"0.3.14"),(0,ve.KN)(Kr,"0.3.14","esm2017")}();const ro="/firebase-messaging-sw.js",ws="/firebase-cloud-messaging-push-scope",Yn="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",$i="google.c.a.c_id",xi="google.c.a.c_l",so="google.c.a.ts",go="google.c.a.e";var Is=(()=>{return(C=Is||(Is={})).PUSH_RECEIVED="push-received",C.NOTIFICATION_CLICKED="notification-clicked",Is;var C})();function Ji(C){const x=new Uint8Array(C);return btoa(String.fromCharCode(...x)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function mo(C){const L=(C+"=".repeat((4-C.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Z=atob(L),pe=new Uint8Array(Z.length);for(let ke=0;ke<Z.length;++ke)pe[ke]=Z.charCodeAt(ke);return pe}const Ni="fcm_token_details_db",O="fcm_token_object_Store";function Q(C){return ie.apply(this,arguments)}function ie(){return ie=(0,te.Z)(function*(C){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ke=>ke.name).includes(Ni))return null;let x=null;return(yield(0,Te.X3)(Ni,5,{upgrade:(Z=(0,te.Z)(function*(pe,ke,it,Dt){var cn;if(ke<2||!pe.objectStoreNames.contains(O))return;const An=Dt.objectStore(O),xn=yield An.index("fcmSenderId").get(C);if(yield An.clear(),xn)if(2===ke){const nn=xn;if(!nn.auth||!nn.p256dh||!nn.endpoint)return;x={token:nn.fcmToken,createTime:null!==(cn=nn.createTime)&&void 0!==cn?cn:Date.now(),subscriptionOptions:{auth:nn.auth,p256dh:nn.p256dh,endpoint:nn.endpoint,swScope:nn.swScope,vapidKey:"string"==typeof nn.vapidKey?nn.vapidKey:Ji(nn.vapidKey)}}}else if(3===ke){const nn=xn;x={token:nn.fcmToken,createTime:nn.createTime,subscriptionOptions:{auth:Ji(nn.auth),p256dh:Ji(nn.p256dh),endpoint:nn.endpoint,swScope:nn.swScope,vapidKey:Ji(nn.vapidKey)}}}else if(4===ke){const nn=xn;x={token:nn.fcmToken,createTime:nn.createTime,subscriptionOptions:{auth:Ji(nn.auth),p256dh:Ji(nn.p256dh),endpoint:nn.endpoint,swScope:nn.swScope,vapidKey:Ji(nn.vapidKey)}}}}),function(ke,it,Dt,cn){return Z.apply(this,arguments)})})).close(),yield(0,Te.Lj)(Ni),yield(0,Te.Lj)("fcm_vapid_details_db"),yield(0,Te.Lj)("undefined"),me(x)?x:null;var Z}),ie.apply(this,arguments)}function me(C){if(!C||!C.subscriptionOptions)return!1;const{subscriptionOptions:x}=C;return"number"==typeof C.createTime&&C.createTime>0&&"string"==typeof C.token&&C.token.length>0&&"string"==typeof x.auth&&x.auth.length>0&&"string"==typeof x.p256dh&&x.p256dh.length>0&&"string"==typeof x.endpoint&&x.endpoint.length>0&&"string"==typeof x.swScope&&x.swScope.length>0&&"string"==typeof x.vapidKey&&x.vapidKey.length>0}const Ft="firebase-messaging-store";let Bt=null;function un(){return Bt||(Bt=(0,Te.X3)("firebase-messaging-database",1,{upgrade:(C,x)=>{0===x&&C.createObjectStore(Ft)}})),Bt}function Un(C){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,te.Z)(function*(C){const x=Vn(C),Z=yield(yield un()).transaction(Ft).objectStore(Ft).get(x);if(Z)return Z;{const pe=yield Q(C.appConfig.senderId);if(pe)return yield zt(C,pe),pe}})).apply(this,arguments)}function zt(C,x){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,te.Z)(function*(C,x){const L=Vn(C),pe=(yield un()).transaction(Ft,"readwrite");return yield pe.objectStore(Ft).put(x,L),yield pe.done,x})).apply(this,arguments)}function Sr(C){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,te.Z)(function*(C){const x=Vn(C),Z=(yield un()).transaction(Ft,"readwrite");yield Z.objectStore(Ft).delete(x),yield Z.done})).apply(this,arguments)}function Vn({appConfig:C}){return C.appId}const cr=new De.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Ar(C,x){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,te.Z)(function*(C,x){var L;const Z=yield Po(C),pe=Oi(x),ke={method:"POST",headers:Z,body:JSON.stringify(pe)};let it;try{it=yield(yield fetch(gi(C.appConfig),ke)).json()}catch(Dt){throw cr.create("token-subscribe-failed",{errorInfo:null===(L=Dt)||void 0===L?void 0:L.toString()})}if(it.error)throw cr.create("token-subscribe-failed",{errorInfo:it.error.message});if(!it.token)throw cr.create("token-subscribe-no-token");return it.token})).apply(this,arguments)}function ds(C,x){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,te.Z)(function*(C,x){var L;const Z=yield Po(C),pe=Oi(x.subscriptionOptions),ke={method:"PATCH",headers:Z,body:JSON.stringify(pe)};let it;try{it=yield(yield fetch(`${gi(C.appConfig)}/${x.token}`,ke)).json()}catch(Dt){throw cr.create("token-update-failed",{errorInfo:null===(L=Dt)||void 0===L?void 0:L.toString()})}if(it.error)throw cr.create("token-update-failed",{errorInfo:it.error.message});if(!it.token)throw cr.create("token-update-no-token");return it.token})).apply(this,arguments)}function hs(C,x){return ei.apply(this,arguments)}function ei(){return(ei=(0,te.Z)(function*(C,x){var L;const pe={method:"DELETE",headers:yield Po(C)};try{const it=yield(yield fetch(`${gi(C.appConfig)}/${x}`,pe)).json();if(it.error)throw cr.create("token-unsubscribe-failed",{errorInfo:it.error.message})}catch(ke){throw cr.create("token-unsubscribe-failed",{errorInfo:null===(L=ke)||void 0===L?void 0:L.toString()})}})).apply(this,arguments)}function gi({projectId:C}){return`https://fcmregistrations.googleapis.com/v1/projects/${C}/registrations`}function Po(C){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,te.Z)(function*({appConfig:C,installations:x}){const L=yield x.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C.apiKey,"x-goog-firebase-installations-auth":`FIS ${L}`})})).apply(this,arguments)}function Oi({p256dh:C,auth:x,endpoint:L,vapidKey:Z}){const pe={web:{endpoint:L,auth:x,p256dh:C}};return Z!==Yn&&(pe.web.applicationPubKey=Z),pe}const ma=6048e5;function ya(C){return No.apply(this,arguments)}function No(){return(No=(0,te.Z)(function*(C){const x=yield Es(C.swRegistration,C.vapidKey),L={vapidKey:C.vapidKey,swScope:C.swRegistration.scope,endpoint:x.endpoint,auth:Ji(x.getKey("auth")),p256dh:Ji(x.getKey("p256dh"))},Z=yield Un(C.firebaseDependencies);if(Z){if(Br(Z.subscriptionOptions,L))return Date.now()>=Z.createTime+ma?ao(C,{token:Z.token,createTime:Date.now(),subscriptionOptions:L}):Z.token;try{yield hs(C.firebaseDependencies,Z.token)}catch(pe){console.warn(pe)}return et(C.firebaseDependencies,L)}return et(C.firebaseDependencies,L)})).apply(this,arguments)}function ea(C){return zs.apply(this,arguments)}function zs(){return(zs=(0,te.Z)(function*(C){const x=yield Un(C.firebaseDependencies);x&&(yield hs(C.firebaseDependencies,x.token),yield Sr(C.firebaseDependencies));const L=yield C.swRegistration.pushManager.getSubscription();return!L||L.unsubscribe()})).apply(this,arguments)}function ao(C,x){return yo.apply(this,arguments)}function yo(){return(yo=(0,te.Z)(function*(C,x){try{const L=yield ds(C.firebaseDependencies,x),Z=Object.assign(Object.assign({},x),{token:L,createTime:Date.now()});return yield zt(C.firebaseDependencies,Z),L}catch(L){throw yield ea(C),L}})).apply(this,arguments)}function et(C,x){return pn.apply(this,arguments)}function pn(){return(pn=(0,te.Z)(function*(C,x){const Z={token:yield Ar(C,x),createTime:Date.now(),subscriptionOptions:x};return yield zt(C,Z),Z.token})).apply(this,arguments)}function Es(C,x){return ta.apply(this,arguments)}function ta(){return(ta=(0,te.Z)(function*(C,x){return(yield C.pushManager.getSubscription())||C.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:mo(x)})})).apply(this,arguments)}function Br(C,x){return x.vapidKey===C.vapidKey&&x.endpoint===C.endpoint&&x.auth===C.auth&&x.p256dh===C.p256dh}function ji(C){const x={from:C.from,collapseKey:C.collapse_key,messageId:C.fcmMessageId};return function Ci(C,x){if(!x.notification)return;C.notification={};const L=x.notification.title;L&&(C.notification.title=L);const Z=x.notification.body;Z&&(C.notification.body=Z);const pe=x.notification.image;pe&&(C.notification.image=pe)}(x,C),function es(C,x){!x.data||(C.data=x.data)}(x,C),function xs(C,x){var L,Z,pe,ke,it;if(!(x.fcmOptions||null!==(L=x.notification)&&void 0!==L&&L.click_action))return;C.fcmOptions={};const Dt=null!==(pe=null===(Z=x.fcmOptions)||void 0===Z?void 0:Z.link)&&void 0!==pe?pe:null===(ke=x.notification)||void 0===ke?void 0:ke.click_action;Dt&&(C.fcmOptions.link=Dt);const cn=null===(it=x.fcmOptions)||void 0===it?void 0:it.analytics_label;cn&&(C.fcmOptions.analyticsLabel=cn)}(x,C),x}function _a(C){return"object"==typeof C&&!!C&&$i in C}function Oo(C,x){const L=[];for(let Z=0;Z<C.length;Z++)L.push(C.charAt(Z)),Z<x.length&&L.push(x.charAt(Z));return L.join("")}function ou(C){return cr.create("missing-app-config-values",{valueName:C})}Oo("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Oo("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class _o{constructor(x,L,Z){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const pe=function bu(C){if(!C||!C.options)throw ou("App Configuration Object");if(!C.name)throw ou("App Name");const x=["projectId","apiKey","appId","messagingSenderId"],{options:L}=C;for(const Z of x)if(!L[Z])throw ou(Z);return{appName:C.name,projectId:L.projectId,apiKey:L.apiKey,appId:L.appId,senderId:L.messagingSenderId}}(x);this.firebaseDependencies={app:x,appConfig:pe,installations:L,analyticsProvider:Z}}_delete(){return Promise.resolve()}}function Ri(C){return ts.apply(this,arguments)}function ts(){return(ts=(0,te.Z)(function*(C){var x;try{C.swRegistration=yield navigator.serviceWorker.register(ro,{scope:ws}),C.swRegistration.update().catch(()=>{})}catch(L){throw cr.create("failed-service-worker-registration",{browserErrorMessage:null===(x=L)||void 0===x?void 0:x.message})}})).apply(this,arguments)}function Ms(C,x){return Li.apply(this,arguments)}function Li(){return(Li=(0,te.Z)(function*(C,x){if(!x&&!C.swRegistration&&(yield Ri(C)),x||!C.swRegistration){if(!(x instanceof ServiceWorkerRegistration))throw cr.create("invalid-sw-registration");C.swRegistration=x}})).apply(this,arguments)}function ns(C,x){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,te.Z)(function*(C,x){x?C.vapidKey=x:C.vapidKey||(C.vapidKey=Yn)})).apply(this,arguments)}function va(){return(va=(0,te.Z)(function*(C,x){if(!navigator)throw cr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw cr.create("permission-blocked");return yield ns(C,x?.vapidKey),yield Ms(C,x?.serviceWorkerRegistration),ya(C)})).apply(this,arguments)}function Ws(C,x,L){return na.apply(this,arguments)}function na(){return(na=(0,te.Z)(function*(C,x,L){const Z=Uo(x);(yield C.firebaseDependencies.analyticsProvider.get()).logEvent(Z,{message_id:L[$i],message_name:L[xi],message_time:L[so],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Uo(C){switch(C){case Is.NOTIFICATION_CLICKED:return"notification_open";case Is.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function P(){return(P=(0,te.Z)(function*(C,x){const L=x.data;if(!L.isFirebaseMessaging)return;C.onMessageHandler&&L.messageType===Is.PUSH_RECEIVED&&("function"==typeof C.onMessageHandler?C.onMessageHandler(ji(L)):C.onMessageHandler.next(ji(L)));const Z=L.data;_a(Z)&&"1"===Z[go]&&(yield Ws(C,L.messageType,Z))})).apply(this,arguments)}const S="@firebase/messaging",B="0.9.19",oe=C=>{const x=new _o(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),C.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",L=>function T(C,x){return P.apply(this,arguments)}(x,L)),x},Fe=C=>{const x=C.getProvider("messaging").getImmediate();return{getToken:Z=>function Fo(C,x){return va.apply(this,arguments)}(x,Z)}};function Mt(){return nr.apply(this,arguments)}function nr(){return(nr=(0,te.Z)(function*(){try{yield(0,De.eu)()}catch{return!1}return typeof window<"u"&&(0,De.hl)()&&(0,De.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function We(){(0,ve.Xd)(new ue.wA("messaging",oe,"PUBLIC")),(0,ve.Xd)(new ue.wA("messaging-internal",Fe,"PRIVATE")),(0,ve.KN)(S,B),(0,ve.KN)(S,B,"esm2017")}();const wr="analytics",mi="firebase_id",wa="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ct="https://www.googletagmanager.com/gtag/js",Bn=new Ee.Yd("@firebase/analytics");function ks(C){return Promise.all(C.map(x=>x.catch(L=>L)))}function ps(C,x){const L=document.createElement("script");L.src=`${ct}?l=${C}&id=${x}`,L.async=!0,document.head.appendChild(L)}function tn(C,x,L,Z,pe,ke){return ia.apply(this,arguments)}function ia(){return(ia=(0,te.Z)(function*(C,x,L,Z,pe,ke){const it=Z[pe];try{if(it)yield x[it];else{const cn=(yield ks(L)).find(An=>An.measurementId===pe);cn&&(yield x[cn.appId])}}catch(Dt){Bn.error(Dt)}C("config",pe,ke)})).apply(this,arguments)}function St(C,x,L,Z,pe){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,te.Z)(function*(C,x,L,Z,pe){try{let ke=[];if(pe&&pe.send_to){let it=pe.send_to;Array.isArray(it)||(it=[it]);const Dt=yield ks(L);for(const cn of it){const An=Dt.find(nn=>nn.measurementId===cn),xn=An&&x[An.appId];if(!xn){ke=[];break}ke.push(xn)}}0===ke.length&&(ke=Object.values(x)),yield Promise.all(ke),C("event",Z,pe||{})}catch(ke){Bn.error(ke)}})).apply(this,arguments)}function Tu(C){const x=window.document.getElementsByTagName("script");for(const L of Object.values(x))if(L.src&&L.src.includes(ct)&&L.src.includes(C))return L;return null}const is=new De.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),$a=new class au{constructor(x={},L=1e3){this.throttleMetadata=x,this.intervalMillis=L}getThrottleMetadata(x){return this.throttleMetadata[x]}setThrottleMetadata(x,L){this.throttleMetadata[x]=L}deleteThrottleMetadata(x){delete this.throttleMetadata[x]}};function ja(C){return new Headers({Accept:"application/json","x-goog-api-key":C})}function Cc(C){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,te.Z)(function*(C){var x;const{appId:L,apiKey:Z}=C,pe={method:"GET",headers:ja(Z)},ke=wa.replace("{app-id}",L),it=yield fetch(ke,pe);if(200!==it.status&&304!==it.status){let Dt="";try{const cn=yield it.json();null!==(x=cn.error)&&void 0!==x&&x.message&&(Dt=cn.error.message)}catch{}throw is.create("config-fetch-failed",{httpStatus:it.status,responseMessage:Dt})}return it.json()})).apply(this,arguments)}function Vo(C){return En.apply(this,arguments)}function En(){return(En=(0,te.Z)(function*(C,x=$a,L){const{appId:Z,apiKey:pe,measurementId:ke}=C.options;if(!Z)throw is.create("no-app-id");if(!pe){if(ke)return{measurementId:ke,appId:Z};throw is.create("no-api-key")}const it=x.getThrottleMetadata(Z)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Dt=new uo;return setTimeout((0,te.Z)(function*(){Dt.abort()}),void 0!==L?L:6e4),ss({appId:Z,apiKey:pe,measurementId:ke},it,Dt,x)})).apply(this,arguments)}function ss(C,x,L){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,te.Z)(function*(C,{throttleEndTimeMillis:x,backoffCount:L},Z,pe=$a){var ke,it;const{appId:Dt,measurementId:cn}=C;try{yield bn(Z,x)}catch(An){if(cn)return Bn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${cn} provided in the "measurementId" field in the local Firebase config. [${null===(ke=An)||void 0===ke?void 0:ke.message}]`),{appId:Dt,measurementId:cn};throw An}try{const An=yield Cc(C);return pe.deleteThrottleMetadata(Dt),An}catch(An){const xn=An;if(!hn(xn)){if(pe.deleteThrottleMetadata(Dt),cn)return Bn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${cn} provided in the "measurementId" field in the local Firebase config. [${xn?.message}]`),{appId:Dt,measurementId:cn};throw An}const nn=503===Number(null===(it=xn?.customData)||void 0===it?void 0:it.httpStatus)?(0,De.$s)(L,pe.intervalMillis,30):(0,De.$s)(L,pe.intervalMillis),wi={throttleEndTimeMillis:Date.now()+nn,backoffCount:L+1};return pe.setThrottleMetadata(Dt,wi),Bn.debug(`Calling attemptFetch again in ${nn} millis`),ss(C,wi,Z,pe)}})).apply(this,arguments)}function bn(C,x){return new Promise((L,Z)=>{const pe=Math.max(x-Date.now(),0),ke=setTimeout(L,pe);C.addEventListener(()=>{clearTimeout(ke),Z(is.create("fetch-throttle",{throttleEndTimeMillis:x}))})})}function hn(C){if(!(C instanceof De.ZR&&C.customData))return!1;const x=Number(C.customData.httpStatus);return 429===x||500===x||503===x||504===x}class uo{constructor(){this.listeners=[]}addEventListener(x){this.listeners.push(x)}abort(){this.listeners.forEach(x=>x())}}let Xn,qs;function pr(){return(pr=(0,te.Z)(function*(C,x,L,Z,pe){if(pe&&pe.global)C("event",L,Z);else{const ke=yield x;C("event",L,Object.assign(Object.assign({},Z),{send_to:ke}))}})).apply(this,arguments)}function Da(C){qs=C}function ki(C){Xn=C}function cu(){return co.apply(this,arguments)}function co(){return(co=(0,te.Z)(function*(){var C;if(!(0,De.hl)())return Bn.warn(is.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,De.eu)()}catch(x){return Bn.warn(is.create("indexeddb-unavailable",{errorInfo:null===(C=x)||void 0===C?void 0:C.toString()}).message),!1}return!0})).apply(this,arguments)}function Ns(){return(Ns=(0,te.Z)(function*(C,x,L,Z,pe,ke,it){var Dt;const cn=Vo(C);cn.then(qi=>{L[qi.measurementId]=qi.appId,C.options.measurementId&&qi.measurementId!==C.options.measurementId&&Bn.warn(`The measurement ID in the local Firebase config (${C.options.measurementId}) does not match the measurement ID fetched from the server (${qi.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(qi=>Bn.error(qi)),x.push(cn);const An=cu().then(qi=>{if(qi)return Z.getId()}),[xn,nn]=yield Promise.all([cn,An]);Tu(ke)||ps(ke,xn.measurementId),qs&&(pe("consent","default",qs),Da(void 0)),pe("js",new Date);const wi=null!==(Dt=it?.config)&&void 0!==Dt?Dt:{};return wi.origin="firebase",wi.update=!0,null!=nn&&(wi[mi]=nn),pe("config",xn.measurementId,wi),Xn&&(pe("set",Xn),ki(void 0)),xn.measurementId})).apply(this,arguments)}class ii{constructor(x){this.app=x}_delete(){return delete Me[this.app.options.appId],Promise.resolve()}}let Me={},Os=[];const zi={};let Ls,Fs,jo="dataLayer",Us=!1;function Do(C,x,L){!function Eo(){const C=[];if((0,De.ru)()&&C.push("This is a browser extension environment."),(0,De.zI)()||C.push("Cookies are not available."),C.length>0){const x=C.map((Z,pe)=>`(${pe+1}) ${Z}`).join(" "),L=is.create("invalid-analytics-context",{errorInfo:x});Bn.warn(L.message)}}();const Z=C.options.appId;if(!Z)throw is.create("no-app-id");if(!C.options.apiKey){if(!C.options.measurementId)throw is.create("no-api-key");Bn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${C.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Me[Z])throw is.create("already-exists",{id:Z});if(!Us){!function Gt(C){let x=[];Array.isArray(window[C])?x=window[C]:window[C]=x}(jo);const{wrappedGtag:ke,gtagCore:it}=function Zr(C,x,L,Z,pe){let ke=function(...it){window[Z].push(arguments)};return window[pe]&&"function"==typeof window[pe]&&(ke=window[pe]),window[pe]=function st(C,x,L,Z){function ke(){return(ke=(0,te.Z)(function*(it,Dt,cn){try{"event"===it?yield St(C,x,L,Dt,cn):"config"===it?yield tn(C,x,L,Z,Dt,cn):"consent"===it?C("consent","update",cn):C("set",Dt)}catch(An){Bn.error(An)}})).apply(this,arguments)}return function pe(it,Dt,cn){return ke.apply(this,arguments)}}(ke,C,x,L),{gtagCore:ke,wrappedGtag:window[pe]}}(Me,Os,zi,jo,"gtag");Fs=ke,Ls=it,Us=!0}return Me[Z]=function sa(C,x,L,Z,pe,ke,it){return Ns.apply(this,arguments)}(C,Os,zi,x,Ls,jo,L),new ii(C)}function aa(){return lo.apply(this,arguments)}function lo(){return(lo=(0,te.Z)(function*(){if((0,De.ru)()||!(0,De.zI)()||!(0,De.hl)())return!1;try{return yield(0,De.eu)()}catch{return!1}})).apply(this,arguments)}const gs="@firebase/analytics";!function zr(){(0,ve.Xd)(new ue.wA(wr,(x,{options:L})=>Do(x.getProvider("app").getImmediate(),x.getProvider("installations-internal").getImmediate(),L),"PUBLIC")),(0,ve.Xd)(new ue.wA("analytics-internal",function C(x){try{const L=x.getProvider(wr).getImmediate();return{logEvent:(Z,pe,ke)=>function lu(C,x,L,Z){C=(0,De.m9)(C),function uu(C,x,L,Z,pe){return pr.apply(this,arguments)}(Fs,Me[C.app.options.appId],x,L,Z).catch(pe=>Bn.error(pe))}(L,Z,pe,ke)}}catch(L){throw is.create("interop-component-reg-failed",{reason:L})}},"PRIVATE")),(0,ve.KN)(gs,"0.8.3"),(0,ve.KN)(gs,"0.8.3","esm2017")}();var Cu=j(727);class Ca extends Cu.w0{constructor(x,L){super()}schedule(x,L=0){return this}}const mn={setInterval(C,x,...L){const{delegate:Z}=mn;return Z?.setInterval?Z.setInterval(C,x,...L):setInterval(C,x,...L)},clearInterval(C){const{delegate:x}=mn;return(x?.clearInterval||clearInterval)(C)},delegate:void 0};var Ho=j(8737);class Vs extends Ca{constructor(x,L){super(x,L),this.scheduler=x,this.work=L,this.pending=!1}schedule(x,L=0){var Z;if(this.closed)return this;this.state=x;const pe=this.id,ke=this.scheduler;return null!=pe&&(this.id=this.recycleAsyncId(ke,pe,L)),this.pending=!0,this.delay=L,this.id=null!==(Z=this.id)&&void 0!==Z?Z:this.requestAsyncId(ke,this.id,L),this}requestAsyncId(x,L,Z=0){return mn.setInterval(x.flush.bind(x,this),Z)}recycleAsyncId(x,L,Z=0){if(null!=Z&&this.delay===Z&&!1===this.pending)return L;null!=L&&mn.clearInterval(L)}execute(x,L){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Z=this._execute(x,L);if(Z)return Z;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(x,L){let pe,Z=!1;try{this.work(x)}catch(ke){Z=!0,pe=ke||new Error("Scheduled action threw falsy error")}if(Z)return this.unsubscribe(),pe}unsubscribe(){if(!this.closed){const{id:x,scheduler:L}=this,{actions:Z}=L;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Ho.P)(Z,this),null!=x&&(this.id=this.recycleAsyncId(L,x,null)),this.delay=null,super.unsubscribe()}}}const To={now:()=>(To.delegate||Date).now(),delegate:void 0};class _i{constructor(x,L=_i.now){this.schedulerActionCtor=x,this.now=L}schedule(x,L=0,Z){return new this.schedulerActionCtor(this,x).schedule(Z,L)}}_i.now=To.now;class Si extends _i{constructor(x,L=_i.now){super(x,L),this.actions=[],this._active=!1}flush(x){const{actions:L}=this;if(this._active)return void L.push(x);let Z;this._active=!0;do{if(Z=x.execute(x.state,x.delay))break}while(x=L.shift());if(this._active=!1,Z){for(;x=L.shift();)x.unsubscribe();throw Z}}}const Ks=new class Sa extends Si{}(class Sc extends Vs{constructor(x,L){super(x,L),this.scheduler=x,this.work=L}schedule(x,L=0){return L>0?super.schedule(x,L):(this.delay=L,this.state=x,this.scheduler.flush(this),this)}execute(x,L){return L>0||this.closed?super.execute(x,L):this._execute(x,L)}requestAsyncId(x,L,Z=0){return null!=Z&&Z>0||null==Z&&this.delay>0?super.requestAsyncId(x,L,Z):(x.flush(this),0)}}),Wi=new Si(Vs);var Co=j(9751),So=j(8505),y=j(9468),_=j(5363);const g=new M.GfV("7.4.1"),D="__angularfire_symbol__analyticsIsSupportedValue",A="__angularfire_symbol__analyticsIsSupported",U="__angularfire_symbol__remoteConfigIsSupportedValue",Y="__angularfire_symbol__remoteConfigIsSupported",X="__angularfire_symbol__messagingIsSupportedValue",Ne="__angularfire_symbol__messagingIsSupported";function Ui(C,x,L){if(x){if(1===x.length)return x[0];const ke=x.filter(it=>it.app===L);if(1===ke.length)return ke[0]}return L.container.getProvider(C).getImmediate({optional:!0})}globalThis[A]||(globalThis[A]=aa().then(C=>globalThis[D]=C).catch(()=>globalThis[D]=!1)),globalThis[Ne]||(globalThis[Ne]=Mt().then(C=>globalThis[X]=C).catch(()=>globalThis[X]=!1)),globalThis[Y]||(globalThis[Y]=Qi().then(C=>globalThis[U]=C).catch(()=>globalThis[U]=!1));const Ds=(C,x)=>{const L=x?[x]:(0,z.C6)(),Z=[];return L.forEach(pe=>{pe.container.getProvider(C).instances.forEach(it=>{Z.includes(it)||Z.push(it)})}),Z};function os(){}class vi{constructor(x,L=Ks){this.zone=x,this.delegate=L}now(){return this.delegate.now()}schedule(x,L,Z){const pe=this.zone;return this.delegate.schedule(function(it){pe.runGuarded(()=>{x.apply(this,[it])})},L,Z)}}class ti{constructor(x){this.zone=x,this.task=null}call(x,L){const Z=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",os,{},os,os)),L.pipe((0,So.b)({next:Z,complete:Z,error:Z})).subscribe(x).add(Z)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ao=(()=>{class C{constructor(L){this.ngZone=L,this.outsideAngular=L.runOutsideAngular(()=>new vi(Zone.current)),this.insideAngular=L.run(()=>new vi(Zone.current,Wi)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return C.\u0275fac=function(L){return new(L||C)(M.LFG(M.R0b))},C.\u0275prov=M.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function gr(){const C=globalThis.\u0275AngularFireScheduler;if(!C)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return C}function Ac(C){return gr().ngZone.runOutsideAngular(()=>C())}function Go(C){return gr().ngZone.run(()=>C())}function Zs(C){return gr(),function Ju(C){return function(L){return(L=L.lift(new ti(C.ngZone))).pipe((0,y.R)(C.outsideAngular),(0,_.Q)(C.insideAngular))}}(gr())(C)}const si=(C,x)=>function(){const Z=arguments;return x&&setTimeout(()=>{"scheduled"===x.state&&x.invoke()},10),Go(()=>C.apply(void 0,Z))},du=(C,x)=>function(){let L;const Z=arguments;for(let ke=0;ke<arguments.length;ke++)"function"==typeof Z[ke]&&(x&&(L||(L=Go(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",os,{},os,os)))),Z[ke]=si(Z[ke],L));const pe=Ac(()=>C.apply(this,Z));if(!x){if(pe instanceof Co.y){const ke=gr();return pe.pipe((0,y.R)(ke.outsideAngular),(0,_.Q)(ke.insideAngular))}return Go(()=>pe)}return pe instanceof Co.y?pe.pipe(Zs):pe instanceof Promise?Go(()=>new Promise((ke,it)=>pe.then(Dt=>Go(()=>ke(Dt)),Dt=>Go(()=>it(Dt))))):"function"==typeof pe&&L?function(){return setTimeout(()=>{L&&"scheduled"===L.state&&L.invoke()},10),pe.apply(this,arguments)}:Go(()=>pe)}},2090:(sn,Je,j)=>{j.d(Je,{$s:()=>mt,BH:()=>ir,L:()=>Te,LL:()=>yn,P0:()=>$e,Pz:()=>Jt,Sg:()=>Ht,US:()=>ue,ZR:()=>On,aH:()=>yt,b$:()=>xt,eu:()=>Ge,hl:()=>Et,m9:()=>wn,ne:()=>ri,pd:()=>ci,q4:()=>Ke,ru:()=>Wt,tV:()=>qe,uI:()=>Le,vZ:()=>Lt,w1:()=>_t,xO:()=>_r,xb:()=>yr,z$:()=>ze,zI:()=>ye,zd:()=>Ir});const ve=function(ee){const J=[];let fe=0;for(let je=0;je<ee.length;je++){let Ae=ee.charCodeAt(je);Ae<128?J[fe++]=Ae:Ae<2048?(J[fe++]=Ae>>6|192,J[fe++]=63&Ae|128):55296==(64512&Ae)&&je+1<ee.length&&56320==(64512&ee.charCodeAt(je+1))?(Ae=65536+((1023&Ae)<<10)+(1023&ee.charCodeAt(++je)),J[fe++]=Ae>>18|240,J[fe++]=Ae>>12&63|128,J[fe++]=Ae>>6&63|128,J[fe++]=63&Ae|128):(J[fe++]=Ae>>12|224,J[fe++]=Ae>>6&63|128,J[fe++]=63&Ae|128)}return J},ue={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ee,J){if(!Array.isArray(ee))throw Error("encodeByteArray takes an array as a parameter");this.init_();const fe=J?this.byteToCharMapWebSafe_:this.byteToCharMap_,je=[];for(let Ae=0;Ae<ee.length;Ae+=3){const It=ee[Ae],Kt=Ae+1<ee.length,Cn=Kt?ee[Ae+1]:0,Lr=Ae+2<ee.length,er=Lr?ee[Ae+2]:0;let W=(15&Cn)<<2|er>>6,be=63&er;Lr||(be=64,Kt||(W=64)),je.push(fe[It>>2],fe[(3&It)<<4|Cn>>4],fe[W],fe[be])}return je.join("")},encodeString(ee,J){return this.HAS_NATIVE_SUPPORT&&!J?btoa(ee):this.encodeByteArray(ve(ee),J)},decodeString(ee,J){return this.HAS_NATIVE_SUPPORT&&!J?atob(ee):function(ee){const J=[];let fe=0,je=0;for(;fe<ee.length;){const Ae=ee[fe++];if(Ae<128)J[je++]=String.fromCharCode(Ae);else if(Ae>191&&Ae<224){const It=ee[fe++];J[je++]=String.fromCharCode((31&Ae)<<6|63&It)}else if(Ae>239&&Ae<365){const Lr=((7&Ae)<<18|(63&ee[fe++])<<12|(63&ee[fe++])<<6|63&ee[fe++])-65536;J[je++]=String.fromCharCode(55296+(Lr>>10)),J[je++]=String.fromCharCode(56320+(1023&Lr))}else{const It=ee[fe++],Kt=ee[fe++];J[je++]=String.fromCharCode((15&Ae)<<12|(63&It)<<6|63&Kt)}}return J.join("")}(this.decodeStringToByteArray(ee,J))},decodeStringToByteArray(ee,J){this.init_();const fe=J?this.charToByteMapWebSafe_:this.charToByteMap_,je=[];for(let Ae=0;Ae<ee.length;){const It=fe[ee.charAt(Ae++)],Cn=Ae<ee.length?fe[ee.charAt(Ae)]:0;++Ae;const er=Ae<ee.length?fe[ee.charAt(Ae)]:64;++Ae;const ne=Ae<ee.length?fe[ee.charAt(Ae)]:64;if(++Ae,null==It||null==Cn||null==er||null==ne)throw Error();je.push(It<<2|Cn>>4),64!==er&&(je.push(Cn<<4&240|er>>2),64!==ne&&je.push(er<<6&192|ne))}return je},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ee=0;ee<this.ENCODED_VALS.length;ee++)this.byteToCharMap_[ee]=this.ENCODED_VALS.charAt(ee),this.charToByteMap_[this.byteToCharMap_[ee]]=ee,this.byteToCharMapWebSafe_[ee]=this.ENCODED_VALS_WEBSAFE.charAt(ee),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ee]]=ee,ee>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ee)]=ee,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ee)]=ee)}}},Te=function(ee){return function(ee){const J=ve(ee);return ue.encodeByteArray(J,!0)}(ee).replace(/\./g,"")},qe=function(ee){try{return ue.decodeString(ee,!0)}catch(J){console.error("base64Decode failed: ",J)}return null};function ze(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Le(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ze())}function Wt(){const ee="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ee&&void 0!==ee.id}function xt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function _t(){const ee=ze();return ee.indexOf("MSIE ")>=0||ee.indexOf("Trident/")>=0}function Et(){return"object"==typeof indexedDB}function Ge(){return new Promise((ee,J)=>{try{let fe=!0;const je="validate-browser-context-for-indexeddb-analytics-module",Ae=self.indexedDB.open(je);Ae.onsuccess=()=>{Ae.result.close(),fe||self.indexedDB.deleteDatabase(je),ee(!0)},Ae.onupgradeneeded=()=>{fe=!1},Ae.onerror=()=>{var It;J((null===(It=Ae.error)||void 0===It?void 0:It.message)||"")}}catch(fe){J(fe)}})}function ye(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const de=()=>{try{return function ot(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const ee=process.env.__FIREBASE_DEFAULTS__;return ee?JSON.parse(ee):void 0})()||(()=>{if(typeof document>"u")return;let ee;try{ee=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const J=ee&&qe(ee[1]);return J&&JSON.parse(J)})()}catch(ee){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${ee}`)}},Ke=ee=>{var J,fe;return null===(fe=null===(J=de())||void 0===J?void 0:J.emulatorHosts)||void 0===fe?void 0:fe[ee]},$e=ee=>{const J=Ke(ee);if(!J)return;const fe=J.lastIndexOf(":");if(fe<=0||fe+1===J.length)throw new Error(`Invalid host ${J} with no separate hostname and port!`);const je=parseInt(J.substring(fe+1),10);return"["===J[0]?[J.substring(1,fe-1),je]:[J.substring(0,fe),je]},yt=()=>{var ee;return null===(ee=de())||void 0===ee?void 0:ee.config},Jt=ee=>{var J;return null===(J=de())||void 0===J?void 0:J[`_${ee}`]};class ir{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((J,fe)=>{this.resolve=J,this.reject=fe})}wrapCallback(J){return(fe,je)=>{fe?this.reject(fe):this.resolve(je),"function"==typeof J&&(this.promise.catch(()=>{}),1===J.length?J(fe):J(fe,je))}}}function Ht(ee,J){if(ee.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const je=J||"demo-project",Ae=ee.iat||0,It=ee.sub||ee.user_id;if(!It)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Kt=Object.assign({iss:`https://securetoken.google.com/${je}`,aud:je,iat:Ae,exp:Ae+3600,auth_time:Ae,sub:It,user_id:It,firebase:{sign_in_provider:"custom",identities:{}}},ee);return[Te(JSON.stringify({alg:"none",type:"JWT"})),Te(JSON.stringify(Kt)),""].join(".")}class On extends Error{constructor(J,fe,je){super(fe),this.code=J,this.customData=je,this.name="FirebaseError",Object.setPrototypeOf(this,On.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yn.prototype.create)}}class yn{constructor(J,fe,je){this.service=J,this.serviceName=fe,this.errors=je}create(J,...fe){const je=fe[0]||{},Ae=`${this.service}/${J}`,It=this.errors[J],Kt=It?function xr(ee,J){return ee.replace(Tn,(fe,je)=>{const Ae=J[je];return null!=Ae?String(Ae):`<${je}?>`})}(It,je):"Error";return new On(Ae,`${this.serviceName}: ${Kt} (${Ae}).`,je)}}const Tn=/\{\$([^}]+)}/g;function yr(ee){for(const J in ee)if(Object.prototype.hasOwnProperty.call(ee,J))return!1;return!0}function Lt(ee,J){if(ee===J)return!0;const fe=Object.keys(ee),je=Object.keys(J);for(const Ae of fe){if(!je.includes(Ae))return!1;const It=ee[Ae],Kt=J[Ae];if(ar(It)&&ar(Kt)){if(!Lt(It,Kt))return!1}else if(It!==Kt)return!1}for(const Ae of je)if(!fe.includes(Ae))return!1;return!0}function ar(ee){return null!==ee&&"object"==typeof ee}function _r(ee){const J=[];for(const[fe,je]of Object.entries(ee))Array.isArray(je)?je.forEach(Ae=>{J.push(encodeURIComponent(fe)+"="+encodeURIComponent(Ae))}):J.push(encodeURIComponent(fe)+"="+encodeURIComponent(je));return J.length?"&"+J.join("&"):""}function Ir(ee){const J={};return ee.replace(/^\?/,"").split("&").forEach(je=>{if(je){const[Ae,It]=je.split("=");J[decodeURIComponent(Ae)]=decodeURIComponent(It)}}),J}function ci(ee){const J=ee.indexOf("?");if(!J)return"";const fe=ee.indexOf("#",J);return ee.substring(J,fe>0?fe:void 0)}function ri(ee,J){const fe=new wt(ee,J);return fe.subscribe.bind(fe)}class wt{constructor(J,fe){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=fe,this.task.then(()=>{J(this)}).catch(je=>{this.error(je)})}next(J){this.forEachObserver(fe=>{fe.next(J)})}error(J){this.forEachObserver(fe=>{fe.error(J)}),this.close(J)}complete(){this.forEachObserver(J=>{J.complete()}),this.close()}subscribe(J,fe,je){let Ae;if(void 0===J&&void 0===fe&&void 0===je)throw new Error("Missing Observer.");Ae=function Xt(ee,J){if("object"!=typeof ee||null===ee)return!1;for(const fe of J)if(fe in ee&&"function"==typeof ee[fe])return!0;return!1}(J,["next","error","complete"])?J:{next:J,error:fe,complete:je},void 0===Ae.next&&(Ae.next=dn),void 0===Ae.error&&(Ae.error=dn),void 0===Ae.complete&&(Ae.complete=dn);const It=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Ae.error(this.finalError):Ae.complete()}catch{}}),this.observers.push(Ae),It}unsubscribeOne(J){void 0===this.observers||void 0===this.observers[J]||(delete this.observers[J],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(J){if(!this.finalized)for(let fe=0;fe<this.observers.length;fe++)this.sendOne(fe,J)}sendOne(J,fe){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[J])try{fe(this.observers[J])}catch(je){typeof console<"u"&&console.error&&console.error(je)}})}close(J){this.finalized||(this.finalized=!0,void 0!==J&&(this.finalError=J),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dn(){}function mt(ee,J=1e3,fe=2){const je=J*Math.pow(fe,ee),Ae=Math.round(.5*je*(Math.random()-.5)*2);return Math.min(144e5,je+Ae)}function wn(ee){return ee&&ee._delegate?ee._delegate:ee}},1594:(sn,Je,j)=>{var M=j(1481),z=j(8256),te=j(8489);const ve=[{path:"login",loadChildren:()=>Promise.all([j.e(300),j.e(562)]).then(j.bind(j,2562)).then(ft=>ft.LoginModule)},{path:"home",loadChildren:()=>j.e(300).then(j.bind(j,5300)).then(ft=>ft.HomeModule)},{path:"",redirectTo:"login",pathMatch:"full"}];let De=(()=>{class ft{}return ft.\u0275fac=function(Kn){return new(Kn||ft)},ft.\u0275mod=z.oAB({type:ft}),ft.\u0275inj=z.cJS({imports:[te.Bz.forRoot(ve),te.Bz]}),ft})(),ue=(()=>{class ft{constructor(){this.title="clinica-online"}}return ft.\u0275fac=function(Kn){return new(Kn||ft)},ft.\u0275cmp=z.Xpm({type:ft,selectors:[["app-root"]],decls:4,vars:0,consts:[[2,"margin","0px"]],template:function(Kn,_n){1&Kn&&(z.TgZ(0,"html"),z._UZ(1,"head"),z.TgZ(2,"body",0),z._UZ(3,"router-outlet"),z.qZA()())},dependencies:[te.lC]}),ft})();var Ee=j(3692);const Te_firebase={projectId:"clinica-online-c4792",appId:"1:408788974803:web:450e17ef1940a19ea0e826",storageBucket:"clinica-online-c4792.appspot.com",locationId:"southamerica-east1",apiKey:"AIzaSyDsYnDtvLTjFRgmUaM2pK3qVezZtb6McBM",authDomain:"clinica-online-c4792.firebaseapp.com",messagingSenderId:"408788974803"};var qe=j(9201),K=j(7554),ae=j(8321),Pe=j(5867),ze=j(7128),Le=j(2480);class vt{constructor(Ut){return Ut}}const bt="storage",$t=new z.OlP("angularfire2.storage-instances");function Qe(ft){return(Ut,Kn)=>{const _n=Ut.runOutsideAngular(()=>ft(Kn));return new vt(_n)}}const nt={provide:class Wt{constructor(){return(0,ae.vb)(bt)}},deps:[[new z.FiY,$t]]},Oe={provide:vt,useFactory:function _t(ft,Ut){const Kn=(0,ae.JM)(bt,ft,Ut);return Kn&&new vt(Kn)},deps:[[new z.FiY,$t],Ee.Ot]};let Et=(()=>{class ft{constructor(){(0,Pe.KN)("angularfire",ae.q4.full,"gcs")}}return ft.\u0275fac=function(Kn){return new(Kn||ft)},ft.\u0275mod=z.oAB({type:ft}),ft.\u0275inj=z.cJS({providers:[Oe,nt]}),ft})();function Ge(ft,...Ut){return{ngModule:Et,providers:[{provide:$t,useFactory:Qe(ft),multi:!0,deps:[z.R0b,z.zs3,ae.HU,Ee.z6,[new z.FiY,qe.dh],[new z.FiY,ze.nm],...Ut]}]}}const yt=(0,ae.u3)(Le.cF,!0);let Rn=(()=>{class ft{constructor(){}}return ft.\u0275fac=function(Kn){return new(Kn||ft)},ft.\u0275mod=z.oAB({type:ft,bootstrap:[ue]}),ft.\u0275inj=z.cJS({imports:[M.b2,De,(0,Ee.hX)(()=>(0,Ee.ZF)(Te_firebase)),(0,qe.AR)(()=>(0,qe.v0)()),(0,K.Cm)(()=>(0,K.ad)()),Ge(()=>yt())]}),ft})();(0,z.G48)(),M.q6().bootstrapModule(Rn).catch(ft=>console.error(ft))},5867:(sn,Je,j)=>{j.d(Je,{C6:()=>M.C6,KN:()=>M.KN,Mq:()=>M.Mq,ZF:()=>M.ZF});var M=j(9681);(0,M.KN)("firebase","9.12.1","app")},3209:(sn,Je,j)=>{j.d(Je,{ET:()=>Xg,hJ:()=>Vg,JU:()=>Bg,PL:()=>q_,ad:()=>ep,r7:()=>xy});var Te,M=j(5861),z=j(9681),te=j(4859),ve=j(1877),De=j(2090),ue=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ee={},qe=qe||{},K=ue||self;function ae(){}function Pe(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function ze(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var vt="closure_uid_"+(1e9*Math.random()>>>0),bt=0;function Wt(i,e,n){return i.call.apply(i.bind,arguments)}function xt(i,e,n){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,o),i.apply(e,u)}}return function(){return i.apply(e,arguments)}}function $t(i,e,n){return($t=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Wt:xt).apply(null,arguments)}function _t(i,e){var n=Array.prototype.slice.call(arguments,1);return function(){var o=n.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function Qe(i,e){function n(){}n.prototype=e.prototype,i.X=e.prototype,i.prototype=new n,i.prototype.constructor=i,i.Wb=function(o,u,l){for(var p=Array(arguments.length-2),I=2;I<arguments.length;I++)p[I-2]=arguments[I];return e.prototype[u].apply(o,p)}}function nt(){this.s=this.s,this.o=this.o}var Et={};nt.prototype.s=!1,nt.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function Le(i){return Object.prototype.hasOwnProperty.call(i,vt)&&i[vt]||(i[vt]=++bt)}(this);delete Et[i]}},nt.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ge=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let n=0;n<i.length;n++)if(n in i&&i[n]===e)return n;return-1};function ye(i){const e=i.length;if(0<e){const n=Array(e);for(let o=0;o<e;o++)n[o]=i[o];return n}return[]}function ot(i,e){for(let n=1;n<arguments.length;n++){const o=arguments[n];if(Pe(o)){const u=i.length||0,l=o.length||0;i.length=u+l;for(let p=0;p<l;p++)i[u+p]=o[p]}else i.push(o)}}function ce(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}ce.prototype.h=function(){this.defaultPrevented=!0};var _e=function(){if(!K.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{K.addEventListener("test",ae,e),K.removeEventListener("test",ae,e)}catch{}return i}();function re(i){return/^[\s\xa0]*$/.test(i)}var de=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function Ke(i,e){return i<e?-1:i>e?1:0}function $e(){var i=K.navigator;return i&&(i=i.userAgent)?i:""}function yt(i){return-1!=$e().indexOf(i)}function Jt(i){return Jt[" "](i),i}Jt[" "]=ae;var ft,i,Ht=yt("Opera"),Qt=yt("Trident")||yt("MSIE"),On=yt("Edge"),yn=On||Qt,xr=yt("Gecko")&&!(-1!=$e().toLowerCase().indexOf("webkit")&&!yt("Edge"))&&!(yt("Trident")||yt("MSIE"))&&!yt("Edge"),Tn=-1!=$e().toLowerCase().indexOf("webkit")&&!yt("Edge");function Rn(){var i=K.document;return i?i.documentMode:void 0}e:{var Ut="",Kn=(i=$e(),xr?/rv:([^\);]+)(\)|;)/.exec(i):On?/Edge\/([\d\.]+)/.exec(i):Qt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):Tn?/WebKit\/(\S+)/.exec(i):Ht?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(Kn&&(Ut=Kn?Kn[1]:""),Qt){var _n=Rn();if(null!=_n&&_n>parseFloat(Ut)){ft=String(_n);break e}}ft=Ut}var sr={};var yr=K.document&&Qt&&(Rn()||parseInt(ft,10))||void 0;function Xr(i,e){if(ce.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var n=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(xr){e:{try{Jt(e.nodeName);var u=!0;break e}catch{}u=!1}u||(e=null)}}else"mouseover"==n?e=i.fromElement:"mouseout"==n&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:Lt[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&Xr.X.h.call(this)}}Qe(Xr,ce);var Lt={2:"touch",3:"pen",4:"mouse"};Xr.prototype.h=function(){Xr.X.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var ar="closure_listenable_"+(1e6*Math.random()|0),hi=0;function _r(i,e,n,o,u){this.listener=i,this.proxy=null,this.src=e,this.type=n,this.capture=!!o,this.ha=u,this.key=++hi,this.ba=this.ea=!1}function Ir(i){i.ba=!0,i.listener=null,i.proxy=null,i.src=null,i.ha=null}function ci(i,e,n){for(const o in i)e.call(n,i[o],o,i)}function Zn(i){const e={};for(const n in i)e[n]=i[n];return e}const ri="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function wt(i,e){let n,o;for(let u=1;u<arguments.length;u++){for(n in o=arguments[u],o)i[n]=o[n];for(let l=0;l<ri.length;l++)n=ri[l],Object.prototype.hasOwnProperty.call(o,n)&&(i[n]=o[n])}}function kt(i){this.src=i,this.g={},this.h=0}function Xt(i,e){var n=e.type;if(n in i.g){var l,o=i.g[n],u=Ge(o,e);(l=0<=u)&&Array.prototype.splice.call(o,u,1),l&&(Ir(e),0==i.g[n].length&&(delete i.g[n],i.h--))}}function dn(i,e,n,o){for(var u=0;u<i.length;++u){var l=i[u];if(!l.ba&&l.listener==e&&l.capture==!!n&&l.ha==o)return u}return-1}kt.prototype.add=function(i,e,n,o,u){var l=i.toString();(i=this.g[l])||(i=this.g[l]=[],this.h++);var p=dn(i,e,o,u);return-1<p?(e=i[p],n||(e.ea=!1)):((e=new _r(e,this.src,l,!!o,u)).ea=n,i.push(e)),e};var hr="closure_lm_"+(1e6*Math.random()|0),vn={};function vr(i,e,n,o,u){if(o&&o.once)return $n(i,e,n,o,u);if(Array.isArray(e)){for(var l=0;l<e.length;l++)vr(i,e[l],n,o,u);return null}return n=mt(n),i&&i[ar]?i.N(e,n,ze(o)?!!o.capture:!!o,u):Ln(i,e,n,!1,o,u)}function Ln(i,e,n,o,u,l){if(!e)throw Error("Invalid event type");var p=ze(u)?!!u.capture:!!u,I=dt(i);if(I||(i[hr]=I=new kt(i)),(n=I.add(e,n,o,p,l)).proxy)return n;if(o=function Hr(){const e=qr;return function i(n){return e.call(i.src,i.listener,n)}}(),n.proxy=o,o.src=i,o.listener=n,i.addEventListener)_e||(u=p),void 0===u&&(u=!1),i.addEventListener(e.toString(),o,u);else if(i.attachEvent)i.attachEvent(li(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return n}function $n(i,e,n,o,u){if(Array.isArray(e)){for(var l=0;l<e.length;l++)$n(i,e[l],n,o,u);return null}return n=mt(n),i&&i[ar]?i.O(e,n,ze(o)?!!o.capture:!!o,u):Ln(i,e,n,!0,o,u)}function Wr(i,e,n,o,u){if(Array.isArray(e))for(var l=0;l<e.length;l++)Wr(i,e[l],n,o,u);else o=ze(o)?!!o.capture:!!o,n=mt(n),i&&i[ar]?(i=i.i,(e=String(e).toString())in i.g&&-1<(n=dn(l=i.g[e],n,o,u))&&(Ir(l[n]),Array.prototype.splice.call(l,n,1),0==l.length&&(delete i.g[e],i.h--))):i&&(i=dt(i))&&(e=i.g[e.toString()],i=-1,e&&(i=dn(e,n,o,u)),(n=-1<i?e[i]:null)&&Nt(n))}function Nt(i){if("number"!=typeof i&&i&&!i.ba){var e=i.src;if(e&&e[ar])Xt(e.i,i);else{var n=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(n,o,i.capture):e.detachEvent?e.detachEvent(li(n),o):e.addListener&&e.removeListener&&e.removeListener(o),(n=dt(e))?(Xt(n,i),0==n.h&&(n.src=null,e[hr]=null)):Ir(i)}}}function li(i){return i in vn?vn[i]:vn[i]="on"+i}function qr(i,e){if(i.ba)i=!0;else{e=new Xr(e,this);var n=i.listener,o=i.ha||i.src;i.ea&&Nt(i),i=n.call(o,e)}return i}function dt(i){return(i=i[hr])instanceof kt?i:null}var xe="__closure_events_fn_"+(1e9*Math.random()>>>0);function mt(i){return"function"==typeof i?i:(i[xe]||(i[xe]=function(e){return i.handleEvent(e)}),i[xe])}function rt(){nt.call(this),this.i=new kt(this),this.P=this,this.I=null}function Ot(i,e){var n,o=i.I;if(o)for(n=[];o;o=o.I)n.push(o);if(i=i.P,o=e.type||e,"string"==typeof e)e=new ce(e,i);else if(e instanceof ce)e.target=e.target||i;else{var u=e;wt(e=new ce(o,i),u)}if(u=!0,n)for(var l=n.length-1;0<=l;l--){var p=e.g=n[l];u=wn(p,o,!0,e)&&u}if(u=wn(p=e.g=i,o,!0,e)&&u,u=wn(p,o,!1,e)&&u,n)for(l=0;l<n.length;l++)u=wn(p=e.g=n[l],o,!1,e)&&u}function wn(i,e,n,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var u=!0,l=0;l<e.length;++l){var p=e[l];if(p&&!p.ba&&p.capture==n){var I=p.listener,R=p.ha||p.src;p.ea&&Xt(i.i,p),u=!1!==I.call(R,o)&&u}}return u&&!o.defaultPrevented}Qe(rt,nt),rt.prototype[ar]=!0,rt.prototype.removeEventListener=function(i,e,n,o){Wr(this,i,e,n,o)},rt.prototype.M=function(){if(rt.X.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var n=i.g[e],o=0;o<n.length;o++)Ir(n[o]);delete i.g[e],i.h--}}this.I=null},rt.prototype.N=function(i,e,n,o){return this.i.add(String(i),e,!1,n,o)},rt.prototype.O=function(i,e,n,o){return this.i.add(String(i),e,!0,n,o)};var ee=K.JSON.stringify;function J(){var i=we;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var Cn,je=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new Ae,i=>i.reset());class Ae{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function It(i){K.setTimeout(()=>{throw i},0)}function Kt(i,e){Cn||function Lr(){var i=K.Promise.resolve(void 0);Cn=function(){i.then(ne)}}(),er||(Cn(),er=!0),we.add(i,e)}var er=!1,we=new class fe{constructor(){this.h=this.g=null}add(e,n){const o=je.get();o.set(e,n),this.h?this.h.next=o:this.g=o,this.h=o}};function ne(){for(var i;i=J();){try{i.h.call(i.g)}catch(n){It(n)}var e=je;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}er=!1}function W(i,e){rt.call(this),this.h=i||1,this.g=e||K,this.j=$t(this.lb,this),this.l=Date.now()}function be(i){i.ca=!1,i.R&&(i.g.clearTimeout(i.R),i.R=null)}function Be(i,e,n){if("function"==typeof i)n&&(i=$t(i,n));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=$t(i.handleEvent,i)}return 2147483647<Number(e)?-1:K.setTimeout(i,e||0)}function Zt(i){i.g=Be(()=>{i.g=null,i.i&&(i.i=!1,Zt(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}Qe(W,rt),(Te=W.prototype).ca=!1,Te.R=null,Te.lb=function(){if(this.ca){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-i):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Ot(this,"tick"),this.ca&&(be(this),this.start()))}},Te.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Te.M=function(){W.X.M.call(this),be(this),delete this.g};class en extends nt{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Zt(this)}M(){super.M(),this.g&&(K.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function kn(i){nt.call(this),this.h=i,this.g={}}Qe(kn,nt);var ht=[];function rn(i,e,n,o){Array.isArray(n)||(n&&(ht[0]=n.toString()),n=ht);for(var u=0;u<n.length;u++){var l=vr(e,n[u],o||i.handleEvent,!1,i.h||i);if(!l)break;i.g[l.key]=l}}function Fn(i){ci(i.g,function(e,n){this.g.hasOwnProperty(n)&&Nt(e)},i),i.g={}}function Rr(){this.g=!0}function Kr(i,e,n,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Ei(i,e){if(!i.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(i=0;i<n.length;i++)if(Array.isArray(n[i])){var o=n[i];if(!(2>o.length)){var u=o[1];if(Array.isArray(u)&&!(1>u.length)){var l=u[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var p=1;p<u.length;p++)u[p]=""}}}return ee(n)}catch{return e}}(i,n)+(o?" "+o:"")})}kn.prototype.M=function(){kn.X.M.call(this),Fn(this)},kn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Rr.prototype.Aa=function(){this.g=!1},Rr.prototype.info=function(){};var or={},fn=null;function Ur(){return fn=fn||new rt}function Di(i){ce.call(this,or.Pa,i)}function Yi(i){const e=Ur();Ot(e,new Di(e,i))}function bi(i,e){ce.call(this,or.STAT_EVENT,i),this.stat=e}function Pn(i){const e=Ur();Ot(e,new bi(e,i))}function br(i,e){ce.call(this,or.Qa,i),this.size=e}function fi(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return K.setTimeout(function(){i()},e)}or.Pa="serverreachability",Qe(Di,ce),or.STAT_EVENT="statevent",Qe(bi,ce),or.Qa="timingevent",Qe(br,ce);var Jr={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},ge={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function he(){}function He(){}he.prototype.h=null;var ur,at={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Ct(){ce.call(this,"d")}function In(){ce.call(this,"c")}function jn(){}function Er(i,e,n,o){this.l=i,this.j=e,this.m=n,this.U=o||1,this.S=new kn(this),this.O=_s,this.T=new W(i=yn?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new kr}function kr(){this.i=null,this.g="",this.h=!1}Qe(Ct,ce),Qe(In,ce),Qe(jn,he),jn.prototype.g=function(){return new XMLHttpRequest},jn.prototype.i=function(){return{}},ur=new jn;var _s=45e3,Vr={},tr={};function js(i,e,n){i.K=1,i.v=io(Qi(e)),i.s=n,i.P=!0,Pr(i,null)}function Pr(i,e){i.F=Date.now(),Pi(i),i.A=Qi(i.v);var n=i.A,o=i.U;Array.isArray(o)||(o=[String(o)]),ie(n.i,"t",o),i.C=0,n=i.l.H,i.h=new kr,i.g=T(i.l,n?e:null,!i.s),0<i.N&&(i.L=new en($t(i.La,i,i.g),i.N)),rn(i.S,i.g,"readystatechange",i.ib),e=i.H?Zn(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.da(i.A,i.u,i.s,e)):(i.u="GET",i.g.da(i.A,i.u,null,e)),Yi(1),function ls(i,e,n,o,u,l){i.info(function(){if(i.g)if(l)for(var p="",I=l.split("&"),R=0;R<I.length;R++){var N=I[R].split("=");if(1<N.length){var H=N[0];N=N[1];var se=H.split("_");p=2<=se.length&&"type"==se[1]?p+(H+"=")+N+"&":p+(H+"=redacted&")}}else p=null;else p=l;return"XMLHTTP REQ ("+o+") [attempt "+u+"]: "+e+"\n"+n+"\n"+p})}(i.j,i.u,i.A,i.m,i.U,i.s)}function vs(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Da}function di(i,e,n){let u,o=!0;for(;!i.I&&i.C<n.length;){if(u=to(i,n),u==tr){4==e&&(i.o=4,Pn(14),o=!1),Kr(i.j,i.m,null,"[Incomplete Response]");break}if(u==Vr){i.o=4,Pn(15),Kr(i.j,i.m,n,"[Invalid Chunk]"),o=!1;break}Kr(i.j,i.m,u,null),Gs(i,u)}vs(i)&&u!=tr&&u!=Vr&&(i.h.g="",i.C=0),4!=e||0!=n.length||i.h.h||(i.o=1,Pn(16),o=!1),i.i=i.i&&o,o?0<n.length&&!i.$&&(i.$=!0,(e=i.l).g==i&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Li(e),e.K=!0,Pn(11))):(Kr(i.j,i.m,n,"[Invalid Chunked Response]"),Hs(i),pi(i))}function to(i,e){var n=i.C,o=e.indexOf("\n",n);return-1==o?tr:(n=Number(e.substring(n,o)),isNaN(n)?Vr:(o+=1)+n>e.length?tr:(e=e.substr(o,n),i.C=o+n,e))}function Pi(i){i.V=Date.now()+i.O,no(i,i.O)}function no(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=fi($t(i.gb,i),e)}function Ss(i){i.B&&(K.clearTimeout(i.B),i.B=null)}function pi(i){0==i.l.G||i.I||Fo(i.l,i)}function Hs(i){Ss(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,be(i.T),Fn(i.S),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function Gs(i,e){try{var n=i.l;if(0!=n.G&&(n.g==i||Nr(n.h,i)))if(!i.J&&Nr(n.h,i)&&3==n.G){try{var o=n.Fa.g.parse(e)}catch{o=null}if(Array.isArray(o)&&3==o.length){var u=o;if(0==u[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<i.F))break e;Lo(n),xs(n)}Ms(n),Pn(18)}}else n.Ba=u[1],0<n.Ba-n.T&&37500>u[2]&&n.L&&0==n.A&&!n.v&&(n.v=fi($t(n.cb,n),6e3));if(1>=Un(n.h)&&n.ja){try{n.ja()}catch{}n.ja=void 0}}else Ws(n,11)}else if((i.J||n.g==i)&&Lo(n),!re(e))for(u=n.Fa.g.parse(e),e=0;e<u.length;e++){let N=u[e];if(n.T=N[0],N=N[1],2==n.G)if("c"==N[0]){n.I=N[1],n.ka=N[2];const H=N[3];null!=H&&(n.ma=H,n.j.info("VER="+n.ma));const se=N[4];null!=se&&(n.Ca=se,n.j.info("SVER="+n.Ca));const Re=N[5];null!=Re&&"number"==typeof Re&&0<Re&&(n.J=o=1.5*Re,n.j.info("backChannelRequestTimeoutMs_="+o)),o=n;const Ze=i.g;if(Ze){const tt=Ze.g?Ze.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(tt){var l=o.h;l.g||-1==tt.indexOf("spdy")&&-1==tt.indexOf("quic")&&-1==tt.indexOf("h2")||(l.j=l.l,l.g=new Set,l.h&&(zt(l,l.h),l.h=null))}if(o.D){const Vt=Ze.g?Ze.g.getResponseHeader("X-HTTP-Session-Id"):null;Vt&&(o.za=Vt,Yn(o.F,o.D,Vt))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-i.F,n.j.info("Handshake RTT: "+n.P+"ms"));var p=i;if((o=n).sa=Uo(o,o.H?o.ka:null,o.V),p.J){Tr(o.h,p);var I=p,R=o.J;R&&I.setTimeout(R),I.B&&(Ss(I),Pi(I)),o.g=p}else ts(o);0<n.i.length&&Oo(n)}else"stop"!=N[0]&&"close"!=N[0]||Ws(n,7);else 3==n.G&&("stop"==N[0]||"close"==N[0]?"stop"==N[0]?Ws(n,7):es(n):"noop"!=N[0]&&n.l&&n.l.wa(N),n.A=0)}Yi(4)}catch{}}function Xo(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(Pe(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var n=function ko(i){if(i.oa&&"function"==typeof i.oa)return i.oa();if(!i.W||"function"!=typeof i.W){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(Pe(i)||"string"==typeof i){var e=[];i=i.length;for(var n=0;n<i;n++)e.push(n);return e}e=[],n=0;for(const o in i)e[n++]=o;return e}}}(i),o=function ga(i){if(i.W&&"function"==typeof i.W)return i.W();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(Pe(i)){for(var e=[],n=i.length,o=0;o<n;o++)e.push(i[o]);return e}for(o in e=[],n=0,i)e[n++]=i[o];return e}(i),u=o.length,l=0;l<u;l++)e.call(void 0,o[l],n&&n[l],i)}(Te=Er.prototype).setTimeout=function(i){this.O=i},Te.ib=function(i){i=i.target;const e=this.L;e&&3==pn(i)?e.l():this.La(i)},Te.La=function(i){try{if(i==this.g)e:{const H=pn(this.g);var e=this.g.Ea();const se=this.g.aa();if(!(3>H)&&(3!=H||yn||this.g&&(this.h.h||this.g.fa()||Es(this.g)))){this.I||4!=H||7==e||Yi(8==e||0>=se?3:2),Ss(this);var n=this.g.aa();this.Y=n;t:if(vs(this)){var o=Es(this.g);i="";var u=o.length,l=4==pn(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Hs(this),pi(this);var p="";break t}this.h.i=new K.TextDecoder}for(e=0;e<u;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:l&&e==u-1});o.splice(0,u),this.h.g+=i,this.C=0,p=this.h.g}else p=this.g.fa();if(this.i=200==n,function Cr(i,e,n,o,u,l,p){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+u+"]: "+e+"\n"+n+"\n"+l+" "+p})}(this.j,this.u,this.A,this.m,this.U,H,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var I,R=this.g;if((I=R.g?R.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!re(I)){var N=I;break t}}N=null}if(!(n=N)){this.i=!1,this.o=3,Pn(12),Hs(this),pi(this);break e}Kr(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Gs(this,n)}this.P?(di(this,H,p),yn&&this.i&&3==H&&(rn(this.S,this.T,"tick",this.hb),this.T.start())):(Kr(this.j,this.m,p,null),Gs(this,p)),4==H&&Hs(this),this.i&&!this.I&&(4==H?Fo(this.l,this):(this.i=!1,Pi(this)))}else 400==n&&0<p.indexOf("Unknown SID")?(this.o=3,Pn(12)):(this.o=0,Pn(13)),Hs(this),pi(this)}}}catch{}},Te.hb=function(){if(this.g){var i=pn(this.g),e=this.g.fa();this.C<e.length&&(Ss(this),di(this,i,e),this.i&&4!=i&&Pi(this))}},Te.cancel=function(){this.I=!0,Hs(this)},Te.gb=function(){this.B=null;const i=Date.now();0<=i-this.V?(function Sn(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Yi(3),Pn(17)),Hs(this),this.o=2,pi(this)):no(this,this.V-i)};var Jo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function As(i,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof As){this.h=void 0!==e?e:i.h,Xi(this,i.j),this.s=i.s,this.g=i.g,ro(this,i.m),this.l=i.l,e=i.i;var n=new Ni;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),ws(this,n),this.o=i.o}else i&&(n=String(i).match(Jo))?(this.h=!!e,Xi(this,n[1]||"",!0),this.s=$i(n[2]||""),this.g=$i(n[3]||"",!0),ro(this,n[4]),this.l=$i(n[5]||"",!0),ws(this,n[6]||"",!0),this.o=$i(n[7]||"")):(this.h=!!e,this.i=new Ni(null,this.h))}function Qi(i){return new As(i)}function Xi(i,e,n){i.j=n?$i(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function ro(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function ws(i,e,n){e instanceof Ni?(i.i=e,function Ve(i,e){e&&!i.j&&(F(i),i.i=null,i.g.forEach(function(n,o){var u=o.toLowerCase();o!=u&&(O(this,o),ie(this,u,n))},i)),i.j=e}(i.i,i.h)):(n||(e=xi(e,Ji)),i.i=new Ni(e,i.h))}function Yn(i,e,n){i.i.set(e,n)}function io(i){return Yn(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function $i(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function xi(i,e,n){return"string"==typeof i?(i=encodeURI(i).replace(e,so),n&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function so(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}As.prototype.toString=function(){var i=[],e=this.j;e&&i.push(xi(e,go,!0),":");var n=this.g;return(n||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(xi(e,go,!0),"@"),i.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&i.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&i.push("/"),i.push(xi(n,"/"==n.charAt(0)?Is:oo,!0))),(n=this.i.toString())&&i.push("?",n),(n=this.o)&&i.push("#",xi(n,mo)),i.join("")};var go=/[#\/\?@]/g,oo=/[#\?:]/g,Is=/[#\?]/g,Ji=/[#\?@]/g,mo=/#/g;function Ni(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function F(i){i.g||(i.g=new Map,i.h=0,i.i&&function Va(i,e){if(i){i=i.split("&");for(var n=0;n<i.length;n++){var o=i[n].indexOf("="),u=null;if(0<=o){var l=i[n].substring(0,o);u=i[n].substring(o+1)}else l=i[n];e(l,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(i.i,function(e,n){i.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function O(i,e){F(i),e=me(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function Q(i,e){return F(i),e=me(i,e),i.g.has(e)}function ie(i,e,n){O(i,e),0<n.length&&(i.i=null,i.g.set(me(i,e),ye(n)),i.h+=n.length)}function me(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function Ft(i){this.l=i||Bt,i=K.PerformanceNavigationTiming?0<(i=K.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(K.g&&K.g.Ga&&K.g.Ga()&&K.g.Ga().$b),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Te=Ni.prototype).add=function(i,e){F(this),this.i=null,i=me(this,i);var n=this.g.get(i);return n||this.g.set(i,n=[]),n.push(e),this.h+=1,this},Te.forEach=function(i,e){F(this),this.g.forEach(function(n,o){n.forEach(function(u){i.call(e,u,o,this)},this)},this)},Te.oa=function(){F(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let o=0;o<e.length;o++){const u=i[o];for(let l=0;l<u.length;l++)n.push(e[o])}return n},Te.W=function(i){F(this);let e=[];if("string"==typeof i)Q(this,i)&&(e=e.concat(this.g.get(me(this,i))));else{i=Array.from(this.g.values());for(let n=0;n<i.length;n++)e=e.concat(i[n])}return e},Te.set=function(i,e){return F(this),this.i=null,Q(this,i=me(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},Te.get=function(i,e){return i&&0<(i=this.W(i)).length?String(i[0]):e},Te.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var o=e[n];const l=encodeURIComponent(String(o)),p=this.W(o);for(o=0;o<p.length;o++){var u=l;""!==p[o]&&(u+="="+encodeURIComponent(String(p[o]))),i.push(u)}}return this.i=i.join("&")};var Bt=10;function un(i){return!!i.h||!!i.g&&i.g.size>=i.j}function Un(i){return i.h?1:i.g?i.g.size:0}function Nr(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function zt(i,e){i.g?i.g.add(e):i.h=e}function Tr(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function Sr(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const n of i.g.values())e=e.concat(n.D);return e}return ye(i.i)}function Gr(){}function Vn(){this.g=new Gr}function Mi(i,e,n){const o=n||"";try{Xo(i,function(u,l){let p=u;ze(u)&&(p=ee(u)),e.push(o+l+"="+encodeURIComponent(p))})}catch(u){throw e.push(o+"type="+encodeURIComponent("_badmap")),u}}function Ar(i,e,n,o,u){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,u(o)}catch{}}function Hn(i){this.l=i.ac||null,this.j=i.jb||!1}function ds(i,e){rt.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=Ti,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ft.prototype.cancel=function(){if(this.i=Sr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},Gr.prototype.stringify=function(i){return K.JSON.stringify(i,void 0)},Gr.prototype.parse=function(i){return K.JSON.parse(i,void 0)},Qe(Hn,he),Hn.prototype.g=function(){return new ds(this.l,this.j)},Hn.prototype.i=function(i){return function(){return i}}({}),Qe(ds,rt);var Ti=0;function hs(i){i.j.read().then(i.Ta.bind(i)).catch(i.ga.bind(i))}function ei(i){i.readyState=4,i.l=null,i.j=null,i.A=null,gi(i)}function gi(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(Te=ds.prototype).open=function(i,e){if(this.readyState!=Ti)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,gi(this)},Te.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||K).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},Te.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ei(this)),this.readyState=Ti},Te.Wa=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,gi(this)),this.g&&(this.readyState=3,gi(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof K.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;hs(this)}else i.text().then(this.Va.bind(this),this.ga.bind(this))},Te.Ta=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?ei(this):gi(this),3==this.readyState&&hs(this)}},Te.Va=function(i){this.g&&(this.response=this.responseText=i,ei(this))},Te.Ua=function(i){this.g&&(this.response=i,ei(this))},Te.ga=function(){this.g&&ei(this)},Te.setRequestHeader=function(i,e){this.v.append(i,e)},Te.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},Te.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var n=e.next();!n.done;)i.push((n=n.value)[0]+": "+n[1]),n=e.next();return i.join("\r\n")},Object.defineProperty(ds.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var Po=K.JSON.parse;function Pt(i){rt.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Oi,this.K=this.L=!1}Qe(Pt,rt);var Oi="",ma=/^https?$/i,ya=["POST","PUT"];function ea(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,zs(i),yo(i)}function zs(i){i.D||(i.D=!0,Ot(i,"complete"),Ot(i,"error"))}function ao(i){if(i.h&&typeof qe<"u"&&(!i.C[1]||4!=pn(i)||2!=i.aa()))if(i.v&&4==pn(i))Be(i.Ha,0,i);else if(Ot(i,"readystatechange"),4==pn(i)){i.h=!1;try{const I=i.aa();e:switch(I){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var o;if(o=0===I){var u=String(i.H).match(Jo)[1]||null;if(!u&&K.self&&K.self.location){var l=K.self.location.protocol;u=l.substr(0,l.length-1)}o=!ma.test(u?u.toLowerCase():"")}n=o}if(n)Ot(i,"complete"),Ot(i,"success");else{i.m=6;try{var p=2<pn(i)?i.g.statusText:""}catch{p=""}i.j=p+" ["+i.aa()+"]",zs(i)}}finally{yo(i)}}}function yo(i,e){if(i.g){et(i);const n=i.g,o=i.C[0]?ae:null;i.g=null,i.C=null,e||Ot(i,"ready");try{n.onreadystatechange=o}catch{}}}function et(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(K.clearTimeout(i.A),i.A=null)}function pn(i){return i.g?i.g.readyState:0}function Es(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case Oi:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function ta(i){let e="";return ci(i,function(n,o){e+=o,e+=":",e+=n,e+="\r\n"}),e}function Br(i,e,n){e:{for(o in n){var o=!1;break e}o=!0}o||(n=ta(n),"string"==typeof i?null!=n&&encodeURIComponent(String(n)):Yn(i,e,n))}function ji(i,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[i]||e}function Ci(i){this.Ca=0,this.i=[],this.j=new Rr,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=ji("failFast",!1,i),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=ji("baseRetryDelayMs",5e3,i),this.bb=ji("retryDelaySeedMs",1e4,i),this.$a=ji("forwardChannelMaxRetries",2,i),this.ta=ji("forwardChannelRequestTimeoutMs",2e4,i),this.ra=i&&i.xmlHttpFactory||void 0,this.Da=i&&i.Zb||!1,this.J=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.I="",this.h=new Ft(i&&i.concurrentRequestLimit),this.Fa=new Vn,this.O=i&&i.fastHandshake||!1,this.N=i&&i.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=i&&i.Xb||!1,i&&i.Aa&&this.j.Aa(),i&&i.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&i&&i.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function es(i){if(_a(i),3==i.G){var e=i.U++,n=Qi(i.F);Yn(n,"SID",i.I),Yn(n,"RID",e),Yn(n,"TYPE","terminate"),_o(i,n),(e=new Er(i,i.j,e,void 0)).K=2,e.v=io(Qi(n)),n=!1,K.navigator&&K.navigator.sendBeacon&&(n=K.navigator.sendBeacon(e.v.toString(),"")),!n&&K.Image&&((new Image).src=e.v,n=!0),n||(e.g=T(e.l,null),e.g.da(e.v)),e.F=Date.now(),Pi(e)}na(i)}function xs(i){i.g&&(Li(i),i.g.cancel(),i.g=null)}function _a(i){xs(i),i.u&&(K.clearTimeout(i.u),i.u=null),Lo(i),i.h.cancel(),i.m&&("number"==typeof i.m&&K.clearTimeout(i.m),i.m=null)}function Oo(i){un(i.h)||i.m||(i.m=!0,Kt(i.Ja,i),i.C=0)}function ou(i,e){var n;n=e?e.m:i.U++;const o=Qi(i.F);Yn(o,"SID",i.I),Yn(o,"RID",n),Yn(o,"AID",i.T),_o(i,o),i.o&&i.s&&Br(o,i.o,i.s),n=new Er(i,i.j,n,i.C+1),null===i.o&&(n.H=i.s),e&&(i.i=e.D.concat(i.i)),e=Ri(i,n,1e3),n.setTimeout(Math.round(.5*i.ta)+Math.round(.5*i.ta*Math.random())),zt(i.h,n),js(n,o,e)}function _o(i,e){i.ia&&ci(i.ia,function(n,o){Yn(e,o,n)}),i.l&&Xo({},function(n,o){Yn(e,o,n)})}function Ri(i,e,n){n=Math.min(i.i.length,n);var o=i.l?$t(i.l.Ra,i.l,i):null;e:{var u=i.i;let l=-1;for(;;){const p=["count="+n];-1==l?0<n?(l=u[0].h,p.push("ofs="+l)):l=0:p.push("ofs="+l);let I=!0;for(let R=0;R<n;R++){let N=u[R].h;const H=u[R].g;if(N-=l,0>N)l=Math.max(0,u[R].h-100),I=!1;else try{Mi(H,p,"req"+N+"_")}catch{o&&o(H)}}if(I){o=p.join("&");break e}}}return i=i.i.splice(0,n),e.D=i,o}function ts(i){i.g||i.u||(i.Z=1,Kt(i.Ia,i),i.A=0)}function Ms(i){return!(i.g||i.u||3<=i.A||(i.Z++,i.u=fi($t(i.Ia,i),va(i,i.A)),i.A++,0))}function Li(i){null!=i.B&&(K.clearTimeout(i.B),i.B=null)}function ns(i){i.g=new Er(i,i.j,"rpc",i.Z),null===i.o&&(i.g.H=i.s),i.g.N=0;var e=Qi(i.sa);Yn(e,"RID","rpc"),Yn(e,"SID",i.I),Yn(e,"CI",i.L?"0":"1"),Yn(e,"AID",i.T),Yn(e,"TYPE","xmlhttp"),_o(i,e),i.o&&i.s&&Br(e,i.o,i.s),i.J&&i.g.setTimeout(i.J);var n=i.g;i=i.ka,n.K=1,n.v=io(Qi(e)),n.s=null,n.P=!0,Pr(n,i)}function Lo(i){null!=i.v&&(K.clearTimeout(i.v),i.v=null)}function Fo(i,e){var n=null;if(i.g==e){Lo(i),Li(i),i.g=null;var o=2}else{if(!Nr(i.h,e))return;n=e.D,Tr(i.h,e),o=1}if(0!=i.G)if(i.pa=e.Y,e.i)if(1==o){n=e.s?e.s.length:0,e=Date.now()-e.F;var u=i.C;Ot(o=Ur(),new br(o,n,e,u)),Oo(i)}else ts(i);else if(3==(u=e.o)||0==u&&0<i.pa||!(1==o&&function bu(i,e){return!(Un(i.h)>=i.h.j-(i.m?1:0)||(i.m?(i.i=e.D.concat(i.i),0):1==i.G||2==i.G||i.C>=(i.Za?0:i.$a)||(i.m=fi($t(i.Ja,i,e),va(i,i.C)),i.C++,0)))}(i,e)||2==o&&Ms(i)))switch(n&&0<n.length&&(e=i.h,e.i=e.i.concat(n)),u){case 1:Ws(i,5);break;case 4:Ws(i,10);break;case 3:Ws(i,6);break;default:Ws(i,2)}}function va(i,e){let n=i.Xa+Math.floor(Math.random()*i.bb);return i.l||(n*=2),n*e}function Ws(i,e){if(i.j.info("Error code "+e),2==e){var n=null;i.l&&(n=null);var o=$t(i.kb,i);n||(n=new As("//www.google.com/images/cleardot.gif"),K.location&&"http"==K.location.protocol||Xi(n,"https"),io(n)),function cr(i,e){const n=new Rr;if(K.Image){const o=new Image;o.onload=_t(Ar,n,o,"TestLoadImage: loaded",!0,e),o.onerror=_t(Ar,n,o,"TestLoadImage: error",!1,e),o.onabort=_t(Ar,n,o,"TestLoadImage: abort",!1,e),o.ontimeout=_t(Ar,n,o,"TestLoadImage: timeout",!1,e),K.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(n.toString(),o)}else Pn(2);i.G=0,i.l&&i.l.va(e),na(i),_a(i)}function na(i){if(i.G=0,i.la=[],i.l){const e=Sr(i.h);(0!=e.length||0!=i.i.length)&&(ot(i.la,e),ot(i.la,i.i),i.h.i.length=0,ye(i.i),i.i.length=0),i.l.ua()}}function Uo(i,e,n){var o=n instanceof As?Qi(n):new As(n,void 0);if(""!=o.g)e&&(o.g=e+"."+o.g),ro(o,o.m);else{var u=K.location;o=u.protocol,e=e?e+"."+u.hostname:u.hostname,u=+u.port;var l=new As(null,void 0);o&&Xi(l,o),e&&(l.g=e),u&&ro(l,u),n&&(l.l=n),o=l}return e=i.za,(n=i.D)&&e&&Yn(o,n,e),Yn(o,"VER",i.ma),_o(i,o),o}function T(i,e,n){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Pt(n&&i.Da&&!i.ra?new Hn({jb:!0}):i.ra)).Ka(i.H),e}function P(){}function S(){if(Qt&&!(10<=Number(yr)))throw Error("Environmental error: no available transport.")}function B(i,e){rt.call(this),this.g=new Ci(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.S=i,(i=e&&e.Yb)&&!re(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!re(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new We(this)}function oe(i){Ct.call(this);var e=i.__sm__;if(e){e:{for(const n in e){i=n;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function Fe(){In.call(this),this.status=1}function We(i){this.g=i}(Te=Pt.prototype).Ka=function(i){this.L=i},Te.da=function(i,e,n,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ur.g(),this.C=function Ie(i){return i.h||(i.h=i.i())}(this.u?this.u:ur),this.g.onreadystatechange=$t(this.Ha,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(l){return void ea(this,l)}if(i=n||"",n=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var u in o)n.set(u,o[u]);else{if("function"!=typeof o.keys||"function"!=typeof o.get)throw Error("Unknown input type for opt_headers: "+String(o));for(const l of o.keys())n.set(l,o.get(l))}o=Array.from(n.keys()).find(l=>"content-type"==l.toLowerCase()),u=K.FormData&&i instanceof K.FormData,!(0<=Ge(ya,e))||o||u||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[l,p]of n)this.g.setRequestHeader(l,p);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{et(this),0<this.B&&((this.K=function No(i){return Qt&&function dr(){return function ir(i){var e=sr;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=i(9)}(function(){let i=0;const e=de(String(ft)).split("."),n=de("9").split("."),o=Math.max(e.length,n.length);for(let p=0;0==i&&p<o;p++){var u=e[p]||"",l=n[p]||"";do{if(u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==u[0].length&&0==l[0].length)break;i=Ke(0==u[1].length?0:parseInt(u[1],10),0==l[1].length?0:parseInt(l[1],10))||Ke(0==u[2].length,0==l[2].length)||Ke(u[2],l[2]),u=u[3],l=l[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=$t(this.qa,this)):this.A=Be(this.qa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(l){ea(this,l)}},Te.qa=function(){typeof qe<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ot(this,"timeout"),this.abort(8))},Te.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,Ot(this,"complete"),Ot(this,"abort"),yo(this))},Te.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),yo(this,!0)),Pt.X.M.call(this)},Te.Ha=function(){this.s||(this.F||this.v||this.l?ao(this):this.fb())},Te.fb=function(){ao(this)},Te.aa=function(){try{return 2<pn(this)?this.g.status:-1}catch{return-1}},Te.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},Te.Sa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),Po(e)}},Te.Ea=function(){return this.m},Te.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Te=Ci.prototype).ma=8,Te.G=1,Te.Ja=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.U=Math.floor(1e5*Math.random()),i=this.U++;const u=new Er(this,this.j,i,void 0);let l=this.s;if(this.S&&(l?(l=Zn(l),wt(l,this.S)):l=this.S),null!==this.o||this.N||(u.H=l,l=null),this.O)e:{for(var e=0,n=0;n<this.i.length;n++){var o=this.i[n];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=n;break e}if(4096===e||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Ri(this,u,e),Yn(n=Qi(this.F),"RID",i),Yn(n,"CVER",22),this.D&&Yn(n,"X-HTTP-Session-Id",this.D),_o(this,n),l&&(this.N?e="headers="+encodeURIComponent(String(ta(l)))+"&"+e:this.o&&Br(n,this.o,l)),zt(this.h,u),this.Ya&&Yn(n,"TYPE","init"),this.O?(Yn(n,"$req",e),Yn(n,"SID","null"),u.Z=!0,js(u,n,null)):js(u,n,e),this.G=2}}else 3==this.G&&(i?ou(this,i):0==this.i.length||un(this.h)||ou(this))},Te.Ia=function(){if(this.u=null,ns(this),this.$&&!(this.K||null==this.g||0>=this.P)){var i=2*this.P;this.j.info("BP detection timer enabled: "+i),this.B=fi($t(this.eb,this),i)}},Te.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Pn(10),xs(this),ns(this))},Te.cb=function(){null!=this.v&&(this.v=null,xs(this),Ms(this),Pn(19))},Te.kb=function(i){i?(this.j.info("Successfully pinged google.com"),Pn(2)):(this.j.info("Failed to ping google.com"),Pn(1))},(Te=P.prototype).xa=function(){},Te.wa=function(){},Te.va=function(){},Te.ua=function(){},Te.Ra=function(){},S.prototype.g=function(i,e){return new B(i,e)},Qe(B,rt),B.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,n=this.h||void 0;Pn(0),i.V=e,i.ia=n||{},i.L=i.Y,i.F=Uo(i,null,i.V),Oo(i)},B.prototype.close=function(){es(this.g)},B.prototype.u=function(i){var e=this.g;if("string"==typeof i){var n={};n.__data__=i,i=n}else this.v&&((n={}).__data__=ee(i),i=n);e.i.push(new class{constructor(i,e){this.h=i,this.g=e}}(e.ab++,i)),3==e.G&&Oo(e)},B.prototype.M=function(){this.g.l=null,delete this.j,es(this.g),delete this.g,B.X.M.call(this)},Qe(oe,Ct),Qe(Fe,In),Qe(We,P),We.prototype.xa=function(){Ot(this.g,"a")},We.prototype.wa=function(i){Ot(this.g,new oe(i))},We.prototype.va=function(i){Ot(this.g,new Fe(i))},We.prototype.ua=function(){Ot(this.g,"b")},S.prototype.createWebChannel=S.prototype.g,B.prototype.send=B.prototype.u,B.prototype.open=B.prototype.m,B.prototype.close=B.prototype.close,Jr.NO_ERROR=0,Jr.TIMEOUT=8,Jr.HTTP_ERROR=6,ge.COMPLETE="complete",He.EventType=at,at.OPEN="a",at.CLOSE="b",at.ERROR="c",at.MESSAGE="d",rt.prototype.listen=rt.prototype.N,Pt.prototype.listenOnce=Pt.prototype.O,Pt.prototype.getLastError=Pt.prototype.Oa,Pt.prototype.getLastErrorCode=Pt.prototype.Ea,Pt.prototype.getStatus=Pt.prototype.aa,Pt.prototype.getResponseJson=Pt.prototype.Sa,Pt.prototype.getResponseText=Pt.prototype.fa,Pt.prototype.send=Pt.prototype.da,Pt.prototype.setWithCredentials=Pt.prototype.Ka;var Mt=Ee.createWebChannelTransport=function(){return new S},nr=Ee.getStatEventTarget=function(){return Ur()},Gn=Ee.ErrorCode=Jr,fr=Ee.EventType=ge,Qn=Ee.Event=or,zn=Ee.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},rr=Ee.FetchXmlHttpFactory=Hn,Dn=Ee.WebChannel=He,Rs=Ee.XhrIo=Pt;const rs="@firebase/firestore";class wr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}wr.UNAUTHENTICATED=new wr(null),wr.GOOGLE_CREDENTIALS=new wr("google-credentials-uid"),wr.FIRST_PARTY=new wr("first-party-uid"),wr.MOCK_USER=new wr("mock-user");let mi="9.12.1";const fs=new ve.Yd("@firebase/firestore");function ra(){return fs.logLevel}function ct(i,...e){if(fs.logLevel<=ve.in.DEBUG){const n=e.map(ps);fs.debug(`Firestore (${mi}): ${i}`,...n)}}function Bn(i,...e){if(fs.logLevel<=ve.in.ERROR){const n=e.map(ps);fs.error(`Firestore (${mi}): ${i}`,...n)}}function ks(i,...e){if(fs.logLevel<=ve.in.WARN){const n=e.map(ps);fs.warn(`Firestore (${mi}): ${i}`,...n)}}function ps(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function Gt(i="Unexpected state"){const e=`FIRESTORE (${mi}) INTERNAL ASSERTION FAILED: `+i;throw Bn(e),new Error(e)}function tn(i,e){i||Gt()}function St(i,e){return i}const Ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class st extends De.ZR{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Zr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class Tu{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ba{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(wr.UNAUTHENTICATED))}shutdown(){}}class is{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Qu{constructor(e){this.t=e,this.currentUser=wr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var o=this;let u=this.i;const l=N=>this.i!==u?(u=this.i,n(N)):Promise.resolve();let p=new Zr;this.o=()=>{this.i++,this.currentUser=this.u(),p.resolve(),p=new Zr,e.enqueueRetryable(()=>l(this.currentUser))};const I=()=>{const N=p;e.enqueueRetryable((0,M.Z)(function*(){yield N.promise,yield l(o.currentUser)}))},R=N=>{ct("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=N,this.auth.addAuthTokenListener(this.o),I()};this.t.onInit(N=>R(N)),setTimeout(()=>{if(!this.auth){const N=this.t.getImmediate({optional:!0});N?R(N):(ct("FirebaseAuthCredentialsProvider","Auth not yet detected"),p.resolve(),p=new Zr)}},0),I()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(o=>this.i!==e?(ct("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(tn("string"==typeof o.accessToken),new Tu(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return tn(null===e||"string"==typeof e),new wr(e)}}class Ia{constructor(e,n,o,u){this.h=e,this.l=n,this.m=o,this.g=u,this.type="FirstParty",this.user=wr.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(tn(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class au{constructor(e,n,o,u){this.h=e,this.l=n,this.m=o,this.g=u}getToken(){return Promise.resolve(new Ia(this.h,this.l,this.m,this.g))}start(e,n){e.enqueueRetryable(()=>n(wr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class $a{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ja{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,n){const o=l=>{null!=l.error&&ct("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const p=l.token!==this.A;return this.A=l.token,ct("FirebaseAppCheckTokenProvider",`Received ${p?"new":"existing"} token.`),p?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>o(l))};const u=l=>{ct("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.T.onInit(l=>u(l)),setTimeout(()=>{if(!this.appCheck){const l=this.T.getImmediate({optional:!0});l?u(l):ct("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(tn("string"==typeof n.token),this.A=n.token,new $a(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Ea(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let o=0;o<i;o++)n[o]=Math.floor(256*Math.random());return n}class Vo{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const u=Ea(40);for(let l=0;l<u.length;++l)o.length<20&&u[l]<n&&(o+=e.charAt(u[l]%e.length))}return o}}function En(i,e){return i<e?-1:i>e?1:0}function ss(i,e,n){return i.length===e.length&&i.every((o,u)=>n(o,e[u]))}class bn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new st(Ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new st(Ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new st(Ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new st(Ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return bn.fromMillis(Date.now())}static fromDate(e){return bn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*n));return new bn(n,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?En(this.nanoseconds,e.nanoseconds):En(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class hn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new hn(e)}static min(){return new hn(new bn(0,0))}static max(){return new hn(new bn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class uo{constructor(e,n,o){void 0===n?n=0:n>e.length&&Gt(),void 0===o?o=e.length-n:o>e.length-n&&Gt(),this.segments=e,this.offset=n,this.len=o}get length(){return this.len}isEqual(e){return 0===uo.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof uo?e.forEach(o=>{n.push(o)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,o=this.limit();n<o;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const o=Math.min(e.length,n.length);for(let u=0;u<o;u++){const l=e.get(u),p=n.get(u);if(l<p)return-1;if(l>p)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Xn extends uo{construct(e,n,o){return new Xn(e,n,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const o of e){if(o.indexOf("//")>=0)throw new st(Ue.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);n.push(...o.split("/").filter(u=>u.length>0))}return new Xn(n)}static emptyPath(){return new Xn([])}}const uu=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class pr extends uo{construct(e,n,o){return new pr(e,n,o)}static isValidIdentifier(e){return uu.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),pr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new pr(["__name__"])}static fromServerFormat(e){const n=[];let o="",u=0;const l=()=>{if(0===o.length)throw new st(Ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(o),o=""};let p=!1;for(;u<e.length;){const I=e[u];if("\\"===I){if(u+1===e.length)throw new st(Ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const R=e[u+1];if("\\"!==R&&"."!==R&&"`"!==R)throw new st(Ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=R,u+=2}else"`"===I?(p=!p,u++):"."!==I||p?(o+=I,u++):(l(),u++)}if(l(),p)throw new st(Ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new pr(n)}static emptyPath(){return new pr([])}}class Tt{constructor(e){this.path=e}static fromPath(e){return new Tt(Xn.fromString(e))}static fromName(e){return new Tt(Xn.fromString(e).popFirst(5))}static empty(){return new Tt(Xn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Xn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return Xn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Tt(new Xn(e.slice()))}}function Da(i){return new ki(i.readTime,i.key,-1)}class ki{constructor(e,n,o){this.readTime=e,this.documentKey=n,this.largestBatchId=o}static min(){return new ki(hn.min(),Tt.empty(),-1)}static max(){return new ki(hn.max(),Tt.empty(),-1)}}function cu(i,e){let n=i.readTime.compareTo(e.readTime);return 0!==n?n:(n=Tt.comparator(i.documentKey,e.documentKey),0!==n?n:En(i.largestBatchId,e.largestBatchId))}const co="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";function Ns(i){return ii.apply(this,arguments)}function ii(){return ii=(0,M.Z)(function*(i){if(i.code!==Ue.FAILED_PRECONDITION||i.message!==co)throw i;ct("LocalStore","Unexpectedly lost primary lease")}),ii.apply(this,arguments)}class Me{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Gt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Me((o,u)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(o,u)},this.catchCallback=l=>{this.wrapFailure(n,l).next(o,u)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Me?n:Me.resolve(n)}catch(n){return Me.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Me.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Me.reject(n)}static resolve(e){return new Me((n,o)=>{n(e)})}static reject(e){return new Me((n,o)=>{o(e)})}static waitFor(e){return new Me((n,o)=>{let u=0,l=0,p=!1;e.forEach(I=>{++u,I.next(()=>{++l,p&&l===u&&n()},R=>o(R))}),p=!0,l===u&&n()})}static or(e){let n=Me.resolve(!1);for(const o of e)n=n.next(u=>u?Me.resolve(u):o());return n}static forEach(e,n){const o=[];return e.forEach((u,l)=>{o.push(n.call(this,u,l))}),this.waitFor(o)}static mapArray(e,n){return new Me((o,u)=>{const l=e.length,p=new Array(l);let I=0;for(let R=0;R<l;R++){const N=R;n(e[N]).next(H=>{p[N]=H,++I,I===l&&o(p)},H=>u(H))}})}static doWhile(e,n){return new Me((o,u)=>{const l=()=>{!0===e()?n().next(()=>{l()},u):o()};l()})}}function Ls(i){return"IndexedDbTransactionError"===i.name}class yi{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=o=>this.ut(o),this.ct=o=>n.writeSequenceNumber(o))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function aa(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function lo(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function bo(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}yi.at=-1;class gn{constructor(e,n){this.comparator=e,this.root=n||Fi.EMPTY}insert(e,n){return new gn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Fi.BLACK,null,null))}remove(e){return new gn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Fi.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const o=this.comparator(e,n.key);if(0===o)return n.value;o<0?n=n.left:o>0&&(n=n.right)}return null}indexOf(e){let n=0,o=this.root;for(;!o.isEmpty();){const u=this.comparator(e,o.key);if(0===u)return n+o.left.size;u<0?o=o.left:(n+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,o)=>(e(n,o),!1))}toString(){const e=[];return this.inorderTraversal((n,o)=>(e.push(`${n}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xu(this.root,e,this.comparator,!0)}}class Xu{constructor(e,n,o,u){this.isReverse=u,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?o(e.key,n):1,n&&u&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Fi{constructor(e,n,o,u,l){this.key=e,this.value=n,this.color=o??Fi.RED,this.left=u??Fi.EMPTY,this.right=l??Fi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,o,u,l){return new Fi(e??this.key,n??this.value,o??this.color,u??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,o){let u=this;const l=o(e,u.key);return u=l<0?u.copy(null,null,null,u.left.insert(e,n,o),null):0===l?u.copy(null,n,null,null,null):u.copy(null,null,null,null,u.right.insert(e,n,o)),u.fixUp()}removeMin(){if(this.left.isEmpty())return Fi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let o,u=this;if(n(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,n),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===n(e,u.key)){if(u.right.isEmpty())return Fi.EMPTY;o=u.right.min(),u=u.copy(o.key,o.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,n))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Fi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Fi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Gt();const e=this.left.check();if(e!==this.right.check())throw Gt();return e+(this.isRed()?0:1)}}Fi.EMPTY=null,Fi.RED=!0,Fi.BLACK=!1,Fi.EMPTY=new class{constructor(){this.size=0}get key(){throw Gt()}get value(){throw Gt()}get color(){throw Gt()}get left(){throw Gt()}get right(){throw Gt()}copy(i,e,n,o,u){return this}insert(i,e,n){return new Fi(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Or{constructor(e){this.comparator=e,this.data=new gn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,o)=>(e(n),!1))}forEachInRange(e,n){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const u=o.getNext();if(this.comparator(u.key,e[1])>=0)return;n(u.key)}}forEachWhile(e,n){let o;for(o=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new lu(this.data.getIterator())}getIteratorFrom(e){return new lu(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(o=>{n=n.add(o)}),n}isEqual(e){if(!(e instanceof Or)||this.size!==e.size)return!1;const n=this.data.getIterator(),o=e.data.getIterator();for(;n.hasNext();){const u=n.getNext().key,l=o.getNext().key;if(0!==this.comparator(u,l))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Or(this.comparator);return n.data=e,n}}class lu{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class gs{constructor(e){this.fields=e,e.sort(pr.comparator)}static empty(){return new gs([])}unionWith(e){let n=new Or(pr.comparator);for(const o of this.fields)n=n.add(o);for(const o of e)n=n.add(o);return new gs(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ss(this.fields,e.fields,(n,o)=>n.isEqual(o))}}class zr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new zr(n)}static fromUint8Array(e){const n=function(o){let u="";for(let l=0;l<o.length;++l)u+=String.fromCharCode(o[l]);return u}(e);return new zr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let o=0;o<e.length;o++)n[o]=e.charCodeAt(o);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return En(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}zr.EMPTY_BYTE_STRING=new zr("");const Cu=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ca(i){if(tn(!!i),"string"==typeof i){let e=0;const n=Cu.exec(i);if(tn(!!n),n[1]){let u=n[1];u=(u+"000000000").substr(0,9),e=Number(u)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:mn(i.seconds),nanos:mn(i.nanos)}}function mn(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function Ho(i){return"string"==typeof i?zr.fromBase64String(i):zr.fromUint8Array(i)}function Vs(i){var e,n;return"server_timestamp"===(null===(n=((null===(e=i?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Sc(i){const e=i.mapValue.fields.__previous_value__;return Vs(e)?Sc(e):e}function To(i){const e=Ca(i.mapValue.fields.__local_write_time__.timestampValue);return new bn(e.seconds,e.nanos)}class _i{constructor(e,n,o,u,l,p,I,R){this.databaseId=e,this.appId=n,this.persistenceKey=o,this.host=u,this.ssl=l,this.forceLongPolling=p,this.autoDetectLongPolling=I,this.useFetchStreams=R}}class Si{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Si("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Si&&e.projectId===this.projectId&&e.database===this.database}}function Sa(i){return null==i}function Ks(i){return 0===i&&1/i==-1/0}const Wi_mapValue={fields:{__type__:{stringValue:"__max__"}}};function Co(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Vs(i)?4:lr(i)?9007199254740991:10:Gt()}function So(i,e){if(i===e)return!0;const n=Co(i);if(n!==Co(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return To(i).isEqual(To(e));case 3:return function(o,u){if("string"==typeof o.timestampValue&&"string"==typeof u.timestampValue&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const l=Ca(o.timestampValue),p=Ca(u.timestampValue);return l.seconds===p.seconds&&l.nanos===p.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return u=e,Ho(i.bytesValue).isEqual(Ho(u.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return mn(o.geoPointValue.latitude)===mn(u.geoPointValue.latitude)&&mn(o.geoPointValue.longitude)===mn(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return mn(o.integerValue)===mn(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const l=mn(o.doubleValue),p=mn(u.doubleValue);return l===p?Ks(l)===Ks(p):isNaN(l)&&isNaN(p)}return!1}(i,e);case 9:return ss(i.arrayValue.values||[],e.arrayValue.values||[],So);case 10:return function(o,u){const l=o.mapValue.fields||{},p=u.mapValue.fields||{};if(aa(l)!==aa(p))return!1;for(const I in l)if(l.hasOwnProperty(I)&&(void 0===p[I]||!So(l[I],p[I])))return!1;return!0}(i,e);default:return Gt()}var u}function y(i,e){return void 0!==(i.values||[]).find(n=>So(n,e))}function _(i,e){if(i===e)return 0;const n=Co(i),o=Co(e);if(n!==o)return En(n,o);switch(n){case 0:case 9007199254740991:return 0;case 1:return En(i.booleanValue,e.booleanValue);case 2:return function(u,l){const p=mn(u.integerValue||u.doubleValue),I=mn(l.integerValue||l.doubleValue);return p<I?-1:p>I?1:p===I?0:isNaN(p)?isNaN(I)?0:-1:1}(i,e);case 3:return g(i.timestampValue,e.timestampValue);case 4:return g(To(i),To(e));case 5:return En(i.stringValue,e.stringValue);case 6:return function(u,l){const p=Ho(u),I=Ho(l);return p.compareTo(I)}(i.bytesValue,e.bytesValue);case 7:return function(u,l){const p=u.split("/"),I=l.split("/");for(let R=0;R<p.length&&R<I.length;R++){const N=En(p[R],I[R]);if(0!==N)return N}return En(p.length,I.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,l){const p=En(mn(u.latitude),mn(l.latitude));return 0!==p?p:En(mn(u.longitude),mn(l.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(u,l){const p=u.values||[],I=l.values||[];for(let R=0;R<p.length&&R<I.length;++R){const N=_(p[R],I[R]);if(N)return N}return En(p.length,I.length)}(i.arrayValue,e.arrayValue);case 10:return function(u,l){if(u===Wi_mapValue&&l===Wi_mapValue)return 0;if(u===Wi_mapValue)return 1;if(l===Wi_mapValue)return-1;const p=u.fields||{},I=Object.keys(p),R=l.fields||{},N=Object.keys(R);I.sort(),N.sort();for(let H=0;H<I.length&&H<N.length;++H){const se=En(I[H],N[H]);if(0!==se)return se;const Re=_(p[I[H]],R[N[H]]);if(0!==Re)return Re}return En(I.length,N.length)}(i.mapValue,e.mapValue);default:throw Gt()}}function g(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return En(i,e);const n=Ca(i),o=Ca(e),u=En(n.seconds,o.seconds);return 0!==u?u:En(n.nanos,o.nanos)}function D(i){return A(i)}function A(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(o){const u=Ca(o);return`time(${u.seconds},${u.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?Ho(i.bytesValue).toBase64():"referenceValue"in i?Tt.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(o){let u="[",l=!0;for(const p of o.values||[])l?l=!1:u+=",",u+=A(p);return u+"]"}(i.arrayValue):"mapValue"in i?function(o){const u=Object.keys(o.fields||{}).sort();let l="{",p=!0;for(const I of u)p?p=!1:l+=",",l+=`${I}:${A(o.fields[I])}`;return l+"}"}(i.mapValue):Gt();var e}function Y(i){return!!i&&"integerValue"in i}function X(i){return!!i&&"arrayValue"in i}function Ne(i){return!!i&&"nullValue"in i}function pt(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function on(i){return!!i&&"mapValue"in i}function At(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return lo(i.mapValue.fields,(n,o)=>e.mapValue.fields[n]=At(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=At(i.arrayValue.values[n]);return e}return Object.assign({},i)}function lr(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}class ti{constructor(e){this.value=e}static empty(){return new ti({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let o=0;o<e.length-1;++o)if(n=(n.mapValue.fields||{})[e.get(o)],!on(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=At(n)}setAll(e){let n=pr.emptyPath(),o={},u=[];e.forEach((p,I)=>{if(!n.isImmediateParentOf(I)){const R=this.getFieldsMap(n);this.applyChanges(R,o,u),o={},u=[],n=I.popLast()}p?o[I.lastSegment()]=At(p):u.push(I.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,o,u)}delete(e){const n=this.field(e.popLast());on(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return So(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let o=0;o<e.length;++o){let u=n.mapValue.fields[e.get(o)];on(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},n.mapValue.fields[e.get(o)]=u),n=u}return n.mapValue.fields}applyChanges(e,n,o){lo(n,(u,l)=>e[u]=l);for(const u of o)delete e[u]}clone(){return new ti(At(this.value))}}function Ao(i){const e=[];return lo(i.fields,(n,o)=>{const u=new pr([n]);if(on(o)){const l=Ao(o.mapValue).fields;if(0===l.length)e.push(u);else for(const p of l)e.push(u.child(p))}else e.push(u)}),new gs(e)}class gr{constructor(e,n,o,u,l,p){this.key=e,this.documentType=n,this.version=o,this.readTime=u,this.data=l,this.documentState=p}static newInvalidDocument(e){return new gr(e,0,hn.min(),hn.min(),ti.empty(),0)}static newFoundDocument(e,n,o){return new gr(e,1,n,hn.min(),o,0)}static newNoDocument(e,n){return new gr(e,2,n,hn.min(),ti.empty(),0)}static newUnknownDocument(e,n){return new gr(e,3,n,hn.min(),ti.empty(),2)}convertToFoundDocument(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ti.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ti.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=hn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof gr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gr(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ac{constructor(e,n=null,o=[],u=[],l=null,p=null,I=null){this.path=e,this.collectionGroup=n,this.orderBy=o,this.filters=u,this.limit=l,this.startAt=p,this.endAt=I,this.ht=null}}function Go(i,e=null,n=[],o=[],u=null,l=null,p=null){return new Ac(i,e,n,o,u,l,p)}function za(i){const e=St(i);if(null===e.ht){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(o=>{return(u=o).field.canonicalString()+u.op.toString()+D(u.value);var u}).join(","),n+="|ob:",n+=e.orderBy.map(o=>{return(u=o).field.canonicalString()+u.dir;var u}).join(","),Sa(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(o=>D(o)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(o=>D(o)).join(",")),e.ht=n}return e.ht}function Zs(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let u=0;u<i.orderBy.length;u++)if(!wi(i.orderBy[u],e.orderBy[u]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let u=0;u<i.filters.length;u++)if((n=i.filters[u]).op!==(o=e.filters[u]).op||!n.field.isEqual(o.field)||!So(n.value,o.value))return!1;var n,o;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Wa(i.startAt,e.startAt)&&Wa(i.endAt,e.endAt)}function Ju(i){return Tt.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}class x extends class{}{constructor(e,n,o){super(),this.field=e,this.op=n,this.value=o}static create(e,n,o){return e.isKeyField()?"in"===n||"not-in"===n?this.lt(e,n,o):new L(e,n,o):"array-contains"===n?new it(e,o):"in"===n?new Dt(e,o):"not-in"===n?new cn(e,o):"array-contains-any"===n?new An(e,o):new x(e,n,o)}static lt(e,n,o){return"in"===n?new Z(e,o):new pe(e,o)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.ft(_(n,this.value)):null!==n&&Co(this.value)===Co(n)&&this.ft(_(n,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Gt()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class L extends x{constructor(e,n,o){super(e,n,o),this.key=Tt.fromName(o.referenceValue)}matches(e){const n=Tt.comparator(e.key,this.key);return this.ft(n)}}class Z extends x{constructor(e,n){super(e,"in",n),this.keys=ke(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class pe extends x{constructor(e,n){super(e,"not-in",n),this.keys=ke(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function ke(i,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(o=>Tt.fromName(o.referenceValue))}class it extends x{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return X(n)&&y(n.arrayValue,this.value)}}class Dt extends x{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&y(this.value.arrayValue,n)}}class cn extends x{constructor(e,n){super(e,"not-in",n)}matches(e){if(y(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!y(this.value.arrayValue,n)}}class An extends x{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!X(n)||!n.arrayValue.values)&&n.arrayValue.values.some(o=>y(this.value.arrayValue,o))}}class xn{constructor(e,n){this.position=e,this.inclusive=n}}class nn{constructor(e,n="asc"){this.field=e,this.dir=n}}function wi(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}function qi(i,e,n){let o=0;for(let u=0;u<i.position.length;u++){const l=e[u],p=i.position[u];if(o=l.field.isKeyField()?Tt.comparator(Tt.fromName(p.referenceValue),n.key):_(p,n.data.field(l.field)),"desc"===l.dir&&(o*=-1),0!==o)break}return o}function Wa(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!So(i.position[n],e.position[n]))return!1;return!0}class ms{constructor(e,n=null,o=[],u=[],l=null,p="F",I=null,R=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=o,this.filters=u,this.limit=l,this.limitType=p,this.startAt=I,this.endAt=R,this._t=null,this.wt=null}}function ho(i){return new ms(i)}function ca(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function da(i){const e=St(i);if(null===e._t){e._t=[];const n=function la(i){for(const e of i.filters)if(e.dt())return e.field;return null}(e),o=function zo(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}(e);if(null!==n&&null===o)n.isKeyField()||e._t.push(new nn(n)),e._t.push(new nn(pr.keyField(),"asc"));else{let u=!1;for(const l of e.explicitOrderBy)e._t.push(l),l.field.isKeyField()&&(u=!0);if(!u){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new nn(pr.keyField(),l))}}}return e._t}function Ys(i){const e=St(i);if(!e.wt)if("F"===e.limitType)e.wt=Go(e.path,e.collectionGroup,da(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const l of da(e))n.push(new nn(l.field,"desc"===l.dir?"asc":"desc"));const o=e.endAt?new xn(e.endAt.position,e.endAt.inclusive):null,u=e.startAt?new xn(e.startAt.position,e.startAt.inclusive):null;e.wt=Go(e.path,e.collectionGroup,n,e.filters,e.limit,o,u)}return e.wt}function hu(i,e,n){return new ms(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function ec(i,e){return Zs(Ys(i),Ys(e))&&i.limitType===e.limitType}function md(i){return`${za(Ys(i))}|lt:${i.limitType}`}function Au(i){return`Query(target=${function Su(i){let e=i.path.canonicalString();return null!==i.collectionGroup&&(e+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(e+=`, filters: [${i.filters.map(n=>{return`${(o=n).field.canonicalString()} ${o.op} ${D(o.value)}`;var o}).join(", ")}]`),Sa(i.limit)||(e+=", limit: "+i.limit),i.orderBy.length>0&&(e+=`, orderBy: [${i.orderBy.map(n=>{return`${(o=n).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),i.startAt&&(e+=", startAt: ",e+=i.startAt.inclusive?"b:":"a:",e+=i.startAt.position.map(n=>D(n)).join(",")),i.endAt&&(e+=", endAt: ",e+=i.endAt.inclusive?"a:":"b:",e+=i.endAt.position.map(n=>D(n)).join(",")),`Target(${e})`}(Ys(i))}; limitType=${i.limitType})`}function xc(i,e){return e.isFoundDocument()&&function(n,o){const u=o.key.path;return null!==n.collectionGroup?o.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(u):Tt.isDocumentKey(n.path)?n.path.isEqual(u):n.path.isImmediateParentOf(u)}(i,e)&&function(n,o){for(const u of n.explicitOrderBy)if(!u.field.isKeyField()&&null===o.data.field(u.field))return!1;return!0}(i,e)&&function(n,o){for(const u of n.filters)if(!u.matches(o))return!1;return!0}(i,e)&&(o=e,!((n=i).startAt&&!function(u,l,p){const I=qi(u,l,p);return u.inclusive?I<=0:I<0}(n.startAt,da(n),o)||n.endAt&&!function(u,l,p){const I=qi(u,l,p);return u.inclusive?I>=0:I>0}(n.endAt,da(n),o)));var n,o}function yl(i){return(e,n)=>{let o=!1;for(const u of da(i)){const l=Cp(u,e,n);if(0!==l)return l;o=o||u.field.isKeyField()}return 0}}function Cp(i,e,n){const o=i.field.isKeyField()?Tt.comparator(e.key,n.key):function(u,l,p){const I=l.data.field(u),R=p.data.field(u);return null!==I&&null!==R?_(I,R):Gt()}(i.field,e,n);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return Gt()}}function _l(i,e){if(i.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ks(e)?"-0":e}}function vl(i){return{integerValue:""+i}}function Mc(i,e){return function Ga(i){return"number"==typeof i&&Number.isInteger(i)&&!Ks(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}(e)?vl(e):_l(i,e)}class Rc{constructor(){this._=void 0}}function _d(i,e,n){return i instanceof xo?function(o,u){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&(l.fields.__previous_value__=u),{mapValue:l}}(n,e):i instanceof fu?vd(i,e):i instanceof xu?tc(i,e):function(o,u){const l=Pc(o,u),p=wl(l)+wl(o.yt);return Y(l)&&Y(o.yt)?vl(p):_l(o.It,p)}(i,e)}function kc(i,e,n){return i instanceof fu?vd(i,e):i instanceof xu?tc(i,e):n}function Pc(i,e){return i instanceof xa?Y(n=e)||(o=n)&&"doubleValue"in o?e:{integerValue:0}:null;var o,n}class xo extends Rc{}class fu extends Rc{constructor(e){super(),this.elements=e}}function vd(i,e){const n=nc(e);for(const o of i.elements)n.some(u=>So(u,o))||n.push(o);return{arrayValue:{values:n}}}class xu extends Rc{constructor(e){super(),this.elements=e}}function tc(i,e){let n=nc(e);for(const o of i.elements)n=n.filter(u=>!So(u,o));return{arrayValue:{values:n}}}class xa extends Rc{constructor(e,n){super(),this.It=e,this.yt=n}}function wl(i){return mn(i.integerValue||i.doubleValue)}function nc(i){return X(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Sp{constructor(e,n){this.version=e,this.transformResults=n}}class oi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new oi}static exists(e){return new oi(void 0,e)}static updateTime(e){return new oi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Il(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class rc{}function El(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new ka(i.key,oi.none()):new ic(i.key,i.data,oi.none());{const n=i.data,o=ti.empty();let u=new Or(pr.comparator);for(let l of e.fields)if(!u.has(l)){let p=n.field(l);null===p&&l.length>1&&(l=l.popLast(),p=n.field(l)),null===p?o.delete(l):o.set(l,p),u=u.add(l)}return new Ra(i.key,o,new gs(u.toArray()),oi.none())}}function qa(i,e,n){i instanceof ic?function(o,u,l){const p=o.value.clone(),I=Zh(o.fieldTransforms,u,l.transformResults);p.setAll(I),u.convertToFoundDocument(l.version,p).setHasCommittedMutations()}(i,e,n):i instanceof Ra?function(o,u,l){if(!Il(o.precondition,u))return void u.convertToUnknownDocument(l.version);const p=Zh(o.fieldTransforms,u,l.transformResults),I=u.data;I.setAll(Kh(o)),I.setAll(p),u.convertToFoundDocument(l.version,I).setHasCommittedMutations()}(i,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Ma(i,e,n,o){return i instanceof ic?function(u,l,p,I){if(!Il(u.precondition,l))return p;const R=u.value.clone(),N=Nc(u.fieldTransforms,I,l);return R.setAll(N),l.convertToFoundDocument(l.version,R).setHasLocalMutations(),null}(i,e,n,o):i instanceof Ra?function(u,l,p,I){if(!Il(u.precondition,l))return p;const R=Nc(u.fieldTransforms,I,l),N=l.data;return N.setAll(Kh(u)),N.setAll(R),l.convertToFoundDocument(l.version,N).setHasLocalMutations(),null===p?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(H=>H.field))}(i,e,n,o):(p=n,Il(i.precondition,l=e)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):p);var l,p}function Wh(i,e){let n=null;for(const o of i.fieldTransforms){const u=e.data.field(o.field),l=Pc(o.transform,u||null);null!=l&&(null===n&&(n=ti.empty()),n.set(o.field,l))}return n||null}function qh(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(n=i.fieldTransforms)&&void 0===o||n&&o&&ss(n,o,(u,l)=>function wd(i,e){return i.field.isEqual(e.field)&&(o=e.transform,(n=i.transform)instanceof fu&&o instanceof fu||n instanceof xu&&o instanceof xu?ss(n.elements,o.elements,So):n instanceof xa&&o instanceof xa?So(n.yt,o.yt):n instanceof xo&&o instanceof xo);var n,o}(u,l))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var n,o}class ic extends rc{constructor(e,n,o,u=[]){super(),this.key=e,this.value=n,this.precondition=o,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class Ra extends rc{constructor(e,n,o,u,l=[]){super(),this.key=e,this.data=n,this.fieldMask=o,this.precondition=u,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Kh(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const o=i.data.field(n);e.set(n,o)}}),e}function Zh(i,e,n){const o=new Map;tn(i.length===n.length);for(let u=0;u<n.length;u++){const l=i[u],p=l.transform,I=e.data.field(l.field);o.set(l.field,kc(p,I,n[u]))}return o}function Nc(i,e,n){const o=new Map;for(const u of i){const l=u.transform,p=n.data.field(u.field);o.set(u.field,_d(l,p,e))}return o}class ka extends rc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Oc extends rc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ap{constructor(e){this.count=e}}var Ai,mr;function ha(i){switch(i){default:return Gt();case Ue.CANCELLED:case Ue.UNKNOWN:case Ue.DEADLINE_EXCEEDED:case Ue.RESOURCE_EXHAUSTED:case Ue.INTERNAL:case Ue.UNAVAILABLE:case Ue.UNAUTHENTICATED:return!1;case Ue.INVALID_ARGUMENT:case Ue.NOT_FOUND:case Ue.ALREADY_EXISTS:case Ue.PERMISSION_DENIED:case Ue.FAILED_PRECONDITION:case Ue.ABORTED:case Ue.OUT_OF_RANGE:case Ue.UNIMPLEMENTED:case Ue.DATA_LOSS:return!0}}function Ru(i){if(void 0===i)return Bn("GRPC error has no .code"),Ue.UNKNOWN;switch(i){case Ai.OK:return Ue.OK;case Ai.CANCELLED:return Ue.CANCELLED;case Ai.UNKNOWN:return Ue.UNKNOWN;case Ai.DEADLINE_EXCEEDED:return Ue.DEADLINE_EXCEEDED;case Ai.RESOURCE_EXHAUSTED:return Ue.RESOURCE_EXHAUSTED;case Ai.INTERNAL:return Ue.INTERNAL;case Ai.UNAVAILABLE:return Ue.UNAVAILABLE;case Ai.UNAUTHENTICATED:return Ue.UNAUTHENTICATED;case Ai.INVALID_ARGUMENT:return Ue.INVALID_ARGUMENT;case Ai.NOT_FOUND:return Ue.NOT_FOUND;case Ai.ALREADY_EXISTS:return Ue.ALREADY_EXISTS;case Ai.PERMISSION_DENIED:return Ue.PERMISSION_DENIED;case Ai.FAILED_PRECONDITION:return Ue.FAILED_PRECONDITION;case Ai.ABORTED:return Ue.ABORTED;case Ai.OUT_OF_RANGE:return Ue.OUT_OF_RANGE;case Ai.UNIMPLEMENTED:return Ue.UNIMPLEMENTED;case Ai.DATA_LOSS:return Ue.DATA_LOSS;default:return Gt()}}(mr=Ai||(Ai={}))[mr.OK=0]="OK",mr[mr.CANCELLED=1]="CANCELLED",mr[mr.UNKNOWN=2]="UNKNOWN",mr[mr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",mr[mr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",mr[mr.NOT_FOUND=5]="NOT_FOUND",mr[mr.ALREADY_EXISTS=6]="ALREADY_EXISTS",mr[mr.PERMISSION_DENIED=7]="PERMISSION_DENIED",mr[mr.UNAUTHENTICATED=16]="UNAUTHENTICATED",mr[mr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",mr[mr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",mr[mr.ABORTED=10]="ABORTED",mr[mr.OUT_OF_RANGE=11]="OUT_OF_RANGE",mr[mr.UNIMPLEMENTED=12]="UNIMPLEMENTED",mr[mr.INTERNAL=13]="INTERNAL",mr[mr.UNAVAILABLE=14]="UNAVAILABLE",mr[mr.DATA_LOSS=15]="DATA_LOSS";class Pa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0!==o)for(const[u,l]of o)if(this.equalsFn(u,e))return l}has(e){return void 0!==this.get(e)}set(e,n){const o=this.mapKeyFn(e),u=this.inner[o];if(void 0===u)return this.inner[o]=[[e,n]],void this.innerSize++;for(let l=0;l<u.length;l++)if(this.equalsFn(u[l][0],e))return void(u[l]=[e,n]);u.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0===o)return!1;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return 1===o.length?delete this.inner[n]:o.splice(u,1),this.innerSize--,!0;return!1}forEach(e){lo(this.inner,(n,o)=>{for(const[u,l]of o)e(u,l)})}isEmpty(){return bo(this.inner)}size(){return this.innerSize}}const Id=new gn(Tt.comparator);function Bs(){return Id}const xp=new gn(Tt.comparator);function Dl(...i){let e=xp;for(const n of i)e=e.insert(n.key,n);return e}function Mp(i){let e=xp;return i.forEach((n,o)=>e=e.insert(n,o.overlayedDocument)),e}function qo(){return Tl()}function bl(){return Tl()}function Tl(){return new Pa(i=>i.toString(),(i,e)=>i.isEqual(e))}const gm=new gn(Tt.comparator),Yh=new Or(Tt.comparator);function Wn(...i){let e=Yh;for(const n of i)e=e.add(n);return e}const Rp=new Or(En);function Cl(){return Rp}class Lc{constructor(e,n,o,u,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=o,this.documentUpdates=u,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,o){const u=new Map;return u.set(e,ku.createSynthesizedTargetChangeForCurrentChange(e,n,o)),new Lc(hn.min(),u,Cl(),Bs(),Wn())}}class ku{constructor(e,n,o,u,l){this.resumeToken=e,this.current=n,this.addedDocuments=o,this.modifiedDocuments=u,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,o){return new ku(o,n,Wn(),Wn(),Wn())}}class Pu{constructor(e,n,o,u){this.Tt=e,this.removedTargetIds=n,this.key=o,this.Et=u}}class Qh{constructor(e,n){this.targetId=e,this.At=n}}class Sl{constructor(e,n,o=zr.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=n,this.resumeToken=o,this.cause=u}}class Xh{constructor(){this.Rt=0,this.bt=ef(),this.Pt=zr.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=Wn(),n=Wn(),o=Wn();return this.bt.forEach((u,l)=>{switch(l){case 0:e=e.add(u);break;case 2:n=n.add(u);break;case 1:o=o.add(u);break;default:Gt()}}),new ku(this.Pt,this.vt,e,n,o)}Nt(){this.Vt=!1,this.bt=ef()}kt(e,n){this.Vt=!0,this.bt=this.bt.insert(e,n)}Ot(e){this.Vt=!0,this.bt=this.bt.remove(e)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class Ki{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=Bs(),this.qt=Jh(),this.Kt=new Or(En)}Gt(e){for(const n of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(n,e.Et):this.jt(n,e.key,e.Et);for(const n of e.removedTargetIds)this.jt(n,e.key,e.Et)}Wt(e){this.forEachTarget(e,n=>{const o=this.zt(n);switch(e.state){case 0:this.Ht(n)&&o.Ct(e.resumeToken);break;case 1:o.Ft(),o.St||o.Nt(),o.Ct(e.resumeToken);break;case 2:o.Ft(),o.St||this.removeTarget(n);break;case 3:this.Ht(n)&&(o.$t(),o.Ct(e.resumeToken));break;case 4:this.Ht(n)&&(this.Jt(n),o.Ct(e.resumeToken));break;default:Gt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Lt.forEach((o,u)=>{this.Ht(u)&&n(u)})}Yt(e){const n=e.targetId,o=e.At.count,u=this.Xt(n);if(u){const l=u.target;if(Ju(l))if(0===o){const p=new Tt(l.path);this.jt(n,p,gr.newNoDocument(p,hn.min()))}else tn(1===o);else this.Zt(n)!==o&&(this.Jt(n),this.Kt=this.Kt.add(n))}}te(e){const n=new Map;this.Lt.forEach((l,p)=>{const I=this.Xt(p);if(I){if(l.current&&Ju(I.target)){const R=new Tt(I.target.path);null!==this.Ut.get(R)||this.ee(p,R)||this.jt(p,R,gr.newNoDocument(R,e))}l.Dt&&(n.set(p,l.xt()),l.Nt())}});let o=Wn();this.qt.forEach((l,p)=>{let I=!0;p.forEachWhile(R=>{const N=this.Xt(R);return!N||2===N.purpose||(I=!1,!1)}),I&&(o=o.add(l))}),this.Ut.forEach((l,p)=>p.setReadTime(e));const u=new Lc(e,n,this.Kt,this.Ut,o);return this.Ut=Bs(),this.qt=Jh(),this.Kt=new Or(En),u}Qt(e,n){if(!this.Ht(e))return;const o=this.ee(e,n.key)?2:0;this.zt(e).kt(n.key,o),this.Ut=this.Ut.insert(n.key,n),this.qt=this.qt.insert(n.key,this.ne(n.key).add(e))}jt(e,n,o){if(!this.Ht(e))return;const u=this.zt(e);this.ee(e,n)?u.kt(n,1):u.Ot(n),this.qt=this.qt.insert(n,this.ne(n).delete(e)),o&&(this.Ut=this.Ut.insert(n,o))}removeTarget(e){this.Lt.delete(e)}Zt(e){const n=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Mt(e){this.zt(e).Mt()}zt(e){let n=this.Lt.get(e);return n||(n=new Xh,this.Lt.set(e,n)),n}ne(e){let n=this.qt.get(e);return n||(n=new Or(En),this.qt=this.qt.insert(e,n)),n}Ht(e){const n=null!==this.Xt(e);return n||ct("WatchChangeAggregator","Detected inactive target",e),n}Xt(e){const n=this.Lt.get(e);return n&&n.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new Xh),this.Bt.getRemoteKeysForTarget(e).forEach(n=>{this.jt(e,n,null)})}ee(e,n){return this.Bt.getRemoteKeysForTarget(e).has(n)}}function Jh(){return new gn(Tt.comparator)}function ef(){return new gn(Tt.comparator)}const Ed={asc:"ASCENDING",desc:"DESCENDING"},tf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class kp{constructor(e,n){this.databaseId=e,this.gt=n}}function Fc(i,e){return i.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function nf(i,e){return i.gt?e.toBase64():e.toUint8Array()}function Pp(i,e){return Fc(i,e.toTimestamp())}function ys(i){return tn(!!i),hn.fromTimestamp(function(e){const n=Ca(e);return new bn(n.seconds,n.nanos)}(i))}function rf(i,e){return(n=i,new Xn(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function Np(i){const e=Xn.fromString(i);return tn(v(e)),e}function Ka(i,e){return rf(i.databaseId,e.path)}function Ko(i,e){const n=Np(e);if(n.get(1)!==i.databaseId.projectId)throw new st(Ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new st(Ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new Tt(sf(n))}function Al(i,e){return rf(i.databaseId,e)}function Nu(i){return new Xn(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function sf(i){return tn(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function Dd(i,e,n){return{name:Ka(i,e),fields:n.value.mapValue.fields}}function Cd(i,e){return{documents:[Al(i,e.path)]}}function Za(i,e){const n={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(n.parent=Al(i,o),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Al(i,o.popLast()),n.structuredQuery.from=[{collectionId:o.lastSegment()}]);const u=function(R){if(0===R.length)return;const N=R.map(H=>function(se){if("=="===se.op){if(pt(se.value))return{unaryFilter:{field:Ya(se.field),op:"IS_NAN"}};if(Ne(se.value))return{unaryFilter:{field:Ya(se.field),op:"IS_NULL"}}}else if("!="===se.op){if(pt(se.value))return{unaryFilter:{field:Ya(se.field),op:"IS_NOT_NAN"}};if(Ne(se.value))return{unaryFilter:{field:Ya(se.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ya(se.field),op:Ml(se.op),value:se.value}}}(H));return 1===N.length?N[0]:{compositeFilter:{op:"AND",filters:N}}}(e.filters);u&&(n.structuredQuery.where=u);const l=function(R){if(0!==R.length)return R.map(N=>{return{field:Ya((H=N).field),direction:Op(H.dir)};var H})}(e.orderBy);l&&(n.structuredQuery.orderBy=l);const p=(N=e.limit,i.gt||Sa(N)?N:{value:N});var N,I,R;return null!==p&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt={before:(I=e.startAt).inclusive,values:I.position}),e.endAt&&(n.structuredQuery.endAt={before:!(R=e.endAt).inclusive,values:R.position}),n}function Sd(i){let e=function xl(i){const e=Np(i);return 4===e.length?Xn.emptyPath():sf(e)}(i.parent);const n=i.structuredQuery,o=n.from?n.from.length:0;let u=null;if(o>0){tn(1===o);const H=n.from[0];H.allDescendants?u=H.collectionId:e=e.child(H.collectionId)}let l=[];n.where&&(l=Vc(n.where));let p=[];n.orderBy&&(p=n.orderBy.map(H=>{return new nn(Zo((se=H).field),function(Re){switch(Re){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(se.direction));var se}));let I=null;n.limit&&(I=function(H){let se;return se="object"==typeof H?H.value:H,Sa(se)?null:se}(n.limit));let R=null;var H;n.startAt&&(R=new xn((H=n.startAt).values||[],!!H.before));let N=null;return n.endAt&&(N=function(H){return new xn(H.values||[],!H.before)}(n.endAt)),function Aa(i,e,n,o,u,l,p,I){return new ms(i,e,n,o,u,l,p,I)}(e,u,p,l,I,"F",R,N)}function Vc(i){return i?void 0!==i.unaryFilter?[xd(i)]:void 0!==i.fieldFilter?[uf(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(e=>Vc(e)).reduce((e,n)=>e.concat(n)):Gt():[]}function Op(i){return Ed[i]}function Ml(i){return tf[i]}function Ya(i){return{fieldPath:i.canonicalString()}}function Zo(i){return pr.fromServerFormat(i.fieldPath)}function uf(i){return x.create(Zo(i.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Gt()}}(i.fieldFilter.op),i.fieldFilter.value)}function xd(i){switch(i.unaryFilter.op){case"IS_NAN":const e=Zo(i.unaryFilter.field);return x.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=Zo(i.unaryFilter.field);return x.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Zo(i.unaryFilter.field);return x.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Zo(i.unaryFilter.field);return x.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Gt()}}function Lp(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function v(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}class Fp{constructor(e,n,o,u){this.batchId=e,this.localWriteTime=n,this.baseMutations=o,this.mutations=u}applyToRemoteDocument(e,n){const o=n.mutationResults;for(let u=0;u<this.mutations.length;u++){const l=this.mutations[u];l.key.isEqual(e.key)&&qa(l,e,o[u])}}applyToLocalView(e,n){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(n=Ma(o,e,n,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(n=Ma(o,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const o=bl();return this.mutations.forEach(u=>{const l=e.get(u.key),p=l.overlayedDocument;let I=this.applyToLocalView(p,l.mutatedFields);I=n.has(u.key)?null:I;const R=El(p,I);null!==R&&o.set(u.key,R),p.isValidDocument()||p.convertToNoDocument(hn.min())}),o}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Wn())}isEqual(e){return this.batchId===e.batchId&&ss(this.mutations,e.mutations,(n,o)=>qh(n,o))&&ss(this.baseMutations,e.baseMutations,(n,o)=>qh(n,o))}}class Up{constructor(e,n,o,u){this.batch=e,this.commitVersion=n,this.mutationResults=o,this.docVersions=u}static from(e,n,o){tn(e.mutations.length===o.length);let u=gm;const l=e.mutations;for(let p=0;p<l.length;p++)u=u.insert(l[p].key,o[p].version);return new Up(e,n,o,u)}}class Nl{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class ac{constructor(e,n,o,u,l=hn.min(),p=hn.min(),I=zr.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=o,this.sequenceNumber=u,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=p,this.resumeToken=I}withSequenceNumber(e){return new ac(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new ac(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new ac(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class _m{constructor(e){this.re=e}}function Od(i){const e=Sd({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?hu(e,e.limit,"L"):e}class cc{constructor(){}ce(e,n){this.ae(e,n),n.he()}ae(e,n){if("nullValue"in e)this.le(n,5);else if("booleanValue"in e)this.le(n,10),n.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(n,15),n.fe(mn(e.integerValue));else if("doubleValue"in e){const o=mn(e.doubleValue);isNaN(o)?this.le(n,13):(this.le(n,15),Ks(o)?n.fe(0):n.fe(o))}else if("timestampValue"in e){const o=e.timestampValue;this.le(n,20),"string"==typeof o?n.de(o):(n.de(`${o.seconds||""}`),n.fe(o.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,n),this.we(n);else if("bytesValue"in e)this.le(n,30),n.me(Ho(e.bytesValue)),this.we(n);else if("referenceValue"in e)this.ge(e.referenceValue,n);else if("geoPointValue"in e){const o=e.geoPointValue;this.le(n,45),n.fe(o.latitude||0),n.fe(o.longitude||0)}else"mapValue"in e?lr(e)?this.le(n,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,n),this.we(n)):"arrayValue"in e?(this.pe(e.arrayValue,n),this.we(n)):Gt()}_e(e,n){this.le(n,25),this.Ie(e,n)}Ie(e,n){n.de(e)}ye(e,n){const o=e.fields||{};this.le(n,55);for(const u of Object.keys(o))this._e(u,n),this.ae(o[u],n)}pe(e,n){const o=e.values||[];this.le(n,50);for(const u of o)this.ae(u,n)}ge(e,n){this.le(n,37),Tt.fromName(e).path.forEach(o=>{this.le(n,60),this.Ie(o,n)})}le(e,n){e.fe(n)}we(e){e.fe(2)}}cc.Te=new cc;class fo{constructor(){this.Ye=new Ul}addToCollectionParentIndex(e,n){return this.Ye.add(n),Me.resolve()}getCollectionParents(e,n){return Me.resolve(this.Ye.getEntries(n))}addFieldIndex(e,n){return Me.resolve()}deleteFieldIndex(e,n){return Me.resolve()}getDocumentsMatchingTarget(e,n){return Me.resolve(null)}getIndexType(e,n){return Me.resolve(0)}getFieldIndexes(e,n){return Me.resolve([])}getNextCollectionGroupToUpdate(e){return Me.resolve(null)}getMinOffset(e,n){return Me.resolve(ki.min())}getMinOffsetFromCollectionGroup(e,n){return Me.resolve(ki.min())}updateCollectionGroup(e,n,o){return Me.resolve()}updateIndexEntries(e,n){return Me.resolve()}}class Ul{constructor(){this.index={}}add(e){const n=e.lastSegment(),o=e.popLast(),u=this.index[n]||new Or(Xn.comparator),l=!u.has(o);return this.index[n]=u.add(o),l}has(e){const n=e.lastSegment(),o=e.popLast(),u=this.index[n];return u&&u.has(o)}getEntries(e){return(this.index[e]||new Or(Xn.comparator)).toArray()}}new Uint8Array(0);class Mo{constructor(e,n,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new Mo(e,Mo.DEFAULT_COLLECTION_PERCENTILE,Mo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Mo.DEFAULT_COLLECTION_PERCENTILE=10,Mo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mo.DEFAULT=new Mo(41943040,Mo.DEFAULT_COLLECTION_PERCENTILE,Mo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mo.DISABLED=new Mo(-1,0,0);class dc{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new dc(0)}static vn(){return new dc(-1)}}class Zp{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class Sm{constructor(e,n,o,u){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=o,this.indexManager=u}getDocument(e,n){let o=null;return this.documentOverlayCache.getOverlay(e,n).next(u=>(o=u,this.getBaseDocument(e,n,o))).next(u=>(null!==o&&Ma(o.mutation,u,gs.empty(),bn.now()),u))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.getLocalViewOfDocuments(e,o,Wn()).next(()=>o))}getLocalViewOfDocuments(e,n,o=Wn()){const u=qo();return this.populateOverlays(e,u,n).next(()=>this.computeViews(e,n,u,o).next(l=>{let p=Dl();return l.forEach((I,R)=>{p=p.insert(I,R.overlayedDocument)}),p}))}getOverlayedDocuments(e,n){const o=qo();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,Wn()))}populateOverlays(e,n,o){const u=[];return o.forEach(l=>{n.has(l)||u.push(l)}),this.documentOverlayCache.getOverlays(e,u).next(l=>{l.forEach((p,I)=>{n.set(p,I)})})}computeViews(e,n,o,u){let l=Bs();const p=Tl(),I=Tl();return n.forEach((R,N)=>{const H=o.get(N.key);u.has(N.key)&&(void 0===H||H.mutation instanceof Ra)?l=l.insert(N.key,N):void 0!==H&&(p.set(N.key,H.mutation.getFieldMask()),Ma(H.mutation,N,H.mutation.getFieldMask(),bn.now()))}),this.recalculateAndSaveOverlays(e,l).next(R=>(R.forEach((N,H)=>p.set(N,H)),n.forEach((N,H)=>{var se;return I.set(N,new Zp(H,null!==(se=p.get(N))&&void 0!==se?se:null))}),I))}recalculateAndSaveOverlays(e,n){const o=Tl();let u=new gn((p,I)=>p-I),l=Wn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(p=>{for(const I of p)I.keys().forEach(R=>{const N=n.get(R);if(null===N)return;let H=o.get(R)||gs.empty();H=I.applyToLocalView(N,H),o.set(R,H);const se=(u.get(I.batchId)||Wn()).add(R);u=u.insert(I.batchId,se)})}).next(()=>{const p=[],I=u.getReverseIterator();for(;I.hasNext();){const R=I.getNext(),N=R.key,H=R.value,se=bl();H.forEach(Re=>{if(!l.has(Re)){const Ze=El(n.get(Re),o.get(Re));null!==Ze&&se.set(Re,Ze),l=l.add(Re)}}),p.push(this.documentOverlayCache.saveOverlays(e,N,se))}return Me.waitFor(p)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,n,o){return Tt.isDocumentKey((u=n).path)&&null===u.collectionGroup&&0===u.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):function Wo(i){return null!==i.collectionGroup}(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,o):this.getDocumentsMatchingCollectionQuery(e,n,o);var u}getNextDocuments(e,n,o,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,o,u).next(l=>{const p=u-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,o.largestBatchId,u-l.size):Me.resolve(qo());let I=-1,R=l;return p.next(N=>Me.forEach(N,(H,se)=>(I<se.largestBatchId&&(I=se.largestBatchId),l.get(H)?Me.resolve():this.getBaseDocument(e,H,se).next(Re=>{R=R.insert(H,Re)}))).next(()=>this.populateOverlays(e,N,l)).next(()=>this.computeViews(e,R,N,Wn())).next(H=>({batchId:I,changes:Mp(H)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Tt(n)).next(o=>{let u=Dl();return o.isFoundDocument()&&(u=u.insert(o.key,o)),u})}getDocumentsMatchingCollectionGroupQuery(e,n,o){const u=n.collectionGroup;let l=Dl();return this.indexManager.getCollectionParents(e,u).next(p=>Me.forEach(p,I=>{const R=(N=n,H=I.child(u),new ms(H,null,N.explicitOrderBy.slice(),N.filters.slice(),N.limit,N.limitType,N.startAt,N.endAt));var N,H;return this.getDocumentsMatchingCollectionQuery(e,R,o).next(N=>{N.forEach((H,se)=>{l=l.insert(H,se)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,o){let u;return this.remoteDocumentCache.getAllFromCollection(e,n.path,o).next(l=>(u=l,this.documentOverlayCache.getOverlaysForCollection(e,n.path,o.largestBatchId))).next(l=>{l.forEach((I,R)=>{const N=R.getKey();null===u.get(N)&&(u=u.insert(N,gr.newInvalidDocument(N)))});let p=Dl();return u.forEach((I,R)=>{const N=l.get(I);void 0!==N&&Ma(N.mutation,R,gs.empty(),bn.now()),xc(n,R)&&(p=p.insert(I,R))}),p})}getBaseDocument(e,n,o){return null===o||1===o.mutation.type?this.remoteDocumentCache.getEntry(e,n):Me.resolve(gr.newInvalidDocument(n))}}class qc{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,n){return Me.resolve(this.Zn.get(n))}saveBundleMetadata(e,n){var o;return this.Zn.set(n.id,{id:(o=n).id,version:o.version,createTime:ys(o.createTime)}),Me.resolve()}getNamedQuery(e,n){return Me.resolve(this.ts.get(n))}saveNamedQuery(e,n){return this.ts.set(n.name,{name:(o=n).name,query:Od(o.bundledQuery),readTime:ys(o.readTime)}),Me.resolve();var o}}class _f{constructor(){this.overlays=new gn(Tt.comparator),this.es=new Map}getOverlay(e,n){return Me.resolve(this.overlays.get(n))}getOverlays(e,n){const o=qo();return Me.forEach(n,u=>this.getOverlay(e,u).next(l=>{null!==l&&o.set(u,l)})).next(()=>o)}saveOverlays(e,n,o){return o.forEach((u,l)=>{this.ue(e,n,l)}),Me.resolve()}removeOverlaysForBatchId(e,n,o){const u=this.es.get(o);return void 0!==u&&(u.forEach(l=>this.overlays=this.overlays.remove(l)),this.es.delete(o)),Me.resolve()}getOverlaysForCollection(e,n,o){const u=qo(),l=n.length+1,p=new Tt(n.child("")),I=this.overlays.getIteratorFrom(p);for(;I.hasNext();){const R=I.getNext().value,N=R.getKey();if(!n.isPrefixOf(N.path))break;N.path.length===l&&R.largestBatchId>o&&u.set(R.getKey(),R)}return Me.resolve(u)}getOverlaysForCollectionGroup(e,n,o,u){let l=new gn((N,H)=>N-H);const p=this.overlays.getIterator();for(;p.hasNext();){const N=p.getNext().value;if(N.getKey().getCollectionGroup()===n&&N.largestBatchId>o){let H=l.get(N.largestBatchId);null===H&&(H=qo(),l=l.insert(N.largestBatchId,H)),H.set(N.getKey(),N)}}const I=qo(),R=l.getIterator();for(;R.hasNext()&&(R.getNext().value.forEach((N,H)=>I.set(N,H)),!(I.size()>=u)););return Me.resolve(I)}ue(e,n,o){const u=this.overlays.get(o.key);if(null!==u){const p=this.es.get(u.largestBatchId).delete(o.key);this.es.set(u.largestBatchId,p)}this.overlays=this.overlays.insert(o.key,new Nl(n,o));let l=this.es.get(n);void 0===l&&(l=Wn(),this.es.set(n,l)),this.es.set(n,l.add(o.key))}}class $d{constructor(){this.ns=new Or(bs.ss),this.rs=new Or(bs.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,n){const o=new bs(e,n);this.ns=this.ns.add(o),this.rs=this.rs.add(o)}us(e,n){e.forEach(o=>this.addReference(o,n))}removeReference(e,n){this.cs(new bs(e,n))}hs(e,n){e.forEach(o=>this.removeReference(o,n))}ls(e){const n=new Tt(new Xn([])),o=new bs(n,e),u=new bs(n,e+1),l=[];return this.rs.forEachInRange([o,u],p=>{this.cs(p),l.push(p.key)}),l}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const n=new Tt(new Xn([])),o=new bs(n,e),u=new bs(n,e+1);let l=Wn();return this.rs.forEachInRange([o,u],p=>{l=l.add(p.key)}),l}containsKey(e){const n=new bs(e,0),o=this.ns.firstAfterOrEqual(n);return null!==o&&e.isEqual(o.key)}}class bs{constructor(e,n){this.key=e,this._s=n}static ss(e,n){return Tt.comparator(e.key,n.key)||En(e._s,n._s)}static os(e,n){return En(e._s,n._s)||Tt.comparator(e.key,n.key)}}class vf{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new Or(bs.ss)}checkEmpty(e){return Me.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,o,u){const l=this.ws;this.ws++;const p=new Fp(l,n,o,u);this.mutationQueue.push(p);for(const I of u)this.gs=this.gs.add(new bs(I.key,l)),this.indexManager.addToCollectionParentIndex(e,I.key.path.popLast());return Me.resolve(p)}lookupMutationBatch(e,n){return Me.resolve(this.ys(n))}getNextMutationBatchAfterBatchId(e,n){const u=this.ps(n+1),l=u<0?0:u;return Me.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return Me.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return Me.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const o=new bs(n,0),u=new bs(n,Number.POSITIVE_INFINITY),l=[];return this.gs.forEachInRange([o,u],p=>{const I=this.ys(p._s);l.push(I)}),Me.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let o=new Or(En);return n.forEach(u=>{const l=new bs(u,0),p=new bs(u,Number.POSITIVE_INFINITY);this.gs.forEachInRange([l,p],I=>{o=o.add(I._s)})}),Me.resolve(this.Is(o))}getAllMutationBatchesAffectingQuery(e,n){const o=n.path,u=o.length+1;let l=o;Tt.isDocumentKey(l)||(l=l.child(""));const p=new bs(new Tt(l),0);let I=new Or(En);return this.gs.forEachWhile(R=>{const N=R.key.path;return!!o.isPrefixOf(N)&&(N.length===u&&(I=I.add(R._s)),!0)},p),Me.resolve(this.Is(I))}Is(e){const n=[];return e.forEach(o=>{const u=this.ys(o);null!==u&&n.push(u)}),n}removeMutationBatch(e,n){tn(0===this.Ts(n.batchId,"removed")),this.mutationQueue.shift();let o=this.gs;return Me.forEach(n.mutations,u=>{const l=new bs(u.key,n.batchId);return o=o.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.gs=o})}An(e){}containsKey(e,n){const o=new bs(n,0),u=this.gs.firstAfterOrEqual(o);return Me.resolve(n.isEqual(u&&u.key))}performConsistencyCheck(e){return Me.resolve()}Ts(e,n){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const n=this.ps(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Am{constructor(e){this.Es=e,this.docs=new gn(Tt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const o=n.key,u=this.docs.get(o),l=u?u.size:0,p=this.Es(n);return this.docs=this.docs.insert(o,{document:n.mutableCopy(),size:p}),this.size+=p-l,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const o=this.docs.get(n);return Me.resolve(o?o.document.mutableCopy():gr.newInvalidDocument(n))}getEntries(e,n){let o=Bs();return n.forEach(u=>{const l=this.docs.get(u);o=o.insert(u,l?l.document.mutableCopy():gr.newInvalidDocument(u))}),Me.resolve(o)}getAllFromCollection(e,n,o){let u=Bs();const l=new Tt(n.child("")),p=this.docs.getIteratorFrom(l);for(;p.hasNext();){const{key:I,value:{document:R}}=p.getNext();if(!n.isPrefixOf(I.path))break;I.path.length>n.length+1||cu(Da(R),o)<=0||(u=u.insert(R.key,R.mutableCopy()))}return Me.resolve(u)}getAllFromCollectionGroup(e,n,o,u){Gt()}As(e,n){return Me.forEach(this.docs,o=>n(o))}newChangeBuffer(e){return new xm(this)}getSize(e){return Me.resolve(this.size)}}class xm extends class mf{constructor(){this.changes=new Pa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,gr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const o=this.changes.get(n);return void 0!==o?Me.resolve(o):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.Yn=e}applyChanges(e){const n=[];return this.changes.forEach((o,u)=>{u.isValidDocument()?n.push(this.Yn.addEntry(e,u)):this.Yn.removeEntry(o)}),Me.waitFor(n)}getFromCache(e,n){return this.Yn.getEntry(e,n)}getAllFromCache(e,n){return this.Yn.getEntries(e,n)}}class Mm{constructor(e){this.persistence=e,this.Rs=new Pa(n=>za(n),Zs),this.lastRemoteSnapshotVersion=hn.min(),this.highestTargetId=0,this.bs=0,this.Ps=new $d,this.targetCount=0,this.vs=dc.Pn()}forEachTarget(e,n){return this.Rs.forEach((o,u)=>n(u)),Me.resolve()}getLastRemoteSnapshotVersion(e){return Me.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Me.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),Me.resolve(this.highestTargetId)}setTargetsMetadata(e,n,o){return o&&(this.lastRemoteSnapshotVersion=o),n>this.bs&&(this.bs=n),Me.resolve()}Dn(e){this.Rs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.vs=new dc(n),this.highestTargetId=n),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,n){return this.Dn(n),this.targetCount+=1,Me.resolve()}updateTargetData(e,n){return this.Dn(n),Me.resolve()}removeTargetData(e,n){return this.Rs.delete(n.target),this.Ps.ls(n.targetId),this.targetCount-=1,Me.resolve()}removeTargets(e,n,o){let u=0;const l=[];return this.Rs.forEach((p,I)=>{I.sequenceNumber<=n&&null===o.get(I.targetId)&&(this.Rs.delete(p),l.push(this.removeMatchingKeysForTargetId(e,I.targetId)),u++)}),Me.waitFor(l).next(()=>u)}getTargetCount(e){return Me.resolve(this.targetCount)}getTargetData(e,n){const o=this.Rs.get(n)||null;return Me.resolve(o)}addMatchingKeys(e,n,o){return this.Ps.us(n,o),Me.resolve()}removeMatchingKeys(e,n,o){this.Ps.hs(n,o);const u=this.persistence.referenceDelegate,l=[];return u&&n.forEach(p=>{l.push(u.markPotentiallyOrphaned(e,p))}),Me.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.Ps.ls(n),Me.resolve()}getMatchingKeysForTargetId(e,n){const o=this.Ps.ds(n);return Me.resolve(o)}containsKey(e,n){return Me.resolve(this.Ps.containsKey(n))}}class Yp{constructor(e,n){this.Vs={},this.overlays={},this.Ss=new yi(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new Mm(this),this.indexManager=new fo,this.remoteDocumentCache=new Am(o=>this.referenceDelegate.xs(o)),this.It=new _m(n),this.Ns=new qc(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new _f,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let o=this.Vs[e.toKey()];return o||(o=new vf(n,this.referenceDelegate),this.Vs[e.toKey()]=o),o}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,n,o){ct("MemoryPersistence","Starting transaction:",e);const u=new Rm(this.Ss.next());return this.referenceDelegate.ks(),o(u).next(l=>this.referenceDelegate.Os(u).next(()=>l)).toPromise().then(l=>(u.raiseOnCommittedEvent(),l))}Ms(e,n){return Me.or(Object.values(this.Vs).map(o=>()=>o.containsKey(e,n)))}}class Rm extends class sa{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class jd{constructor(e){this.persistence=e,this.Fs=new $d,this.$s=null}static Bs(e){return new jd(e)}get Ls(){if(this.$s)return this.$s;throw Gt()}addReference(e,n,o){return this.Fs.addReference(o,n),this.Ls.delete(o.toString()),Me.resolve()}removeReference(e,n,o){return this.Fs.removeReference(o,n),this.Ls.add(o.toString()),Me.resolve()}markPotentiallyOrphaned(e,n){return this.Ls.add(n.toString()),Me.resolve()}removeTarget(e,n){this.Fs.ls(n.targetId).forEach(u=>this.Ls.add(u.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,n.targetId).next(u=>{u.forEach(l=>this.Ls.add(l.toString()))}).next(()=>o.removeTargetData(e,n))}ks(){this.$s=new Set}Os(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Me.forEach(this.Ls,o=>{const u=Tt.fromPath(o);return this.Us(e,u).next(l=>{l||n.removeEntry(u,hn.min())})}).next(()=>(this.$s=null,n.apply(e)))}updateLimboDocument(e,n){return this.Us(e,n).next(o=>{o?this.Ls.delete(n.toString()):this.Ls.add(n.toString())})}xs(e){return 0}Us(e,n){return Me.or([()=>Me.resolve(this.Fs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ms(e,n)])}}class qd{constructor(e,n,o,u){this.targetId=e,this.fromCache=n,this.Si=o,this.Di=u}static Ci(e,n){let o=Wn(),u=Wn();for(const l of n.docChanges)switch(l.type){case 0:o=o.add(l.doc.key);break;case 1:u=u.add(l.doc.key)}return new qd(e,n.fromCache,o,u)}}class Bu{constructor(){this.xi=!1}initialize(e,n){this.Ni=e,this.indexManager=n,this.xi=!0}getDocumentsMatchingQuery(e,n,o,u){return this.ki(e,n).next(l=>l||this.Oi(e,n,u,o)).next(l=>l||this.Mi(e,n))}ki(e,n){if(ca(n))return Me.resolve(null);let o=Ys(n);return this.indexManager.getIndexType(e,o).next(u=>0===u?null:(null!==n.limit&&1===u&&(n=hu(n,null,"F"),o=Ys(n)),this.indexManager.getDocumentsMatchingTarget(e,o).next(l=>{const p=Wn(...l);return this.Ni.getDocuments(e,p).next(I=>this.indexManager.getMinOffset(e,o).next(R=>{const N=this.Fi(n,I);return this.$i(n,N,p,R.readTime)?this.ki(e,hu(n,null,"F")):this.Bi(e,N,n,R)}))})))}Oi(e,n,o,u){return ca(n)||u.isEqual(hn.min())?this.Mi(e,n):this.Ni.getDocuments(e,o).next(l=>{const p=this.Fi(n,l);return this.$i(n,p,o,u)?this.Mi(e,n):(ra()<=ve.in.DEBUG&&ct("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),Au(n)),this.Bi(e,p,n,function qs(i,e){const n=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,u=hn.fromTimestamp(1e9===o?new bn(n+1,0):new bn(n,o));return new ki(u,Tt.empty(),e)}(u,-1)))})}Fi(e,n){let o=new Or(yl(e));return n.forEach((u,l)=>{xc(e,l)&&(o=o.add(l))}),o}$i(e,n,o,u){if(null===e.limit)return!1;if(o.size!==n.size)return!0;const l="F"===e.limitType?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(u)>0)}Mi(e,n){return ra()<=ve.in.DEBUG&&ct("QueryEngine","Using full collection scan to execute query:",Au(n)),this.Ni.getDocumentsMatchingQuery(e,n,ki.min())}Bi(e,n,o,u){return this.Ni.getDocumentsMatchingQuery(e,o,u).next(l=>(n.forEach(p=>{l=l.insert(p.key,p)}),l))}}class Xp{constructor(e,n,o,u){this.persistence=e,this.Li=n,this.It=u,this.Ui=new gn(En),this.qi=new Pa(l=>za(l),Zs),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(o)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Sm(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ui))}}function Jp(i,e){return eg.apply(this,arguments)}function eg(){return eg=(0,M.Z)(function*(i,e){const n=St(i);return yield n.persistence.runTransaction("Handle user change","readonly",o=>{let u;return n.mutationQueue.getAllMutationBatches(o).next(l=>(u=l,n.Qi(e),n.mutationQueue.getAllMutationBatches(o))).next(l=>{const p=[],I=[];let R=Wn();for(const N of u){p.push(N.batchId);for(const H of N.mutations)R=R.add(H.key)}for(const N of l){I.push(N.batchId);for(const H of N.mutations)R=R.add(H.key)}return n.localDocuments.getDocuments(o,R).next(N=>({ji:N,removedBatchIds:p,addedBatchIds:I}))})})}),eg.apply(this,arguments)}function Kd(i,e){const n=St(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const u=e.batch.keys(),l=n.Gi.newChangeBuffer({trackRemovals:!0});return function(p,I,R,N){const H=R.batch,se=H.keys();let Re=Me.resolve();return se.forEach(Ze=>{Re=Re.next(()=>N.getEntry(I,Ze)).next(tt=>{const Vt=R.docVersions.get(Ze);tn(null!==Vt),tt.version.compareTo(Vt)<0&&(H.applyToRemoteDocument(tt,R),tt.isValidDocument()&&(tt.setReadTime(R.commitVersion),N.addEntry(tt)))})}),Re.next(()=>p.mutationQueue.removeMutationBatch(I,H))}(n,o,e,l).next(()=>l.apply(o)).next(()=>n.mutationQueue.performConsistencyCheck(o)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(o,u,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(p){let I=Wn();for(let R=0;R<p.mutationResults.length;++R)p.mutationResults[R].transformResults.length>0&&(I=I.add(p.batch.mutations[R].key));return I}(e))).next(()=>n.localDocuments.getDocuments(o,u))})}function tg(i){const e=St(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Cs.getLastRemoteSnapshotVersion(n))}function ng(i,e){const n=St(i),o=e.snapshotVersion;let u=n.Ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const p=n.Gi.newChangeBuffer({trackRemovals:!0});u=n.Ui;const I=[];e.targetChanges.forEach((H,se)=>{const Re=u.get(se);if(!Re)return;I.push(n.Cs.removeMatchingKeys(l,H.removedDocuments,se).next(()=>n.Cs.addMatchingKeys(l,H.addedDocuments,se)));let Ze=Re.withSequenceNumber(l.currentSequenceNumber);var tt,Vt,Yt;e.targetMismatches.has(se)?Ze=Ze.withResumeToken(zr.EMPTY_BYTE_STRING,hn.min()).withLastLimboFreeSnapshotVersion(hn.min()):H.resumeToken.approximateByteSize()>0&&(Ze=Ze.withResumeToken(H.resumeToken,o)),u=u.insert(se,Ze),Vt=Ze,Yt=H,(0===(tt=Re).resumeToken.approximateByteSize()||Vt.snapshotVersion.toMicroseconds()-tt.snapshotVersion.toMicroseconds()>=3e8||Yt.addedDocuments.size+Yt.modifiedDocuments.size+Yt.removedDocuments.size>0)&&I.push(n.Cs.updateTargetData(l,Ze))});let R=Bs(),N=Wn();if(e.documentUpdates.forEach(H=>{e.resolvedLimboDocuments.has(H)&&I.push(n.persistence.referenceDelegate.updateLimboDocument(l,H))}),I.push(function If(i,e,n){let o=Wn(),u=Wn();return n.forEach(l=>o=o.add(l)),e.getEntries(i,o).next(l=>{let p=Bs();return n.forEach((I,R)=>{const N=l.get(I);R.isFoundDocument()!==N.isFoundDocument()&&(u=u.add(I)),R.isNoDocument()&&R.version.isEqual(hn.min())?(e.removeEntry(I,R.readTime),p=p.insert(I,R)):!N.isValidDocument()||R.version.compareTo(N.version)>0||0===R.version.compareTo(N.version)&&N.hasPendingWrites?(e.addEntry(R),p=p.insert(I,R)):ct("LocalStore","Ignoring outdated watch update for ",I,". Current version:",N.version," Watch version:",R.version)}),{Wi:p,zi:u}})}(l,p,e.documentUpdates).next(H=>{R=H.Wi,N=H.zi})),!o.isEqual(hn.min())){const H=n.Cs.getLastRemoteSnapshotVersion(l).next(se=>n.Cs.setTargetsMetadata(l,l.currentSequenceNumber,o));I.push(H)}return Me.waitFor(I).next(()=>p.apply(l)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,R,N)).next(()=>R)}).then(l=>(n.Ui=u,l))}function rg(i,e){const n=St(i);return n.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function $u(i,e){const n=St(i);return n.persistence.runTransaction("Allocate target","readwrite",o=>{let u;return n.Cs.getTargetData(o,e).next(l=>l?(u=l,Me.resolve(u)):n.Cs.allocateTargetId(o).next(p=>(u=new ac(e,p,0,o.currentSequenceNumber),n.Cs.addTargetData(o,u).next(()=>u))))}).then(o=>{const u=n.Ui.get(o.targetId);return(null===u||o.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(n.Ui=n.Ui.insert(o.targetId,o),n.qi.set(e,o.targetId)),o})}function fc(i,e,n){return Kc.apply(this,arguments)}function Kc(){return Kc=(0,M.Z)(function*(i,e,n){const o=St(i),u=o.Ui.get(e),l=n?"readwrite":"readwrite-primary";try{n||(yield o.persistence.runTransaction("Release target",l,p=>o.persistence.referenceDelegate.removeTarget(p,u)))}catch(p){if(!Ls(p))throw p;ct("LocalStore",`Failed to update sequence numbers for target ${e}: ${p}`)}o.Ui=o.Ui.remove(e),o.qi.delete(u.target)}),Kc.apply(this,arguments)}function pc(i,e,n){const o=St(i);let u=hn.min(),l=Wn();return o.persistence.runTransaction("Execute query","readonly",p=>function(I,R,N){const H=St(I),se=H.qi.get(N);return void 0!==se?Me.resolve(H.Ui.get(se)):H.Cs.getTargetData(R,N)}(o,p,Ys(e)).next(I=>{if(I)return u=I.lastLimboFreeSnapshotVersion,o.Cs.getMatchingKeysForTargetId(p,I.targetId).next(R=>{l=R})}).next(()=>o.Li.getDocumentsMatchingQuery(p,e,n?u:hn.min(),n?l:Wn())).next(I=>(function Df(i,e,n){let o=i.Ki.get(e)||hn.min();n.forEach((u,l)=>{l.readTime.compareTo(o)>0&&(o=l.readTime)}),i.Ki.set(e,o)}(o,function yd(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}(e),I),{documents:I,Hi:l})))}class Cf{constructor(){this.activeTargetIds=Cl()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class og{constructor(){this.Lr=new Cf,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,o){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,n,o){this.Ur[e]=n}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new Cf,Promise.resolve()}handleUserChange(e,n,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Pm{qr(e){}shutdown(){}}class fa{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){ct("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){ct("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Nm={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ag{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class Om extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,n,o,u,l){const p=this.ho(e,n);ct("RestConnection","Sending: ",p,o);const I={};return this.lo(I,u,l),this.fo(e,p,I,o).then(R=>(ct("RestConnection","Received: ",R),R),R=>{throw ks("RestConnection",`${e} failed with error: `,R,"url: ",p,"request:",o),R})}_o(e,n,o,u,l,p){return this.ao(e,n,o,u,l)}lo(e,n,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+mi,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((u,l)=>e[l]=u),o&&o.headers.forEach((u,l)=>e[l]=u)}ho(e,n){return`${this.oo}/v1/${n}:${Nm[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,n,o,u){return new Promise((l,p)=>{const I=new Rs;I.setWithCredentials(!0),I.listenOnce(fr.COMPLETE,()=>{try{switch(I.getLastErrorCode()){case Gn.NO_ERROR:const N=I.getResponseJson();ct("Connection","XHR received:",JSON.stringify(N)),l(N);break;case Gn.TIMEOUT:ct("Connection",'RPC "'+e+'" timed out'),p(new st(Ue.DEADLINE_EXCEEDED,"Request time out"));break;case Gn.HTTP_ERROR:const H=I.getStatus();if(ct("Connection",'RPC "'+e+'" failed with status:',H,"response text:",I.getResponseText()),H>0){const se=I.getResponseJson().error;if(se&&se.status&&se.message){const Re=function(Ze){const tt=Ze.toLowerCase().replace(/_/g,"-");return Object.values(Ue).indexOf(tt)>=0?tt:Ue.UNKNOWN}(se.status);p(new st(Re,se.message))}else p(new st(Ue.UNKNOWN,"Server responded with status "+I.getStatus()))}else p(new st(Ue.UNAVAILABLE,"Connection failed."));break;default:Gt()}}finally{ct("Connection",'RPC "'+e+'" completed.')}});const R=JSON.stringify(u);I.send(n,"POST",R,o,15)})}wo(e,n,o){const u=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=Mt(),p=nr(),I={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(I.xmlHttpFactory=new rr({})),this.lo(I.initMessageHeaders,n,o),I.encodeInitMessageHeaders=!0;const R=u.join("");ct("Connection","Creating WebChannel: "+R,I);const N=l.createWebChannel(R,I);let H=!1,se=!1;const Re=new ag({Hr:tt=>{se?ct("Connection","Not sending because WebChannel is closed:",tt):(H||(ct("Connection","Opening WebChannel transport."),N.open(),H=!0),ct("Connection","WebChannel sending:",tt),N.send(tt))},Jr:()=>N.close()}),Ze=(tt,Vt,Yt)=>{tt.listen(Vt,Fr=>{try{Yt(Fr)}catch(ui){setTimeout(()=>{throw ui},0)}})};return Ze(N,Dn.EventType.OPEN,()=>{se||ct("Connection","WebChannel transport opened.")}),Ze(N,Dn.EventType.CLOSE,()=>{se||(se=!0,ct("Connection","WebChannel transport closed"),Re.io())}),Ze(N,Dn.EventType.ERROR,tt=>{se||(se=!0,ks("Connection","WebChannel transport errored:",tt),Re.io(new st(Ue.UNAVAILABLE,"The operation could not be completed")))}),Ze(N,Dn.EventType.MESSAGE,tt=>{var Vt;if(!se){const Yt=tt.data[0];tn(!!Yt);const Fr=Yt,ui=Fr.error||(null===(Vt=Fr[0])||void 0===Vt?void 0:Vt.error);if(ui){ct("Connection","WebChannel received error:",ui);const $r=ui.status;let Zi=function(jr){const Cs=Ai[jr];if(void 0!==Cs)return Ru(Cs)}($r),Yr=ui.message;void 0===Zi&&(Zi=Ue.INTERNAL,Yr="Unknown error status: "+$r+" with message "+ui.message),se=!0,Re.io(new st(Zi,Yr)),N.close()}else ct("Connection","WebChannel received:",Yt),Re.ro(Yt)}}),Ze(p,Qn.STAT_EVENT,tt=>{tt.stat===zn.PROXY?ct("Connection","Detected buffering proxy"):tt.stat===zn.NOPROXY&&ct("Connection","Detected no buffering proxy")}),setTimeout(()=>{Re.so()},0),Re}}function eh(){return typeof document<"u"?document:null}function Wl(i){return new kp(i,!0)}class th{constructor(e,n,o=1e3,u=1.5,l=6e4){this.Hs=e,this.timerId=n,this.mo=o,this.yo=u,this.po=l,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const n=Math.floor(this.Io+this.bo()),o=Math.max(0,Date.now()-this.Eo),u=Math.max(0,n-o);u>0&&ct("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Io} ms, delay with jitter: ${n} ms, last attempt: ${o} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,u,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class cg{constructor(e,n,o,u,l,p,I,R){this.Hs=e,this.vo=o,this.Vo=u,this.So=l,this.authCredentialsProvider=p,this.appCheckCredentialsProvider=I,this.listener=R,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new th(e,n)}ko(){return 1===this.state||5===this.state||this.Oo()}Oo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var e=this;return(0,M.Z)(function*(){e.ko()&&(yield e.close(0))})()}Fo(){this.state=0,this.No.reset()}$o(){this.Oo()&&null===this.Co&&(this.Co=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.Bo()))}Lo(e){this.Uo(),this.stream.send(e)}Bo(){var e=this;return(0,M.Z)(function*(){if(e.Oo())return e.close(0)})()}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}close(e,n){var o=this;return(0,M.Z)(function*(){o.Uo(),o.qo(),o.No.cancel(),o.Do++,4!==e?o.No.reset():n&&n.code===Ue.RESOURCE_EXHAUSTED?(Bn(n.toString()),Bn("Using maximum backoff delay to prevent overloading the backend."),o.No.Ao()):n&&n.code===Ue.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Ko(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.Zr(n)})()}Ko(){}auth(){this.state=1;const e=this.Go(this.Do),n=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,u])=>{this.Do===n&&this.Qo(o,u)},o=>{e(()=>{const u=new st(Ue.UNKNOWN,"Fetching auth token failed: "+o.message);return this.jo(u)})})}Qo(e,n){const o=this.Go(this.Do);this.stream=this.Wo(e,n),this.stream.Yr(()=>{o(()=>(this.state=2,this.xo=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.Oo()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(u=>{o(()=>this.jo(u))}),this.stream.onMessage(u=>{o(()=>this.onMessage(u))})}Mo(){var e=this;this.state=5,this.No.Ro((0,M.Z)(function*(){e.state=0,e.start()}))}jo(e){return ct("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Go(e){return n=>{this.Hs.enqueueAndForget(()=>this.Do===e?n():(ct("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Lm extends cg{constructor(e,n,o,u,l,p){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,o,u,p),this.It=l}Wo(e,n){return this.So.wo("Listen",e,n)}onMessage(e){this.No.reset();const n=function mm(i,e){let n;if("targetChange"in e){const o="NO_CHANGE"===(R=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===R?1:"REMOVE"===R?2:"CURRENT"===R?3:"RESET"===R?4:Gt(),u=e.targetChange.targetIds||[],l=function(R,N){return R.gt?(tn(void 0===N||"string"==typeof N),zr.fromBase64String(N||"")):(tn(void 0===N||N instanceof Uint8Array),zr.fromUint8Array(N||new Uint8Array))}(i,e.targetChange.resumeToken),p=e.targetChange.cause,I=p&&function(R){const N=void 0===R.code?Ue.UNKNOWN:Ru(R.code);return new st(N,R.message||"")}(p);n=new Sl(o,u,l,I||null)}else if("documentChange"in e){const o=e.documentChange,u=Ko(i,o.document.name),l=ys(o.document.updateTime),p=new ti({mapValue:{fields:o.document.fields}}),I=gr.newFoundDocument(u,l,p);n=new Pu(o.targetIds||[],o.removedTargetIds||[],I.key,I)}else if("documentDelete"in e){const o=e.documentDelete,u=Ko(i,o.document),l=o.readTime?ys(o.readTime):hn.min(),p=gr.newNoDocument(u,l);n=new Pu([],o.removedTargetIds||[],p.key,p)}else if("documentRemove"in e){const o=e.documentRemove,u=Ko(i,o.document);n=new Pu([],o.removedTargetIds||[],u,null)}else{if(!("filter"in e))return Gt();{const o=e.filter,l=new Ap(o.count||0);n=new Qh(o.targetId,l)}}var R;return n}(this.It,e),o=function(u){if(!("targetChange"in u))return hn.min();const l=u.targetChange;return l.targetIds&&l.targetIds.length?hn.min():l.readTime?ys(l.readTime):hn.min()}(e);return this.listener.zo(n,o)}Ho(e){const n={};n.database=Nu(this.It),n.addTarget=function(u,l){let p;const I=l.target;return p=Ju(I)?{documents:Cd(u,I)}:{query:Za(u,I)},p.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?p.resumeToken=nf(u,l.resumeToken):l.snapshotVersion.compareTo(hn.min())>0&&(p.readTime=Fc(u,l.snapshotVersion.toTimestamp())),p}(this.It,e);const o=function Ad(i,e){const n=function(o,u){switch(u){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Gt()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);o&&(n.labels=o),this.Lo(n)}Jo(e){const n={};n.database=Nu(this.It),n.removeTarget=e,this.Lo(n)}}class Fm extends cg{constructor(e,n,o,u,l,p){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,o,u,p),this.It=l,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(e,n){return this.So.wo("Write",e,n)}onMessage(e){if(tn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();const n=function af(i,e){return i&&i.length>0?(tn(void 0!==e),i.map(n=>function(o,u){let l=ys(o.updateTime?o.updateTime:u);return l.isEqual(hn.min())&&(l=ys(u)),new Sp(l,o.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),o=ys(e.commitTime);return this.listener.tu(o,n)}return tn(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}nu(){const e={};e.database=Nu(this.It),this.Lo(e)}Zo(e){const n={streamToken:this.lastStreamToken,writes:e.map(o=>function sc(i,e){let n;if(e instanceof ic)n={update:Dd(i,e.key,e.value)};else if(e instanceof ka)n={delete:Ka(i,e.key)};else if(e instanceof Ra)n={update:Dd(i,e.key,e.data),updateMask:Lp(e.fieldMask)};else{if(!(e instanceof Oc))return Gt();n={verify:Ka(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(o=>function(u,l){const p=l.transform;if(p instanceof xo)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof fu)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof xu)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof xa)return{fieldPath:l.field.canonicalString(),increment:p.yt};throw Gt()}(0,o))),e.precondition.isNone||(n.currentDocument=void 0!==(u=e.precondition).updateTime?{updateTime:Pp(i,u.updateTime)}:void 0!==u.exists?{exists:u.exists}:Gt()),n;var u}(this.It,o))};this.Lo(n)}}class qn extends class{}{constructor(e,n,o,u){super(),this.authCredentials=e,this.appCheckCredentials=n,this.So=o,this.It=u,this.su=!1}iu(){if(this.su)throw new st(Ue.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,n,o){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,l])=>this.So.ao(e,n,o,u,l)).catch(u=>{throw"FirebaseError"===u.name?(u.code===Ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new st(Ue.UNKNOWN,u.toString())})}_o(e,n,o,u){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,p])=>this.So._o(e,n,o,l,p,u)).catch(l=>{throw"FirebaseError"===l.name?(l.code===Ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new st(Ue.UNKNOWN,l.toString())})}terminate(){this.su=!0}}class dg{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}cu(){0===this.ru&&(this.au("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.au("Offline"),Promise.resolve())))}lu(e){"Online"===this.state?this.au("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.au("Offline")))}set(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.au(e)}au(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}hu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(Bn(n),this.uu=!1):ct("OnlineStateTracker",n)}fu(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}class Um{constructor(e,n,o,u,l){var p=this;this.localStore=e,this.datastore=n,this.asyncQueue=o,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=l,this.gu.qr(I=>{o.enqueueAndForget((0,M.Z)(function*(){var R;yu(p)&&(ct("RemoteStore","Restarting streams for network reachability change."),yield(R=(0,M.Z)(function*(N){const H=St(N);H.wu.add(4),yield Qc(H),H.yu.set("Unknown"),H.wu.delete(4),yield ql(H)}),function(N){return R.apply(this,arguments)})(p))}))}),this.yu=new dg(o,u)}}function ql(i){return rh.apply(this,arguments)}function rh(){return rh=(0,M.Z)(function*(i){if(yu(i))for(const e of i.mu)yield e(!0)}),rh.apply(this,arguments)}function Qc(i){return ih.apply(this,arguments)}function ih(){return ih=(0,M.Z)(function*(i){for(const e of i.mu)yield e(!1)}),ih.apply(this,arguments)}function sh(i,e){const n=St(i);n._u.has(e.targetId)||(n._u.set(e.targetId,e),mu(n)?oh(n):Xc(n).Oo()&&hg(n,e))}function Kl(i,e){const n=St(i),o=Xc(n);n._u.delete(e),o.Oo()&&Sf(n,e),0===n._u.size&&(o.Oo()?o.$o():yu(n)&&n.yu.set("Unknown"))}function hg(i,e){i.pu.Mt(e.targetId),Xc(i).Ho(e)}function Sf(i,e){i.pu.Mt(e),Xc(i).Jo(e)}function oh(i){i.pu=new Ki({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),se:e=>i._u.get(e)||null}),Xc(i).start(),i.yu.cu()}function mu(i){return yu(i)&&!Xc(i).ko()&&i._u.size>0}function yu(i){return 0===St(i).wu.size}function ah(i){i.pu=void 0}function Af(i){return xf.apply(this,arguments)}function xf(){return xf=(0,M.Z)(function*(i){i._u.forEach((e,n)=>{hg(i,e)})}),xf.apply(this,arguments)}function A_(i,e){return fg.apply(this,arguments)}function fg(){return fg=(0,M.Z)(function*(i,e){ah(i),mu(i)?(i.yu.lu(e),oh(i)):i.yu.set("Unknown")}),fg.apply(this,arguments)}function x_(i,e,n){return Mf.apply(this,arguments)}function Mf(){return Mf=(0,M.Z)(function*(i,e,n){if(i.yu.set("Online"),e instanceof Sl&&2===e.state&&e.cause)try{yield(o=(0,M.Z)(function*(u,l){const p=l.cause;for(const I of l.targetIds)u._u.has(I)&&(yield u.remoteSyncer.rejectListen(I,p),u._u.delete(I),u.pu.removeTarget(I))}),function(u,l){return o.apply(this,arguments)})(i,e)}catch(o){ct("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield Zl(i,o)}else if(e instanceof Pu?i.pu.Gt(e):e instanceof Qh?i.pu.Yt(e):i.pu.Wt(e),!n.isEqual(hn.min()))try{const o=yield tg(i.localStore);n.compareTo(o)>=0&&(yield function(u,l){const p=u.pu.te(l);return p.targetChanges.forEach((I,R)=>{if(I.resumeToken.approximateByteSize()>0){const N=u._u.get(R);N&&u._u.set(R,N.withResumeToken(I.resumeToken,l))}}),p.targetMismatches.forEach(I=>{const R=u._u.get(I);if(!R)return;u._u.set(I,R.withResumeToken(zr.EMPTY_BYTE_STRING,R.snapshotVersion)),Sf(u,I);const N=new ac(R.target,I,1,R.sequenceNumber);hg(u,N)}),u.remoteSyncer.applyRemoteEvent(p)}(i,n))}catch(o){ct("RemoteStore","Failed to raise snapshot:",o),yield Zl(i,o)}var o}),Mf.apply(this,arguments)}function Zl(i,e,n){return pg.apply(this,arguments)}function pg(){return pg=(0,M.Z)(function*(i,e,n){if(!Ls(e))throw e;i.wu.add(1),yield Qc(i),i.yu.set("Offline"),n||(n=()=>tg(i.localStore)),i.asyncQueue.enqueueRetryable((0,M.Z)(function*(){ct("RemoteStore","Retrying IndexedDB access"),yield n(),i.wu.delete(1),yield ql(i)}))}),pg.apply(this,arguments)}function gg(i,e){return e().catch(n=>Zl(i,n,e))}function Oa(i){return Rf.apply(this,arguments)}function Rf(){return Rf=(0,M.Z)(function*(i){const e=St(i),n=mc(e);let o=e.du.length>0?e.du[e.du.length-1].batchId:-1;for(;mg(e);)try{const u=yield rg(e.localStore,o);if(null===u){0===e.du.length&&n.$o();break}o=u.batchId,uh(e,u)}catch(u){yield Zl(e,u)}yg(e)&&kf(e)}),Rf.apply(this,arguments)}function mg(i){return yu(i)&&i.du.length<10}function uh(i,e){i.du.push(e);const n=mc(i);n.Oo()&&n.Xo&&n.Zo(e.mutations)}function yg(i){return yu(i)&&!mc(i).ko()&&i.du.length>0}function kf(i){mc(i).start()}function Vm(i){return Pf.apply(this,arguments)}function Pf(){return Pf=(0,M.Z)(function*(i){mc(i).nu()}),Pf.apply(this,arguments)}function Bm(i){return Nf.apply(this,arguments)}function Nf(){return Nf=(0,M.Z)(function*(i){const e=mc(i);for(const n of i.du)e.Zo(n.mutations)}),Nf.apply(this,arguments)}function $m(i,e,n){return ch.apply(this,arguments)}function ch(){return ch=(0,M.Z)(function*(i,e,n){const o=i.du.shift(),u=Up.from(o,e,n);yield gg(i,()=>i.remoteSyncer.applySuccessfulWrite(u)),yield Oa(i)}),ch.apply(this,arguments)}function jm(i,e){return lh.apply(this,arguments)}function lh(){return lh=(0,M.Z)(function*(i,e){var n;e&&mc(i).Xo&&(yield(n=(0,M.Z)(function*(o,u){if(ha(l=u.code)&&l!==Ue.ABORTED){const p=o.du.shift();mc(o).Fo(),yield gg(o,()=>o.remoteSyncer.rejectFailedWrite(p.batchId,u)),yield Oa(o)}var l}),function(o,u){return n.apply(this,arguments)})(i,e)),yg(i)&&kf(i)}),lh.apply(this,arguments)}function Of(i,e){return Yl.apply(this,arguments)}function Yl(){return Yl=(0,M.Z)(function*(i,e){const n=St(i);n.asyncQueue.verifyOperationInProgress(),ct("RemoteStore","RemoteStore received new credentials");const o=yu(n);n.wu.add(3),yield Qc(n),o&&n.yu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.wu.delete(3),yield ql(n)}),Yl.apply(this,arguments)}function Ql(){return Ql=(0,M.Z)(function*(i,e){const n=St(i);e?(n.wu.delete(2),yield ql(n)):e||(n.wu.add(2),yield Qc(n),n.yu.set("Unknown"))}),Ql.apply(this,arguments)}function Xc(i){return i.Iu||(i.Iu=function(e,n,o){const u=St(e);return u.iu(),new Lm(n,u.So,u.authCredentials,u.appCheckCredentials,u.It,o)}(i.datastore,i.asyncQueue,{Yr:Af.bind(null,i),Zr:A_.bind(null,i),zo:x_.bind(null,i)}),i.mu.push(function(){var e=(0,M.Z)(function*(n){n?(i.Iu.Fo(),mu(i)?oh(i):i.yu.set("Unknown")):(yield i.Iu.stop(),ah(i))});return function(n){return e.apply(this,arguments)}}())),i.Iu}function mc(i){return i.Tu||(i.Tu=function(e,n,o){const u=St(e);return u.iu(),new Fm(n,u.So,u.authCredentials,u.appCheckCredentials,u.It,o)}(i.datastore,i.asyncQueue,{Yr:Vm.bind(null,i),Zr:jm.bind(null,i),eu:Bm.bind(null,i),tu:$m.bind(null,i)}),i.mu.push(function(){var e=(0,M.Z)(function*(n){n?(i.Tu.Fo(),yield Oa(i)):(yield i.Tu.stop(),i.du.length>0&&(ct("RemoteStore",`Stopping write stream with ${i.du.length} pending writes`),i.du=[]))});return function(n){return e.apply(this,arguments)}}())),i.Tu}class ju{constructor(e,n,o,u,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=o,this.op=u,this.removalCallback=l,this.deferred=new Zr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(p=>{})}static createAndSchedule(e,n,o,u,l){const p=Date.now()+o,I=new ju(e,n,p,u,l);return I.start(o),I}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new st(Ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yc(i,e){if(Bn("AsyncQueue",`${e}: ${i}`),Ls(i))return new st(Ue.UNAVAILABLE,`${e}: ${i}`);throw i}class _c{constructor(e){this.comparator=e?(n,o)=>e(n,o)||Tt.comparator(n.key,o.key):(n,o)=>Tt.comparator(n.key,o.key),this.keyedMap=Dl(),this.sortedSet=new gn(this.comparator)}static emptySet(e){return new _c(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,o)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof _c)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;n.hasNext();){const u=n.getNext().key,l=o.getNext().key;if(!u.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const o=new _c;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=n,o}}class Xl{constructor(){this.Eu=new gn(Tt.comparator)}track(e){const n=e.doc.key,o=this.Eu.get(n);o?0!==e.type&&3===o.type?this.Eu=this.Eu.insert(n,e):3===e.type&&1!==o.type?this.Eu=this.Eu.insert(n,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.Eu=this.Eu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.Eu=this.Eu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.Eu=this.Eu.remove(n):1===e.type&&2===o.type?this.Eu=this.Eu.insert(n,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.Eu=this.Eu.insert(n,{type:2,doc:e.doc}):Gt():this.Eu=this.Eu.insert(n,e)}Au(){const e=[];return this.Eu.inorderTraversal((n,o)=>{e.push(o)}),e}}class Qs{constructor(e,n,o,u,l,p,I,R,N){this.query=e,this.docs=n,this.oldDocs=o,this.docChanges=u,this.mutatedKeys=l,this.fromCache=p,this.syncStateChanged=I,this.excludesMetadataChanges=R,this.hasCachedResults=N}static fromInitialDocuments(e,n,o,u,l){const p=[];return n.forEach(I=>{p.push({type:0,doc:I})}),new Qs(e,n,_c.emptySet(n),p,o,u,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ec(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,o=e.docChanges;if(n.length!==o.length)return!1;for(let u=0;u<n.length;u++)if(n[u].type!==o[u].type||!n[u].doc.isEqual(o[u].doc))return!1;return!0}}class vg{constructor(){this.Ru=void 0,this.listeners=[]}}class Hm{constructor(){this.queries=new Pa(e=>md(e),ec),this.onlineState="Unknown",this.bu=new Set}}function La(){return La=(0,M.Z)(function*(i,e){const n=St(i),o=e.query;let u=!1,l=n.queries.get(o);if(l||(u=!0,l=new vg),u)try{l.Ru=yield n.onListen(o)}catch(p){const I=yc(p,`Initialization of query '${Au(e.query)}' failed`);return void e.onError(I)}n.queries.set(o,l),l.listeners.push(e),e.Pu(n.onlineState),l.Ru&&e.vu(l.Ru)&&hh(n)}),La.apply(this,arguments)}function dh(){return dh=(0,M.Z)(function*(i,e){const n=St(i),o=e.query;let u=!1;const l=n.queries.get(o);if(l){const p=l.listeners.indexOf(e);p>=0&&(l.listeners.splice(p,1),u=0===l.listeners.length)}if(u)return n.queries.delete(o),n.onUnlisten(o)}),dh.apply(this,arguments)}function Lf(i,e){const n=St(i);let o=!1;for(const u of e){const p=n.queries.get(u.query);if(p){for(const I of p.listeners)I.vu(u)&&(o=!0);p.Ru=u}}o&&hh(n)}function M_(i,e,n){const o=St(i),u=o.queries.get(e);if(u)for(const l of u.listeners)l.onError(n);o.queries.delete(e)}function hh(i){i.bu.forEach(e=>{e.next()})}class wg{constructor(e,n,o){this.query=e,this.Vu=n,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=o||{}}vu(e){if(!this.options.includeMetadataChanges){const o=[];for(const u of e.docChanges)3!==u.type&&o.push(u);e=new Qs(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Su?this.Cu(e)&&(this.Vu.next(e),n=!0):this.xu(e,this.onlineState)&&(this.Nu(e),n=!0),this.Du=e,n}onError(e){this.Vu.error(e)}Pu(e){this.onlineState=e;let n=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),n=!0),n}xu(e,n){return!e.fromCache||(!this.options.ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Cu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Nu(e){e=Qs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Su=!0,this.Vu.next(e)}}class gh{constructor(e){this.key=e}}class Gm{constructor(e){this.key=e}}class Ig{constructor(e,n){this.query=e,this.Uu=n,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Wn(),this.mutatedKeys=Wn(),this.Gu=yl(e),this.Qu=new _c(this.Gu)}get ju(){return this.Uu}Wu(e,n){const o=n?n.zu:new Xl,u=n?n.Qu:this.Qu;let l=n?n.mutatedKeys:this.mutatedKeys,p=u,I=!1;const R="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,N="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((H,se)=>{const Re=u.get(H),Ze=xc(this.query,se)?se:null,tt=!!Re&&this.mutatedKeys.has(Re.key),Vt=!!Ze&&(Ze.hasLocalMutations||this.mutatedKeys.has(Ze.key)&&Ze.hasCommittedMutations);let Yt=!1;Re&&Ze?Re.data.isEqual(Ze.data)?tt!==Vt&&(o.track({type:3,doc:Ze}),Yt=!0):this.Hu(Re,Ze)||(o.track({type:2,doc:Ze}),Yt=!0,(R&&this.Gu(Ze,R)>0||N&&this.Gu(Ze,N)<0)&&(I=!0)):!Re&&Ze?(o.track({type:0,doc:Ze}),Yt=!0):Re&&!Ze&&(o.track({type:1,doc:Re}),Yt=!0,(R||N)&&(I=!0)),Yt&&(Ze?(p=p.add(Ze),l=Vt?l.add(H):l.delete(H)):(p=p.delete(H),l=l.delete(H)))}),null!==this.query.limit)for(;p.size>this.query.limit;){const H="F"===this.query.limitType?p.last():p.first();p=p.delete(H.key),l=l.delete(H.key),o.track({type:1,doc:H})}return{Qu:p,zu:o,$i:I,mutatedKeys:l}}Hu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,o){const u=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const l=e.zu.Au();l.sort((N,H)=>function(se,Re){const Ze=tt=>{switch(tt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Gt()}};return Ze(se)-Ze(Re)}(N.type,H.type)||this.Gu(N.doc,H.doc)),this.Ju(o);const p=n?this.Yu():[],I=0===this.Ku.size&&this.current?1:0,R=I!==this.qu;return this.qu=I,0!==l.length||R?{snapshot:new Qs(this.query,e.Qu,u,l,e.mutatedKeys,0===I,R,!1,!!o&&o.resumeToken.approximateByteSize()>0),Xu:p}:{Xu:p}}Pu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new Xl,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(n=>this.Uu=this.Uu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Uu=this.Uu.delete(n)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Wn(),this.Qu.forEach(o=>{this.Zu(o.key)&&(this.Ku=this.Ku.add(o.key))});const n=[];return e.forEach(o=>{this.Ku.has(o)||n.push(new Gm(o))}),this.Ku.forEach(o=>{e.has(o)||n.push(new gh(o))}),n}tc(e){this.Uu=e.Hi,this.Ku=Wn();const n=this.Wu(e.documents);return this.applyChanges(n,!0)}ec(){return Qs.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class zm{constructor(e,n,o){this.query=e,this.targetId=n,this.view=o}}class Wm{constructor(e){this.key=e,this.nc=!1}}class qm{constructor(e,n,o,u,l,p){this.localStore=e,this.remoteStore=n,this.eventManager=o,this.sharedClientState=u,this.currentUser=l,this.maxConcurrentLimboResolutions=p,this.sc={},this.ic=new Pa(I=>md(I),ec),this.rc=new Map,this.oc=new Set,this.uc=new gn(Tt.comparator),this.cc=new Map,this.ac=new $d,this.hc={},this.lc=new Map,this.fc=dc.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function Eg(i,e){return Dg.apply(this,arguments)}function Dg(){return Dg=(0,M.Z)(function*(i,e){const n=Kf(i);let o,u;const l=n.ic.get(e);if(l)o=l.targetId,n.sharedClientState.addLocalQueryTarget(o),u=l.view.ec();else{const p=yield $u(n.localStore,Ys(e));n.isPrimaryClient&&sh(n.remoteStore,p);const I=n.sharedClientState.addLocalQueryTarget(p.targetId);o=p.targetId,u=yield Uf(n,e,o,"current"===I,p.resumeToken)}return u}),Dg.apply(this,arguments)}function Uf(i,e,n,o,u){return bg.apply(this,arguments)}function bg(){return bg=(0,M.Z)(function*(i,e,n,o,u){i._c=(se,Re,Ze)=>{return(tt=(0,M.Z)(function*(Vt,Yt,Fr,ui){let $r=Yt.view.Wu(Fr);$r.$i&&($r=yield pc(Vt.localStore,Yt.query,!1).then(({documents:jr})=>Yt.view.Wu(jr,$r)));const Zi=ui&&ui.targetChanges.get(Yt.targetId),Yr=Yt.view.applyChanges($r,Vt.isPrimaryClient,Zi);return _h(Vt,Yt.targetId,Yr.Xu),Yr.snapshot}),function(Vt,Yt,Fr,ui){return tt.apply(this,arguments)})(i,se,Re,Ze);var tt};const l=yield pc(i.localStore,e,!0),p=new Ig(e,l.Hi),I=p.Wu(l.documents),R=ku.createSynthesizedTargetChangeForCurrentChange(n,o&&"Offline"!==i.onlineState,u),N=p.applyChanges(I,i.isPrimaryClient,R);_h(i,n,N.Xu);const H=new zm(e,n,p);return i.ic.set(e,H),i.rc.has(n)?i.rc.get(n).push(e):i.rc.set(n,[e]),N.snapshot}),bg.apply(this,arguments)}function Tg(i,e){return mh.apply(this,arguments)}function mh(){return mh=(0,M.Z)(function*(i,e){const n=St(i),o=n.ic.get(e),u=n.rc.get(o.targetId);if(u.length>1)return n.rc.set(o.targetId,u.filter(l=>!ec(l,e))),void n.ic.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(o.targetId),n.sharedClientState.isActiveQueryTarget(o.targetId)||(yield fc(n.localStore,o.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(o.targetId),Kl(n.remoteStore,o.targetId),vc(n,o.targetId)}).catch(Ns))):(vc(n,o.targetId),yield fc(n.localStore,o.targetId,!0))}),mh.apply(this,arguments)}function nd(){return nd=(0,M.Z)(function*(i,e,n){const o=Dh(i);try{const u=yield function(l,p){const I=St(l),R=bn.now(),N=p.reduce((Re,Ze)=>Re.add(Ze.key),Wn());let H,se;return I.persistence.runTransaction("Locally write mutations","readwrite",Re=>{let Ze=Bs(),tt=Wn();return I.Gi.getEntries(Re,N).next(Vt=>{Ze=Vt,Ze.forEach((Yt,Fr)=>{Fr.isValidDocument()||(tt=tt.add(Yt))})}).next(()=>I.localDocuments.getOverlayedDocuments(Re,Ze)).next(Vt=>{H=Vt;const Yt=[];for(const Fr of p){const ui=Wh(Fr,H.get(Fr.key).overlayedDocument);null!=ui&&Yt.push(new Ra(Fr.key,ui,Ao(ui.value.mapValue),oi.exists(!0)))}return I.mutationQueue.addMutationBatch(Re,R,Yt,p)}).next(Vt=>{se=Vt;const Yt=Vt.applyToLocalDocumentSet(H,tt);return I.documentOverlayCache.saveOverlays(Re,Vt.batchId,Yt)})}).then(()=>({batchId:se.batchId,changes:Mp(H)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(u.batchId),function(l,p,I){let R=l.hc[l.currentUser.toKey()];R||(R=new gn(En)),R=R.insert(p,I),l.hc[l.currentUser.toKey()]=R}(o,u.batchId,n),yield Xs(o,u.changes),yield Oa(o.remoteStore)}catch(u){const l=yc(u,"Failed to persist write");n.reject(l)}}),nd.apply(this,arguments)}function Zm(i,e){return Cg.apply(this,arguments)}function Cg(){return Cg=(0,M.Z)(function*(i,e){const n=St(i);try{const o=yield ng(n.localStore,e);e.targetChanges.forEach((u,l)=>{const p=n.cc.get(l);p&&(tn(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?p.nc=!0:u.modifiedDocuments.size>0?tn(p.nc):u.removedDocuments.size>0&&(tn(p.nc),p.nc=!1))}),yield Xs(n,o,e)}catch(o){yield Ns(o)}}),Cg.apply(this,arguments)}function Ym(i,e,n){const o=St(i);if(o.isPrimaryClient&&0===n||!o.isPrimaryClient&&1===n){const u=[];o.ic.forEach((l,p)=>{const I=p.view.Pu(e);I.snapshot&&u.push(I.snapshot)}),function(l,p){const I=St(l);I.onlineState=p;let R=!1;I.queries.forEach((N,H)=>{for(const se of H.listeners)se.Pu(p)&&(R=!0)}),R&&hh(I)}(o.eventManager,e),u.length&&o.sc.zo(u),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function R_(i,e,n){return Sg.apply(this,arguments)}function Sg(){return Sg=(0,M.Z)(function*(i,e,n){const o=St(i);o.sharedClientState.updateQueryState(e,"rejected",n);const u=o.cc.get(e),l=u&&u.key;if(l){let p=new gn(Tt.comparator);p=p.insert(l,gr.newNoDocument(l,hn.min()));const I=Wn().add(l),R=new Lc(hn.min(),new Map,new Or(En),p,I);yield Zm(o,R),o.uc=o.uc.remove(l),o.cc.delete(e),$f(o)}else yield fc(o.localStore,e,!1).then(()=>vc(o,e,n)).catch(Ns)}),Sg.apply(this,arguments)}function k_(i,e){return Ag.apply(this,arguments)}function Ag(){return Ag=(0,M.Z)(function*(i,e){const n=St(i),o=e.batch.batchId;try{const u=yield Kd(n.localStore,e);Vf(n,o,null),rd(n,o),n.sharedClientState.updateMutationState(o,"acknowledged"),yield Xs(n,u)}catch(u){yield Ns(u)}}),Ag.apply(this,arguments)}function P_(i,e,n){return xg.apply(this,arguments)}function xg(){return xg=(0,M.Z)(function*(i,e,n){const o=St(i);try{const u=yield function(l,p){const I=St(l);return I.persistence.runTransaction("Reject batch","readwrite-primary",R=>{let N;return I.mutationQueue.lookupMutationBatch(R,p).next(H=>(tn(null!==H),N=H.keys(),I.mutationQueue.removeMutationBatch(R,H))).next(()=>I.mutationQueue.performConsistencyCheck(R)).next(()=>I.documentOverlayCache.removeOverlaysForBatchId(R,N,p)).next(()=>I.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(R,N)).next(()=>I.localDocuments.getDocuments(R,N))})}(o.localStore,e);Vf(o,e,n),rd(o,e),o.sharedClientState.updateMutationState(e,"rejected",n),yield Xs(o,u)}catch(u){yield Ns(u)}}),xg.apply(this,arguments)}function rd(i,e){(i.lc.get(e)||[]).forEach(n=>{n.resolve()}),i.lc.delete(e)}function Vf(i,e,n){const o=St(i);let u=o.hc[o.currentUser.toKey()];if(u){const l=u.get(e);l&&(n?l.reject(n):l.resolve(),u=u.remove(e)),o.hc[o.currentUser.toKey()]=u}}function vc(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i.rc.get(e))i.ic.delete(o),n&&i.sc.wc(o,n);i.rc.delete(e),i.isPrimaryClient&&i.ac.ls(e).forEach(o=>{i.ac.containsKey(o)||yh(i,o)})}function yh(i,e){i.oc.delete(e.path.canonicalString());const n=i.uc.get(e);null!==n&&(Kl(i.remoteStore,n),i.uc=i.uc.remove(e),i.cc.delete(n),$f(i))}function _h(i,e,n){for(const o of n)o instanceof gh?(i.ac.addReference(o.key,e),Bf(i,o)):o instanceof Gm?(ct("SyncEngine","Document no longer in limbo: "+o.key),i.ac.removeReference(o.key,e),i.ac.containsKey(o.key)||yh(i,o.key)):Gt()}function Bf(i,e){const n=e.key,o=n.path.canonicalString();i.uc.get(n)||i.oc.has(o)||(ct("SyncEngine","New document in limbo: "+n),i.oc.add(o),$f(i))}function $f(i){for(;i.oc.size>0&&i.uc.size<i.maxConcurrentLimboResolutions;){const e=i.oc.values().next().value;i.oc.delete(e);const n=new Tt(Xn.fromString(e)),o=i.fc.next();i.cc.set(o,new Wm(n)),i.uc=i.uc.insert(n,o),sh(i.remoteStore,new ac(Ys(ho(n.path)),o,2,yi.at))}}function Xs(i,e,n){return vh.apply(this,arguments)}function vh(){return vh=(0,M.Z)(function*(i,e,n){const o=St(i),u=[],l=[],p=[];var I;o.ic.isEmpty()||(o.ic.forEach((I,R)=>{p.push(o._c(R,e,n).then(N=>{if((N||n)&&o.isPrimaryClient&&o.sharedClientState.updateQueryState(R.targetId,N?.fromCache?"not-current":"current"),N){u.push(N);const H=qd.Ci(R.targetId,N);l.push(H)}}))}),yield Promise.all(p),o.sc.zo(u),yield(I=(0,M.Z)(function*(R,N){const H=St(R);try{yield H.persistence.runTransaction("notifyLocalViewChanges","readwrite",se=>Me.forEach(N,Re=>Me.forEach(Re.Si,Ze=>H.persistence.referenceDelegate.addReference(se,Re.targetId,Ze)).next(()=>Me.forEach(Re.Di,Ze=>H.persistence.referenceDelegate.removeReference(se,Re.targetId,Ze)))))}catch(se){if(!Ls(se))throw se;ct("LocalStore","Failed to update sequence numbers: "+se)}for(const se of N){const Re=se.targetId;if(!se.fromCache){const Ze=H.Ui.get(Re),Vt=Ze.withLastLimboFreeSnapshotVersion(Ze.snapshotVersion);H.Ui=H.Ui.insert(Re,Vt)}}}),function(R,N){return I.apply(this,arguments)})(o.localStore,l))}),vh.apply(this,arguments)}function Qm(i,e){return jf.apply(this,arguments)}function jf(){return jf=(0,M.Z)(function*(i,e){const n=St(i);if(!n.currentUser.isEqual(e)){ct("SyncEngine","User change. New user:",e.toKey());const o=yield Jp(n.localStore,e);n.currentUser=e,(u=n).lc.forEach(p=>{p.forEach(I=>{I.reject(new st(Ue.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.lc.clear(),n.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield Xs(n,o.ji)}var u}),jf.apply(this,arguments)}function Mg(i,e){const n=St(i),o=n.cc.get(e);if(o&&o.nc)return Wn().add(o.key);{let u=Wn();const l=n.rc.get(e);if(!l)return u;for(const p of l){const I=n.ic.get(p);u=u.unionWith(I.view.ju)}return u}}function Kf(i){const e=St(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Zm.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Mg.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=R_.bind(null,e),e.sc.zo=Lf.bind(null,e.eventManager),e.sc.wc=M_.bind(null,e.eventManager),e}function Dh(i){const e=St(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=k_.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=P_.bind(null,e),e}class Pg{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,M.Z)(function*(){n.It=Wl(e.databaseInfo.databaseId),n.sharedClientState=n.gc(e),n.persistence=n.yc(e),yield n.persistence.start(),n.localStore=n.Ic(e),n.gcScheduler=n.Tc(e,n.localStore),n.indexBackfillerScheduler=n.Ec(e,n.localStore)})()}Tc(e,n){return null}Ec(e,n){return null}Ic(e){return function wf(i,e,n,o){return new Xp(i,e,n,o)}(this.persistence,new Bu,e.initialUser,this.It)}yc(e){return new Yp(jd.Bs,this.It)}gc(e){return new og}terminate(){var e=this;return(0,M.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class po{initialize(e,n){var o=this;return(0,M.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(n),o.remoteStore=o.createRemoteStore(n),o.eventManager=o.createEventManager(n),o.syncEngine=o.createSyncEngine(n,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=u=>Ym(o.syncEngine,u,1),o.remoteStore.remoteSyncer.handleCredentialChange=Qm.bind(null,o.syncEngine),yield function _g(i,e){return Ql.apply(this,arguments)}(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Hm}createDatastore(e){const n=Wl(e.databaseInfo.databaseId),o=new Om(e.databaseInfo);return new qn(e.authCredentials,e.appCheckCredentials,o,n)}createRemoteStore(e){return n=this.localStore,o=this.datastore,u=e.asyncQueue,l=I=>Ym(this.syncEngine,I,0),p=fa.C()?new fa:new Pm,new Um(n,o,u,l,p);var n,o,u,l,p}createSyncEngine(e,n){return function(o,u,l,p,I,R,N){const H=new qm(o,u,l,p,I,R);return N&&(H.dc=!0),H}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=(0,M.Z)(function*(n){const o=St(n);ct("RemoteStore","RemoteStore shutting down."),o.wu.add(5),yield Qc(o),o.gu.shutdown(),o.yu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}function bh(i,e,n){if(!n)throw new st(Ue.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function ry(i){if(!Tt.isDocumentKey(i))throw new st(Ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Og(i){if(Tt.isDocumentKey(i))throw new st(Ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function el(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(n=i).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof i?"a function":Gt()}function Dr(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new st(Ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=el(i);throw new st(Ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}const Fg=new Map;class Ug{constructor(e){var n;if(void 0===e.host){if(void 0!==e.ssl)throw new st(Ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new st(Ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function ny(i,e,n,o){if(!0===e&&!0===o)throw new st(Ue.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class tl{constructor(e,n,o,u){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=o,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ug({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new st(Ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new st(Ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ug(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new Ba;switch(n.type){case"gapi":return new au(n.client,n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new st(Ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=Fg.get(e);n&&(ct("ComponentProvider","Removing Datastore"),Fg.delete(e),n.terminate())}(this),Promise.resolve()}}class Vi{constructor(e,n,o){this.converter=n,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new nu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vi(this.firestore,e,this._key)}}class Js{constructor(e,n,o){this.converter=n,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new Js(this.firestore,e,this._query)}}class nu extends Js{constructor(e,n,o){super(e,n,ho(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vi(this.firestore,null,new Tt(e))}withConverter(e){return new nu(this.firestore,e,this._path)}}function Vg(i,e,...n){if(i=(0,De.m9)(i),bh("collection","path",e),i instanceof tl){const o=Xn.fromString(e,...n);return Og(o),new nu(i,null,o)}{if(!(i instanceof Vi||i instanceof nu))throw new st(Ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Xn.fromString(e,...n));return Og(o),new nu(i.firestore,null,o)}}function Bg(i,e,...n){if(i=(0,De.m9)(i),1===arguments.length&&(e=Vo.R()),bh("doc","path",e),i instanceof tl){const o=Xn.fromString(e,...n);return ry(o),new Vi(i,null,new Tt(o))}{if(!(i instanceof Vi||i instanceof nu))throw new st(Ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Xn.fromString(e,...n));return ry(o),new Vi(i.firestore,i instanceof nu?i.converter:null,new Tt(o))}}class Ch{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):Bn("Uncaught Error in snapshot listener:",e)}bc(){this.muted=!0}Rc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class ly{constructor(e,n,o,u){var l=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=o,this.databaseInfo=u,this.user=wr.UNAUTHENTICATED,this.clientId=Vo.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var p=(0,M.Z)(function*(I){ct("FirestoreClient","Received user=",I.uid),yield l.authCredentialListener(I),l.user=I});return function(I){return p.apply(this,arguments)}}()),this.appCheckCredentials.start(o,p=>(ct("FirestoreClient","Received new app check token=",p),this.appCheckCredentialListener(p,this.user)))}getConfiguration(){var e=this;return(0,M.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new st(Ue.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Zr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,M.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(o){const u=yc(o,"Failed to shutdown persistence");n.reject(u)}})),n.promise}}function jg(i,e){return nl.apply(this,arguments)}function nl(){return nl=(0,M.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),ct("FirestoreClient","Initializing OfflineComponentProvider");const n=yield i.getConfiguration();yield e.initialize(n);let o=n.initialUser;i.setCredentialChangeListener(function(){var u=(0,M.Z)(function*(l){o.isEqual(l)||(yield Jp(e.localStore,l),o=l)});return function(l){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=e}),nl.apply(this,arguments)}function Sh(i,e){return rl.apply(this,arguments)}function rl(){return rl=(0,M.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const n=yield Hg(i);ct("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(n,o),i.setCredentialChangeListener(u=>Of(e.remoteStore,u)),i.setAppCheckTokenChangeListener((u,l)=>Of(e.remoteStore,l)),i.onlineComponents=e}),rl.apply(this,arguments)}function Hg(i){return sd.apply(this,arguments)}function sd(){return sd=(0,M.Z)(function*(i){return i.offlineComponents||(ct("FirestoreClient","Using default OfflineComponentProvider"),yield jg(i,new Pg)),i.offlineComponents}),sd.apply(this,arguments)}function Yf(i){return Ah.apply(this,arguments)}function Ah(){return Ah=(0,M.Z)(function*(i){return i.onlineComponents||(ct("FirestoreClient","Using default OnlineComponentProvider"),yield Sh(i,new po)),i.onlineComponents}),Ah.apply(this,arguments)}function il(){return il=(0,M.Z)(function*(i){const e=yield Yf(i),n=e.eventManager;return n.onListen=Eg.bind(null,e.syncEngine),n.onUnlisten=Tg.bind(null,e.syncEngine),n}),il.apply(this,arguments)}function Gg(i,e,n={}){const o=new Zr;return i.asyncQueue.enqueueAndForget((0,M.Z)(function*(){return function(u,l,p,I,R){const N=new Ch({next:se=>{l.enqueueAndForget(()=>function ed(i,e){return dh.apply(this,arguments)}(u,H)),se.fromCache&&"server"===I.source?R.reject(new st(Ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):R.resolve(se)},error:se=>R.reject(se)}),H=new wg(p,N,{includeMetadataChanges:!0,ku:!0});return function Jl(i,e){return La.apply(this,arguments)}(u,H)}(yield function vu(i){return il.apply(this,arguments)}(i),i.asyncQueue,e,n,o)})),o.promise}class py{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.No=new th(this,"async_queue_retry"),this.Wc=()=>{const n=eh();n&&ct("AsyncQueue","Visibility state changed to "+n.visibilityState),this.No.Po()};const e=eh();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;const n=eh();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.Uc)return new Promise(()=>{});const n=new Zr;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,M.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.No.reset()}catch(n){if(!Ls(n))throw n;ct("AsyncQueue","Operation failed with retryable error: "+n)}e.Lc.length>0&&e.No.Ro(()=>e.Jc())}})()}Hc(e){const n=this.Bc.then(()=>(this.Gc=!0,e().catch(o=>{throw this.Kc=o,this.Gc=!1,Bn("INTERNAL UNHANDLED ERROR: ",function(l){let p=l.message||"";return l.stack&&(p=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),p}(o)),o}).then(o=>(this.Gc=!1,o))));return this.Bc=n,n}enqueueAfterDelay(e,n,o){this.zc(),this.jc.indexOf(e)>-1&&(n=0);const u=ju.createAndSchedule(this,e,n,o,l=>this.Yc(l));return this.qc.push(u),u}zc(){this.Kc&&Gt()}verifyOperationInProgress(){}Xc(){var e=this;return(0,M.Z)(function*(){let n;do{n=e.Bc,yield n}while(n!==e.Bc)})()}Zc(e){for(const n of this.qc)if(n.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.qc.sort((n,o)=>n.targetTimeMs-o.targetTimeMs);for(const n of this.qc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const n=this.qc.indexOf(e);this.qc.splice(n,1)}}class Ii extends tl{constructor(e,n,o,u){super(e,n,o,u),this.type="firestore",this._queue=new py,this._persistenceKey=u?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Mh(this),this._firestoreClient.terminate()}}function ep(i,e){const n="object"==typeof i?i:(0,z.Mq)(),o="string"==typeof i?i:e||"(default)",u=(0,z.qX)(n,"firestore").getImmediate({identifier:o});if(!u._initialized){const l=(0,De.P0)("firestore");l&&function iy(i,e,n,o={}){var u;const l=(i=Dr(i,tl))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==e&&ks("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},l),{host:`${e}:${n}`,ssl:!1})),o.mockUserToken){let p,I;if("string"==typeof o.mockUserToken)p=o.mockUserToken,I=wr.MOCK_USER;else{p=(0,De.Sg)(o.mockUserToken,null===(u=i._app)||void 0===u?void 0:u.options.projectId);const R=o.mockUserToken.sub||o.mockUserToken.user_id;if(!R)throw new st(Ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");I=new wr(R)}i._authCredentials=new is(new Tu(p,I))}}(u,...l)}return u}function us(i){return i._firestoreClient||Mh(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function Mh(i){var e;const n=i._freezeSettings(),o=(l=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new _i(i._databaseId,l,i._persistenceKey,(I=n).host,I.ssl,I.experimentalForceLongPolling,I.experimentalAutoDetectLongPolling,I.useFetchStreams));var l,I;i._firestoreClient=new ly(i._authCredentials,i._appCheckCredentials,i._queue,o)}class wc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new wc(zr.fromBase64String(e))}catch(n){throw new st(Ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new wc(zr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class zu{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new st(Ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class pa{constructor(e){this._methodName=e}}class Ic{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new st(Ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new st(Ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return En(this._lat,e._lat)||En(this._long,e._long)}}const eo=/^__.*__$/;class Ec{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return null!==this.fieldMask?new Ra(e,this.data,this.fieldMask,n,this.fieldTransforms):new ic(e,this.data,n,this.fieldTransforms)}}class ld{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return new Ra(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Yo(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Gt()}}class ol{constructor(e,n,o,u,l,p){this.settings=e,this.databaseId=n,this.It=o,this.ignoreUndefinedProperties=u,void 0===l&&this.na(),this.fieldTransforms=l||[],this.fieldMask=p||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new ol(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),u=this.ia({path:o,oa:!1});return u.ua(e),u}ca(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),u=this.ia({path:o,oa:!1});return u.na(),u}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return Oh(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(Yo(this.sa)&&eo.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class al{constructor(e,n,o){this.databaseId=e,this.ignoreUndefinedProperties=n,this.It=o||Wl(e)}da(e,n,o,u=!1){return new ol({sa:e,methodName:n,fa:o,path:pr.emptyPath(),oa:!1,la:u},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function Fa(i){const e=i._freezeSettings(),n=Wl(i._databaseId);return new al(i._databaseId,!!e.ignoreUndefinedProperties,n)}function Wu(i,e,n,o,u,l={}){const p=i.da(l.merge||l.mergeFields?2:0,e,n,u);kh("Data must be an object, but it was:",p,o);const I=sp(o,p);let R,N;if(l.merge)R=new gs(p.fieldMask),N=p.fieldTransforms;else if(l.mergeFields){const H=[];for(const se of l.mergeFields){const Re=Ph(e,se,n);if(!p.contains(Re))throw new st(Ue.INVALID_ARGUMENT,`Field '${Re}' is specified in your field mask but missing from your input data.`);ap(H,Re)||H.push(Re)}R=new gs(H),N=p.fieldTransforms.filter(se=>R.covers(se.field))}else R=null,N=p.fieldTransforms;return new Ec(new ti(I),R,N)}class iu extends pa{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof iu}}function Ku(i,e){if(op(i=(0,De.m9)(i)))return kh("Unsupported field value:",e,i),sp(i,e);if(i instanceof pa)return function(n,o){if(!Yo(o.sa))throw o.ha(`${n._methodName}() can only be used with update() and set()`);if(!o.path)throw o.ha(`${n._methodName}() is not currently supported inside arrays`);const u=n._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(n,o){const u=[];let l=0;for(const p of n){let I=Ku(p,o.aa(l));null==I&&(I={nullValue:"NULL_VALUE"}),u.push(I),l++}return{arrayValue:{values:u}}}(i,e)}return function(n,o){if(null===(n=(0,De.m9)(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return Mc(o.It,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const u=bn.fromDate(n);return{timestampValue:Fc(o.It,u)}}if(n instanceof bn){const u=new bn(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Fc(o.It,u)}}if(n instanceof Ic)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof wc)return{bytesValue:nf(o.It,n._byteString)};if(n instanceof Vi){const u=o.databaseId,l=n.firestore._databaseId;if(!l.isEqual(u))throw o.ha(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:rf(n.firestore._databaseId||o.databaseId,n._key.path)}}throw o.ha(`Unsupported field value: ${el(n)}`)}(i,e)}function sp(i,e){const n={};return bo(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):lo(i,(o,u)=>{const l=Ku(u,e.ra(o));null!=l&&(n[o]=l)}),{mapValue:{fields:n}}}function op(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof bn||i instanceof Ic||i instanceof wc||i instanceof Vi||i instanceof pa)}function kh(i,e,n){if(!op(n)||"object"!=typeof(o=n)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=el(n);throw e.ha("an object"===o?i+" a custom object":i+" "+o)}var o}function Ph(i,e,n){if((e=(0,De.m9)(e))instanceof zu)return e._internalPath;if("string"==typeof e)return Nh(i,e);throw Oh("Field path arguments must be of type string or ",i,!1,void 0,n)}const Kg=new RegExp("[~\\*/\\[\\]]");function Nh(i,e,n){if(e.search(Kg)>=0)throw Oh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new zu(...e.split("."))._internalPath}catch{throw Oh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Oh(i,e,n,o,u){const l=o&&!o.isEmpty(),p=void 0!==u;let I=`Function ${e}() called with invalid data`;n&&(I+=" (via `toFirestore()`)"),I+=". ";let R="";return(l||p)&&(R+=" (found",l&&(R+=` in field ${o}`),p&&(R+=` in document ${u}`),R+=")"),new st(Ue.INVALID_ARGUMENT,I+i+R)}function ap(i,e){return i.some(n=>n.isEqual(e))}class up{constructor(e,n,o,u,l){this._firestore=e,this._userDataWriter=n,this._key=o,this._document=u,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Vi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Zg(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(dl("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class Zg extends up{data(){return super.data()}}function dl(i,e){return"string"==typeof e?Nh(i,e):e instanceof zu?e._internalPath:e._delegate._internalPath}class wu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Zu extends up{constructor(e,n,o,u,l,p){super(e,n,o,u,p),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new hd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const o=this._document.data.field(dl("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,n.serverTimestamps)}}}class hd extends Zu{data(e={}){return super.data(e)}}class bc{constructor(e,n,o,u){this._firestore=e,this._userDataWriter=n,this._snapshot=u,this.metadata=new wu(u.hasPendingWrites,u.fromCache),this.query=o}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(o=>{e.call(n,new hd(this._firestore,this._userDataWriter,o.key,o,new wu(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new st(Ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let l=0;return o._snapshot.docChanges.map(p=>({type:"added",doc:new hd(o._firestore,o._userDataWriter,p.doc.key,p.doc,new wu(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:l++}))}{let l=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(p=>u||3!==p.type).map(p=>{const I=new hd(o._firestore,o._userDataWriter,p.doc.key,p.doc,new wu(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let R=-1,N=-1;return 0!==p.type&&(R=l.indexOf(p.doc.key),l=l.delete(p.doc.key)),1!==p.type&&(l=l.add(p.doc),N=l.indexOf(p.doc.key)),{type:Qg(p.type),doc:I,oldIndex:R,newIndex:N}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Qg(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Gt()}}class Iu extends class Dy{convertValue(e,n="none"){switch(Co(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ho(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Gt()}}convertObject(e,n){const o={};return lo(e.fields,(u,l)=>{o[u]=this.convertValue(l,n)}),o}convertGeoPoint(e){return new Ic(mn(e.latitude),mn(e.longitude))}convertArray(e,n){return(e.values||[]).map(o=>this.convertValue(o,n))}convertServerTimestamp(e,n){switch(n){case"previous":const o=Sc(e);return null==o?null:this.convertValue(o,n);case"estimate":return this.convertTimestamp(To(e));default:return null}}convertTimestamp(e){const n=Ca(e);return new bn(n.seconds,n.nanos)}convertDocumentKey(e,n){const o=Xn.fromString(e);tn(v(o));const u=new Si(o.get(1),o.get(3)),l=new Tt(o.popFirst(5));return u.isEqual(n)||Bn(`Document ${l} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new wc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Vi(this.firestore,null,n)}}function q_(i){i=Dr(i,Js);const e=Dr(i.firestore,Ii),n=us(e),o=new Iu(e);return function Lh(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new st(Ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(i._query),Gg(n,i._query).then(u=>new bc(e,o,i,u))}function xy(i,e,n,...o){i=Dr(i,Vi);const u=Dr(i.firestore,Ii),l=Fa(u);let p;return p="string"==typeof(e=(0,De.m9)(e))||e instanceof zu?function rp(i,e,n,o,u,l){const p=i.da(1,e,n),I=[Ph(e,o,n)],R=[u];if(l.length%2!=0)throw new st(Ue.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Re=0;Re<l.length;Re+=2)I.push(Ph(e,l[Re])),R.push(l[Re+1]);const N=[],H=ti.empty();for(let Re=I.length-1;Re>=0;--Re)if(!ap(N,I[Re])){const Ze=I[Re];let tt=R[Re];tt=(0,De.m9)(tt);const Vt=p.ca(Ze);if(tt instanceof iu)N.push(Ze);else{const Yt=Ku(tt,Vt);null!=Yt&&(N.push(Ze),H.set(Ze,Yt))}}const se=new gs(N);return new ld(H,se,p.fieldTransforms)}(l,"updateDoc",i._key,e,n,o):function np(i,e,n,o){const u=i.da(1,e,n);kh("Data must be an object, but it was:",u,o);const l=[],p=ti.empty();lo(o,(R,N)=>{const H=Nh(e,R,n);N=(0,De.m9)(N);const se=u.ca(H);if(N instanceof iu)l.push(H);else{const Re=Ku(N,se);null!=Re&&(l.push(H),p.set(H,Re))}});const I=new gs(l);return new ld(p,I,u.fieldTransforms)}(l,"updateDoc",i._key,e),hl(u,[p.toMutation(i._key,oi.exists(!0))])}function Xg(i,e){const n=Dr(i.firestore,Ii),o=Bg(i),u=function gp(i,e,n){let o;return o=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,o}(i.converter,e);return hl(n,[Wu(Fa(i.firestore),"addDoc",o._key,u,null!==i.converter,{}).toMutation(o._key,oi.exists(!1))]).then(()=>o)}function hl(i,e){return function(n,o){const u=new Zr;return n.asyncQueue.enqueueAndForget((0,M.Z)(function*(){return function Km(i,e,n){return nd.apply(this,arguments)}(yield function ad(i){return Yf(i).then(e=>e.syncEngine)}(n),o,u)})),u.promise}(us(i),e)}!function(i,e=!0){mi=z.Jn,(0,z.Xd)(new te.wA("firestore",(n,{instanceIdentifier:o,options:u})=>{const l=n.getProvider("app").getImmediate(),p=new Ii(new Qu(n.getProvider("auth-internal")),new ja(n.getProvider("app-check-internal")),function(I,R){if(!Object.prototype.hasOwnProperty.apply(I.options,["projectId"]))throw new st(Ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Si(I.options.projectId,R)}(l,o),l);return u=Object.assign({useFetchStreams:e},u),p._setSettings(u),p},"PUBLIC").setMultipleInstances(!0)),(0,z.KN)(rs,"3.7.1",i),(0,z.KN)(rs,"3.7.1","esm2017")}()},2480:(sn,Je,j)=>{j.d(Je,{Jt:()=>io,cF:()=>go,aF:()=>Yn,iH:()=>xi,KV:()=>Va});var M=j(5861),z=j(9681),te=j(2090),ve=j(4859);const De="firebasestorage.googleapis.com",ue="storageBucket";class K extends te.ZR{constructor(O,Q,ie=0){super(ae(O),`Firebase Storage: ${Q} (${ae(O)})`),this.status_=ie,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,K.prototype)}get status(){return this.status_}set status(O){this.status_=O}_codeEquals(O){return ae(O)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(O){this.customData.serverResponse=O,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function ae(F){return"storage/"+F}function Pe(){return new K("unknown","An unknown error occurred, please check the error payload for server response.")}function ye(F){return new K("invalid-argument",F)}function ot(){return new K("app-deleted","The Firebase app was deleted.")}function _e(F,O){return new K("invalid-format","String does not match format '"+F+"': "+O)}function re(F){throw new K("internal-error","Internal error: "+F)}class de{constructor(O,Q){this.bucket=O,this.path_=Q}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const O=encodeURIComponent;return"/b/"+O(this.bucket)+"/o/"+O(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(O,Q){let ie;try{ie=de.makeFromUrl(O,Q)}catch{return new de(O,"")}if(""===ie.path)return ie;throw function Qe(F){return new K("invalid-default-bucket","Invalid default bucket '"+F+"'.")}(O)}static makeFromUrl(O,Q){let ie=null;const me="([A-Za-z0-9.\\-_]+)",Ft=new RegExp("^gs://"+me+"(/(.*))?$","i");function un(Hn){Hn.path_=decodeURIComponent(Hn.path)}const Nr=Q.replace(/[.]/g,"\\."),Ar=[{regex:Ft,indices:{bucket:1,path:3},postModify:function Ve(Hn){"/"===Hn.path.charAt(Hn.path.length-1)&&(Hn.path_=Hn.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Nr}/v[A-Za-z0-9_]+/b/${me}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:un},{regex:new RegExp(`^https?://${Q===De?"(?:storage.googleapis.com|storage.cloud.google.com)":Q}/${me}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:un}];for(let Hn=0;Hn<Ar.length;Hn++){const ds=Ar[Hn],Ti=ds.regex.exec(O);if(Ti){let ei=Ti[ds.indices.path];ei||(ei=""),ie=new de(Ti[ds.indices.bucket],ei),ds.postModify(ie);break}}if(null==ie)throw function _t(F){return new K("invalid-url","Invalid URL '"+F+"'.")}(O);return ie}}class Ke{constructor(O){this.promise_=Promise.reject(O)}getPromise(){return this.promise_}cancel(O=!1){}}function Qt(F){return"string"==typeof F||F instanceof String}function On(F){return yn()&&F instanceof Blob}function yn(){return typeof Blob<"u"}function xr(F,O,Q,ie){if(ie<O)throw ye(`Invalid value for '${F}'. Expected ${O} or greater.`);if(ie>Q)throw ye(`Invalid value for '${F}'. Expected ${Q} or less.`)}function Tn(F,O,Q){let ie=O;return null==Q&&(ie=`https://${O}`),`${Q}://${ie}/v0${F}`}function Rn(F){const O=encodeURIComponent;let Q="?";for(const ie in F)F.hasOwnProperty(ie)&&(Q=Q+(O(ie)+"=")+O(F[ie])+"&");return Q=Q.slice(0,-1),Q}var ft=(()=>{return(F=ft||(ft={}))[F.NO_ERROR=0]="NO_ERROR",F[F.NETWORK_ERROR=1]="NETWORK_ERROR",F[F.ABORT=2]="ABORT",ft;var F})();class Kn{constructor(O,Q,ie,me,Ve,ut,Ft,Bt,un,Un,Nr,zt=!0){this.url_=O,this.method_=Q,this.headers_=ie,this.body_=me,this.successCodes_=Ve,this.additionalRetryCodes_=ut,this.callback_=Ft,this.errorCallback_=Bt,this.timeout_=un,this.progressCallback_=Un,this.connectionFactory_=Nr,this.retry=zt,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Tr,Sr)=>{this.resolve_=Tr,this.reject_=Sr,this.start_()})}start_(){const Q=(ie,me)=>{const Ve=this.resolve_,ut=this.reject_,Ft=me.connection;if(me.wasSuccessCode)try{const Bt=this.callback_(Ft,Ft.getResponse());!function Jt(F){return void 0!==F}(Bt)?Ve():Ve(Bt)}catch(Bt){ut(Bt)}else if(null!==Ft){const Bt=Pe();Bt.serverResponse=Ft.getErrorText(),ut(this.errorCallback_?this.errorCallback_(Ft,Bt):Bt)}else ut(me.canceled?this.appDelete_?ot():function $t(){return new K("canceled","User canceled the upload/download.")}():function xt(){return new K("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?Q(0,new _n(!1,null,!0)):this.backoffId_=function $e(F,O,Q){let ie=1,me=null,Ve=null,ut=!1,Ft=0;function Bt(){return 2===Ft}let un=!1;function Un(...Vn){un||(un=!0,O.apply(null,Vn))}function Nr(Vn){me=setTimeout(()=>{me=null,F(Tr,Bt())},Vn)}function zt(){Ve&&clearTimeout(Ve)}function Tr(Vn,...Mi){if(un)return void zt();if(Vn)return zt(),void Un.call(null,Vn,...Mi);if(Bt()||ut)return zt(),void Un.call(null,Vn,...Mi);let Ar;ie<64&&(ie*=2),1===Ft?(Ft=2,Ar=0):Ar=1e3*(ie+Math.random()),Nr(Ar)}let Sr=!1;function Gr(Vn){Sr||(Sr=!0,zt(),!un&&(null!==me?(Vn||(Ft=2),clearTimeout(me),Nr(0)):Vn||(Ft=1)))}return Nr(0),Ve=setTimeout(()=>{ut=!0,Gr(!0)},Q),Gr}((ie,me)=>{if(me)return void ie(!1,new _n(!1,null,!0));const Ve=this.connectionFactory_();this.pendingConnection_=Ve;const ut=Ft=>{null!==this.progressCallback_&&this.progressCallback_(Ft.loaded,Ft.lengthComputable?Ft.total:-1)};null!==this.progressCallback_&&Ve.addUploadProgressListener(ut),Ve.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&Ve.removeUploadProgressListener(ut),this.pendingConnection_=null;const Ft=Ve.getErrorCode()===ft.NO_ERROR,Bt=Ve.getStatus();if((!Ft||function Ut(F,O){const Q=F>=500&&F<600,me=-1!==[408,429].indexOf(F),Ve=-1!==O.indexOf(F);return Q||me||Ve}(Bt,this.additionalRetryCodes_))&&this.retry){const Un=Ve.getErrorCode()===ft.ABORT;return void ie(!1,new _n(!1,null,Un))}const un=-1!==this.successCodes_.indexOf(Bt);ie(!0,new _n(un,Ve))})},Q,this.timeout_)}getPromise(){return this.promise_}cancel(O){this.canceled_=!0,this.appDelete_=O||!1,null!==this.backoffId_&&function yt(F){F(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class _n{constructor(O,Q,ie){this.wasSuccessCode=O,this.connection=Q,this.canceled=!!ie}}function Lt(...F){const O=function Xr(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==O){const Q=new O;for(let ie=0;ie<F.length;ie++)Q.append(F[ie]);return Q.getBlob()}if(yn())return new Blob(F);throw new K("unsupported-environment","This browser doesn't seem to support creating Blobs")}class Ir{constructor(O,Q){this.data=O,this.contentType=Q||null}}function Zn(F){const O=[];for(let Q=0;Q<F.length;Q++){let ie=F.charCodeAt(Q);ie<=127?O.push(ie):ie<=2047?O.push(192|ie>>6,128|63&ie):55296==(64512&ie)?Q<F.length-1&&56320==(64512&F.charCodeAt(Q+1))?(ie=65536|(1023&ie)<<10|1023&F.charCodeAt(++Q),O.push(240|ie>>18,128|ie>>12&63,128|ie>>6&63,128|63&ie)):O.push(239,191,189):56320==(64512&ie)?O.push(239,191,189):O.push(224|ie>>12,128|ie>>6&63,128|63&ie)}return new Uint8Array(O)}function wt(F,O){switch(F){case"base64":{const me=-1!==O.indexOf("-"),Ve=-1!==O.indexOf("_");if(me||Ve)throw _e(F,"Invalid character '"+(me?"-":"_")+"' found: is it base64url encoded?");break}case"base64url":{const me=-1!==O.indexOf("+"),Ve=-1!==O.indexOf("/");if(me||Ve)throw _e(F,"Invalid character '"+(me?"+":"/")+"' found: is it base64 encoded?");O=O.replace(/-/g,"+").replace(/_/g,"/");break}}let Q;try{Q=function hi(F){return atob(F)}(O)}catch{throw _e(F,"Invalid character found")}const ie=new Uint8Array(Q.length);for(let me=0;me<Q.length;me++)ie[me]=Q.charCodeAt(me);return ie}class kt{constructor(O){this.base64=!1,this.contentType=null;const Q=O.match(/^data:([^,]+)?,/);if(null===Q)throw _e("data_url","Must be formatted 'data:[<mediatype>][;base64],<data>");const ie=Q[1]||null;null!=ie&&(this.base64=function hr(F,O){return F.length>=O.length&&F.substring(F.length-O.length)===O}(ie,";base64"),this.contentType=this.base64?ie.substring(0,ie.length-7):ie),this.rest=O.substring(O.indexOf(",")+1)}}class vn{constructor(O,Q){let ie=0,me="";On(O)?(this.data_=O,ie=O.size,me=O.type):O instanceof ArrayBuffer?(Q?this.data_=new Uint8Array(O):(this.data_=new Uint8Array(O.byteLength),this.data_.set(new Uint8Array(O))),ie=this.data_.length):O instanceof Uint8Array&&(Q?this.data_=O:(this.data_=new Uint8Array(O.length),this.data_.set(O)),ie=O.length),this.size_=ie,this.type_=me}size(){return this.size_}type(){return this.type_}slice(O,Q){if(On(this.data_)){const me=function ar(F,O,Q){return F.webkitSlice?F.webkitSlice(O,Q):F.mozSlice?F.mozSlice(O,Q):F.slice?F.slice(O,Q):null}(this.data_,O,Q);return null===me?null:new vn(me)}{const ie=new Uint8Array(this.data_.buffer,O,Q-O);return new vn(ie,!0)}}static getBlob(...O){if(yn()){const Q=O.map(ie=>ie instanceof vn?ie.data_:ie);return new vn(Lt.apply(null,Q))}{const Q=O.map(ut=>Qt(ut)?function ci(F,O){switch(F){case"raw":return new Ir(Zn(O));case"base64":case"base64url":return new Ir(wt(F,O));case"data_url":return new Ir(function Xt(F){const O=new kt(F);return O.base64?wt("base64",O.rest):function ri(F){let O;try{O=decodeURIComponent(F)}catch{throw _e("data_url","Malformed data URL.")}return Zn(O)}(O.rest)}(O),function dn(F){return new kt(F).contentType}(O))}throw Pe()}("raw",ut).data:ut.data_);let ie=0;Q.forEach(ut=>{ie+=ut.byteLength});const me=new Uint8Array(ie);let Ve=0;return Q.forEach(ut=>{for(let Ft=0;Ft<ut.length;Ft++)me[Ve++]=ut[Ft]}),new vn(me,!0)}}uploadData(){return this.data_}}function vr(F){let O;try{O=JSON.parse(F)}catch{return null}return function Ht(F){return"object"==typeof F&&!Array.isArray(F)}(O)?O:null}function $n(F){const O=F.lastIndexOf("/",F.length-2);return-1===O?F:F.slice(O+1)}function Wr(F,O){return O}class Nt{constructor(O,Q,ie,me){this.server=O,this.local=Q||O,this.writable=!!ie,this.xform=me||Wr}}let li=null;function dt(){if(li)return li;const F=[];F.push(new Nt("bucket")),F.push(new Nt("generation")),F.push(new Nt("metageneration")),F.push(new Nt("name","fullPath",!0));const Q=new Nt("name");Q.xform=function O(Ve,ut){return function qr(F){return!Qt(F)||F.length<2?F:$n(F)}(ut)},F.push(Q);const me=new Nt("size");return me.xform=function ie(Ve,ut){return void 0!==ut?Number(ut):ut},F.push(me),F.push(new Nt("timeCreated")),F.push(new Nt("updated")),F.push(new Nt("md5Hash",null,!0)),F.push(new Nt("cacheControl",null,!0)),F.push(new Nt("contentDisposition",null,!0)),F.push(new Nt("contentEncoding",null,!0)),F.push(new Nt("contentLanguage",null,!0)),F.push(new Nt("contentType",null,!0)),F.push(new Nt("metadata","customMetadata",!0)),li=F,li}function rt(F,O,Q){const ie=vr(O);return null===ie?null:function mt(F,O,Q){const ie={type:"file"},me=Q.length;for(let Ve=0;Ve<me;Ve++){const ut=Q[Ve];ie[ut.local]=ut.xform(ie,O[ut.server])}return function xe(F,O){Object.defineProperty(F,"ref",{get:function Q(){const Ve=new de(F.bucket,F.fullPath);return O._makeStorageReference(Ve)}})}(ie,F),ie}(F,ie,Q)}const ee="prefixes",J="items";class Ae{constructor(O,Q,ie,me){this.url=O,this.method=Q,this.handler=ie,this.timeout=me,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function It(F){if(!F)throw Pe()}function er(F){return function O(Q,ie){let me;return me=401===Q.getStatus()?Q.getErrorText().includes("Firebase App Check token is invalid")?function bt(){return new K("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function vt(){return new K("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===Q.getStatus()?function Le(F){return new K("quota-exceeded","Quota for bucket '"+F+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(F.bucket):403===Q.getStatus()?function Wt(F){return new K("unauthorized","User does not have permission to access '"+F+"'.")}(F.path):ie,me.status=Q.getStatus(),me.serverResponse=ie.serverResponse,me}}function W(F,O,Q,ie,me){const Ve={};Ve.prefix=O.isRoot?"":O.path+"/",Q&&Q.length>0&&(Ve.delimiter=Q),ie&&(Ve.pageToken=ie),me&&(Ve.maxResults=me);const Ft=Tn(O.bucketOnlyServerUrl(),F.host,F._protocol),un=F.maxOperationRetryTime,Un=new Ae(Ft,"GET",function Cn(F,O){return function Q(ie,me){const Ve=function je(F,O,Q){const ie=vr(Q);return null===ie?null:function fe(F,O,Q){const ie={prefixes:[],items:[],nextPageToken:Q.nextPageToken};if(Q[ee])for(const me of Q[ee]){const Ve=me.replace(/\/$/,""),ut=F._makeStorageReference(new de(O,Ve));ie.prefixes.push(ut)}if(Q[J])for(const me of Q[J]){const Ve=F._makeStorageReference(new de(O,me.name));ie.items.push(Ve)}return ie}(F,O,ie)}(F,O,me);return It(null!==Ve),Ve}}(F,O.bucket),un);return Un.urlParams=Ve,Un.errorHandler=er(O),Un}function rn(F,O,Q,ie,me){const Ve=O.bucketOnlyServerUrl(),ut={"X-Goog-Upload-Protocol":"multipart"},Bt=function Ft(){let Ar="";for(let Hn=0;Hn<2;Hn++)Ar+=Math.random().toString().slice(2);return Ar}();ut["Content-Type"]="multipart/related; boundary="+Bt;const un=function ht(F,O,Q){const ie=Object.assign({},Q);return ie.fullPath=F.path,ie.size=O.size(),ie.contentType||(ie.contentType=function kn(F,O){return F&&F.contentType||O&&O.type()||"application/octet-stream"}(null,O)),ie}(O,ie,me),Un=function wn(F,O){const Q={},ie=O.length;for(let me=0;me<ie;me++){const Ve=O[me];Ve.writable&&(Q[Ve.server]=F[Ve.local])}return JSON.stringify(Q)}(un,Q),Tr=vn.getBlob("--"+Bt+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Un+"\r\n--"+Bt+"\r\nContent-Type: "+un.contentType+"\r\n\r\n",ie,"\r\n--"+Bt+"--");if(null===Tr)throw function Oe(){return new K("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}();const Sr={name:un.fullPath},Gr=Tn(Ve,F.host,F._protocol),Mi=F.maxUploadRetryTime,cr=new Ae(Gr,"POST",function Kt(F,O){return function Q(ie,me){const Ve=rt(F,me,O);return It(null!==Ve),Ve}}(F,Q),Mi);return cr.urlParams=Sr,cr.headers=ut,cr.body=Tr.uploadData(),cr.errorHandler=er(O),cr}class Pn extends class bi{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ft.NO_ERROR,this.sendPromise_=new Promise(O=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ft.ABORT,O()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ft.NETWORK_ERROR,O()}),this.xhr_.addEventListener("load",()=>{O()})})}send(O,Q,ie,me){if(this.sent_)throw re("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(Q,O,!0),void 0!==me)for(const Ve in me)me.hasOwnProperty(Ve)&&this.xhr_.setRequestHeader(Ve,me[Ve].toString());return void 0!==ie?this.xhr_.send(ie):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw re("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw re("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw re("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw re("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(O){return this.xhr_.getResponseHeader(O)}addUploadProgressListener(O){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",O)}removeUploadProgressListener(O){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",O)}}{initXhr(){this.xhr_.responseType="text"}}function br(){return new Pn}class He{constructor(O,Q){this._service=O,this._location=Q instanceof de?Q:de.makeFromUrl(Q,O.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(O,Q){return new He(O,Q)}get root(){const O=new de(this._location.bucket,"");return this._newRef(this._service,O)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return $n(this._location.path)}get storage(){return this._service}get parent(){const O=function Ln(F){if(0===F.length)return null;const O=F.lastIndexOf("/");return-1===O?"":F.slice(0,O)}(this._location.path);if(null===O)return null;const Q=new de(this._location.bucket,O);return new He(this._service,Q)}_throwIfRoot(O){if(""===this._location.path)throw function ce(F){return new K("invalid-root-operation","The operation '"+F+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(O)}}function kr(F,O,Q){return _s.apply(this,arguments)}function _s(){return(_s=(0,M.Z)(function*(F,O,Q){const me=yield Vr(F,{pageToken:Q});O.prefixes.push(...me.prefixes),O.items.push(...me.items),null!=me.nextPageToken&&(yield kr(F,O,me.nextPageToken))})).apply(this,arguments)}function Vr(F,O){null!=O&&"number"==typeof O.maxResults&&xr("options.maxResults",1,1e3,O.maxResults);const Q=O||{},ie=W(F.storage,F._location,"/",Q.pageToken,Q.maxResults);return F.storage.makeRequestWithTokens(ie,br)}function Pr(F){F._throwIfRoot("getDownloadURL");const O=function Be(F,O,Q){const me=Tn(O.fullServerUrl(),F.host,F._protocol),ut=F.maxOperationRetryTime,Ft=new Ae(me,"GET",function Lr(F,O){return function Q(ie,me){const Ve=rt(F,me,O);return It(null!==Ve),function Ot(F,O,Q,ie){const me=vr(O);if(null===me||!Qt(me.downloadTokens))return null;const Ve=me.downloadTokens;if(0===Ve.length)return null;const ut=encodeURIComponent;return Ve.split(",").map(un=>{const Nr=F.fullPath;return Tn("/b/"+ut(F.bucket)+"/o/"+ut(Nr),Q,ie)+Rn({alt:"media",token:un})})[0]}(Ve,me,F.host,F._protocol)}}(F,Q),ut);return Ft.errorHandler=function we(F){const O=er(F);return function Q(ie,me){let Ve=O(ie,me);return 404===ie.getStatus()&&(Ve=function ze(F){return new K("object-not-found","Object '"+F+"' does not exist.")}(F.path)),Ve.serverResponse=me.serverResponse,Ve}}(O),Ft}(F.storage,F._location,dt());return F.storage.makeRequestWithTokens(O,br).then(Q=>{if(null===Q)throw function Ge(){return new K("no-download-url","The given file does not have any download URLs.")}();return Q})}function no(F,O){if(F instanceof Gs){const Q=F;if(null==Q._bucket)throw function nt(){return new K("no-default-bucket","No default bucket found. Did you set the '"+ue+"' property when initializing the app?")}();const ie=new He(Q,Q._bucket);return null!=O?no(ie,O):ie}return void 0!==O?function di(F,O){const Q=function Hr(F,O){const Q=O.split("/").filter(ie=>ie.length>0).join("/");return 0===F.length?Q:F+"/"+Q}(F._location.path,O),ie=new de(F._location.bucket,Q);return new He(F.storage,ie)}(F,O):F}function pi(F,O){const Q=O?.[ue];return null==Q?null:de.makeFromBucketSpec(Q,F)}class Gs{constructor(O,Q,ie,me,Ve){this.app=O,this._authProvider=Q,this._appCheckProvider=ie,this._url=me,this._firebaseVersion=Ve,this._bucket=null,this._host=De,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=me?de.makeFromBucketSpec(me,this._host):pi(this._host,this.app.options)}get host(){return this._host}set host(O){this._host=O,this._bucket=null!=this._url?de.makeFromBucketSpec(this._url,O):pi(O,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(O){xr("time",0,Number.POSITIVE_INFINITY,O),this._maxUploadRetryTime=O}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(O){xr("time",0,Number.POSITIVE_INFINITY,O),this._maxOperationRetryTime=O}_getAuthToken(){var O=this;return(0,M.Z)(function*(){if(O._overrideAuthToken)return O._overrideAuthToken;const Q=O._authProvider.getImmediate({optional:!0});if(Q){const ie=yield Q.getToken();if(null!==ie)return ie.accessToken}return null})()}_getAppCheckToken(){var O=this;return(0,M.Z)(function*(){const Q=O._appCheckProvider.getImmediate({optional:!0});return Q?(yield Q.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(O=>O.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(O){return new He(this,O)}_makeRequest(O,Q,ie,me,Ve=!0){if(this._deleted)return new Ke(ot());{const ut=function yr(F,O,Q,ie,me,Ve,ut=!0){const Ft=Rn(F.urlParams),Bt=F.url+Ft,un=Object.assign({},F.headers);return function ni(F,O){O&&(F["X-Firebase-GMPID"]=O)}(un,O),function sr(F,O){null!==O&&O.length>0&&(F.Authorization="Firebase "+O)}(un,Q),function dr(F,O){F["X-Firebase-Storage-Version"]="webjs/"+(O??"AppManager")}(un,Ve),function Mr(F,O){null!==O&&(F["X-Firebase-AppCheck"]=O)}(un,ie),new Kn(Bt,F.method,un,F.body,F.successCodes,F.additionalRetryCodes,F.handler,F.errorHandler,F.timeout,F.progressCallback,me,ut)}(O,this._appId,ie,me,Q,this._firebaseVersion,Ve);return this._requests.add(ut),ut.getPromise().then(()=>this._requests.delete(ut),()=>this._requests.delete(ut)),ut}}makeRequestWithTokens(O,Q){var ie=this;return(0,M.Z)(function*(){const[me,Ve]=yield Promise.all([ie._getAuthToken(),ie._getAppCheckToken()]);return ie._makeRequest(O,Q,me,Ve).getPromise()})()}}const ga="@firebase/storage",Xo="storage";function Va(F,O,Q){return function In(F,O,Q){F._throwIfRoot("uploadBytes");const ie=rn(F.storage,F._location,dt(),new vn(O,!0),Q);return F.storage.makeRequestWithTokens(ie,br).then(me=>({metadata:me,ref:F}))}(F=(0,te.m9)(F),O,Q)}function Yn(F){return function Er(F){const O={prefixes:[],items:[]};return kr(F,O).then(()=>O)}(F=(0,te.m9)(F))}function io(F){return Pr(F=(0,te.m9)(F))}function xi(F,O){return function Ss(F,O){if(O&&function to(F){return/^[A-Za-z]+:\/\//.test(F)}(O)){if(F instanceof Gs)return function Pi(F,O){return new He(F,O)}(F,O);throw ye("To use ref(service, url), the first argument must be a Storage instance.")}return no(F,O)}(F=(0,te.m9)(F),O)}function go(F=(0,z.Mq)(),O){F=(0,te.m9)(F);const ie=(0,z.qX)(F,Xo).getImmediate({identifier:O}),me=(0,te.P0)("storage");return me&&function oo(F,O,Q,ie={}){!function Hs(F,O,Q,ie={}){F.host=`${O}:${Q}`,F._protocol="http";const{mockUserToken:me}=ie;me&&(F._overrideAuthToken="string"==typeof me?me:(0,te.Sg)(me,F.app.options.projectId))}(F,O,Q,ie)}(ie,...me),ie}function mo(F,{instanceIdentifier:O}){const Q=F.getProvider("app").getImmediate(),ie=F.getProvider("auth-internal"),me=F.getProvider("app-check-internal");return new Gs(Q,ie,me,O,z.Jn)}!function Ni(){(0,z.Xd)(new ve.wA(Xo,mo,"PUBLIC").setMultipleInstances(!0)),(0,z.KN)(ga,"0.9.12",""),(0,z.KN)(ga,"0.9.12","esm2017")}()},1135:(sn,Je,j)=>{j.d(Je,{X:()=>z});var M=j(7579);class z extends M.x{constructor(ve){super(),this._value=ve}get value(){return this.getValue()}_subscribe(ve){const De=super._subscribe(ve);return!De.closed&&ve.next(this._value),De}getValue(){const{hasError:ve,thrownError:De,_value:ue}=this;if(ve)throw De;return this._throwIfClosed(),ue}next(ve){super.next(this._value=ve)}}},9751:(sn,Je,j)=>{j.d(Je,{y:()=>Te});var M=j(2961),z=j(727),te=j(8822),ve=j(9635),De=j(2416),ue=j(576),Ee=j(2806);let Te=(()=>{class Pe{constructor(Le){Le&&(this._subscribe=Le)}lift(Le){const vt=new Pe;return vt.source=this,vt.operator=Le,vt}subscribe(Le,vt,bt){const Wt=function ae(Pe){return Pe&&Pe instanceof M.Lv||function K(Pe){return Pe&&(0,ue.m)(Pe.next)&&(0,ue.m)(Pe.error)&&(0,ue.m)(Pe.complete)}(Pe)&&(0,z.Nn)(Pe)}(Le)?Le:new M.Hp(Le,vt,bt);return(0,Ee.x)(()=>{const{operator:xt,source:$t}=this;Wt.add(xt?xt.call(Wt,$t):$t?this._subscribe(Wt):this._trySubscribe(Wt))}),Wt}_trySubscribe(Le){try{return this._subscribe(Le)}catch(vt){Le.error(vt)}}forEach(Le,vt){return new(vt=qe(vt))((bt,Wt)=>{const xt=new M.Hp({next:$t=>{try{Le($t)}catch(_t){Wt(_t),xt.unsubscribe()}},error:Wt,complete:bt});this.subscribe(xt)})}_subscribe(Le){var vt;return null===(vt=this.source)||void 0===vt?void 0:vt.subscribe(Le)}[te.L](){return this}pipe(...Le){return(0,ve.U)(Le)(this)}toPromise(Le){return new(Le=qe(Le))((vt,bt)=>{let Wt;this.subscribe(xt=>Wt=xt,xt=>bt(xt),()=>vt(Wt))})}}return Pe.create=ze=>new Pe(ze),Pe})();function qe(Pe){var ze;return null!==(ze=Pe??De.v.Promise)&&void 0!==ze?ze:Promise}},7579:(sn,Je,j)=>{j.d(Je,{x:()=>Ee});var M=j(9751),z=j(727);const ve=(0,j(3888).d)(qe=>function(){qe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var De=j(8737),ue=j(2806);let Ee=(()=>{class qe extends M.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ae){const Pe=new Te(this,this);return Pe.operator=ae,Pe}_throwIfClosed(){if(this.closed)throw new ve}next(ae){(0,ue.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Pe of this.currentObservers)Pe.next(ae)}})}error(ae){(0,ue.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ae;const{observers:Pe}=this;for(;Pe.length;)Pe.shift().error(ae)}})}complete(){(0,ue.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ae}=this;for(;ae.length;)ae.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ae;return(null===(ae=this.observers)||void 0===ae?void 0:ae.length)>0}_trySubscribe(ae){return this._throwIfClosed(),super._trySubscribe(ae)}_subscribe(ae){return this._throwIfClosed(),this._checkFinalizedStatuses(ae),this._innerSubscribe(ae)}_innerSubscribe(ae){const{hasError:Pe,isStopped:ze,observers:Le}=this;return Pe||ze?z.Lc:(this.currentObservers=null,Le.push(ae),new z.w0(()=>{this.currentObservers=null,(0,De.P)(Le,ae)}))}_checkFinalizedStatuses(ae){const{hasError:Pe,thrownError:ze,isStopped:Le}=this;Pe?ae.error(ze):Le&&ae.complete()}asObservable(){const ae=new M.y;return ae.source=this,ae}}return qe.create=(K,ae)=>new Te(K,ae),qe})();class Te extends Ee{constructor(K,ae){super(),this.destination=K,this.source=ae}next(K){var ae,Pe;null===(Pe=null===(ae=this.destination)||void 0===ae?void 0:ae.next)||void 0===Pe||Pe.call(ae,K)}error(K){var ae,Pe;null===(Pe=null===(ae=this.destination)||void 0===ae?void 0:ae.error)||void 0===Pe||Pe.call(ae,K)}complete(){var K,ae;null===(ae=null===(K=this.destination)||void 0===K?void 0:K.complete)||void 0===ae||ae.call(K)}_subscribe(K){var ae,Pe;return null!==(Pe=null===(ae=this.source)||void 0===ae?void 0:ae.subscribe(K))&&void 0!==Pe?Pe:z.Lc}}},2961:(sn,Je,j)=>{j.d(Je,{Hp:()=>bt,Lv:()=>Pe});var M=j(576),z=j(727),te=j(2416),ve=j(7849);function De(){}const ue=qe("C",void 0,void 0);function qe(Qe,nt,Oe){return{kind:Qe,value:nt,error:Oe}}var K=j(3410),ae=j(2806);class Pe extends z.w0{constructor(nt){super(),this.isStopped=!1,nt?(this.destination=nt,(0,z.Nn)(nt)&&nt.add(this)):this.destination=_t}static create(nt,Oe,Et){return new bt(nt,Oe,Et)}next(nt){this.isStopped?$t(function Te(Qe){return qe("N",Qe,void 0)}(nt),this):this._next(nt)}error(nt){this.isStopped?$t(function Ee(Qe){return qe("E",void 0,Qe)}(nt),this):(this.isStopped=!0,this._error(nt))}complete(){this.isStopped?$t(ue,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(nt){this.destination.next(nt)}_error(nt){try{this.destination.error(nt)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ze=Function.prototype.bind;function Le(Qe,nt){return ze.call(Qe,nt)}class vt{constructor(nt){this.partialObserver=nt}next(nt){const{partialObserver:Oe}=this;if(Oe.next)try{Oe.next(nt)}catch(Et){Wt(Et)}}error(nt){const{partialObserver:Oe}=this;if(Oe.error)try{Oe.error(nt)}catch(Et){Wt(Et)}else Wt(nt)}complete(){const{partialObserver:nt}=this;if(nt.complete)try{nt.complete()}catch(Oe){Wt(Oe)}}}class bt extends Pe{constructor(nt,Oe,Et){let Ge;if(super(),(0,M.m)(nt)||!nt)Ge={next:nt??void 0,error:Oe??void 0,complete:Et??void 0};else{let ye;this&&te.v.useDeprecatedNextContext?(ye=Object.create(nt),ye.unsubscribe=()=>this.unsubscribe(),Ge={next:nt.next&&Le(nt.next,ye),error:nt.error&&Le(nt.error,ye),complete:nt.complete&&Le(nt.complete,ye)}):Ge=nt}this.destination=new vt(Ge)}}function Wt(Qe){te.v.useDeprecatedSynchronousErrorHandling?(0,ae.O)(Qe):(0,ve.h)(Qe)}function $t(Qe,nt){const{onStoppedNotification:Oe}=te.v;Oe&&K.z.setTimeout(()=>Oe(Qe,nt))}const _t={closed:!0,next:De,error:function xt(Qe){throw Qe},complete:De}},727:(sn,Je,j)=>{j.d(Je,{Lc:()=>ue,w0:()=>De,Nn:()=>Ee});var M=j(576);const te=(0,j(3888).d)(qe=>function(ae){qe(this),this.message=ae?`${ae.length} errors occurred during unsubscription:\n${ae.map((Pe,ze)=>`${ze+1}) ${Pe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ae});var ve=j(8737);class De{constructor(K){this.initialTeardown=K,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let K;if(!this.closed){this.closed=!0;const{_parentage:ae}=this;if(ae)if(this._parentage=null,Array.isArray(ae))for(const Le of ae)Le.remove(this);else ae.remove(this);const{initialTeardown:Pe}=this;if((0,M.m)(Pe))try{Pe()}catch(Le){K=Le instanceof te?Le.errors:[Le]}const{_finalizers:ze}=this;if(ze){this._finalizers=null;for(const Le of ze)try{Te(Le)}catch(vt){K=K??[],vt instanceof te?K=[...K,...vt.errors]:K.push(vt)}}if(K)throw new te(K)}}add(K){var ae;if(K&&K!==this)if(this.closed)Te(K);else{if(K instanceof De){if(K.closed||K._hasParent(this))return;K._addParent(this)}(this._finalizers=null!==(ae=this._finalizers)&&void 0!==ae?ae:[]).push(K)}}_hasParent(K){const{_parentage:ae}=this;return ae===K||Array.isArray(ae)&&ae.includes(K)}_addParent(K){const{_parentage:ae}=this;this._parentage=Array.isArray(ae)?(ae.push(K),ae):ae?[ae,K]:K}_removeParent(K){const{_parentage:ae}=this;ae===K?this._parentage=null:Array.isArray(ae)&&(0,ve.P)(ae,K)}remove(K){const{_finalizers:ae}=this;ae&&(0,ve.P)(ae,K),K instanceof De&&K._removeParent(this)}}De.EMPTY=(()=>{const qe=new De;return qe.closed=!0,qe})();const ue=De.EMPTY;function Ee(qe){return qe instanceof De||qe&&"closed"in qe&&(0,M.m)(qe.remove)&&(0,M.m)(qe.add)&&(0,M.m)(qe.unsubscribe)}function Te(qe){(0,M.m)(qe)?qe():qe.unsubscribe()}},2416:(sn,Je,j)=>{j.d(Je,{v:()=>M});const M={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(sn,Je,j)=>{j.d(Je,{E:()=>z});const z=new(j(9751).y)(De=>De.complete())},8996:(sn,Je,j)=>{j.d(Je,{D:()=>nt});var M=j(8421),z=j(5363),te=j(9468),ue=j(9751),Te=j(2202),qe=j(576),K=j(9672);function Pe(Oe,Et){if(!Oe)throw new Error("Iterable cannot be null");return new ue.y(Ge=>{(0,K.f)(Ge,Et,()=>{const ye=Oe[Symbol.asyncIterator]();(0,K.f)(Ge,Et,()=>{ye.next().then(ot=>{ot.done?Ge.complete():Ge.next(ot.value)})},0,!0)})})}var ze=j(3670),Le=j(8239),vt=j(1144),bt=j(6495),Wt=j(2206),xt=j(4532),$t=j(3260);function nt(Oe,Et){return Et?function Qe(Oe,Et){if(null!=Oe){if((0,ze.c)(Oe))return function ve(Oe,Et){return(0,M.Xf)(Oe).pipe((0,te.R)(Et),(0,z.Q)(Et))}(Oe,Et);if((0,vt.z)(Oe))return function Ee(Oe,Et){return new ue.y(Ge=>{let ye=0;return Et.schedule(function(){ye===Oe.length?Ge.complete():(Ge.next(Oe[ye++]),Ge.closed||this.schedule())})})}(Oe,Et);if((0,Le.t)(Oe))return function De(Oe,Et){return(0,M.Xf)(Oe).pipe((0,te.R)(Et),(0,z.Q)(Et))}(Oe,Et);if((0,Wt.D)(Oe))return Pe(Oe,Et);if((0,bt.T)(Oe))return function ae(Oe,Et){return new ue.y(Ge=>{let ye;return(0,K.f)(Ge,Et,()=>{ye=Oe[Te.h](),(0,K.f)(Ge,Et,()=>{let ot,ce;try{({value:ot,done:ce}=ye.next())}catch(_e){return void Ge.error(_e)}ce?Ge.complete():Ge.next(ot)},0,!0)}),()=>(0,qe.m)(ye?.return)&&ye.return()})}(Oe,Et);if((0,$t.L)(Oe))return function _t(Oe,Et){return Pe((0,$t.Q)(Oe),Et)}(Oe,Et)}throw(0,xt.z)(Oe)}(Oe,Et):(0,M.Xf)(Oe)}},8421:(sn,Je,j)=>{j.d(Je,{Xf:()=>ze});var M=j(655),z=j(1144),te=j(8239),ve=j(9751),De=j(3670),ue=j(2206),Ee=j(4532),Te=j(6495),qe=j(3260),K=j(576),ae=j(7849),Pe=j(8822);function ze(Qe){if(Qe instanceof ve.y)return Qe;if(null!=Qe){if((0,De.c)(Qe))return function Le(Qe){return new ve.y(nt=>{const Oe=Qe[Pe.L]();if((0,K.m)(Oe.subscribe))return Oe.subscribe(nt);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Qe);if((0,z.z)(Qe))return function vt(Qe){return new ve.y(nt=>{for(let Oe=0;Oe<Qe.length&&!nt.closed;Oe++)nt.next(Qe[Oe]);nt.complete()})}(Qe);if((0,te.t)(Qe))return function bt(Qe){return new ve.y(nt=>{Qe.then(Oe=>{nt.closed||(nt.next(Oe),nt.complete())},Oe=>nt.error(Oe)).then(null,ae.h)})}(Qe);if((0,ue.D)(Qe))return xt(Qe);if((0,Te.T)(Qe))return function Wt(Qe){return new ve.y(nt=>{for(const Oe of Qe)if(nt.next(Oe),nt.closed)return;nt.complete()})}(Qe);if((0,qe.L)(Qe))return function $t(Qe){return xt((0,qe.Q)(Qe))}(Qe)}throw(0,Ee.z)(Qe)}function xt(Qe){return new ve.y(nt=>{(function _t(Qe,nt){var Oe,Et,Ge,ye;return(0,M.mG)(this,void 0,void 0,function*(){try{for(Oe=(0,M.KL)(Qe);!(Et=yield Oe.next()).done;)if(nt.next(Et.value),nt.closed)return}catch(ot){Ge={error:ot}}finally{try{Et&&!Et.done&&(ye=Oe.return)&&(yield ye.call(Oe))}finally{if(Ge)throw Ge.error}}nt.complete()})})(Qe,nt).catch(Oe=>nt.error(Oe))})}},9646:(sn,Je,j)=>{j.d(Je,{of:()=>te});var M=j(7669),z=j(8996);function te(...ve){const De=(0,M.yG)(ve);return(0,z.D)(ve,De)}},5403:(sn,Je,j)=>{j.d(Je,{x:()=>z});var M=j(2961);function z(ve,De,ue,Ee,Te){return new te(ve,De,ue,Ee,Te)}class te extends M.Lv{constructor(De,ue,Ee,Te,qe,K){super(De),this.onFinalize=qe,this.shouldUnsubscribe=K,this._next=ue?function(ae){try{ue(ae)}catch(Pe){De.error(Pe)}}:super._next,this._error=Te?function(ae){try{Te(ae)}catch(Pe){De.error(Pe)}finally{this.unsubscribe()}}:super._error,this._complete=Ee?function(){try{Ee()}catch(ae){De.error(ae)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var De;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ue}=this;super.unsubscribe(),!ue&&(null===(De=this.onFinalize)||void 0===De||De.call(this))}}}},4004:(sn,Je,j)=>{j.d(Je,{U:()=>te});var M=j(4482),z=j(5403);function te(ve,De){return(0,M.e)((ue,Ee)=>{let Te=0;ue.subscribe((0,z.x)(Ee,qe=>{Ee.next(ve.call(De,qe,Te++))}))})}},8189:(sn,Je,j)=>{j.d(Je,{J:()=>te});var M=j(5577),z=j(4671);function te(ve=1/0){return(0,M.z)(z.y,ve)}},5577:(sn,Je,j)=>{j.d(Je,{z:()=>Te});var M=j(4004),z=j(8421),te=j(4482),ve=j(9672),De=j(5403),Ee=j(576);function Te(qe,K,ae=1/0){return(0,Ee.m)(K)?Te((Pe,ze)=>(0,M.U)((Le,vt)=>K(Pe,Le,ze,vt))((0,z.Xf)(qe(Pe,ze))),ae):("number"==typeof K&&(ae=K),(0,te.e)((Pe,ze)=>function ue(qe,K,ae,Pe,ze,Le,vt,bt){const Wt=[];let xt=0,$t=0,_t=!1;const Qe=()=>{_t&&!Wt.length&&!xt&&K.complete()},nt=Et=>xt<Pe?Oe(Et):Wt.push(Et),Oe=Et=>{Le&&K.next(Et),xt++;let Ge=!1;(0,z.Xf)(ae(Et,$t++)).subscribe((0,De.x)(K,ye=>{ze?.(ye),Le?nt(ye):K.next(ye)},()=>{Ge=!0},void 0,()=>{if(Ge)try{for(xt--;Wt.length&&xt<Pe;){const ye=Wt.shift();vt?(0,ve.f)(K,vt,()=>Oe(ye)):Oe(ye)}Qe()}catch(ye){K.error(ye)}}))};return qe.subscribe((0,De.x)(K,nt,()=>{_t=!0,Qe()})),()=>{bt?.()}}(Pe,ze,qe,ae)))}},5363:(sn,Je,j)=>{j.d(Je,{Q:()=>ve});var M=j(9672),z=j(4482),te=j(5403);function ve(De,ue=0){return(0,z.e)((Ee,Te)=>{Ee.subscribe((0,te.x)(Te,qe=>(0,M.f)(Te,De,()=>Te.next(qe),ue),()=>(0,M.f)(Te,De,()=>Te.complete(),ue),qe=>(0,M.f)(Te,De,()=>Te.error(qe),ue)))})}},9468:(sn,Je,j)=>{j.d(Je,{R:()=>z});var M=j(4482);function z(te,ve=0){return(0,M.e)((De,ue)=>{ue.add(te.schedule(()=>De.subscribe(ue),ve))})}},8505:(sn,Je,j)=>{j.d(Je,{b:()=>De});var M=j(576),z=j(4482),te=j(5403),ve=j(4671);function De(ue,Ee,Te){const qe=(0,M.m)(ue)||Ee||Te?{next:ue,error:Ee,complete:Te}:ue;return qe?(0,z.e)((K,ae)=>{var Pe;null===(Pe=qe.subscribe)||void 0===Pe||Pe.call(qe);let ze=!0;K.subscribe((0,te.x)(ae,Le=>{var vt;null===(vt=qe.next)||void 0===vt||vt.call(qe,Le),ae.next(Le)},()=>{var Le;ze=!1,null===(Le=qe.complete)||void 0===Le||Le.call(qe),ae.complete()},Le=>{var vt;ze=!1,null===(vt=qe.error)||void 0===vt||vt.call(qe,Le),ae.error(Le)},()=>{var Le,vt;ze&&(null===(Le=qe.unsubscribe)||void 0===Le||Le.call(qe)),null===(vt=qe.finalize)||void 0===vt||vt.call(qe)}))}):ve.y}},3410:(sn,Je,j)=>{j.d(Je,{z:()=>M});const M={setTimeout(z,te,...ve){const{delegate:De}=M;return De?.setTimeout?De.setTimeout(z,te,...ve):setTimeout(z,te,...ve)},clearTimeout(z){const{delegate:te}=M;return(te?.clearTimeout||clearTimeout)(z)},delegate:void 0}},2202:(sn,Je,j)=>{j.d(Je,{h:()=>z});const z=function M(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(sn,Je,j)=>{j.d(Je,{L:()=>M});const M="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(sn,Je,j)=>{j.d(Je,{_6:()=>ue,jO:()=>ve,yG:()=>De});var M=j(576);function te(Ee){return Ee[Ee.length-1]}function ve(Ee){return(0,M.m)(te(Ee))?Ee.pop():void 0}function De(Ee){return function z(Ee){return Ee&&(0,M.m)(Ee.schedule)}(te(Ee))?Ee.pop():void 0}function ue(Ee,Te){return"number"==typeof te(Ee)?Ee.pop():Te}},4742:(sn,Je,j)=>{j.d(Je,{D:()=>De});const{isArray:M}=Array,{getPrototypeOf:z,prototype:te,keys:ve}=Object;function De(Ee){if(1===Ee.length){const Te=Ee[0];if(M(Te))return{args:Te,keys:null};if(function ue(Ee){return Ee&&"object"==typeof Ee&&z(Ee)===te}(Te)){const qe=ve(Te);return{args:qe.map(K=>Te[K]),keys:qe}}}return{args:Ee,keys:null}}},8737:(sn,Je,j)=>{function M(z,te){if(z){const ve=z.indexOf(te);0<=ve&&z.splice(ve,1)}}j.d(Je,{P:()=>M})},3888:(sn,Je,j)=>{function M(z){const ve=z(De=>{Error.call(De),De.stack=(new Error).stack});return ve.prototype=Object.create(Error.prototype),ve.prototype.constructor=ve,ve}j.d(Je,{d:()=>M})},1810:(sn,Je,j)=>{function M(z,te){return z.reduce((ve,De,ue)=>(ve[De]=te[ue],ve),{})}j.d(Je,{n:()=>M})},2806:(sn,Je,j)=>{j.d(Je,{O:()=>ve,x:()=>te});var M=j(2416);let z=null;function te(De){if(M.v.useDeprecatedSynchronousErrorHandling){const ue=!z;if(ue&&(z={errorThrown:!1,error:null}),De(),ue){const{errorThrown:Ee,error:Te}=z;if(z=null,Ee)throw Te}}else De()}function ve(De){M.v.useDeprecatedSynchronousErrorHandling&&z&&(z.errorThrown=!0,z.error=De)}},9672:(sn,Je,j)=>{function M(z,te,ve,De=0,ue=!1){const Ee=te.schedule(function(){ve(),ue?z.add(this.schedule(null,De)):this.unsubscribe()},De);if(z.add(Ee),!ue)return Ee}j.d(Je,{f:()=>M})},4671:(sn,Je,j)=>{function M(z){return z}j.d(Je,{y:()=>M})},1144:(sn,Je,j)=>{j.d(Je,{z:()=>M});const M=z=>z&&"number"==typeof z.length&&"function"!=typeof z},2206:(sn,Je,j)=>{j.d(Je,{D:()=>z});var M=j(576);function z(te){return Symbol.asyncIterator&&(0,M.m)(te?.[Symbol.asyncIterator])}},576:(sn,Je,j)=>{function M(z){return"function"==typeof z}j.d(Je,{m:()=>M})},3670:(sn,Je,j)=>{j.d(Je,{c:()=>te});var M=j(8822),z=j(576);function te(ve){return(0,z.m)(ve[M.L])}},6495:(sn,Je,j)=>{j.d(Je,{T:()=>te});var M=j(2202),z=j(576);function te(ve){return(0,z.m)(ve?.[M.h])}},8239:(sn,Je,j)=>{j.d(Je,{t:()=>z});var M=j(576);function z(te){return(0,M.m)(te?.then)}},3260:(sn,Je,j)=>{j.d(Je,{L:()=>ve,Q:()=>te});var M=j(655),z=j(576);function te(De){return(0,M.FC)(this,arguments,function*(){const Ee=De.getReader();try{for(;;){const{value:Te,done:qe}=yield(0,M.qq)(Ee.read());if(qe)return yield(0,M.qq)(void 0);yield yield(0,M.qq)(Te)}}finally{Ee.releaseLock()}})}function ve(De){return(0,z.m)(De?.getReader)}},4482:(sn,Je,j)=>{j.d(Je,{A:()=>z,e:()=>te});var M=j(576);function z(ve){return(0,M.m)(ve?.lift)}function te(ve){return De=>{if(z(De))return De.lift(function(ue){try{return ve(ue,this)}catch(Ee){this.error(Ee)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(sn,Je,j)=>{j.d(Je,{Z:()=>ve});var M=j(4004);const{isArray:z}=Array;function ve(De){return(0,M.U)(ue=>function te(De,ue){return z(ue)?De(...ue):De(ue)}(De,ue))}},9635:(sn,Je,j)=>{j.d(Je,{U:()=>te,z:()=>z});var M=j(4671);function z(...ve){return te(ve)}function te(ve){return 0===ve.length?M.y:1===ve.length?ve[0]:function(ue){return ve.reduce((Ee,Te)=>Te(Ee),ue)}}},7849:(sn,Je,j)=>{j.d(Je,{h:()=>te});var M=j(2416),z=j(3410);function te(ve){z.z.setTimeout(()=>{const{onUnhandledError:De}=M.v;if(!De)throw ve;De(ve)})}},4532:(sn,Je,j)=>{function M(z){return new TypeError(`You provided ${null!==z&&"object"==typeof z?"an invalid object":`'${z}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}j.d(Je,{z:()=>M})},655:(sn,Je,j)=>{function ve(ce,_e){var re={};for(var de in ce)Object.prototype.hasOwnProperty.call(ce,de)&&_e.indexOf(de)<0&&(re[de]=ce[de]);if(null!=ce&&"function"==typeof Object.getOwnPropertySymbols){var Ke=0;for(de=Object.getOwnPropertySymbols(ce);Ke<de.length;Ke++)_e.indexOf(de[Ke])<0&&Object.prototype.propertyIsEnumerable.call(ce,de[Ke])&&(re[de[Ke]]=ce[de[Ke]])}return re}function Te(ce,_e,re,de){return new(re||(re=Promise))(function($e,yt){function Jt(Qt){try{Ht(de.next(Qt))}catch(On){yt(On)}}function ir(Qt){try{Ht(de.throw(Qt))}catch(On){yt(On)}}function Ht(Qt){Qt.done?$e(Qt.value):function Ke($e){return $e instanceof re?$e:new re(function(yt){yt($e)})}(Qt.value).then(Jt,ir)}Ht((de=de.apply(ce,_e||[])).next())})}function Wt(ce){return this instanceof Wt?(this.v=ce,this):new Wt(ce)}function xt(ce,_e,re){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ke,de=re.apply(ce,_e||[]),$e=[];return Ke={},yt("next"),yt("throw"),yt("return"),Ke[Symbol.asyncIterator]=function(){return this},Ke;function yt(yn){de[yn]&&(Ke[yn]=function(xr){return new Promise(function(Tn,Rn){$e.push([yn,xr,Tn,Rn])>1||Jt(yn,xr)})})}function Jt(yn,xr){try{!function ir(yn){yn.value instanceof Wt?Promise.resolve(yn.value.v).then(Ht,Qt):On($e[0][2],yn)}(de[yn](xr))}catch(Tn){On($e[0][3],Tn)}}function Ht(yn){Jt("next",yn)}function Qt(yn){Jt("throw",yn)}function On(yn,xr){yn(xr),$e.shift(),$e.length&&Jt($e[0][0],$e[0][1])}}function _t(ce){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var re,_e=ce[Symbol.asyncIterator];return _e?_e.call(ce):(ce=function Pe(ce){var _e="function"==typeof Symbol&&Symbol.iterator,re=_e&&ce[_e],de=0;if(re)return re.call(ce);if(ce&&"number"==typeof ce.length)return{next:function(){return ce&&de>=ce.length&&(ce=void 0),{value:ce&&ce[de++],done:!ce}}};throw new TypeError(_e?"Object is not iterable.":"Symbol.iterator is not defined.")}(ce),re={},de("next"),de("throw"),de("return"),re[Symbol.asyncIterator]=function(){return this},re);function de($e){re[$e]=ce[$e]&&function(yt){return new Promise(function(Jt,ir){!function Ke($e,yt,Jt,ir){Promise.resolve(ir).then(function(Ht){$e({value:Ht,done:Jt})},yt)}(Jt,ir,(yt=ce[$e](yt)).done,yt.value)})}}}j.d(Je,{FC:()=>xt,KL:()=>_t,_T:()=>ve,mG:()=>Te,qq:()=>Wt})},6895:(sn,Je,j)=>{j.d(Je,{Do:()=>_t,EM:()=>Ve,HT:()=>De,JF:()=>Un,K0:()=>Ee,Mx:()=>Di,NF:()=>F,O5:()=>Ie,S$:()=>Wt,V_:()=>K,Ye:()=>Qe,b0:()=>$t,bD:()=>Is,ez:()=>oo,p6:()=>dn,q:()=>te,qS:()=>Ur,sg:()=>Jr,w_:()=>ue});var M=j(8256);let z=null;function te(){return z}function De(T){z||(z=T)}class ue{}const Ee=new M.OlP("DocumentToken");let Te=(()=>{class T{historyGo(S){throw new Error("Not implemented")}}return T.\u0275fac=function(S){return new(S||T)},T.\u0275prov=M.Yz7({token:T,factory:function(){return function qe(){return(0,M.LFG)(ae)}()},providedIn:"platform"}),T})();const K=new M.OlP("Location Initialized");let ae=(()=>{class T extends Te{constructor(S){super(),this._doc=S,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return te().getBaseHref(this._doc)}onPopState(S){const B=te().getGlobalEventTarget(this._doc,"window");return B.addEventListener("popstate",S,!1),()=>B.removeEventListener("popstate",S)}onHashChange(S){const B=te().getGlobalEventTarget(this._doc,"window");return B.addEventListener("hashchange",S,!1),()=>B.removeEventListener("hashchange",S)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(S){this.location.pathname=S}pushState(S,B,oe){Pe()?this._history.pushState(S,B,oe):this.location.hash=oe}replaceState(S,B,oe){Pe()?this._history.replaceState(S,B,oe):this.location.hash=oe}forward(){this._history.forward()}back(){this._history.back()}historyGo(S=0){this._history.go(S)}getState(){return this._history.state}}return T.\u0275fac=function(S){return new(S||T)(M.LFG(Ee))},T.\u0275prov=M.Yz7({token:T,factory:function(){return function ze(){return new ae((0,M.LFG)(Ee))}()},providedIn:"platform"}),T})();function Pe(){return!!window.history.pushState}function Le(T,P){if(0==T.length)return P;if(0==P.length)return T;let S=0;return T.endsWith("/")&&S++,P.startsWith("/")&&S++,2==S?T+P.substring(1):1==S?T+P:T+"/"+P}function vt(T){const P=T.match(/#|\?|$/),S=P&&P.index||T.length;return T.slice(0,S-("/"===T[S-1]?1:0))+T.slice(S)}function bt(T){return T&&"?"!==T[0]?"?"+T:T}let Wt=(()=>{class T{historyGo(S){throw new Error("Not implemented")}}return T.\u0275fac=function(S){return new(S||T)},T.\u0275prov=M.Yz7({token:T,factory:function(){return(0,M.f3M)($t)},providedIn:"root"}),T})();const xt=new M.OlP("appBaseHref");let $t=(()=>{class T extends Wt{constructor(S,B){super(),this._platformLocation=S,this._removeListenerFns=[],this._baseHref=B??this._platformLocation.getBaseHrefFromDOM()??(0,M.f3M)(Ee).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(S){this._removeListenerFns.push(this._platformLocation.onPopState(S),this._platformLocation.onHashChange(S))}getBaseHref(){return this._baseHref}prepareExternalUrl(S){return Le(this._baseHref,S)}path(S=!1){const B=this._platformLocation.pathname+bt(this._platformLocation.search),oe=this._platformLocation.hash;return oe&&S?`${B}${oe}`:B}pushState(S,B,oe,Fe){const We=this.prepareExternalUrl(oe+bt(Fe));this._platformLocation.pushState(S,B,We)}replaceState(S,B,oe,Fe){const We=this.prepareExternalUrl(oe+bt(Fe));this._platformLocation.replaceState(S,B,We)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(S=0){this._platformLocation.historyGo?.(S)}}return T.\u0275fac=function(S){return new(S||T)(M.LFG(Te),M.LFG(xt,8))},T.\u0275prov=M.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})(),_t=(()=>{class T extends Wt{constructor(S,B){super(),this._platformLocation=S,this._baseHref="",this._removeListenerFns=[],null!=B&&(this._baseHref=B)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(S){this._removeListenerFns.push(this._platformLocation.onPopState(S),this._platformLocation.onHashChange(S))}getBaseHref(){return this._baseHref}path(S=!1){let B=this._platformLocation.hash;return null==B&&(B="#"),B.length>0?B.substring(1):B}prepareExternalUrl(S){const B=Le(this._baseHref,S);return B.length>0?"#"+B:B}pushState(S,B,oe,Fe){let We=this.prepareExternalUrl(oe+bt(Fe));0==We.length&&(We=this._platformLocation.pathname),this._platformLocation.pushState(S,B,We)}replaceState(S,B,oe,Fe){let We=this.prepareExternalUrl(oe+bt(Fe));0==We.length&&(We=this._platformLocation.pathname),this._platformLocation.replaceState(S,B,We)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(S=0){this._platformLocation.historyGo?.(S)}}return T.\u0275fac=function(S){return new(S||T)(M.LFG(Te),M.LFG(xt,8))},T.\u0275prov=M.Yz7({token:T,factory:T.\u0275fac}),T})(),Qe=(()=>{class T{constructor(S){this._subject=new M.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=S;const B=this._locationStrategy.getBaseHref();this._baseHref=vt(Et(B)),this._locationStrategy.onPopState(oe=>{this._subject.emit({url:this.path(!0),pop:!0,state:oe.state,type:oe.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(S=!1){return this.normalize(this._locationStrategy.path(S))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(S,B=""){return this.path()==this.normalize(S+bt(B))}normalize(S){return T.stripTrailingSlash(function Oe(T,P){return T&&P.startsWith(T)?P.substring(T.length):P}(this._baseHref,Et(S)))}prepareExternalUrl(S){return S&&"/"!==S[0]&&(S="/"+S),this._locationStrategy.prepareExternalUrl(S)}go(S,B="",oe=null){this._locationStrategy.pushState(oe,"",S,B),this._notifyUrlChangeListeners(this.prepareExternalUrl(S+bt(B)),oe)}replaceState(S,B="",oe=null){this._locationStrategy.replaceState(oe,"",S,B),this._notifyUrlChangeListeners(this.prepareExternalUrl(S+bt(B)),oe)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(S=0){this._locationStrategy.historyGo?.(S)}onUrlChange(S){return this._urlChangeListeners.push(S),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(B=>{this._notifyUrlChangeListeners(B.url,B.state)})),()=>{const B=this._urlChangeListeners.indexOf(S);this._urlChangeListeners.splice(B,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(S="",B){this._urlChangeListeners.forEach(oe=>oe(S,B))}subscribe(S,B,oe){return this._subject.subscribe({next:S,error:B,complete:oe})}}return T.normalizeQueryParams=bt,T.joinWithSlash=Le,T.stripTrailingSlash=vt,T.\u0275fac=function(S){return new(S||T)(M.LFG(Wt))},T.\u0275prov=M.Yz7({token:T,factory:function(){return function nt(){return new Qe((0,M.LFG)(Wt))}()},providedIn:"root"}),T})();function Et(T){return T.replace(/\/index.html$/,"")}var ce=(()=>((ce=ce||{})[ce.Format=0]="Format",ce[ce.Standalone=1]="Standalone",ce))(),_e=(()=>((_e=_e||{})[_e.Narrow=0]="Narrow",_e[_e.Abbreviated=1]="Abbreviated",_e[_e.Wide=2]="Wide",_e[_e.Short=3]="Short",_e))(),re=(()=>((re=re||{})[re.Short=0]="Short",re[re.Medium=1]="Medium",re[re.Long=2]="Long",re[re.Full=3]="Full",re))(),de=(()=>((de=de||{})[de.Decimal=0]="Decimal",de[de.Group=1]="Group",de[de.List=2]="List",de[de.PercentSign=3]="PercentSign",de[de.PlusSign=4]="PlusSign",de[de.MinusSign=5]="MinusSign",de[de.Exponential=6]="Exponential",de[de.SuperscriptingExponent=7]="SuperscriptingExponent",de[de.PerMille=8]="PerMille",de[de.Infinity=9]="Infinity",de[de.NaN=10]="NaN",de[de.TimeSeparator=11]="TimeSeparator",de[de.CurrencyDecimal=12]="CurrencyDecimal",de[de.CurrencyGroup=13]="CurrencyGroup",de))();function yn(T,P){return Lt((0,M.cg1)(T)[M.wAp.DateFormat],P)}function xr(T,P){return Lt((0,M.cg1)(T)[M.wAp.TimeFormat],P)}function Tn(T,P){return Lt((0,M.cg1)(T)[M.wAp.DateTimeFormat],P)}function Rn(T,P){const S=(0,M.cg1)(T),B=S[M.wAp.NumberSymbols][P];if(typeof B>"u"){if(P===de.CurrencyDecimal)return S[M.wAp.NumberSymbols][de.Decimal];if(P===de.CurrencyGroup)return S[M.wAp.NumberSymbols][de.Group]}return B}function ni(T){if(!T[M.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${T[M.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Lt(T,P){for(let S=P;S>-1;S--)if(typeof T[S]<"u")return T[S];throw new Error("Locale data API: locale data undefined")}function ar(T){const[P,S]=T.split(":");return{hours:+P,minutes:+S}}const ci=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Zn={},ri=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var wt=(()=>((wt=wt||{})[wt.Short=0]="Short",wt[wt.ShortGMT=1]="ShortGMT",wt[wt.Long=2]="Long",wt[wt.Extended=3]="Extended",wt))(),kt=(()=>((kt=kt||{})[kt.FullYear=0]="FullYear",kt[kt.Month=1]="Month",kt[kt.Date=2]="Date",kt[kt.Hours=3]="Hours",kt[kt.Minutes=4]="Minutes",kt[kt.Seconds=5]="Seconds",kt[kt.FractionalSeconds=6]="FractionalSeconds",kt[kt.Day=7]="Day",kt))(),Xt=(()=>((Xt=Xt||{})[Xt.DayPeriods=0]="DayPeriods",Xt[Xt.Days=1]="Days",Xt[Xt.Months=2]="Months",Xt[Xt.Eras=3]="Eras",Xt))();function dn(T,P,S,B){let oe=function It(T){if(Cn(T))return T;if("number"==typeof T&&!isNaN(T))return new Date(T);if("string"==typeof T){if(T=T.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(T)){const[oe,Fe=1,We=1]=T.split("-").map(Mt=>+Mt);return hr(oe,Fe-1,We)}const S=parseFloat(T);if(!isNaN(T-S))return new Date(S);let B;if(B=T.match(ci))return function Kt(T){const P=new Date(0);let S=0,B=0;const oe=T[8]?P.setUTCFullYear:P.setFullYear,Fe=T[8]?P.setUTCHours:P.setHours;T[9]&&(S=Number(T[9]+T[10]),B=Number(T[9]+T[11])),oe.call(P,Number(T[1]),Number(T[2])-1,Number(T[3]));const We=Number(T[4]||0)-S,Mt=Number(T[5]||0)-B,nr=Number(T[6]||0),Gn=Math.floor(1e3*parseFloat("0."+(T[7]||0)));return Fe.call(P,We,Mt,nr,Gn),P}(B)}const P=new Date(T);if(!Cn(P))throw new Error(`Unable to convert "${T}" into a date`);return P}(T);P=vn(S,P)||P;let Mt,We=[];for(;P;){if(Mt=ri.exec(P),!Mt){We.push(P);break}{We=We.concat(Mt.slice(1));const fr=We.pop();if(!fr)break;P=fr}}let nr=oe.getTimezoneOffset();B&&(nr=fe(B,nr),oe=function Ae(T,P,S){const B=S?-1:1,oe=T.getTimezoneOffset();return function je(T,P){return(T=new Date(T.getTime())).setMinutes(T.getMinutes()+P),T}(T,B*(fe(P,oe)-oe))}(oe,B,!0));let Gn="";return We.forEach(fr=>{const Qn=function J(T){if(ee[T])return ee[T];let P;switch(T){case"G":case"GG":case"GGG":P=Nt(Xt.Eras,_e.Abbreviated);break;case"GGGG":P=Nt(Xt.Eras,_e.Wide);break;case"GGGGG":P=Nt(Xt.Eras,_e.Narrow);break;case"y":P=$n(kt.FullYear,1,0,!1,!0);break;case"yy":P=$n(kt.FullYear,2,0,!0,!0);break;case"yyy":P=$n(kt.FullYear,3,0,!1,!0);break;case"yyyy":P=$n(kt.FullYear,4,0,!1,!0);break;case"Y":P=wn(1);break;case"YY":P=wn(2,!0);break;case"YYY":P=wn(3);break;case"YYYY":P=wn(4);break;case"M":case"L":P=$n(kt.Month,1,1);break;case"MM":case"LL":P=$n(kt.Month,2,1);break;case"MMM":P=Nt(Xt.Months,_e.Abbreviated);break;case"MMMM":P=Nt(Xt.Months,_e.Wide);break;case"MMMMM":P=Nt(Xt.Months,_e.Narrow);break;case"LLL":P=Nt(Xt.Months,_e.Abbreviated,ce.Standalone);break;case"LLLL":P=Nt(Xt.Months,_e.Wide,ce.Standalone);break;case"LLLLL":P=Nt(Xt.Months,_e.Narrow,ce.Standalone);break;case"w":P=Ot(1);break;case"ww":P=Ot(2);break;case"W":P=Ot(1,!0);break;case"d":P=$n(kt.Date,1);break;case"dd":P=$n(kt.Date,2);break;case"c":case"cc":P=$n(kt.Day,1);break;case"ccc":P=Nt(Xt.Days,_e.Abbreviated,ce.Standalone);break;case"cccc":P=Nt(Xt.Days,_e.Wide,ce.Standalone);break;case"ccccc":P=Nt(Xt.Days,_e.Narrow,ce.Standalone);break;case"cccccc":P=Nt(Xt.Days,_e.Short,ce.Standalone);break;case"E":case"EE":case"EEE":P=Nt(Xt.Days,_e.Abbreviated);break;case"EEEE":P=Nt(Xt.Days,_e.Wide);break;case"EEEEE":P=Nt(Xt.Days,_e.Narrow);break;case"EEEEEE":P=Nt(Xt.Days,_e.Short);break;case"a":case"aa":case"aaa":P=Nt(Xt.DayPeriods,_e.Abbreviated);break;case"aaaa":P=Nt(Xt.DayPeriods,_e.Wide);break;case"aaaaa":P=Nt(Xt.DayPeriods,_e.Narrow);break;case"b":case"bb":case"bbb":P=Nt(Xt.DayPeriods,_e.Abbreviated,ce.Standalone,!0);break;case"bbbb":P=Nt(Xt.DayPeriods,_e.Wide,ce.Standalone,!0);break;case"bbbbb":P=Nt(Xt.DayPeriods,_e.Narrow,ce.Standalone,!0);break;case"B":case"BB":case"BBB":P=Nt(Xt.DayPeriods,_e.Abbreviated,ce.Format,!0);break;case"BBBB":P=Nt(Xt.DayPeriods,_e.Wide,ce.Format,!0);break;case"BBBBB":P=Nt(Xt.DayPeriods,_e.Narrow,ce.Format,!0);break;case"h":P=$n(kt.Hours,1,-12);break;case"hh":P=$n(kt.Hours,2,-12);break;case"H":P=$n(kt.Hours,1);break;case"HH":P=$n(kt.Hours,2);break;case"m":P=$n(kt.Minutes,1);break;case"mm":P=$n(kt.Minutes,2);break;case"s":P=$n(kt.Seconds,1);break;case"ss":P=$n(kt.Seconds,2);break;case"S":P=$n(kt.FractionalSeconds,1);break;case"SS":P=$n(kt.FractionalSeconds,2);break;case"SSS":P=$n(kt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":P=qr(wt.Short);break;case"ZZZZZ":P=qr(wt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":P=qr(wt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":P=qr(wt.Long);break;default:return null}return ee[T]=P,P}(fr);Gn+=Qn?Qn(oe,S,nr):"''"===fr?"'":fr.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Gn}function hr(T,P,S){const B=new Date(0);return B.setFullYear(T,P,S),B.setHours(0,0,0),B}function vn(T,P){const S=function $e(T){return(0,M.cg1)(T)[M.wAp.LocaleId]}(T);if(Zn[S]=Zn[S]||{},Zn[S][P])return Zn[S][P];let B="";switch(P){case"shortDate":B=yn(T,re.Short);break;case"mediumDate":B=yn(T,re.Medium);break;case"longDate":B=yn(T,re.Long);break;case"fullDate":B=yn(T,re.Full);break;case"shortTime":B=xr(T,re.Short);break;case"mediumTime":B=xr(T,re.Medium);break;case"longTime":B=xr(T,re.Long);break;case"fullTime":B=xr(T,re.Full);break;case"short":const oe=vn(T,"shortTime"),Fe=vn(T,"shortDate");B=vr(Tn(T,re.Short),[oe,Fe]);break;case"medium":const We=vn(T,"mediumTime"),Mt=vn(T,"mediumDate");B=vr(Tn(T,re.Medium),[We,Mt]);break;case"long":const nr=vn(T,"longTime"),Gn=vn(T,"longDate");B=vr(Tn(T,re.Long),[nr,Gn]);break;case"full":const fr=vn(T,"fullTime"),Qn=vn(T,"fullDate");B=vr(Tn(T,re.Full),[fr,Qn])}return B&&(Zn[S][P]=B),B}function vr(T,P){return P&&(T=T.replace(/\{([^}]+)}/g,function(S,B){return null!=P&&B in P?P[B]:S})),T}function Ln(T,P,S="-",B,oe){let Fe="";(T<0||oe&&T<=0)&&(oe?T=1-T:(T=-T,Fe=S));let We=String(T);for(;We.length<P;)We="0"+We;return B&&(We=We.slice(We.length-P)),Fe+We}function $n(T,P,S=0,B=!1,oe=!1){return function(Fe,We){let Mt=function Wr(T,P){switch(T){case kt.FullYear:return P.getFullYear();case kt.Month:return P.getMonth();case kt.Date:return P.getDate();case kt.Hours:return P.getHours();case kt.Minutes:return P.getMinutes();case kt.Seconds:return P.getSeconds();case kt.FractionalSeconds:return P.getMilliseconds();case kt.Day:return P.getDay();default:throw new Error(`Unknown DateType value "${T}".`)}}(T,Fe);if((S>0||Mt>-S)&&(Mt+=S),T===kt.Hours)0===Mt&&-12===S&&(Mt=12);else if(T===kt.FractionalSeconds)return function Hr(T,P){return Ln(T,3).substring(0,P)}(Mt,P);const nr=Rn(We,de.MinusSign);return Ln(Mt,P,nr,B,oe)}}function Nt(T,P,S=ce.Format,B=!1){return function(oe,Fe){return function li(T,P,S,B,oe,Fe){switch(S){case Xt.Months:return function ir(T,P,S){const B=(0,M.cg1)(T),Fe=Lt([B[M.wAp.MonthsFormat],B[M.wAp.MonthsStandalone]],P);return Lt(Fe,S)}(P,oe,B)[T.getMonth()];case Xt.Days:return function Jt(T,P,S){const B=(0,M.cg1)(T),Fe=Lt([B[M.wAp.DaysFormat],B[M.wAp.DaysStandalone]],P);return Lt(Fe,S)}(P,oe,B)[T.getDay()];case Xt.DayPeriods:const We=T.getHours(),Mt=T.getMinutes();if(Fe){const Gn=function Mr(T){const P=(0,M.cg1)(T);return ni(P),(P[M.wAp.ExtraData][2]||[]).map(B=>"string"==typeof B?ar(B):[ar(B[0]),ar(B[1])])}(P),fr=function yr(T,P,S){const B=(0,M.cg1)(T);ni(B);const Fe=Lt([B[M.wAp.ExtraData][0],B[M.wAp.ExtraData][1]],P)||[];return Lt(Fe,S)||[]}(P,oe,B),Qn=Gn.findIndex(zn=>{if(Array.isArray(zn)){const[rr,Dn]=zn,Rs=We>=rr.hours&&Mt>=rr.minutes,rs=We<Dn.hours||We===Dn.hours&&Mt<Dn.minutes;if(rr.hours<Dn.hours){if(Rs&&rs)return!0}else if(Rs||rs)return!0}else if(zn.hours===We&&zn.minutes===Mt)return!0;return!1});if(-1!==Qn)return fr[Qn]}return function yt(T,P,S){const B=(0,M.cg1)(T),Fe=Lt([B[M.wAp.DayPeriodsFormat],B[M.wAp.DayPeriodsStandalone]],P);return Lt(Fe,S)}(P,oe,B)[We<12?0:1];case Xt.Eras:return function Ht(T,P){return Lt((0,M.cg1)(T)[M.wAp.Eras],P)}(P,B)[T.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${S}`)}}(oe,Fe,T,P,S,B)}}function qr(T){return function(P,S,B){const oe=-1*B,Fe=Rn(S,de.MinusSign),We=oe>0?Math.floor(oe/60):Math.ceil(oe/60);switch(T){case wt.Short:return(oe>=0?"+":"")+Ln(We,2,Fe)+Ln(Math.abs(oe%60),2,Fe);case wt.ShortGMT:return"GMT"+(oe>=0?"+":"")+Ln(We,1,Fe);case wt.Long:return"GMT"+(oe>=0?"+":"")+Ln(We,2,Fe)+":"+Ln(Math.abs(oe%60),2,Fe);case wt.Extended:return 0===B?"Z":(oe>=0?"+":"")+Ln(We,2,Fe)+":"+Ln(Math.abs(oe%60),2,Fe);default:throw new Error(`Unknown zone width "${T}"`)}}}function rt(T){return hr(T.getFullYear(),T.getMonth(),T.getDate()+(4-T.getDay()))}function Ot(T,P=!1){return function(S,B){let oe;if(P){const Fe=new Date(S.getFullYear(),S.getMonth(),1).getDay()-1,We=S.getDate();oe=1+Math.floor((We+Fe)/7)}else{const Fe=rt(S),We=function mt(T){const P=hr(T,0,1).getDay();return hr(T,0,1+(P<=4?4:11)-P)}(Fe.getFullYear()),Mt=Fe.getTime()-We.getTime();oe=1+Math.round(Mt/6048e5)}return Ln(oe,T,Rn(B,de.MinusSign))}}function wn(T,P=!1){return function(S,B){return Ln(rt(S).getFullYear(),T,Rn(B,de.MinusSign),P)}}const ee={};function fe(T,P){T=T.replace(/:/g,"");const S=Date.parse("Jan 01, 1970 00:00:00 "+T)/6e4;return isNaN(S)?P:S}function Cn(T){return T instanceof Date&&!isNaN(T.valueOf())}function Ur(T,P,S){return(0,M.dwT)(T,P,S)}function Di(T,P){P=encodeURIComponent(P);for(const S of T.split(";")){const B=S.indexOf("="),[oe,Fe]=-1==B?[S,""]:[S.slice(0,B),S.slice(B+1)];if(oe.trim()===P)return decodeURIComponent(Fe)}return null}class fi{constructor(P,S,B,oe){this.$implicit=P,this.ngForOf=S,this.index=B,this.count=oe}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Jr=(()=>{class T{constructor(S,B,oe){this._viewContainer=S,this._template=B,this._differs=oe,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(S){this._ngForOf=S,this._ngForOfDirty=!0}set ngForTrackBy(S){this._trackByFn=S}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(S){S&&(this._template=S)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const S=this._ngForOf;!this._differ&&S&&(this._differ=this._differs.find(S).create(this.ngForTrackBy))}if(this._differ){const S=this._differ.diff(this._ngForOf);S&&this._applyChanges(S)}}_applyChanges(S){const B=this._viewContainer;S.forEachOperation((oe,Fe,We)=>{if(null==oe.previousIndex)B.createEmbeddedView(this._template,new fi(oe.item,this._ngForOf,-1,-1),null===We?void 0:We);else if(null==We)B.remove(null===Fe?void 0:Fe);else if(null!==Fe){const Mt=B.get(Fe);B.move(Mt,We),ge(Mt,oe)}});for(let oe=0,Fe=B.length;oe<Fe;oe++){const Mt=B.get(oe).context;Mt.index=oe,Mt.count=Fe,Mt.ngForOf=this._ngForOf}S.forEachIdentityChange(oe=>{ge(B.get(oe.currentIndex),oe)})}static ngTemplateContextGuard(S,B){return!0}}return T.\u0275fac=function(S){return new(S||T)(M.Y36(M.s_b),M.Y36(M.Rgc),M.Y36(M.ZZ4))},T.\u0275dir=M.lG2({type:T,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),T})();function ge(T,P){T.context.$implicit=P.item}let Ie=(()=>{class T{constructor(S,B){this._viewContainer=S,this._context=new He,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=B}set ngIf(S){this._context.$implicit=this._context.ngIf=S,this._updateView()}set ngIfThen(S){at("ngIfThen",S),this._thenTemplateRef=S,this._thenViewRef=null,this._updateView()}set ngIfElse(S){at("ngIfElse",S),this._elseTemplateRef=S,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(S,B){return!0}}return T.\u0275fac=function(S){return new(S||T)(M.Y36(M.s_b),M.Y36(M.Rgc))},T.\u0275dir=M.lG2({type:T,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),T})();class He{constructor(){this.$implicit=null,this.ngIf=null}}function at(T,P){if(P&&!P.createEmbeddedView)throw new Error(`${T} must be a TemplateRef, but received '${(0,M.AaK)(P)}'.`)}let oo=(()=>{class T{}return T.\u0275fac=function(S){return new(S||T)},T.\u0275mod=M.oAB({type:T}),T.\u0275inj=M.cJS({}),T})();const Is="browser";function F(T){return T===Is}let Ve=(()=>{class T{}return T.\u0275prov=(0,M.Yz7)({token:T,providedIn:"root",factory:()=>new ut((0,M.LFG)(Ee),window)}),T})();class ut{constructor(P,S){this.document=P,this.window=S,this.offset=()=>[0,0]}setOffset(P){this.offset=Array.isArray(P)?()=>P:P}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(P){this.supportsScrolling()&&this.window.scrollTo(P[0],P[1])}scrollToAnchor(P){if(!this.supportsScrolling())return;const S=function Bt(T,P){const S=T.getElementById(P)||T.getElementsByName(P)[0];if(S)return S;if("function"==typeof T.createTreeWalker&&T.body&&(T.body.createShadowRoot||T.body.attachShadow)){const B=T.createTreeWalker(T.body,NodeFilter.SHOW_ELEMENT);let oe=B.currentNode;for(;oe;){const Fe=oe.shadowRoot;if(Fe){const We=Fe.getElementById(P)||Fe.querySelector(`[name="${P}"]`);if(We)return We}oe=B.nextNode()}}return null}(this.document,P);S&&(this.scrollToElement(S),S.focus())}setHistoryScrollRestoration(P){if(this.supportScrollRestoration()){const S=this.window.history;S&&S.scrollRestoration&&(S.scrollRestoration=P)}}scrollToElement(P){const S=P.getBoundingClientRect(),B=S.left+this.window.pageXOffset,oe=S.top+this.window.pageYOffset,Fe=this.offset();this.window.scrollTo(B-Fe[0],oe-Fe[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const P=Ft(this.window.history)||Ft(Object.getPrototypeOf(this.window.history));return!(!P||!P.writable&&!P.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Ft(T){return Object.getOwnPropertyDescriptor(T,"scrollRestoration")}class Un{}},8256:(sn,Je,j)=>{j.d(Je,{tb:()=>B0,AFp:()=>F0,ip1:()=>L0,CZH:()=>cm,hGG:()=>RD,z2F:()=>dm,sBO:()=>gD,Sil:()=>YE,_Vd:()=>Xa,EJc:()=>KE,Xts:()=>Ko,SBq:()=>Ou,lqb:()=>Zo,qLn:()=>Ll,vpe:()=>Yu,XFs:()=>wt,OlP:()=>gn,zs3:()=>mu,ZZ4:()=>p_,aQg:()=>g_,soG:()=>lm,YKP:()=>zv,h0i:()=>Hh,PXZ:()=>cD,R0b:()=>su,FiY:()=>Dt,Lbi:()=>zE,g9A:()=>V0,Qsj:()=>Pd,FYo:()=>Rl,JOm:()=>eu,tp0:()=>An,Rgc:()=>bp,dDg:()=>sD,eoX:()=>q0,q4F:()=>oc,GfV:()=>Nd,s_b:()=>om,ifc:()=>Wr,MMx:()=>Hy,Lck:()=>LI,eFA:()=>Y0,G48:()=>pD,Gpc:()=>$t,f3M:()=>C,_c5:()=>MD,c2e:()=>WE,zSh:()=>Ad,wAp:()=>Mn,vHH:()=>Oe,lri:()=>z0,rWj:()=>W0,D6c:()=>kD,cg1:()=>Oy,kL8:()=>mv,dqk:()=>Nt,Z0I:()=>Xr,sIi:()=>Rh,CqO:()=>Iy,QGY:()=>Uh,QP$:()=>Zt,F4k:()=>wy,dwT:()=>Fw,RDi:()=>Rc,AaK:()=>bt,qOj:()=>ep,TTD:()=>Ji,_Bn:()=>Gv,jDz:()=>qv,xp6:()=>lg,uIk:()=>ol,ekj:()=>em,Suo:()=>f0,Xpm:()=>je,lG2:()=>we,Yz7:()=>dr,cJS:()=>Mr,oAB:()=>Cn,Yjl:()=>ne,Y36:()=>ju,_UZ:()=>Yg,BQk:()=>dd,ynx:()=>lp,qZA:()=>Fh,TgZ:()=>cp,EpF:()=>vy,n5z:()=>jo,LFG:()=>si,$8M:()=>Us,$Z:()=>yc,NdJ:()=>Vh,CRH:()=>p0,kcU:()=>wr,O4$:()=>Rs,oxw:()=>pp,Q6J:()=>dl,s9C:()=>wu,DdM:()=>e0,iGM:()=>h0,MAs:()=>Zg,KtG:()=>ta,CHM:()=>Es,LSH:()=>Ed,YNc:()=>ap,_uU:()=>ui,Oqu:()=>$r,hij:()=>Zi,AsE:()=>Yr});var M=j(7579),z=j(727),te=j(9751),ve=j(8189),De=j(8421),ue=j(515),Ee=j(7669),Te=j(8996),K=j(2961),ae=j(4482);function ze(t,r,...s){if(!0===r)return void t();if(!1===r)return;const a=new K.Hp({next:()=>{a.unsubscribe(),t()}});return r(...s).subscribe(a)}function Le(t){for(let r in t)if(t[r]===Le)return r;throw Error("Could not find renamed property on target object.")}function vt(t,r){for(const s in r)r.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(t[s]=r[s])}function bt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(bt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const r=t.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function Wt(t,r){return null==t||""===t?null===r?"":r:null==r||""===r?t:t+" "+r}const xt=Le({__forward_ref__:Le});function $t(t){return t.__forward_ref__=$t,t.toString=function(){return bt(this())},t}function _t(t){return Qe(t)?t():t}function Qe(t){return"function"==typeof t&&t.hasOwnProperty(xt)&&t.__forward_ref__===$t}class Oe extends Error{constructor(r,s){super(function Et(t,r){return`NG0${Math.abs(t)}${r?": "+r.trim():""}`}(r,s)),this.code=r}}function Ge(t){return"string"==typeof t?t:null==t?"":String(t)}function re(t,r){throw new Oe(-201,!1)}function ft(t,r){null==t&&function Ut(t,r,s,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${s} ${a} ${r} <=Actual]`))}(r,t,null,"!=")}function dr(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Mr(t){return{providers:t.providers||[],imports:t.imports||[]}}function yr(t){return Lt(t,Ir)||Lt(t,Zn)}function Xr(t){return null!==yr(t)}function Lt(t,r){return t.hasOwnProperty(r)?t[r]:null}function _r(t){return t&&(t.hasOwnProperty(ci)||t.hasOwnProperty(ri))?t[ci]:null}const Ir=Le({\u0275prov:Le}),ci=Le({\u0275inj:Le}),Zn=Le({ngInjectableDef:Le}),ri=Le({ngInjectorDef:Le});var wt=(()=>((wt=wt||{})[wt.Default=0]="Default",wt[wt.Host=1]="Host",wt[wt.Self=2]="Self",wt[wt.SkipSelf=4]="SkipSelf",wt[wt.Optional=8]="Optional",wt))();let kt;function dn(t){const r=kt;return kt=t,r}function hr(t,r,s){const a=yr(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&wt.Optional?null:void 0!==r?r:void re(bt(t))}function vr(t){return{toString:t}.toString()}var Ln=(()=>((Ln=Ln||{})[Ln.OnPush=0]="OnPush",Ln[Ln.Default=1]="Default",Ln))(),Wr=(()=>{return(t=Wr||(Wr={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",Wr;var t})();const Nt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),dt={},xe=[],mt=Le({\u0275cmp:Le}),rt=Le({\u0275dir:Le}),Ot=Le({\u0275pipe:Le}),wn=Le({\u0275mod:Le}),ee=Le({\u0275fac:Le}),J=Le({__NG_ELEMENT_ID__:Le});let fe=0;function je(t){return vr(()=>{const s=!0===t.standalone,a={},c={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Ln.OnPush,directiveDefs:null,pipeDefs:null,standalone:s,dependencies:s&&t.dependencies||null,getStandaloneInjector:null,selectors:t.selectors||xe,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Wr.Emulated,id:"c"+fe++,styles:t.styles||xe,_:null,setInput:null,schemas:t.schemas||null,tView:null},d=t.dependencies,m=t.features;return c.inputs=er(t.inputs,a),c.outputs=er(t.outputs),m&&m.forEach(w=>w(c)),c.directiveDefs=d?()=>("function"==typeof d?d():d).map(It).filter(Kt):null,c.pipeDefs=d?()=>("function"==typeof d?d():d).map(Be).filter(Kt):null,c})}function It(t){return W(t)||be(t)}function Kt(t){return null!==t}function Cn(t){return vr(()=>({type:t.type,bootstrap:t.bootstrap||xe,declarations:t.declarations||xe,imports:t.imports||xe,exports:t.exports||xe,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function er(t,r){if(null==t)return dt;const s={};for(const a in t)if(t.hasOwnProperty(a)){let c=t[a],d=c;Array.isArray(c)&&(d=c[1],c=c[0]),s[c]=a,r&&(r[c]=d)}return s}const we=je;function ne(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function W(t){return t[mt]||null}function be(t){return t[rt]||null}function Be(t){return t[Ot]||null}function Zt(t){const r=W(t)||be(t)||Be(t);return null!==r&&r.standalone}function en(t,r){const s=t[wn]||null;if(!s&&!0===r)throw new Error(`Type ${bt(t)} does not have '\u0275mod' property.`);return s}function Vr(t){return Array.isArray(t)&&"object"==typeof t[1]}function tr(t){return Array.isArray(t)&&!0===t[1]}function js(t){return 0!=(8&t.flags)}function Pr(t){return 2==(2&t.flags)}function vs(t){return 1==(1&t.flags)}function di(t){return null!==t.template}function to(t){return 0!=(256&t[2])}function oo(t,r){return t.hasOwnProperty(ee)?t[ee]:null}class Is{constructor(r,s,a){this.previousValue=r,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function Ji(){return mo}function mo(t){return t.type.prototype.ngOnChanges&&(t.setInput=F),Ni}function Ni(){const t=Q(this),r=t?.current;if(r){const s=t.previous;if(s===dt)t.previous=r;else for(let a in r)s[a]=r[a];t.current=null,this.ngOnChanges(r)}}function F(t,r,s,a){const c=Q(t)||function ie(t,r){return t[O]=r}(t,{previous:dt,current:null}),d=c.current||(c.current={}),m=c.previous,w=this.declaredInputs[s],b=m[w];d[w]=new Is(b&&b.currentValue,r,m===dt),t[a]=r}Ji.ngInherit=!0;const O="__ngSimpleChanges__";function Q(t){return t[O]||null}function zt(t){for(;Array.isArray(t);)t=t[0];return t}function Gr(t,r){return zt(r[t])}function Vn(t,r){return zt(r[t.index])}function cr(t,r){return t.data[r]}function Hn(t,r){const s=r[t];return Vr(s)?s:s[0]}function Ti(t){return 64==(64&t[2])}function ei(t,r){return null==r?null:t[r]}function gi(t){t[18]=0}function Po(t,r){t[5]+=r;let s=t,a=t[3];for(;null!==a&&(1===r&&1===s[5]||-1===r&&0===s[5]);)a[5]+=r,s=a,a=a[3]}const Pt={lFrame:We(null),bindingsEnabled:!0};function zs(){return Pt.bindingsEnabled}function et(){return Pt.lFrame.lView}function pn(){return Pt.lFrame.tView}function Es(t){return Pt.lFrame.contextLView=t,t[8]}function ta(t){return Pt.lFrame.contextLView=null,t}function Br(){let t=ji();for(;null!==t&&64===t.type;)t=t.parent;return t}function ji(){return Pt.lFrame.currentTNode}function es(t,r){const s=Pt.lFrame;s.currentTNode=t,s.isParent=r}function xs(){return Pt.lFrame.isParent}function _a(){Pt.lFrame.isParent=!1}function Li(){return Pt.lFrame.bindingIndex++}function ns(t){const r=Pt.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+t,s}function va(t,r){const s=Pt.lFrame;s.bindingIndex=s.bindingRootIndex=t,na(r)}function na(t){Pt.lFrame.currentDirectiveIndex=t}function T(){return Pt.lFrame.currentQueryIndex}function P(t){Pt.lFrame.currentQueryIndex=t}function S(t){const r=t[1];return 2===r.type?r.declTNode:1===r.type?t[6]:null}function B(t,r,s){if(s&wt.SkipSelf){let c=r,d=t;for(;!(c=c.parent,null!==c||s&wt.Host||(c=S(d),null===c||(d=d[15],10&c.type))););if(null===c)return!1;r=c,t=d}const a=Pt.lFrame=Fe();return a.currentTNode=r,a.lView=t,!0}function oe(t){const r=Fe(),s=t[1];Pt.lFrame=r,r.currentTNode=s.firstChild,r.lView=t,r.tView=s,r.contextLView=t,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function Fe(){const t=Pt.lFrame,r=null===t?null:t.child;return null===r?We(t):r}function We(t){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=r),r}function Mt(){const t=Pt.lFrame;return Pt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const nr=Mt;function Gn(){const t=Mt();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function zn(){return Pt.lFrame.selectedIndex}function rr(t){Pt.lFrame.selectedIndex=t}function Dn(){const t=Pt.lFrame;return cr(t.tView,t.selectedIndex)}function Rs(){Pt.lFrame.currentNamespace="svg"}function wr(){!function mi(){Pt.lFrame.currentNamespace=null}()}function wa(t,r){for(let s=r.directiveStart,a=r.directiveEnd;s<a;s++){const d=t.data[s].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:w,ngAfterViewInit:b,ngAfterViewChecked:k,ngOnDestroy:$}=d;m&&(t.contentHooks||(t.contentHooks=[])).push(-s,m),w&&((t.contentHooks||(t.contentHooks=[])).push(s,w),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(s,w)),b&&(t.viewHooks||(t.viewHooks=[])).push(-s,b),k&&((t.viewHooks||(t.viewHooks=[])).push(s,k),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(s,k)),null!=$&&(t.destroyHooks||(t.destroyHooks=[])).push(s,$)}}function ct(t,r,s){ps(t,r,3,s)}function Bn(t,r,s,a){(3&t[2])===s&&ps(t,r,s,a)}function ks(t,r){let s=t[2];(3&s)===r&&(s&=2047,s+=1,t[2]=s)}function ps(t,r,s,a){const d=a??-1,m=r.length-1;let w=0;for(let b=void 0!==a?65535&t[18]:0;b<m;b++)if("number"==typeof r[b+1]){if(w=r[b],null!=a&&w>=a)break}else r[b]<0&&(t[18]+=65536),(w<d||-1==d)&&(Gt(t,s,r,b),t[18]=(4294901760&t[18])+b+2),b++}function Gt(t,r,s,a){const c=s[a]<0,d=s[a+1],w=t[c?-s[a]:s[a]];if(c){if(t[2]>>11<t[18]>>16&&(3&t[2])===r){t[2]+=2048;try{d.call(w)}finally{}}}else try{d.call(w)}finally{}}class ia{constructor(r,s,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function Ia(t,r,s){let a=0;for(;a<s.length;){const c=s[a];if("number"==typeof c){if(0!==c)break;a++;const d=s[a++],m=s[a++],w=s[a++];t.setAttribute(r,m,w,d)}else{const d=c,m=s[++a];$a(d)?t.setProperty(r,d,m):t.setAttribute(r,d,m),a++}}return a}function au(t){return 3===t||4===t||6===t}function $a(t){return 64===t.charCodeAt(0)}function ja(t,r){if(null!==r&&0!==r.length)if(null===t||0===t.length)t=r.slice();else{let s=-1;for(let a=0;a<r.length;a++){const c=r[a];"number"==typeof c?s=c:0===s||Cc(t,s,c,null,-1===s||2===s?r[++a]:null)}}return t}function Cc(t,r,s,a,c){let d=0,m=t.length;if(-1===r)m=-1;else for(;d<t.length;){const w=t[d++];if("number"==typeof w){if(w===r){m=-1;break}if(w>r){m=d-1;break}}}for(;d<t.length;){const w=t[d];if("number"==typeof w)break;if(w===s){if(null===a)return void(null!==c&&(t[d+1]=c));if(a===t[d+1])return void(t[d+2]=c)}d++,null!==a&&d++,null!==c&&d++}-1!==m&&(t.splice(m,0,r),d=m+1),t.splice(d++,0,s),null!==a&&t.splice(d++,0,a),null!==c&&t.splice(d++,0,c)}function Ea(t){return-1!==t}function Vo(t){return 32767&t}function ss(t,r){let s=function En(t){return t>>16}(t),a=r;for(;s>0;)a=a[15],s--;return a}let Bo=!0;function bn(t){const r=Bo;return Bo=t,r}let uu=0;const pr={};function Ps(t,r){const s=Hi(t,r);if(-1!==s)return s;const a=r[1];a.firstCreatePass&&(t.injectorIndex=r.length,vo(a.data,t),vo(r,null),vo(a.blueprint,null));const c=$o(t,r),d=t.injectorIndex;if(Ea(c)){const m=Vo(c),w=ss(c,r),b=w[1].data;for(let k=0;k<8;k++)r[d+k]=w[m+k]|b[m+k]}return r[d+8]=c,d}function vo(t,r){t.push(0,0,0,0,0,0,0,0,r)}function Hi(t,r){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===r[t.injectorIndex+8]?-1:t.injectorIndex}function $o(t,r){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let s=0,a=null,c=r;for(;null!==c;){if(a=Fs(c),null===a)return-1;if(s++,c=c[15],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return-1}function Gi(t,r,s){!function Tt(t,r,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(J)&&(a=s[J]),null==a&&(a=s[J]=uu++);const c=255&a;r.data[t+(c>>5)]|=1<<c}(t,r,s)}function wo(t,r,s){if(s&wt.Optional||void 0!==t)return t;re()}function qs(t,r,s,a){if(s&wt.Optional&&void 0===a&&(a=null),0==(s&(wt.Self|wt.Host))){const c=t[9],d=dn(void 0);try{return c?c.get(r,a,s&wt.Optional):hr(r,a,s&wt.Optional)}finally{dn(d)}}return wo(a,0,s)}function Da(t,r,s,a=wt.Default,c){if(null!==t){if(1024&r[2]){const m=function Ls(t,r,s,a,c){let d=t,m=r;for(;null!==d&&null!==m&&1024&m[2]&&!(256&m[2]);){const w=ki(d,m,s,a|wt.Self,pr);if(w!==pr)return w;let b=d.parent;if(!b){const k=m[21];if(k){const $=k.get(s,pr,a);if($!==pr)return $}b=Fs(m),m=m[15]}d=b}return c}(t,r,s,a,pr);if(m!==pr)return m}const d=ki(t,r,s,a,pr);if(d!==pr)return d}return qs(r,s,a,c)}function ki(t,r,s,a,c){const d=function Ns(t){if("string"==typeof t)return t.charCodeAt(0)||0;const r=t.hasOwnProperty(J)?t[J]:void 0;return"number"==typeof r?r>=0?255&r:zi:r}(s);if("function"==typeof d){if(!B(r,t,a))return a&wt.Host?wo(c,0,a):qs(r,s,a,c);try{const m=d(a);if(null!=m||a&wt.Optional)return m;re()}finally{nr()}}else if("number"==typeof d){let m=null,w=Hi(t,r),b=-1,k=a&wt.Host?r[16][6]:null;for((-1===w||a&wt.SkipSelf)&&(b=-1===w?$o(t,r):r[w+8],-1!==b&&Me(a,!1)?(m=r[1],w=Vo(b),r=ss(b,r)):w=-1);-1!==w;){const $=r[1];if(ii(d,w,$.data)){const q=cu(w,r,s,m,a,k);if(q!==pr)return q}b=r[w+8],-1!==b&&Me(a,r[1].data[w+8]===k)&&ii(d,w,r)?(m=$,w=Vo(b),r=ss(b,r)):w=-1}}return c}function cu(t,r,s,a,c,d){const m=r[1],w=m.data[t+8],$=co(w,m,s,null==a?Pr(w)&&Bo:a!=m&&0!=(3&w.type),c&wt.Host&&d===w);return null!==$?sa(r,m,$,w):pr}function co(t,r,s,a,c){const d=t.providerIndexes,m=r.data,w=1048575&d,b=t.directiveStart,$=d>>20,le=c?w+$:t.directiveEnd;for(let Se=a?w:w+$;Se<le;Se++){const Ye=m[Se];if(Se<b&&s===Ye||Se>=b&&Ye.type===s)return Se}if(c){const Se=m[b];if(Se&&di(Se)&&Se.type===s)return b}return null}function sa(t,r,s,a){let c=t[s];const d=r.data;if(function St(t){return t instanceof ia}(c)){const m=c;m.resolving&&function ot(t,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${t}`:"";throw new Oe(-200,`Circular dependency in DI detected for ${t}${s}`)}(function ye(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Ge(t)}(d[s]));const w=bn(m.canSeeViewProviders);m.resolving=!0;const b=m.injectImpl?dn(m.injectImpl):null;B(t,a,wt.Default);try{c=t[s]=m.factory(void 0,d,t,a),r.firstCreatePass&&s>=a.directiveStart&&function ra(t,r,s){const{ngOnChanges:a,ngOnInit:c,ngDoCheck:d}=r.type.prototype;if(a){const m=mo(r);(s.preOrderHooks||(s.preOrderHooks=[])).push(t,m),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(t,m)}c&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-t,c),d&&((s.preOrderHooks||(s.preOrderHooks=[])).push(t,d),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(t,d))}(s,d[s],r)}finally{null!==b&&dn(b),bn(w),m.resolving=!1,nr()}}return c}function ii(t,r,s){return!!(s[r+(t>>5)]&1<<t)}function Me(t,r){return!(t&wt.Self||t&wt.Host&&r)}class Os{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,a){return Da(this._tNode,this._lView,r,a,s)}}function zi(){return new Os(Br(),et())}function jo(t){return vr(()=>{const r=t.prototype.constructor,s=r[ee]||Io(r),a=Object.prototype;let c=Object.getPrototypeOf(t.prototype).constructor;for(;c&&c!==a;){const d=c[ee]||Io(c);if(d&&d!==s)return d;c=Object.getPrototypeOf(c)}return d=>new d})}function Io(t){return Qe(t)?()=>{const r=Io(_t(t));return r&&r()}:oo(t)}function Fs(t){const r=t[1],s=r.type;return 2===s?r.declTNode:1===s?t[6]:null}function Us(t){return function Ha(t,r){if("class"===r)return t.classes;if("style"===r)return t.styles;const s=t.attrs;if(s){const a=s.length;let c=0;for(;c<a;){const d=s[c];if(au(d))break;if(0===d)c+=2;else if("number"==typeof d)for(c++;c<a&&"string"==typeof s[c];)c++;else{if(d===r)return s[c+1];c+=2}}}return null}(Br(),t)}const Eo="__parameters__";function aa(t,r,s){return vr(()=>{const a=function yi(t){return function(...s){if(t){const a=t(...s);for(const c in a)this[c]=a[c]}}}(r);function c(...d){if(this instanceof c)return a.apply(this,d),this;const m=new c(...d);return w.annotation=m,w;function w(b,k,$){const q=b.hasOwnProperty(Eo)?b[Eo]:Object.defineProperty(b,Eo,{value:[]})[Eo];for(;q.length<=$;)q.push(null);return(q[$]=q[$]||[]).push(m),b}}return s&&(c.prototype=Object.create(s.prototype)),c.prototype.ngMetadataName=t,c.annotationCls=c,c})}class gn{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=dr({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function _i(t,r){void 0===r&&(r=t);for(let s=0;s<t.length;s++){let a=t[s];Array.isArray(a)?(r===t&&(r=t.slice(0,s)),_i(a,r)):r!==t&&r.push(a)}return r}function Si(t,r){t.forEach(s=>Array.isArray(s)?Si(s,r):r(s))}function Sa(t,r,s){r>=t.length?t.push(s):t.splice(r,0,s)}function Ks(t,r){return r>=t.length-1?t.pop():t.splice(r,1)[0]}function g(t,r,s){let a=A(t,r);return a>=0?t[1|a]=s:(a=~a,function Co(t,r,s,a){let c=t.length;if(c==r)t.push(s,a);else if(1===c)t.push(a,t[0]),t[0]=s;else{for(c--,t.push(t[c-1],t[c]);c>r;)t[c]=t[c-2],c--;t[r]=s,t[r+1]=a}}(t,a,r,s)),a}function D(t,r){const s=A(t,r);if(s>=0)return t[1|s]}function A(t,r){return function Y(t,r,s){let a=0,c=t.length>>s;for(;c!==a;){const d=a+(c-a>>1),m=t[d<<s];if(r===m)return d<<s;m>r?c=d:a=d+1}return~(c<<s)}(t,r,1)}const vi={},ti="__NG_DI_FLAG__",Ao="ngTempTokenPath",Ac=/\n/gm,za="__source";let Su;function Zs(t){const r=Su;return Su=t,r}function Ju(t,r=wt.Default){if(void 0===Su)throw new Oe(-203,!1);return null===Su?hr(t,void 0,r):Su.get(t,r&wt.Optional?null:void 0,r)}function si(t,r=wt.Default){return(function Xt(){return kt}()||Ju)(_t(t),r)}function C(t,r=wt.Default){return"number"!=typeof r&&(r=0|(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)),si(t,r)}function x(t){const r=[];for(let s=0;s<t.length;s++){const a=_t(t[s]);if(Array.isArray(a)){if(0===a.length)throw new Oe(900,!1);let c,d=wt.Default;for(let m=0;m<a.length;m++){const w=a[m],b=Z(w);"number"==typeof b?-1===b?c=w.token:d|=b:c=w}r.push(si(c,d))}else r.push(si(a))}return r}function L(t,r){return t[ti]=r,t.prototype[ti]=r,t}function Z(t){return t[ti]}const Dt=L(aa("Optional"),8),An=L(aa("SkipSelf"),4);let Mc;function Rc(t){Mc=t}class wd{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function qa(t){return t instanceof wd?t.changingThisBreaksApplicationSecurity:t}const Ai=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var Ki=(()=>((Ki=Ki||{})[Ki.NONE=0]="NONE",Ki[Ki.HTML=1]="HTML",Ki[Ki.STYLE=2]="STYLE",Ki[Ki.SCRIPT=3]="SCRIPT",Ki[Ki.URL=4]="URL",Ki[Ki.RESOURCE_URL=5]="RESOURCE_URL",Ki))();function Ed(t){const r=function Ka(){const t=et();return t&&t[12]}();return r?r.sanitize(Ki.URL,t)||"":function Ma(t,r){const s=function Wh(t){return t instanceof wd&&t.getTypeName()||null}(t);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===r}(t,"URL")?qa(t):function mr(t){return(t=String(t)).match(Ai)?t:"unsafe:"+t}(Ge(t))}const Ko=new gn("ENVIRONMENT_INITIALIZER"),Al=new gn("INJECTOR",-1),xl=new gn("INJECTOR_DEF_TYPES");class Nu{get(r,s=vi){if(s===vi){const a=new Error(`NullInjectorError: No provider for ${bt(r)}!`);throw a.name="NullInjectorError",a}return s}}function sf(...t){return{\u0275providers:Dd(0,t)}}function Dd(t,...r){const s=[],a=new Set;let c;return Si(r,d=>{const m=d;Td(m,s,[],a)&&(c||(c=[]),c.push(m))}),void 0!==c&&bd(c,s),s}function bd(t,r){for(let s=0;s<t.length;s++){const{providers:c}=t[s];Si(c,d=>{r.push(d)})}}function Td(t,r,s,a){if(!(t=_t(t)))return!1;let c=null,d=_r(t);const m=!d&&W(t);if(d||m){if(m&&!m.standalone)return!1;c=t}else{const b=t.ngModule;if(d=_r(b),!d)return!1;c=b}const w=a.has(c);if(m){if(w)return!1;if(a.add(c),m.dependencies){const b="function"==typeof m.dependencies?m.dependencies():m.dependencies;for(const k of b)Td(k,r,s,a)}}else{if(!d)return!1;{if(null!=d.imports&&!w){let k;a.add(c);try{Si(d.imports,$=>{Td($,r,s,a)&&(k||(k=[]),k.push($))})}finally{}void 0!==k&&bd(k,r)}if(!w){const k=oo(c)||(()=>new c);r.push({provide:c,useFactory:k,deps:xe},{provide:xl,useValue:c,multi:!0},{provide:Ko,useValue:()=>si(c),multi:!0})}const b=d.providers;null==b||w||Si(b,$=>{r.push($)})}}return c!==t&&void 0!==t.providers}const sc=Le({provide:String,useValue:Le});function Uc(t){return null!==t&&"object"==typeof t&&sc in t}function Za(t){return"function"==typeof t}const Ad=new gn("Set Injector scope."),Vc={},Op={};let Ml;function Ya(){return void 0===Ml&&(Ml=new Nu),Ml}class Zo{}class uf extends Zo{constructor(r,s,a,c){super(),this.parent=s,this.source=a,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Xe(r,m=>this.processProvider(m)),this.records.set(Al,f(void 0,this)),c.has("environment")&&this.records.set(Zo,f(void 0,this));const d=this.records.get(Ad);null!=d&&"string"==typeof d.value&&this.scopes.add(d.value),this.injectorDefTypes=new Set(this.get(xl.multi,xe,wt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();for(const r of this._onDestroyHooks)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(r){this._onDestroyHooks.push(r)}runInContext(r){this.assertNotDestroyed();const s=Zs(this),a=dn(void 0);try{return r()}finally{Zs(s),dn(a)}}get(r,s=vi,a=wt.Default){this.assertNotDestroyed();const c=Zs(this),d=dn(void 0);try{if(!(a&wt.SkipSelf)){let w=this.records.get(r);if(void 0===w){const b=function G(t){return"function"==typeof t||"object"==typeof t&&t instanceof gn}(r)&&yr(r);w=b&&this.injectableDefInScope(b)?f(xd(r),Vc):null,this.records.set(r,w)}if(null!=w)return this.hydrate(r,w)}return(a&wt.Self?Ya():this.parent).get(r,s=a&wt.Optional&&s===vi?null:s)}catch(m){if("NullInjectorError"===m.name){if((m[Ao]=m[Ao]||[]).unshift(bt(r)),c)throw m;return function pe(t,r,s,a){const c=t[Ao];throw r[za]&&c.unshift(r[za]),t.message=function ke(t,r,s,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let c=bt(r);if(Array.isArray(r))c=r.map(bt).join(" -> ");else if("object"==typeof r){let d=[];for(let m in r)if(r.hasOwnProperty(m)){let w=r[m];d.push(m+":"+("string"==typeof w?JSON.stringify(w):bt(w)))}c=`{${d.join(", ")}}`}return`${s}${a?"("+a+")":""}[${c}]: ${t.replace(Ac,"\n  ")}`}("\n"+t.message,c,s,a),t.ngTokenPath=c,t[Ao]=null,t}(m,r,"R3InjectorError",this.source)}throw m}finally{dn(d),Zs(c)}}resolveInjectorInitializers(){const r=Zs(this),s=dn(void 0);try{const a=this.get(Ko.multi,xe,wt.Self);for(const c of a)c()}finally{Zs(r),dn(s)}}toString(){const r=[],s=this.records;for(const a of s.keys())r.push(bt(a));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Oe(205,!1)}processProvider(r){let s=Za(r=_t(r))?r:_t(r&&r.provide);const a=function v(t){return Uc(t)?f(void 0,t.useValue):f(h(t),Vc)}(r);if(Za(r)||!0!==r.multi)this.records.get(s);else{let c=this.records.get(s);c||(c=f(void 0,Vc,!0),c.factory=()=>x(c.multi),this.records.set(s,c)),s=r,c.multi.push(r)}this.records.set(s,a)}hydrate(r,s){return s.value===Vc&&(s.value=Op,s.value=s.factory()),"object"==typeof s.value&&s.value&&function V(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=_t(r.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}}function xd(t){const r=yr(t),s=null!==r?r.factory:oo(t);if(null!==s)return s;if(t instanceof gn)throw new Oe(204,!1);if(t instanceof Function)return function Lp(t){const r=t.length;if(r>0)throw function Ga(t,r){const s=[];for(let a=0;a<t;a++)s.push(r);return s}(r,"?"),new Oe(204,!1);const s=function ar(t){const r=t&&(t[Ir]||t[Zn]);if(r){const s=function hi(t){if(t.hasOwnProperty("name"))return t.name;const r=(""+t).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),r}return null}(t);return null!==s?()=>s.factory(t):()=>new t}(t);throw new Oe(204,!1)}function h(t,r,s){let a;if(Za(t)){const c=_t(t);return oo(c)||xd(c)}if(Uc(t))a=()=>_t(t.useValue);else if(function Cd(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...x(t.deps||[]));else if(function af(t){return!(!t||!t.useExisting)}(t))a=()=>si(_t(t.useExisting));else{const c=_t(t&&(t.useClass||t.provide));if(!function E(t){return!!t.deps}(t))return oo(c)||xd(c);a=()=>new c(...x(t.deps))}return a}function f(t,r,s=!1){return{factory:t,value:r,multi:s?[]:void 0}}function Ce(t){return!!t.\u0275providers}function Xe(t,r){for(const s of t)Array.isArray(s)?Xe(s,r):Ce(s)?Xe(s.\u0275providers,r):r(s)}class an{}class Qa{resolveComponentFactory(r){throw function Jn(t){const r=Error(`No component factory found for ${bt(t)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=t,r}(r)}}let Xa=(()=>{class t{}return t.NULL=new Qa,t})();function Md(){return Ja(Br(),et())}function Ja(t,r){return new Ou(Vn(t,r))}let Ou=(()=>{class t{constructor(s){this.nativeElement=s}}return t.__NG_ELEMENT_ID__=Md,t})();function Rd(t){return t instanceof Ou?t.nativeElement:t}class Rl{}let Pd=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function kl(){const t=et(),s=Hn(Br().index,t);return(Vr(s)?s:t)[11]}(),t})(),Pl=(()=>{class t{}return t.\u0275prov=dr({token:t,providedIn:"root",factory:()=>null}),t})();class Nd{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const oc=new Nd("14.2.7"),Bc={};function Ld(t){return t.ngOriginalError}class Ll{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r);this._console.error("ERROR",r),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&Ld(r);for(;s&&Ld(s);)s=Ld(s);return s||null}}const hf=new Map;let Em=0;const ff="__ngContext__";function $s(t,r){Vr(r)?(t[ff]=r[20],function lc(t){hf.set(t[20],t)}(r)):t[ff]=r}function Ro(t){return t instanceof Function?t():t}var eu=(()=>((eu=eu||{})[eu.Important=1]="Important",eu[eu.DashCase=2]="DashCase",eu))();function mf(t,r){return undefined(t,r)}function Wc(t){const r=t[3];return tr(r)?r[3]:r}function Vd(t){return Zp(t[13])}function Bd(t){return Zp(t[4])}function Zp(t){for(;null!==t&&!tr(t);)t=t[4];return t}function qc(t,r,s,a,c){if(null!=a){let d,m=!1;tr(a)?d=a:Vr(a)&&(m=!0,a=a[0]);const w=zt(a);0===t&&null!==s?null==c?Xp(r,s,w):Bu(r,s,w,c||null,!0):1===t&&null!==s?Bu(r,s,w,c||null,!0):2===t?function Df(t,r,s){const a=Kd(t,r);a&&function Jp(t,r,s,a){t.removeChild(r,s,a)}(t,a,r,s)}(r,w,m):3===t&&r.destroyNode(w),null!=d&&function ig(t,r,s,a,c){const d=s[7];d!==zt(s)&&qc(r,t,a,d,c);for(let w=10;w<s.length;w++){const b=s[w];gc(b[1],b,t,r,a,d)}}(r,t,d,s,c)}}function vf(t,r,s){return t.createElement(r,s)}function Qp(t,r){const s=t[9],a=s.indexOf(r),c=r[3];512&r[2]&&(r[2]&=-513,Po(c,-1)),s.splice(a,1)}function Hd(t,r){if(t.length<=10)return;const s=10+r,a=t[s];if(a){const c=a[17];null!==c&&c!==t&&Qp(c,a),r>0&&(t[s-1][4]=a[4]);const d=Ks(t,10+r);!function Am(t,r){gc(t,r,r[11],2,null,null),r[0]=null,r[6]=null}(a[1],a);const m=d[19];null!==m&&m.detachView(d[1]),a[3]=null,a[4]=null,a[2]&=-65}return a}function Gd(t,r){if(!(128&r[2])){const s=r[11];s.destroyNode&&gc(t,r,s,3,null,null),function Yp(t){let r=t[13];if(!r)return Gl(t[1],t);for(;r;){let s=null;if(Vr(r))s=r[13];else{const a=r[10];a&&(s=a)}if(!s){for(;r&&!r[4]&&r!==t;)Vr(r)&&Gl(r[1],r),r=r[3];null===r&&(r=t),Vr(r)&&Gl(r[1],r),s=r&&r[4]}r=s}}(r)}}function Gl(t,r){if(!(128&r[2])){r[2]&=-65,r[2]|=128,function zd(t,r){let s;if(null!=t&&null!=(s=t.destroyHooks))for(let a=0;a<s.length;a+=2){const c=r[s[a]];if(!(c instanceof ia)){const d=s[a+1];if(Array.isArray(d))for(let m=0;m<d.length;m+=2){const w=c[d[m]],b=d[m+1];try{b.call(w)}finally{}}else try{d.call(c)}finally{}}}}(t,r),function zl(t,r){const s=t.cleanup,a=r[7];let c=-1;if(null!==s)for(let d=0;d<s.length-1;d+=2)if("string"==typeof s[d]){const m=s[d+1],w="function"==typeof m?m(r):zt(r[m]),b=a[c=s[d+2]],k=s[d+3];"boolean"==typeof k?w.removeEventListener(s[d],b,k):k>=0?a[c=k]():a[c=-k].unsubscribe(),d+=2}else{const m=a[c=s[d+1]];s[d].call(m)}if(null!==a){for(let d=c+1;d<a.length;d++)(0,a[d])();r[7]=null}}(t,r),1===r[1].type&&r[11].destroy();const s=r[17];if(null!==s&&tr(r[3])){s!==r[3]&&Qp(s,r);const a=r[19];null!==a&&a.detachView(t)}!function Hp(t){hf.delete(t[20])}(r)}}function Wd(t,r,s){return function qd(t,r,s){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return s[0];if(2&a.flags){const c=t.data[a.directiveStart].encapsulation;if(c===Wr.None||c===Wr.Emulated)return null}return Vn(a,s)}(t,r.parent,s)}function Bu(t,r,s,a,c){t.insertBefore(r,s,a,c)}function Xp(t,r,s){t.appendChild(r,s)}function wf(t,r,s,a,c){null!==a?Bu(t,r,s,a,c):Xp(t,r,s)}function Kd(t,r){return t.parentNode(r)}let rg=function If(t,r,s){return 40&t.type?Vn(t,s):null};function Kc(t,r,s,a){const c=Wd(t,a,r),d=r[11],w=function ng(t,r,s){return rg(t,r,s)}(a.parent||r[6],a,r);if(null!=c)if(Array.isArray(s))for(let b=0;b<s.length;b++)wf(d,c,s[b],w,!1);else wf(d,c,s,w,!1)}function pc(t,r){if(null!==r){const s=r.type;if(3&s)return Vn(r,t);if(4&s)return Zd(-1,t[r.index]);if(8&s){const a=r.child;if(null!==a)return pc(t,a);{const c=t[r.index];return tr(c)?Zd(-1,c):zt(c)}}if(32&s)return mf(r,t)()||zt(t[r.index]);{const a=Ef(t,r);return null!==a?Array.isArray(a)?a[0]:pc(Wc(t[16]),a):pc(t,r.next)}}return null}function Ef(t,r){return null!==r?t[16][6].projection[r.projection]:null}function Zd(t,r){const s=10+t+1;if(s<r.length){const a=r[s],c=a[1].firstChild;if(null!==c)return pc(a,c)}return r[7]}function bf(t,r,s,a,c,d,m){for(;null!=s;){const w=a[s.index],b=s.type;if(m&&0===r&&(w&&$s(zt(w),a),s.flags|=4),64!=(64&s.flags))if(8&b)bf(t,r,s.child,a,c,d,!1),qc(r,t,c,w,d);else if(32&b){const k=mf(s,a);let $;for(;$=k();)qc(r,t,c,$,d);qc(r,t,c,w,d)}else 16&b?Yd(t,r,a,s,c,d):qc(r,t,c,w,d);s=m?s.projectionNext:s.next}}function gc(t,r,s,a,c,d){bf(s,a,t.firstChild,r,c,d,!1)}function Yd(t,r,s,a,c,d){const m=s[16],b=m[6].projection[a.projection];if(Array.isArray(b))for(let k=0;k<b.length;k++)qc(r,t,c,b[k],d);else bf(t,r,b,m[3],c,d,!0)}function Qd(t,r,s){t.setAttribute(r,"style",s)}function Zc(t,r,s){""===s?t.removeAttribute(r,"class"):t.setAttribute(r,"class",s)}function Yc(t,r,s){let a=t.length;for(;;){const c=t.indexOf(r,s);if(-1===c)return c;if(0===c||t.charCodeAt(c-1)<=32){const d=r.length;if(c+d===a||t.charCodeAt(c+d)<=32)return c}s=c+1}}const Xd="ng-template";function Cf(t,r,s){let a=0;for(;a<t.length;){let c=t[a++];if(s&&"class"===c){if(c=t[a],-1!==Yc(c.toLowerCase(),r,0))return!0}else if(1===c){for(;a<t.length&&"string"==typeof(c=t[a++]);)if(c.toLowerCase()===r)return!0;return!1}}return!1}function Jd(t){return 4===t.type&&t.value!==Xd}function og(t,r,s){return r===(4!==t.type||s?t.value:Xd)}function Pm(t,r,s){let a=4;const c=t.attrs||[],d=function ug(t){for(let r=0;r<t.length;r++)if(au(t[r]))return r;return t.length}(c);let m=!1;for(let w=0;w<r.length;w++){const b=r[w];if("number"!=typeof b){if(!m)if(4&a){if(a=2|1&a,""!==b&&!og(t,b,s)||""===b&&1===r.length){if(fa(a))return!1;m=!0}}else{const k=8&a?b:r[++w];if(8&a&&null!==t.attrs){if(!Cf(t.attrs,k,s)){if(fa(a))return!1;m=!0}continue}const q=Nm(8&a?"class":b,c,Jd(t),s);if(-1===q){if(fa(a))return!1;m=!0;continue}if(""!==k){let le;le=q>d?"":c[q+1].toLowerCase();const Se=8&a?le:null;if(Se&&-1!==Yc(Se,k,0)||2&a&&k!==le){if(fa(a))return!1;m=!0}}}}else{if(!m&&!fa(a)&&!fa(b))return!1;if(m&&fa(b))continue;m=!1,a=b|1&a}}return fa(a)||m}function fa(t){return 0==(1&t)}function Nm(t,r,s,a){if(null===r)return-1;let c=0;if(a||!s){let d=!1;for(;c<r.length;){const m=r[c];if(m===t)return c;if(3===m||6===m)d=!0;else{if(1===m||2===m){let w=r[++c];for(;"string"==typeof w;)w=r[++c];continue}if(4===m)break;if(0===m){c+=4;continue}}c+=d?1:2}return-1}return function eh(t,r){let s=t.indexOf(4);if(s>-1)for(s++;s<t.length;){const a=t[s];if("number"==typeof a)return-1;if(a===r)return s;s++}return-1}(r,t)}function ag(t,r,s=!1){for(let a=0;a<r.length;a++)if(Pm(t,r[a],s))return!0;return!1}function th(t,r){return t?":not("+r.trim()+")":r}function cg(t){let r=t[0],s=1,a=2,c="",d=!1;for(;s<t.length;){let m=t[s];if("string"==typeof m)if(2&a){const w=t[++s];c+="["+m+(w.length>0?'="'+w+'"':"")+"]"}else 8&a?c+="."+m:4&a&&(c+=" "+m);else""!==c&&!fa(m)&&(r+=th(d,c),c=""),a=m,d=d||!fa(a);s++}return""!==c&&(r+=th(d,c)),r}const qn={};function lg(t){nh(pn(),et(),zn()+t,!1)}function nh(t,r,s,a){if(!a)if(3==(3&r[2])){const d=t.preOrderCheckHooks;null!==d&&ct(r,d,s)}else{const d=t.preOrderHooks;null!==d&&Bn(r,d,0,s)}rr(s)}function Sf(t,r=null,s=null,a){const c=oh(t,r,s,a);return c.resolveInjectorInitializers(),c}function oh(t,r=null,s=null,a,c=new Set){const d=[s||xe,sf(t)];return a=a||("object"==typeof t?void 0:bt(t)),new uf(d,r||Ya(),a||null,c)}let mu=(()=>{class t{static create(s,a){if(Array.isArray(s))return Sf({name:""},a,s,"");{const c=s.name??"";return Sf({name:c},s.parent,s.providers,c)}}}return t.THROW_IF_NOT_FOUND=vi,t.NULL=new Nu,t.\u0275prov=dr({token:t,providedIn:"any",factory:()=>si(Al)}),t.__NG_ELEMENT_ID__=-1,t})();function ju(t,r=wt.Default){const s=et();return null===s?si(t,r):Da(Br(),s,_t(t),r)}function yc(){throw new Error("invalid")}function Xl(t,r){return t<<17|r<<2}function Qs(t){return t>>17&32767}function Jl(t){return 2|t}function La(t){return(131068&t)>>2}function ed(t,r){return-131069&t|r<<2}function Lf(t){return 1|t}function Mg(t,r){const s=t.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const c=s[a],d=s[a+1];if(-1!==d){const m=t.data[d];P(c),m.contentQueries(2,r[d],d)}}}function wh(t,r,s,a,c,d,m,w,b,k,$){const q=r.blueprint.slice();return q[0]=c,q[2]=76|a,(null!==$||t&&1024&t[2])&&(q[2]|=1024),gi(q),q[3]=q[15]=t,q[8]=s,q[10]=m||t&&t[10],q[11]=w||t&&t[11],q[12]=b||t&&t[12]||null,q[9]=k||t&&t[9]||null,q[6]=d,q[20]=function Fl(){return Em++}(),q[21]=$,q[16]=2==r.type?t[16]:q,q}function Hu(t,r,s,a,c){let d=t.data[r];if(null===d)d=function Gf(t,r,s,a,c){const d=ji(),m=xs(),b=t.data[r]=function ey(t,r,s,a,c,d){return{type:s,index:a,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?d:d&&d.parent,s,r,a,c);return null===t.firstChild&&(t.firstChild=b),null!==d&&(m?null==d.child&&null!==b.parent&&(d.child=b):null===d.next&&(d.next=b)),b}(t,r,s,a,c),function Lo(){return Pt.lFrame.inI18n}()&&(d.flags|=64);else if(64&d.type){d.type=s,d.value=a,d.attrs=c;const m=function Ci(){const t=Pt.lFrame,r=t.currentTNode;return t.isParent?r:r.parent}();d.injectorIndex=null===m?-1:m.injectorIndex}return es(d,!0),d}function Gu(t,r,s,a){if(0===s)return-1;const c=r.length;for(let d=0;d<s;d++)r.push(a),t.blueprint.push(a),t.data.push(null);return c}function zf(t,r,s){oe(r);try{const a=t.viewQuery;null!==a&&sd(1,a,s);const c=t.template;null!==c&&Wf(t,r,c,1,s),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Mg(t,r),t.staticViewQueries&&sd(2,t.viewQuery,s);const d=t.components;null!==d&&function Hf(t,r){for(let s=0;s<r.length;s++)ly(t,r[s])}(r,d)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{r[2]&=-5,Gn()}}function Jc(t,r,s,a){const c=r[2];if(128!=(128&c)){oe(r);try{gi(r),function Ms(t){return Pt.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==s&&Wf(t,r,s,2,a);const m=3==(3&c);if(m){const k=t.preOrderCheckHooks;null!==k&&ct(r,k,null)}else{const k=t.preOrderHooks;null!==k&&Bn(r,k,0,null),ks(r,0)}if(function uy(t){for(let r=Vd(t);null!==r;r=Bd(r)){if(!r[2])continue;const s=r[9];for(let a=0;a<s.length;a++){const c=s[a],d=c[3];0==(512&c[2])&&Po(d,1),c[2]|=512}}}(r),function ay(t){for(let r=Vd(t);null!==r;r=Bd(r))for(let s=10;s<r.length;s++){const a=r[s],c=a[1];Ti(a)&&Jc(c,a,c.template,a[8])}}(r),null!==t.contentQueries&&Mg(t,r),m){const k=t.contentCheckHooks;null!==k&&ct(r,k)}else{const k=t.contentHooks;null!==k&&Bn(r,k,1),ks(r,1)}!function jf(t,r){const s=t.hostBindingOpCodes;if(null!==s)try{for(let a=0;a<s.length;a++){const c=s[a];if(c<0)rr(~c);else{const d=c,m=s[++a],w=s[++a];va(m,d),w(2,r[d])}}}finally{rr(-1)}}(t,r);const w=t.components;null!==w&&function Xm(t,r){for(let s=0;s<r.length;s++)cy(t,r[s])}(r,w);const b=t.viewQuery;if(null!==b&&sd(2,b,a),m){const k=t.viewCheckHooks;null!==k&&ct(r,k)}else{const k=t.viewHooks;null!==k&&Bn(r,k,2),ks(r,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),r[2]&=-41,512&r[2]&&(r[2]&=-513,Po(r[3],-1))}finally{Gn()}}}function Wf(t,r,s,a,c){const d=zn(),m=2&a;try{rr(-1),m&&r.length>22&&nh(t,r,22,!1),s(a,c)}finally{rr(d)}}function Ih(t,r,s){if(js(r)){const c=r.directiveEnd;for(let d=r.directiveStart;d<c;d++){const m=t.data[d];m.contentQueries&&m.contentQueries(1,s[d],d)}}}function Eh(t,r,s){!zs()||(function Fg(t,r,s,a){const c=s.directiveStart,d=s.directiveEnd;t.firstCreatePass||Ps(s,r),$s(a,r);const m=s.initialInputs;for(let w=c;w<d;w++){const b=t.data[w],k=di(b);k&&Bg(r,s,b);const $=sa(r,t,w,s);$s($,r),null!==m&&$g(0,w-c,$,b,0,m),k&&(Hn(s.index,r)[8]=$)}}(t,r,s,Vn(s,r)),128==(128&s.flags)&&function Ug(t,r,s){const a=s.directiveStart,c=s.directiveEnd,d=s.index,m=function Ws(){return Pt.lFrame.currentDirectiveIndex}();try{rr(d);for(let w=a;w<c;w++){const b=t.data[w],k=r[w];na(w),(null!==b.hostBindings||0!==b.hostVars||null!==b.hostAttrs)&&tl(b,k)}}finally{rr(-1),na(m)}}(t,r,s))}function qf(t,r,s=Vn){const a=r.localNames;if(null!==a){let c=r.index+1;for(let d=0;d<a.length;d+=2){const m=a[d+1],w=-1===m?s(r,t):t[m];t[c++]=w}}}function Rg(t){const r=t.tView;return null===r||r.incompleteFirstPass?t.tView=id(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):r}function id(t,r,s,a,c,d,m,w,b,k){const $=22+a,q=$+c,le=function Jm(t,r){const s=[];for(let a=0;a<r;a++)s.push(a<t?null:qn);return s}($,q),Se="function"==typeof k?k():k;return le[1]={type:t,blueprint:le,template:s,queries:null,viewQuery:w,declTNode:r,data:le.slice().fill(null,$),bindingStartIndex:$,expandoStartIndex:q,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:b,consts:Se,incompleteFirstPass:!1}}function Dh(t,r,s,a){const c=Ah(r);null===s?c.push(a):(c.push(s),t.firstCreatePass&&Qf(t).push(a,c.length-1))}function Pg(t,r,s){for(let a in t)if(t.hasOwnProperty(a)){const c=t[a];(s=null===s?{}:s).hasOwnProperty(a)?s[a].push(r,c):s[a]=[r,c]}return s}function Ng(t,r){const a=r.directiveEnd,c=t.data,d=r.attrs,m=[];let w=null,b=null;for(let k=r.directiveStart;k<a;k++){const $=c[k],q=$.inputs,le=null===d||Jd(r)?null:Ch(q,d);m.push(le),w=Pg(q,k,w),b=Pg($.outputs,k,b)}null!==w&&(w.hasOwnProperty("class")&&(r.flags|=16),w.hasOwnProperty("style")&&(r.flags|=32)),r.initialInputs=m,r.inputs=w,r.outputs=b}function po(t,r,s,a,c,d,m,w){const b=Vn(r,s);let $,k=r.inputs;!w&&null!=k&&($=k[a])?(ad(t,s,$,a,c),Pr(r)&&bh(s,r.index)):3&r.type&&(a=function ty(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),c=null!=m?m(c,r.value||"",a):c,d.setProperty(b,a,c))}function bh(t,r){const s=Hn(r,t);16&s[2]||(s[2]|=32)}function el(t,r,s,a){let c=!1;if(zs()){const d=function iy(t,r,s){const a=t.directiveRegistry;let c=null;if(a)for(let d=0;d<a.length;d++){const m=a[d];ag(s,m.selectors,!1)&&(c||(c=[]),Gi(Ps(s,r),t,m.type),di(m)?(Vi(t,s),c.unshift(m)):c.push(m))}return c}(t,r,s),m=null===a?null:{"":-1};if(null!==d){c=!0,Vg(s,t.data.length,d.length);for(let $=0;$<d.length;$++){const q=d[$];q.providersResolver&&q.providersResolver(q)}let w=!1,b=!1,k=Gu(t,r,d.length,null);for(let $=0;$<d.length;$++){const q=d[$];s.mergedAttrs=ja(s.mergedAttrs,q.hostAttrs),sy(t,s,r,k,q),nu(k,q,m),null!==q.contentQueries&&(s.flags|=8),(null!==q.hostBindings||null!==q.hostAttrs||0!==q.hostVars)&&(s.flags|=128);const le=q.type.prototype;!w&&(le.ngOnChanges||le.ngOnInit||le.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(s.index),w=!0),!b&&(le.ngOnChanges||le.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(s.index),b=!0),k++}Ng(t,s)}m&&function Js(t,r,s){if(r){const a=t.localNames=[];for(let c=0;c<r.length;c+=2){const d=s[r[c+1]];if(null==d)throw new Oe(-301,!1);a.push(r[c],d)}}}(s,a,m)}return s.mergedAttrs=ja(s.mergedAttrs,s.attrs),c}function Dr(t,r,s,a,c,d){const m=d.hostBindings;if(m){let w=t.hostBindingOpCodes;null===w&&(w=t.hostBindingOpCodes=[]);const b=~r.index;(function Lg(t){let r=t.length;for(;r>0;){const s=t[--r];if("number"==typeof s&&s<0)return s}return 0})(w)!=b&&w.push(b),w.push(a,c,m)}}function tl(t,r){null!==t.hostBindings&&t.hostBindings(1,r)}function Vi(t,r){r.flags|=2,(t.components||(t.components=[])).push(r.index)}function nu(t,r,s){if(s){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)s[r.exportAs[a]]=t;di(r)&&(s[""]=t)}}function Vg(t,r,s){t.flags|=1,t.directiveStart=r,t.directiveEnd=r+s,t.providerIndexes=r}function sy(t,r,s,a,c){t.data[a]=c;const d=c.factory||(c.factory=oo(c.type)),m=new ia(d,di(c),ju);t.blueprint[a]=m,s[a]=m,Dr(t,r,0,a,Gu(t,s,c.hostVars,qn),c)}function Bg(t,r,s){const a=Vn(r,t),c=Rg(s),d=t[10],m=nl(t,wh(t,c,null,s.onPush?32:16,a,r,d,d.createRenderer(a,s),null,null,null));t[r.index]=m}function _u(t,r,s,a,c,d){const m=Vn(t,r);!function Th(t,r,s,a,c,d,m){if(null==d)t.removeAttribute(r,c,s);else{const w=null==m?Ge(d):m(d,a||"",c);t.setAttribute(r,c,w,s)}}(r[11],m,d,t.value,s,a,c)}function $g(t,r,s,a,c,d){const m=d[r];if(null!==m){const w=a.setInput;for(let b=0;b<m.length;){const k=m[b++],$=m[b++],q=m[b++];null!==w?a.setInput(s,q,k,$):s[$]=q}}}function Ch(t,r){let s=null,a=0;for(;a<r.length;){const c=r[a];if(0!==c)if(5!==c){if("number"==typeof c)break;t.hasOwnProperty(c)&&(null===s&&(s=[]),s.push(c,t[c],r[a+1])),a+=2}else a+=2;else a+=4}return s}function oy(t,r,s,a){return new Array(t,!0,!1,r,null,0,a,s,null,null)}function cy(t,r){const s=Hn(r,t);if(Ti(s)){const a=s[1];48&s[2]?Jc(a,s,a.template,s[8]):s[5]>0&&Zf(s)}}function Zf(t){for(let a=Vd(t);null!==a;a=Bd(a))for(let c=10;c<a.length;c++){const d=a[c];if(Ti(d))if(512&d[2]){const m=d[1];Jc(m,d,m.template,d[8])}else d[5]>0&&Zf(d)}const s=t[1].components;if(null!==s)for(let a=0;a<s.length;a++){const c=Hn(s[a],t);Ti(c)&&c[5]>0&&Zf(c)}}function ly(t,r){const s=Hn(r,t),a=s[1];(function jg(t,r){for(let s=r.length;s<t.blueprint.length;s++)r.push(t.blueprint[s])})(a,s),zf(a,s,s[8])}function nl(t,r){return t[13]?t[14][4]=r:t[13]=r,t[14]=r,r}function Sh(t){for(;t;){t[2]|=32;const r=Wc(t);if(to(t)&&!r)return t;t=r}return null}function rl(t,r,s,a=!0){const c=r[10];c.begin&&c.begin();try{Jc(t,r,t.template,s)}catch(m){throw a&&xh(r,m),m}finally{c.end&&c.end()}}function sd(t,r,s){P(0),r(t,s)}function Ah(t){return t[7]||(t[7]=[])}function Qf(t){return t.cleanup||(t.cleanup=[])}function xh(t,r){const s=t[9],a=s?s.get(Ll,null):null;a&&a.handleError(r)}function ad(t,r,s,a,c){for(let d=0;d<s.length;){const m=s[d++],w=s[d++],b=r[m],k=t.data[m];null!==k.setInput?k.setInput(b,c,a,w):b[w]=c}}function ru(t,r,s){const a=Gr(r,t);!function $d(t,r,s){t.setValue(r,s)}(t[11],a,s)}function vu(t,r,s){let a=s?t.styles:null,c=s?t.classes:null,d=0;if(null!==r)for(let m=0;m<r.length;m++){const w=r[m];"number"==typeof w?d=w:1==d?c=Wt(c,w):2==d&&(a=Wt(a,w+": "+r[++m]+";"))}s?t.styles=a:t.stylesWithoutHost=a,s?t.classes=c:t.classesWithoutHost=c}function il(t,r,s,a,c=!1){for(;null!==s;){const d=r[s.index];if(null!==d&&a.push(zt(d)),tr(d))for(let w=10;w<d.length;w++){const b=d[w],k=b[1].firstChild;null!==k&&il(b[1],b,k,a)}const m=s.type;if(8&m)il(t,r,s.child,a);else if(32&m){const w=mf(s,r);let b;for(;b=w();)a.push(b)}else if(16&m){const w=Ef(r,s);if(Array.isArray(w))a.push(...w);else{const b=Wc(r[16]);il(b[1],b,w,a,!0)}}s=c?s.projectionNext:s.next}return a}class ud{constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const r=this._lView,s=r[1];return il(s,r,s.firstChild,[])}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if(tr(r)){const s=r[8],a=s?s.indexOf(this):-1;a>-1&&(Hd(r,a),Ks(s,a))}this._attachedToViewContainer=!1}Gd(this._lView[1],this._lView)}onDestroy(r){Dh(this._lView[1],this._lView,null,r)}markForCheck(){Sh(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){rl(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Oe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Mm(t,r){gc(t,r,r[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new Oe(902,!1);this._appRef=r}}class dy extends ud{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;rl(r[1],r,r[8],!1)}checkNoChanges(){}get context(){return null}}class Xf extends Xa{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=W(r);return new cd(s,this.ngModule)}}function Jf(t){const r=[];for(let s in t)t.hasOwnProperty(s)&&r.push({propName:t[s],templateName:s});return r}class Gg{constructor(r,s){this.injector=r,this.parentInjector=s}get(r,s,a){const c=this.injector.get(r,Bc,a);return c!==Bc||s===Bc?c:this.parentInjector.get(r,s,a)}}class cd extends an{constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function Lm(t){return t.map(cg).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return Jf(this.componentDef.inputs)}get outputs(){return Jf(this.componentDef.outputs)}create(r,s,a,c){let d=(c=c||this.ngModule)instanceof Zo?c:c?.injector;d&&null!==this.componentDef.getStandaloneInjector&&(d=this.componentDef.getStandaloneInjector(d)||d);const m=d?new Gg(r,d):r,w=m.get(Rl,null);if(null===w)throw new Oe(407,!1);const b=m.get(Pl,null),k=w.createRenderer(null,this.componentDef),$=this.componentDef.selectors[0][0]||"div",q=a?function Kf(t,r,s){return t.selectRootElement(r,s===Wr.ShadowDom)}(k,a,this.componentDef.encapsulation):vf(w.createRenderer(null,this.componentDef),$,function hy(t){const r=t.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}($)),le=this.componentDef.onPush?288:272,Se=id(0,null,null,1,0,null,null,null,null,null),Ye=wh(null,Se,null,le,null,null,w,k,b,m,null);let gt,Rt;oe(Ye);try{const qt=function gy(t,r,s,a,c,d){const m=s[1];s[22]=t;const b=Hu(m,22,2,"#host",null),k=b.mergedAttrs=r.hostAttrs;null!==k&&(vu(b,k,!0),null!==t&&(Ia(c,t,k),null!==b.classes&&Zc(c,t,b.classes),null!==b.styles&&Qd(c,t,b.styles)));const $=a.createRenderer(t,r),q=wh(s,Rg(r),null,r.onPush?32:16,s[22],b,a,$,d||null,null,null);return m.firstCreatePass&&(Gi(Ps(b,s),m,r.type),Vi(m,b),Vg(b,s.length,1)),nl(s,q),s[22]=q}(q,this.componentDef,Ye,w,k);if(q)if(a)Ia(k,q,["ng-version",oc.full]);else{const{attrs:ln,classes:lt}=function Fm(t){const r=[],s=[];let a=1,c=2;for(;a<t.length;){let d=t[a];if("string"==typeof d)2===c?""!==d&&r.push(d,t[++a]):8===c&&s.push(d);else{if(!fa(c))break;c=d}a++}return{attrs:r,classes:s}}(this.componentDef.selectors[0]);ln&&Ia(k,q,ln),lt&&lt.length>0&&Zc(k,q,lt.join(" "))}if(Rt=cr(Se,22),void 0!==s){const ln=Rt.projection=[];for(let lt=0;lt<this.ngContentSelectors.length;lt++){const Nn=s[lt];ln.push(null!=Nn?Array.from(Nn):null)}}gt=function F_(t,r,s,a){const c=s[1],d=function Og(t,r,s){const a=Br();t.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),sy(t,a,r,Gu(t,r,1,null),s),Ng(t,a));const c=sa(r,t,a.directiveStart,a);$s(c,r);const d=Vn(a,r);return d&&$s(d,r),c}(c,s,r);if(t[8]=s[8]=d,null!==a)for(const w of a)w(d,r);if(r.contentQueries){const w=Br();r.contentQueries(1,d,w.directiveStart)}const m=Br();return!c.firstCreatePass||null===r.hostBindings&&null===r.hostAttrs||(rr(m.index),Dr(s[1],m,0,m.directiveStart,m.directiveEnd,r),tl(r,d)),d}(qt,this.componentDef,Ye,[Ii]),zf(Se,Ye,null)}finally{Gn()}return new py(this.componentType,gt,Ja(Rt,Ye),Ye,Rt)}}class py extends class jt{}{constructor(r,s,a,c,d){super(),this.location=a,this._rootLView=c,this._tNode=d,this.instance=s,this.hostView=this.changeDetectorRef=new dy(c),this.componentType=r}setInput(r,s){const a=this._tNode.inputs;let c;if(null!==a&&(c=a[r])){const d=this._rootLView;ad(d[1],d,c,r,s),bh(d,this._tNode.index)}}get injector(){return new Os(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function Ii(){const t=Br();wa(et()[1],t)}function ep(t){let r=function my(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),s=!0;const a=[t];for(;r;){let c;if(di(t))c=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new Oe(903,!1);c=r.\u0275dir}if(c){if(s){a.push(c);const m=t;m.inputs=Mh(t.inputs),m.declaredInputs=Mh(t.declaredInputs),m.outputs=Mh(t.outputs);const w=c.hostBindings;w&&Wg(t,w);const b=c.viewQuery,k=c.contentQueries;if(b&&U_(t,b),k&&V_(t,k),vt(t.inputs,c.inputs),vt(t.declaredInputs,c.declaredInputs),vt(t.outputs,c.outputs),di(c)&&c.data.animation){const $=t.data;$.animation=($.animation||[]).concat(c.data.animation)}}const d=c.features;if(d)for(let m=0;m<d.length;m++){const w=d[m];w&&w.ngInherit&&w(t),w===ep&&(s=!1)}}r=Object.getPrototypeOf(r)}!function us(t){let r=0,s=null;for(let a=t.length-1;a>=0;a--){const c=t[a];c.hostVars=r+=c.hostVars,c.hostAttrs=ja(c.hostAttrs,s=ja(s,c.hostAttrs))}}(a)}function Mh(t){return t===dt?{}:t===xe?[]:t}function U_(t,r){const s=t.viewQuery;t.viewQuery=s?(a,c)=>{r(a,c),s(a,c)}:r}function V_(t,r){const s=t.contentQueries;t.contentQueries=s?(a,c,d)=>{r(a,c,d),s(a,c,d)}:r}function Wg(t,r){const s=t.hostBindings;t.hostBindings=s?(a,c)=>{r(a,c),s(a,c)}:r}let tp=null;function sl(){if(!tp){const t=Nt.Symbol;if(t&&t.iterator)tp=t.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<r.length;++s){const a=r[s];"entries"!==a&&"size"!==a&&Map.prototype[a]===Map.prototype.entries&&(tp=a)}}}return tp}function Rh(t){return!!zu(t)&&(Array.isArray(t)||!(t instanceof Map)&&sl()in t)}function zu(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function eo(t,r,s){return!Object.is(t[r],s)&&(t[r]=s,!0)}function ol(t,r,s,a){const c=et();return eo(c,Li(),r)&&(pn(),_u(Dn(),c,t,r,s,a)),ol}function Fa(t,r,s,a){return eo(t,Li(),s)?r+Ge(s)+a:qn}function Wu(t,r,s,a,c,d){const w=function Ec(t,r,s,a){const c=eo(t,r,s);return eo(t,r+1,a)||c}(t,function ts(){return Pt.lFrame.bindingIndex}(),s,c);return ns(2),w?r+Ge(s)+a+Ge(c)+d:qn}function ap(t,r,s,a,c,d,m,w){const b=et(),k=pn(),$=t+22,q=k.firstCreatePass?function Oh(t,r,s,a,c,d,m,w,b){const k=r.consts,$=Hu(r,t,4,m||null,ei(k,w));el(r,s,$,ei(k,b)),wa(r,$);const q=$.tViews=id(2,$,a,c,d,r.directiveRegistry,r.pipeRegistry,null,r.schemas,k);return null!==r.queries&&(r.queries.template(r,$),q.queries=r.queries.embeddedTView($)),$}($,k,b,r,s,a,c,d,m):k.data[$];es(q,!1);const le=b[11].createComment("");Kc(k,b,le,q),$s(le,b),nl(b,b[$]=oy(le,b,le,q)),vs(q)&&Eh(k,b,q),null!=m&&qf(b,q,w)}function Zg(t){return function Ar(t,r){return t[r]}(function bu(){return Pt.lFrame.contextLView}(),22+t)}function dl(t,r,s){const a=et();return eo(a,Li(),r)&&po(pn(),Dn(),a,t,r,a[11],s,!1),dl}function Lh(t,r,s,a,c){const m=c?"class":"style";ad(t,s,r.inputs[m],m,a)}function cp(t,r,s,a){const c=et(),d=pn(),m=22+t,w=c[11],b=c[m]=vf(w,r,function fs(){return Pt.lFrame.currentNamespace}()),k=d.firstCreatePass?function G_(t,r,s,a,c,d,m){const w=r.consts,k=Hu(r,t,2,c,ei(w,d));return el(r,s,k,ei(w,m)),null!==k.attrs&&vu(k,k.attrs,!1),null!==k.mergedAttrs&&vu(k,k.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,k),k}(m,d,c,0,r,s,a):d.data[m];es(k,!0);const $=k.mergedAttrs;null!==$&&Ia(w,b,$);const q=k.classes;null!==q&&Zc(w,b,q);const le=k.styles;return null!==le&&Qd(w,b,le),64!=(64&k.flags)&&Kc(d,c,b,k),0===function ya(){return Pt.lFrame.elementDepthCount}()&&$s(b,c),function No(){Pt.lFrame.elementDepthCount++}(),vs(k)&&(Eh(d,c,k),Ih(d,k,c)),null!==a&&qf(c,k),cp}function Fh(){let t=Br();xs()?_a():(t=t.parent,es(t,!1));const r=t;!function ea(){Pt.lFrame.elementDepthCount--}();const s=pn();return s.firstCreatePass&&(wa(s,t),js(t)&&s.queries.elementEnd(t)),null!=r.classesWithoutHost&&function Tu(t){return 0!=(16&t.flags)}(r)&&Lh(s,r,et(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function Ba(t){return 0!=(32&t.flags)}(r)&&Lh(s,r,et(),r.stylesWithoutHost,!1),Fh}function Yg(t,r,s,a){return cp(t,r,s,a),Fh(),Yg}function lp(t,r,s){const a=et(),c=pn(),d=t+22,m=c.firstCreatePass?function yy(t,r,s,a,c){const d=r.consts,m=ei(d,a),w=Hu(r,t,8,"ng-container",m);return null!==m&&vu(w,m,!0),el(r,s,w,ei(d,c)),null!==r.queries&&r.queries.elementStart(r,w),w}(d,c,a,r,s):c.data[d];es(m,!0);const w=a[d]=a[11].createComment("");return Kc(c,a,w,m),$s(w,a),vs(m)&&(Eh(c,a,m),Ih(c,m,a)),null!=s&&qf(a,m),lp}function dd(){let t=Br();const r=pn();return xs()?_a():(t=t.parent,es(t,!1)),r.firstCreatePass&&(wa(r,t),js(t)&&r.queries.elementEnd(t)),dd}function vy(){return et()}function Uh(t){return!!t&&"function"==typeof t.then}function wy(t){return!!t&&"function"==typeof t.subscribe}const Iy=wy;function Vh(t,r,s,a){const c=et(),d=pn(),m=Br();return function dp(t,r,s,a,c,d,m,w){const b=vs(a),$=t.firstCreatePass&&Qf(t),q=r[8],le=Ah(r);let Se=!0;if(3&a.type||w){const Rt=Vn(a,r),qt=w?w(Rt):Rt,ln=le.length,lt=w?Qr=>w(zt(Qr[a.index])):a.index;let Nn=null;if(!w&&b&&(Nn=function z_(t,r,s,a){const c=t.cleanup;if(null!=c)for(let d=0;d<c.length-1;d+=2){const m=c[d];if(m===s&&c[d+1]===a){const w=r[7],b=c[d+2];return w.length>b?w[b]:null}"string"==typeof m&&(d+=2)}return null}(t,r,c,a.index)),null!==Nn)(Nn.__ngLastListenerFn__||Nn).__ngNextListenerFn__=d,Nn.__ngLastListenerFn__=d,Se=!1;else{d=fp(a,r,q,d,!1);const Qr=s.listen(qt,c,d);le.push(d,Qr),$&&$.push(c,lt,ln,ln+1)}}else d=fp(a,r,q,d,!1);const Ye=a.outputs;let gt;if(Se&&null!==Ye&&(gt=Ye[c])){const Rt=gt.length;if(Rt)for(let qt=0;qt<Rt;qt+=2){const Bi=r[gt[qt]][gt[qt+1]].subscribe(d),gd=le.length;le.push(d,Bi),$&&$.push(c,a.index,gd,-(gd+1))}}}(d,c,c[11],m,t,r,0,a),Vh}function hp(t,r,s,a){try{return!1!==s(a)}catch(c){return xh(t,c),!1}}function fp(t,r,s,a,c){return function d(m){if(m===Function)return a;Sh(2&t.flags?Hn(t.index,r):r);let b=hp(r,0,a,m),k=d.__ngNextListenerFn__;for(;k;)b=hp(r,0,k,m)&&b,k=k.__ngNextListenerFn__;return c&&!1===b&&(m.preventDefault(),m.returnValue=!1),b}}function pp(t=1){return function fr(t){return(Pt.lFrame.contextLView=function Qn(t,r){for(;t>0;)r=r[15],t--;return r}(t,Pt.lFrame.contextLView))[8]}(t)}function wu(t,r,s){return Zu(t,"",r,"",s),wu}function Zu(t,r,s,a,c){const d=et(),m=Fa(d,r,s,a);return m!==qn&&po(pn(),Dn(),d,t,m,d[11],c,!1),Zu}function Ay(t,r,s,a,c){const d=t[s+1],m=null===r;let w=a?Qs(d):La(d),b=!1;for(;0!==w&&(!1===b||m);){const $=t[w+1];xy(t[w],r)&&(b=!0,t[w+1]=a?Lf($):Jl($)),w=a?Qs($):La($)}b&&(t[s+1]=a?Jl(d):Lf(d))}function xy(t,r){return null===t||null==r||(Array.isArray(t)?t[1]:t)===r||!(!Array.isArray(t)||"string"!=typeof r)&&A(t,r)>=0}function em(t,r){return function i(t,r,s,a){const c=et(),d=pn(),m=ns(2);d.firstUpdatePass&&function o(t,r,s,a){const c=t.data;if(null===c[s+1]){const d=c[zn()],m=function n(t,r){return r>=t.expandoStartIndex}(t,s);(function Fr(t,r){return 0!=(t.flags&(r?16:32))})(d,a)&&null===r&&!m&&(r=!1),r=function u(t,r,s,a){const c=function Uo(t){const r=Pt.lFrame.currentDirectiveIndex;return-1===r?null:t[r]}(t);let d=a?r.residualClasses:r.residualStyles;if(null===c)0===(a?r.classBindings:r.styleBindings)&&(s=N(s=R(null,t,r,s,a),r.attrs,a),d=null);else{const m=r.directiveStylingLast;if(-1===m||t[m]!==c)if(s=R(c,t,r,s,a),null===d){let b=function l(t,r,s){const a=s?r.classBindings:r.styleBindings;if(0!==La(a))return t[Qs(a)]}(t,r,a);void 0!==b&&Array.isArray(b)&&(b=R(null,t,r,b[1],a),b=N(b,r.attrs,a),function p(t,r,s,a){t[Qs(s?r.classBindings:r.styleBindings)]=a}(t,r,a,b))}else d=function I(t,r,s){let a;const c=r.directiveEnd;for(let d=1+r.directiveStylingLast;d<c;d++)a=N(a,t[d].hostAttrs,s);return N(a,r.attrs,s)}(t,r,a)}return void 0!==d&&(a?r.residualClasses=d:r.residualStyles=d),s}(c,d,r,a),function K_(t,r,s,a,c,d){let m=d?r.classBindings:r.styleBindings,w=Qs(m),b=La(m);t[a]=s;let $,k=!1;if(Array.isArray(s)){const q=s;$=q[1],(null===$||A(q,$)>0)&&(k=!0)}else $=s;if(c)if(0!==b){const le=Qs(t[w+1]);t[a+1]=Xl(le,w),0!==le&&(t[le+1]=ed(t[le+1],a)),t[w+1]=function Hm(t,r){return 131071&t|r<<17}(t[w+1],a)}else t[a+1]=Xl(w,0),0!==w&&(t[w+1]=ed(t[w+1],a)),w=a;else t[a+1]=Xl(b,0),0===w?w=a:t[b+1]=ed(t[b+1],a),b=a;k&&(t[a+1]=Jl(t[a+1])),Ay(t,$,a,!0),Ay(t,$,a,!1),function Z_(t,r,s,a,c){const d=c?t.residualClasses:t.residualStyles;null!=d&&"string"==typeof r&&A(d,r)>=0&&(s[a+1]=Lf(s[a+1]))}(r,$,t,a,d),m=Xl(w,b),d?r.classBindings=m:r.styleBindings=m}(c,d,r,s,m,a)}}(d,t,m,a),r!==qn&&eo(c,m,r)&&function Ze(t,r,s,a,c,d,m,w){if(!(3&r.type))return;const b=t.data,k=b[w+1];Vt(function dh(t){return 1==(1&t)}(k)?tt(b,r,s,c,La(k),m):void 0)||(Vt(d)||function vg(t){return 2==(2&t)}(k)&&(d=tt(b,null,s,c,w,m)),function sg(t,r,s,a,c){if(r)c?t.addClass(s,a):t.removeClass(s,a);else{let d=-1===a.indexOf("-")?void 0:eu.DashCase;null==c?t.removeStyle(s,a,d):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),d|=eu.Important),t.setStyle(s,a,c,d))}}(a,m,Gr(zn(),s),c,d))}(d,d.data[zn()],c,c[11],t,c[m+1]=function Yt(t,r){return null==t||("string"==typeof r?t+=r:"object"==typeof t&&(t=bt(qa(t)))),t}(r,s),a,m)}(t,r,null,!0),em}function R(t,r,s,a,c){let d=null;const m=s.directiveEnd;let w=s.directiveStylingLast;for(-1===w?w=s.directiveStart:w++;w<m&&(d=r[w],a=N(a,d.hostAttrs,c),d!==t);)w++;return null!==t&&(s.directiveStylingLast=w),a}function N(t,r,s){const a=s?1:2;let c=-1;if(null!==r)for(let d=0;d<r.length;d++){const m=r[d];"number"==typeof m?c=m:c===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),g(t,m,!!s||r[++d]))}return void 0===t?null:t}function tt(t,r,s,a,c,d){const m=null===r;let w;for(;c>0;){const b=t[c],k=Array.isArray(b),$=k?b[1]:b,q=null===$;let le=s[c+1];le===qn&&(le=q?xe:void 0);let Se=q?D(le,a):$===a?le:void 0;if(k&&!Vt(Se)&&(Se=D(b,a)),Vt(Se)&&(w=Se,m))return w;const Ye=t[c+1];c=m?Qs(Ye):La(Ye)}if(null!==r){let b=d?r.residualClasses:r.residualStyles;null!=b&&(w=D(b,a))}return w}function Vt(t){return void 0!==t}function ui(t,r=""){const s=et(),a=pn(),c=t+22,d=a.firstCreatePass?Hu(a,c,1,r,null):a.data[c],m=s[c]=function _f(t,r){return t.createText(r)}(s[11],r);Kc(a,s,m,d),es(d,!1)}function $r(t){return Zi("",t,""),$r}function Zi(t,r,s){const a=et(),c=Fa(a,t,r,s);return c!==qn&&ru(a,zn(),c),Zi}function Yr(t,r,s,a,c){const d=et(),m=Wu(d,t,r,s,a,c);return m!==qn&&ru(d,zn(),m),Yr}const fd=void 0;var Lw=["en",[["a","p"],["AM","PM"],fd],[["AM","PM"],fd,fd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],fd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],fd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",fd,"{1} 'at' {0}",fd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Ow(t){const s=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let $h={};function Fw(t,r,s){"string"!=typeof r&&(s=r,r=t[Mn.LocaleId]),r=r.toLowerCase().replace(/_/g,"-"),$h[r]=t,s&&($h[r][Mn.ExtraData]=s)}function Oy(t){const r=function Uw(t){return t.toLowerCase().replace(/_/g,"-")}(t);let s=yv(r);if(s)return s;const a=r.split("-")[0];if(s=yv(a),s)return s;if("en"===a)return Lw;throw new Oe(701,!1)}function mv(t){return Oy(t)[Mn.PluralCase]}function yv(t){return t in $h||($h[t]=Nt.ng&&Nt.ng.common&&Nt.ng.common.locales&&Nt.ng.common.locales[t]),$h[t]}var Mn=(()=>((Mn=Mn||{})[Mn.LocaleId=0]="LocaleId",Mn[Mn.DayPeriodsFormat=1]="DayPeriodsFormat",Mn[Mn.DayPeriodsStandalone=2]="DayPeriodsStandalone",Mn[Mn.DaysFormat=3]="DaysFormat",Mn[Mn.DaysStandalone=4]="DaysStandalone",Mn[Mn.MonthsFormat=5]="MonthsFormat",Mn[Mn.MonthsStandalone=6]="MonthsStandalone",Mn[Mn.Eras=7]="Eras",Mn[Mn.FirstDayOfWeek=8]="FirstDayOfWeek",Mn[Mn.WeekendRange=9]="WeekendRange",Mn[Mn.DateFormat=10]="DateFormat",Mn[Mn.TimeFormat=11]="TimeFormat",Mn[Mn.DateTimeFormat=12]="DateTimeFormat",Mn[Mn.NumberSymbols=13]="NumberSymbols",Mn[Mn.NumberFormats=14]="NumberFormats",Mn[Mn.CurrencyCode=15]="CurrencyCode",Mn[Mn.CurrencySymbol=16]="CurrencySymbol",Mn[Mn.CurrencyName=17]="CurrencyName",Mn[Mn.Currencies=18]="Currencies",Mn[Mn.Directionality=19]="Directionality",Mn[Mn.PluralCase=20]="PluralCase",Mn[Mn.ExtraData=21]="ExtraData",Mn))();const jh="en-US";let _v=jh;function Uy(t,r,s,a,c){if(t=_t(t),Array.isArray(t))for(let d=0;d<t.length;d++)Uy(t[d],r,s,a,c);else{const d=pn(),m=et();let w=Za(t)?t:_t(t.provide),b=h(t);const k=Br(),$=1048575&k.providerIndexes,q=k.directiveStart,le=k.providerIndexes>>20;if(Za(t)||!t.multi){const Se=new ia(b,c,ju),Ye=By(w,r,c?$:$+le,q);-1===Ye?(Gi(Ps(k,m),d,w),Vy(d,t,r.length),r.push(w),k.directiveStart++,k.directiveEnd++,c&&(k.providerIndexes+=1048576),s.push(Se),m.push(Se)):(s[Ye]=Se,m[Ye]=Se)}else{const Se=By(w,r,$+le,q),Ye=By(w,r,$,$+le),gt=Se>=0&&s[Se],Rt=Ye>=0&&s[Ye];if(c&&!Rt||!c&&!gt){Gi(Ps(k,m),d,w);const qt=function OI(t,r,s,a,c){const d=new ia(t,s,ju);return d.multi=[],d.index=r,d.componentProviders=0,Hv(d,c,a&&!s),d}(c?NI:PI,s.length,c,a,b);!c&&Rt&&(s[Ye].providerFactory=qt),Vy(d,t,r.length,0),r.push(w),k.directiveStart++,k.directiveEnd++,c&&(k.providerIndexes+=1048576),s.push(qt),m.push(qt)}else Vy(d,t,Se>-1?Se:Ye,Hv(s[c?Ye:Se],b,!c&&a));!c&&a&&Rt&&s[Ye].componentProviders++}}}function Vy(t,r,s,a){const c=Za(r),d=function Sd(t){return!!t.useClass}(r);if(c||d){const b=(d?_t(r.useClass):r).prototype.ngOnDestroy;if(b){const k=t.destroyHooks||(t.destroyHooks=[]);if(!c&&r.multi){const $=k.indexOf(s);-1===$?k.push(s,[a,b]):k[$+1].push(a,b)}else k.push(s,b)}}}function Hv(t,r,s){return s&&t.componentProviders++,t.multi.push(r)-1}function By(t,r,s,a){for(let c=s;c<a;c++)if(r[c]===t)return c;return-1}function PI(t,r,s,a){return $y(this.multi,[])}function NI(t,r,s,a){const c=this.multi;let d;if(this.providerFactory){const m=this.providerFactory.componentProviders,w=sa(s,s[1],this.providerFactory.index,a);d=w.slice(0,m),$y(c,d);for(let b=m;b<w.length;b++)d.push(w[b])}else d=[],$y(c,d);return d}function $y(t,r){for(let s=0;s<t.length;s++)r.push((0,t[s])());return r}function Gv(t,r=[]){return s=>{s.providersResolver=(a,c)=>function kI(t,r,s){const a=pn();if(a.firstCreatePass){const c=di(t);Uy(s,a.data,a.blueprint,c,!0),Uy(r,a.data,a.blueprint,c,!1)}}(a,c?c(t):t,r)}}class Hh{}class zv{}function LI(t,r){return new Wv(t,r??null)}class Wv extends Hh{constructor(r,s){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Xf(this);const a=en(r);this._bootstrapComponents=Ro(a.bootstrap),this._r3Injector=oh(r,s,[{provide:Hh,useValue:this},{provide:Xa,useValue:this.componentFactoryResolver}],bt(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class jy extends zv{constructor(r){super(),this.moduleType=r}create(r){return new Wv(this.moduleType,r)}}class FI extends Hh{constructor(r,s,a){super(),this.componentFactoryResolver=new Xf(this),this.instance=null;const c=new uf([...r,{provide:Hh,useValue:this},{provide:Xa,useValue:this.componentFactoryResolver}],s||Ya(),a,new Set(["environment"]));this.injector=c,c.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function Hy(t,r,s=null){return new FI(t,r,s).injector}let UI=(()=>{class t{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s.id)){const a=Dd(0,s.type),c=a.length>0?Hy([a],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s.id,c)}return this.cachedInjectors.get(s.id)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}}return t.\u0275prov=dr({token:t,providedIn:"environment",factory:()=>new t(si(Zo))}),t})();function qv(t){t.getStandaloneInjector=r=>r.get(UI).getOrCreateStandaloneInjector(t)}function e0(t,r,s){const a=function Ri(){const t=Pt.lFrame;let r=t.bindingRootIndex;return-1===r&&(r=t.bindingRootIndex=t.tView.bindingStartIndex),r}()+t,c=et();return c[a]===qn?function pa(t,r,s){return t[r]=s}(c,a,s?r.call(s):r()):function Ic(t,r){return t[r]}(c,a)}function zy(t){return r=>{setTimeout(t,void 0,r)}}const Yu=class cE extends M.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,a){let c=r,d=s||(()=>null),m=a;if(r&&"object"==typeof r){const b=r;c=b.next?.bind(b),d=b.error?.bind(b),m=b.complete?.bind(b)}this.__isAsync&&(d=zy(d),c&&(c=zy(c)),m&&(m=zy(m)));const w=super.subscribe({next:c,error:d,complete:m});return r instanceof z.w0&&r.add(w),w}};function lE(){return this._results[sl()]()}class Wy{constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=sl(),a=Wy.prototype;a[s]||(a[s]=lE)}get changes(){return this._changes||(this._changes=new Yu)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const a=this;a.dirty=!1;const c=_i(r);(this._changesDetected=!function To(t,r,s){if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++){let c=t[a],d=r[a];if(s&&(c=s(c),d=s(d)),d!==c)return!1}return!0}(a._results,c,s))&&(a._results=c,a.length=c.length,a.last=c[this.length-1],a.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let bp=(()=>{class t{}return t.__NG_ELEMENT_ID__=fE,t})();const dE=bp,hE=class extends dE{constructor(r,s,a){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=a}createEmbeddedView(r,s){const a=this._declarationTContainer.tViews,c=wh(this._declarationLView,a,r,16,null,a.declTNode,null,null,null,null,s||null);c[17]=this._declarationLView[this._declarationTContainer.index];const m=this._declarationLView[19];return null!==m&&(c[19]=m.createEmbeddedView(a)),zf(a,c,r),new ud(c)}};function fE(){return sm(Br(),et())}function sm(t,r){return 4&t.type?new hE(r,t,Ja(t,r)):null}let om=(()=>{class t{}return t.__NG_ELEMENT_ID__=pE,t})();function pE(){return c0(Br(),et())}const gE=om,a0=class extends gE{constructor(r,s,a){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=a}get element(){return Ja(this._hostTNode,this._hostLView)}get injector(){return new Os(this._hostTNode,this._hostLView)}get parentInjector(){const r=$o(this._hostTNode,this._hostLView);if(Ea(r)){const s=ss(r,this._hostLView),a=Vo(r);return new Os(s[1].data[a+8],s)}return new Os(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=u0(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,s,a){let c,d;"number"==typeof a?c=a:null!=a&&(c=a.index,d=a.injector);const m=r.createEmbeddedView(s||{},d);return this.insert(m,c),m}createComponent(r,s,a,c,d){const m=r&&!function Vs(t){return"function"==typeof t}(r);let w;if(m)w=s;else{const q=s||{};w=q.index,a=q.injector,c=q.projectableNodes,d=q.environmentInjector||q.ngModuleRef}const b=m?r:new cd(W(r)),k=a||this.parentInjector;if(!d&&null==b.ngModule){const le=(m?k:this.parentInjector).get(Zo,null);le&&(d=le)}const $=b.create(k,c,void 0,d);return this.insert($.hostView,w),$}insert(r,s){const a=r._lView,c=a[1];if(function hs(t){return tr(t[3])}(a)){const $=this.indexOf(r);if(-1!==$)this.detach($);else{const q=a[3],le=new a0(q,q[6],q[3]);le.detach(le.indexOf(r))}}const d=this._adjustIndex(s),m=this._lContainer;!function Rm(t,r,s,a){const c=10+a,d=s.length;a>0&&(s[c-1][4]=r),a<d-10?(r[4]=s[c],Sa(s,10+a,r)):(s.push(r),r[4]=null),r[3]=s;const m=r[17];null!==m&&s!==m&&function jd(t,r){const s=t[9];r[16]!==r[3][3][16]&&(t[2]=!0),null===s?t[9]=[r]:s.push(r)}(m,r);const w=r[19];null!==w&&w.insertView(t),r[2]|=64}(c,a,m,d);const w=Zd(d,m),b=a[11],k=Kd(b,m[7]);return null!==k&&function xm(t,r,s,a,c,d){a[0]=c,a[6]=r,gc(t,a,s,1,c,d)}(c,m[6],b,a,k,w),r.attachToViewContainerRef(),Sa(qy(m),d,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=u0(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),a=Hd(this._lContainer,s);a&&(Ks(qy(this._lContainer),s),Gd(a[1],a))}detach(r){const s=this._adjustIndex(r,-1),a=Hd(this._lContainer,s);return a&&null!=Ks(qy(this._lContainer),s)?new ud(a):null}_adjustIndex(r,s=0){return r??this.length+s}};function u0(t){return t[8]}function qy(t){return t[8]||(t[8]=[])}function c0(t,r){let s;const a=r[t.index];if(tr(a))s=a;else{let c;if(8&t.type)c=zt(a);else{const d=r[11];c=d.createComment("");const m=Vn(t,r);Bu(d,Kd(d,m),c,function tg(t,r){return t.nextSibling(r)}(d,m),!1)}r[t.index]=s=oy(a,r,c,t),nl(r,s)}return new a0(s,t,r)}class Ky{constructor(r){this.queryList=r,this.matches=null}clone(){return new Ky(this.queryList)}setDirty(){this.queryList.setDirty()}}class Zy{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const a=null!==r.contentQueries?r.contentQueries[0]:s.length,c=[];for(let d=0;d<a;d++){const m=s.getByIndex(d);c.push(this.queries[m.indexInDeclarationView].clone())}return new Zy(c)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==y0(r,s).matches&&this.queries[s].setDirty()}}class l0{constructor(r,s,a=null){this.predicate=r,this.flags=s,this.read=a}}class Yy{constructor(r=[]){this.queries=r}elementStart(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let a=0;a<this.length;a++){const c=null!==s?s.length:0,d=this.getByIndex(a).embeddedTView(r,c);d&&(d.indexInDeclarationView=a,null!==s?s.push(d):s=[d])}return null!==s?new Yy(s):null}template(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class Qy{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new Qy(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let c=0;c<a.length;c++){const d=a[c];this.matchTNodeWithReadOption(r,s,_E(s,d)),this.matchTNodeWithReadOption(r,s,co(s,r,d,!1,!1))}else a===bp?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,co(s,r,a,!1,!1))}matchTNodeWithReadOption(r,s,a){if(null!==a){const c=this.metadata.read;if(null!==c)if(c===Ou||c===om||c===bp&&4&s.type)this.addMatch(s.index,-2);else{const d=co(s,r,c,!1,!1);null!==d&&this.addMatch(s.index,d)}else this.addMatch(s.index,a)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function _E(t,r){const s=t.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===r)return s[a+1];return null}function wE(t,r,s,a){return-1===s?function vE(t,r){return 11&t.type?Ja(t,r):4&t.type?sm(t,r):null}(r,t):-2===s?function IE(t,r,s){return s===Ou?Ja(r,t):s===bp?sm(r,t):s===om?c0(r,t):void 0}(t,r,a):sa(t,t[1],s,r)}function d0(t,r,s,a){const c=r[19].queries[a];if(null===c.matches){const d=t.data,m=s.matches,w=[];for(let b=0;b<m.length;b+=2){const k=m[b];w.push(k<0?null:wE(r,d[k],m[b+1],s.metadata.read))}c.matches=w}return c.matches}function Xy(t,r,s,a){const c=t.queries.getByIndex(s),d=c.matches;if(null!==d){const m=d0(t,r,c,s);for(let w=0;w<d.length;w+=2){const b=d[w];if(b>0)a.push(m[w/2]);else{const k=d[w+1],$=r[-b];for(let q=10;q<$.length;q++){const le=$[q];le[17]===le[3]&&Xy(le[1],le,k,a)}if(null!==$[9]){const q=$[9];for(let le=0;le<q.length;le++){const Se=q[le];Xy(Se[1],Se,k,a)}}}}}return a}function h0(t){const r=et(),s=pn(),a=T();P(a+1);const c=y0(s,a);if(t.dirty&&function ds(t){return 4==(4&t[2])}(r)===(2==(2&c.metadata.flags))){if(null===c.matches)t.reset([]);else{const d=c.crossesNgTemplate?Xy(s,r,a,[]):d0(s,r,c,a);t.reset(d,Rd),t.notifyOnChanges()}return!0}return!1}function f0(t,r,s,a){const c=pn();if(c.firstCreatePass){const d=Br();(function m0(t,r,s){null===t.queries&&(t.queries=new Yy),t.queries.track(new Qy(r,s))})(c,new l0(r,s,a),d.index),function bE(t,r){const s=t.contentQueries||(t.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(t.queries.length-1,r)}(c,t),2==(2&s)&&(c.staticContentQueries=!0)}!function g0(t,r,s){const a=new Wy(4==(4&s));Dh(t,r,a,a.destroy),null===r[19]&&(r[19]=new Zy),r[19].queries.push(new Ky(a))}(c,et(),s)}function p0(){return function DE(t,r){return t[19].queries[r].queryList}(et(),T())}function y0(t,r){return t.queries.getByIndex(r)}function um(...t){}const L0=new gn("Application Initializer");let cm=(()=>{class t{constructor(s){this.appInits=s,this.resolve=um,this.reject=um,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,c)=>{this.resolve=a,this.reject=c})}runInitializers(){if(this.initialized)return;const s=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const d=this.appInits[c]();if(Uh(d))s.push(d);else if(Iy(d)){const m=new Promise((w,b)=>{d.subscribe({complete:w,error:b})});s.push(m)}}Promise.all(s).then(()=>{a()}).catch(c=>{this.reject(c)}),0===s.length&&a(),this.initialized=!0}}return t.\u0275fac=function(s){return new(s||t)(si(L0,8))},t.\u0275prov=dr({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const F0=new gn("AppId",{providedIn:"root",factory:function U0(){return`${r_()}${r_()}${r_()}`}});function r_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const V0=new gn("Platform Initializer"),zE=new gn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),B0=new gn("appBootstrapListener");let WE=(()=>{class t{log(s){console.log(s)}warn(s){console.warn(s)}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=dr({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const lm=new gn("LocaleId",{providedIn:"root",factory:()=>C(lm,wt.Optional|wt.SkipSelf)||function qE(){return typeof $localize<"u"&&$localize.locale||jh}()}),KE=new gn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class ZE{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let YE=(()=>{class t{compileModuleSync(s){return new jy(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const a=this.compileModuleSync(s),d=Ro(en(s).declarations).reduce((m,w)=>{const b=W(w);return b&&m.push(new cd(b)),m},[]);return new ZE(a,d)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=dr({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const JE=(()=>Promise.resolve(0))();function i_(t){typeof Zone>"u"?JE.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class su{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Yu(!1),this.onMicrotaskEmpty=new Yu(!1),this.onStable=new Yu(!1),this.onError=new Yu(!1),typeof Zone>"u")throw new Oe(908,!1);Zone.assertZonePatched();const c=this;if(c._nesting=0,c._outer=c._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const d=Zone.AsyncStackTaggingZoneSpec;c._inner=c._inner.fork(new d("Angular"))}Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!a&&s,c.shouldCoalesceRunChangeDetection=a,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function eD(){let t=Nt.requestAnimationFrame,r=Nt.cancelAnimationFrame;if(typeof Zone<"u"&&t&&r){const s=t[Zone.__symbol__("OriginalDelegate")];s&&(t=s);const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function rD(t){const r=()=>{!function nD(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Nt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,o_(t),t.isCheckStableRunning=!0,s_(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),o_(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,c,d,m,w)=>{try{return H0(t),s.invokeTask(c,d,m,w)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||t.shouldCoalesceRunChangeDetection)&&r(),G0(t)}},onInvoke:(s,a,c,d,m,w,b)=>{try{return H0(t),s.invoke(c,d,m,w,b)}finally{t.shouldCoalesceRunChangeDetection&&r(),G0(t)}},onHasTask:(s,a,c,d)=>{s.hasTask(c,d),a===c&&("microTask"==d.change?(t._hasPendingMicrotasks=d.microTask,o_(t),s_(t)):"macroTask"==d.change&&(t.hasPendingMacrotasks=d.macroTask))},onHandleError:(s,a,c,d)=>(s.handleError(c,d),t.runOutsideAngular(()=>t.onError.emit(d)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!su.isInAngularZone())throw new Oe(909,!1)}static assertNotInAngularZone(){if(su.isInAngularZone())throw new Oe(909,!1)}run(r,s,a){return this._inner.run(r,s,a)}runTask(r,s,a,c){const d=this._inner,m=d.scheduleEventTask("NgZoneEvent: "+c,r,tD,um,um);try{return d.runTask(m,s,a)}finally{d.cancelTask(m)}}runGuarded(r,s,a){return this._inner.runGuarded(r,s,a)}runOutsideAngular(r){return this._outer.run(r)}}const tD={};function s_(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function o_(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function H0(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function G0(t){t._nesting--,s_(t)}class iD{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Yu,this.onMicrotaskEmpty=new Yu,this.onStable=new Yu,this.onError=new Yu}run(r,s,a){return r.apply(s,a)}runGuarded(r,s,a){return r.apply(s,a)}runOutsideAngular(r){return r()}runTask(r,s,a,c){return r.apply(s,a)}}const z0=new gn(""),W0=new gn("");let a_,sD=(()=>{class t{constructor(s,a,c){this._ngZone=s,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,a_||(function oD(t){a_=t}(c),c.addToWindow(a)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{su.assertNotInAngularZone(),i_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())i_(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,c){let d=-1;a&&a>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==d),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:d,updateCb:c})}whenStable(s,a,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,a,c){return[]}}return t.\u0275fac=function(s){return new(s||t)(si(su),si(q0),si(W0))},t.\u0275prov=dr({token:t,factory:t.\u0275fac}),t})(),q0=(()=>{class t{constructor(){this._applications=new Map}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){return a_?.findTestabilityInTree(this,s,a)??null}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=dr({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})(),gl=null;const K0=new gn("AllowMultipleToken"),u_=new gn("PlatformDestroyListeners");class cD{constructor(r,s){this.name=r,this.token=s}}function Y0(t,r,s=[]){const a=`Platform: ${r}`,c=new gn(a);return(d=[])=>{let m=c_();if(!m||m.injector.get(K0,!1)){const w=[...s,...d,{provide:c,useValue:!0}];t?t(w):function lD(t){if(gl&&!gl.get(K0,!1))throw new Oe(400,!1);gl=t;const r=t.get(X0);(function Z0(t){const r=t.get(V0,null);r&&r.forEach(s=>s())})(t)}(function Q0(t=[],r){return mu.create({name:r,providers:[{provide:Ad,useValue:"platform"},{provide:u_,useValue:new Set([()=>gl=null])},...t]})}(w,a))}return function hD(t){const r=c_();if(!r)throw new Oe(401,!1);return r}()}}function c_(){return gl?.get(X0)??null}let X0=(()=>{class t{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const c=function ew(t,r){let s;return s="noop"===t?new iD:("zone.js"===t?void 0:t)||new su(r),s}(a?.ngZone,function J0(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!t||!t.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!t||!t.ngZoneRunCoalescing)||!1}}(a)),d=[{provide:su,useValue:c}];return c.run(()=>{const m=mu.create({providers:d,parent:this.injector,name:s.moduleType.name}),w=s.create(m),b=w.injector.get(Ll,null);if(!b)throw new Oe(402,!1);return c.runOutsideAngular(()=>{const k=c.onError.subscribe({next:$=>{b.handleError($)}});w.onDestroy(()=>{hm(this._modules,w),k.unsubscribe()})}),function tw(t,r,s){try{const a=s();return Uh(a)?a.catch(c=>{throw r.runOutsideAngular(()=>t.handleError(c)),c}):a}catch(a){throw r.runOutsideAngular(()=>t.handleError(a)),a}}(b,c,()=>{const k=w.injector.get(cm);return k.runInitializers(),k.donePromise.then(()=>(function vv(t){ft(t,"Expected localeId to be defined"),"string"==typeof t&&(_v=t.toLowerCase().replace(/_/g,"-"))}(w.injector.get(lm,jh)||jh),this._moduleDoBootstrap(w),w))})})}bootstrapModule(s,a=[]){const c=nw({},a);return function aD(t,r,s){const a=new jy(s);return Promise.resolve(a)}(0,0,s).then(d=>this.bootstrapModuleFactory(d,c))}_moduleDoBootstrap(s){const a=s.injector.get(dm);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(c=>a.bootstrap(c));else{if(!s.instance.ngDoBootstrap)throw new Oe(403,!1);s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Oe(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const s=this._injector.get(u_,null);s&&(s.forEach(a=>a()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(s){return new(s||t)(si(mu))},t.\u0275prov=dr({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function nw(t,r){return Array.isArray(r)?r.reduce(nw,t):{...t,...r}}let dm=(()=>{class t{constructor(s,a,c){this._zone=s,this._injector=a,this._exceptionHandler=c,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const d=new te.y(w=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{w.next(this._stable),w.complete()})}),m=new te.y(w=>{let b;this._zone.runOutsideAngular(()=>{b=this._zone.onStable.subscribe(()=>{su.assertNotInAngularZone(),i_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,w.next(!0))})})});const k=this._zone.onUnstable.subscribe(()=>{su.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{w.next(!1)}))});return()=>{b.unsubscribe(),k.unsubscribe()}});this.isStable=function qe(...t){const r=(0,Ee.yG)(t),s=(0,Ee._6)(t,1/0),a=t;return a.length?1===a.length?(0,De.Xf)(a[0]):(0,ve.J)(s)((0,Te.D)(a,r)):ue.E}(d,m.pipe(function Pe(t={}){const{connector:r=(()=>new M.x),resetOnError:s=!0,resetOnComplete:a=!0,resetOnRefCountZero:c=!0}=t;return d=>{let m,w,b,k=0,$=!1,q=!1;const le=()=>{w?.unsubscribe(),w=void 0},Se=()=>{le(),m=b=void 0,$=q=!1},Ye=()=>{const gt=m;Se(),gt?.unsubscribe()};return(0,ae.e)((gt,Rt)=>{k++,!q&&!$&&le();const qt=b=b??r();Rt.add(()=>{k--,0===k&&!q&&!$&&(w=ze(Ye,c))}),qt.subscribe(Rt),!m&&k>0&&(m=new K.Hp({next:ln=>qt.next(ln),error:ln=>{q=!0,le(),w=ze(Se,s,ln),qt.error(ln)},complete:()=>{$=!0,le(),w=ze(Se,a),qt.complete()}}),(0,De.Xf)(gt).subscribe(m))})(d)}}()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,a){const c=s instanceof an;if(!this._injector.get(cm).done)throw!c&&Zt(s),new Oe(405,false);let m;m=c?s:this._injector.get(Xa).resolveComponentFactory(s),this.componentTypes.push(m.componentType);const w=function uD(t){return t.isBoundToModule}(m)?void 0:this._injector.get(Hh),k=m.create(mu.NULL,[],a||m.selector,w),$=k.location.nativeElement,q=k.injector.get(z0,null);return q?.registerApplication($),k.onDestroy(()=>{this.detachView(k.hostView),hm(this.components,k),q?.unregisterApplication($)}),this._loadComponent(k),k}tick(){if(this._runningTick)throw new Oe(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;hm(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(B0,[]).concat(this._bootstrapListeners).forEach(c=>c(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>hm(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new Oe(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(s){return new(s||t)(si(su),si(Zo),si(Ll))},t.\u0275prov=dr({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function hm(t,r){const s=t.indexOf(r);s>-1&&t.splice(s,1)}let iw=!0;function pD(){iw=!1}let gD=(()=>{class t{}return t.__NG_ELEMENT_ID__=mD,t})();function mD(t){return function yD(t,r,s){if(Pr(t)&&!s){const a=Hn(t.index,r);return new ud(a,a)}return 47&t.type?new ud(r[16],r):null}(Br(),et(),16==(16&t))}class cw{constructor(){}supports(r){return Rh(r)}create(r){return new DD(r)}}const ED=(t,r)=>r;class DD{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||ED}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,a=this._removalsHead,c=0,d=null;for(;s||a;){const m=!a||s&&s.currentIndex<dw(a,c,d)?s:a,w=dw(m,c,d),b=m.currentIndex;if(m===a)c--,a=a._nextRemoved;else if(s=s._next,null==m.previousIndex)c++;else{d||(d=[]);const k=w-c,$=b-c;if(k!=$){for(let le=0;le<k;le++){const Se=le<d.length?d[le]:d[le]=0,Ye=Se+le;$<=Ye&&Ye<k&&(d[le]=Se+1)}d[m.previousIndex]=$-k}}w!==b&&r(m,w,b)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!Rh(r))throw new Oe(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let c,d,m,s=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let w=0;w<this.length;w++)d=r[w],m=this._trackByFn(w,d),null!==s&&Object.is(s.trackById,m)?(a&&(s=this._verifyReinsertion(s,d,m,w)),Object.is(s.item,d)||this._addIdentityChange(s,d)):(s=this._mismatch(s,d,m,w),a=!0),s=s._next}else c=0,function wc(t,r){if(Array.isArray(t))for(let s=0;s<t.length;s++)r(t[s]);else{const s=t[sl()]();let a;for(;!(a=s.next()).done;)r(a.value)}}(r,w=>{m=this._trackByFn(c,w),null!==s&&Object.is(s.trackById,m)?(a&&(s=this._verifyReinsertion(s,w,m,c)),Object.is(s.item,w)||this._addIdentityChange(s,w)):(s=this._mismatch(s,w,m,c),a=!0),s=s._next,c++}),this.length=c;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,a,c){let d;return null===r?d=this._itTail:(d=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,d,c)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,c))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,d,c)):r=this._addAfter(new bD(s,a),d,c),r}_verifyReinsertion(r,s,a,c){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==d?r=this._reinsertAfter(d,r._prev,c):r.currentIndex!=c&&(r.currentIndex=c,this._addToMoves(r,c)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const c=r._prevRemoved,d=r._nextRemoved;return null===c?this._removalsHead=d:c._nextRemoved=d,null===d?this._removalsTail=c:d._prevRemoved=c,this._insertAfter(r,s,a),this._addToMoves(r,a),r}_moveAfter(r,s,a){return this._unlink(r),this._insertAfter(r,s,a),this._addToMoves(r,a),r}_addAfter(r,s,a){return this._insertAfter(r,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,a){const c=null===s?this._itHead:s._next;return r._next=c,r._prev=s,null===c?this._itTail=r:c._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new lw),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,a=r._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new lw),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class bD{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class TD{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const s=r._prevDup,a=r._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class lw{constructor(){this.map=new Map}put(r){const s=r.trackById;let a=this.map.get(s);a||(a=new TD,this.map.set(s,a)),a.add(r)}get(r,s){const c=this.map.get(r);return c?c.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function dw(t,r,s){const a=t.previousIndex;if(null===a)return a;let c=0;return s&&a<s.length&&(c=s[a]),a+r+c}class hw{constructor(){}supports(r){return r instanceof Map||zu(r)}create(){return new CD}}class CD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||zu(r)))throw new Oe(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,c)=>{if(s&&s.key===c)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const d=this._getOrCreateRecordForKey(c,a);s=this._insertBeforeOrAppend(s,d)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const a=r._prev;return s._next=r,s._prev=a,r._prev=s,a&&(a._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const c=this._records.get(r);this._maybeAddToChanges(c,s);const d=c._prev,m=c._next;return d&&(d._next=m),m&&(m._prev=d),c._next=null,c._prev=null,c}const a=new SD(r);return this._records.set(r,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(a=>s(r[a],a))}}class SD{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function fw(){return new p_([new cw])}let p_=(()=>{class t{constructor(s){this.factories=s}static create(s,a){if(null!=a){const c=a.factories.slice();s=s.concat(c)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||fw()),deps:[[t,new An,new Dt]]}}find(s){const a=this.factories.find(c=>c.supports(s));if(null!=a)return a;throw new Oe(901,!1)}}return t.\u0275prov=dr({token:t,providedIn:"root",factory:fw}),t})();function pw(){return new g_([new hw])}let g_=(()=>{class t{constructor(s){this.factories=s}static create(s,a){if(a){const c=a.factories.slice();s=s.concat(c)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||pw()),deps:[[t,new An,new Dt]]}}find(s){const a=this.factories.find(c=>c.supports(s));if(a)return a;throw new Oe(901,!1)}}return t.\u0275prov=dr({token:t,providedIn:"root",factory:pw}),t})();const MD=Y0(null,"core",[]);let RD=(()=>{class t{constructor(s){}}return t.\u0275fac=function(s){return new(s||t)(si(dm))},t.\u0275mod=Cn({type:t}),t.\u0275inj=Mr({}),t})();function kD(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}},1481:(sn,Je,j)=>{j.d(Je,{Dx:()=>ri,b2:()=>hi,q6:()=>yr});var M=j(6895),z=j(8256);class te extends M.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ve extends te{static makeCurrent(){(0,M.HT)(new ve)}onAndCancel(ne,W,be){return ne.addEventListener(W,be,!1),()=>{ne.removeEventListener(W,be,!1)}}dispatchEvent(ne,W){ne.dispatchEvent(W)}remove(ne){ne.parentNode&&ne.parentNode.removeChild(ne)}createElement(ne,W){return(W=W||this.getDefaultDocument()).createElement(ne)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(ne){return ne.nodeType===Node.ELEMENT_NODE}isShadowRoot(ne){return ne instanceof DocumentFragment}getGlobalEventTarget(ne,W){return"window"===W?window:"document"===W?ne:"body"===W?ne.body:null}getBaseHref(ne){const W=function ue(){return De=De||document.querySelector("base"),De?De.getAttribute("href"):null}();return null==W?null:function Te(we){Ee=Ee||document.createElement("a"),Ee.setAttribute("href",we);const ne=Ee.pathname;return"/"===ne.charAt(0)?ne:`/${ne}`}(W)}resetBaseElement(){De=null}getUserAgent(){return window.navigator.userAgent}getCookie(ne){return(0,M.Mx)(document.cookie,ne)}}let Ee,De=null;const qe=new z.OlP("TRANSITION_ID"),ae=[{provide:z.ip1,useFactory:function K(we,ne,W){return()=>{W.get(z.CZH).donePromise.then(()=>{const be=(0,M.q)(),Be=ne.querySelectorAll(`style[ng-transition="${we}"]`);for(let Zt=0;Zt<Be.length;Zt++)be.remove(Be[Zt])})}},deps:[qe,M.K0,z.zs3],multi:!0}];let ze=(()=>{class we{build(){return new XMLHttpRequest}}return we.\u0275fac=function(W){return new(W||we)},we.\u0275prov=z.Yz7({token:we,factory:we.\u0275fac}),we})();const Le=new z.OlP("EventManagerPlugins");let vt=(()=>{class we{constructor(W,be){this._zone=be,this._eventNameToPlugin=new Map,W.forEach(Be=>Be.manager=this),this._plugins=W.slice().reverse()}addEventListener(W,be,Be){return this._findPluginFor(be).addEventListener(W,be,Be)}addGlobalEventListener(W,be,Be){return this._findPluginFor(be).addGlobalEventListener(W,be,Be)}getZone(){return this._zone}_findPluginFor(W){const be=this._eventNameToPlugin.get(W);if(be)return be;const Be=this._plugins;for(let Zt=0;Zt<Be.length;Zt++){const en=Be[Zt];if(en.supports(W))return this._eventNameToPlugin.set(W,en),en}throw new Error(`No event manager plugin found for event ${W}`)}}return we.\u0275fac=function(W){return new(W||we)(z.LFG(Le),z.LFG(z.R0b))},we.\u0275prov=z.Yz7({token:we,factory:we.\u0275fac}),we})();class bt{constructor(ne){this._doc=ne}addGlobalEventListener(ne,W,be){const Be=(0,M.q)().getGlobalEventTarget(this._doc,ne);if(!Be)throw new Error(`Unsupported event target ${Be} for event ${W}`);return this.addEventListener(Be,W,be)}}let Wt=(()=>{class we{constructor(){this._stylesSet=new Set}addStyles(W){const be=new Set;W.forEach(Be=>{this._stylesSet.has(Be)||(this._stylesSet.add(Be),be.add(Be))}),this.onStylesAdded(be)}onStylesAdded(W){}getAllStyles(){return Array.from(this._stylesSet)}}return we.\u0275fac=function(W){return new(W||we)},we.\u0275prov=z.Yz7({token:we,factory:we.\u0275fac}),we})(),xt=(()=>{class we extends Wt{constructor(W){super(),this._doc=W,this._hostNodes=new Map,this._hostNodes.set(W.head,[])}_addStylesToHost(W,be,Be){W.forEach(Zt=>{const en=this._doc.createElement("style");en.textContent=Zt,Be.push(be.appendChild(en))})}addHost(W){const be=[];this._addStylesToHost(this._stylesSet,W,be),this._hostNodes.set(W,be)}removeHost(W){const be=this._hostNodes.get(W);be&&be.forEach($t),this._hostNodes.delete(W)}onStylesAdded(W){this._hostNodes.forEach((be,Be)=>{this._addStylesToHost(W,Be,be)})}ngOnDestroy(){this._hostNodes.forEach(W=>W.forEach($t))}}return we.\u0275fac=function(W){return new(W||we)(z.LFG(M.K0))},we.\u0275prov=z.Yz7({token:we,factory:we.\u0275fac}),we})();function $t(we){(0,M.q)().remove(we)}const _t={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Qe=/%COMP%/g;function ce(we,ne,W){for(let be=0;be<ne.length;be++){let Be=ne[be];Array.isArray(Be)?ce(we,Be,W):(Be=Be.replace(Qe,we),W.push(Be))}return W}function _e(we){return ne=>{if("__ngUnwrap__"===ne)return we;!1===we(ne)&&(ne.preventDefault(),ne.returnValue=!1)}}let de=(()=>{class we{constructor(W,be,Be){this.eventManager=W,this.sharedStylesHost=be,this.appId=Be,this.rendererByCompId=new Map,this.defaultRenderer=new Ke(W)}createRenderer(W,be){if(!W||!be)return this.defaultRenderer;switch(be.encapsulation){case z.ifc.Emulated:{let Be=this.rendererByCompId.get(be.id);return Be||(Be=new ir(this.eventManager,this.sharedStylesHost,be,this.appId),this.rendererByCompId.set(be.id,Be)),Be.applyToHost(W),Be}case 1:case z.ifc.ShadowDom:return new Ht(this.eventManager,this.sharedStylesHost,W,be);default:if(!this.rendererByCompId.has(be.id)){const Be=ce(be.id,be.styles,[]);this.sharedStylesHost.addStyles(Be),this.rendererByCompId.set(be.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return we.\u0275fac=function(W){return new(W||we)(z.LFG(vt),z.LFG(xt),z.LFG(z.AFp))},we.\u0275prov=z.Yz7({token:we,factory:we.\u0275fac}),we})();class Ke{constructor(ne){this.eventManager=ne,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(ne,W){return W?document.createElementNS(_t[W]||W,ne):document.createElement(ne)}createComment(ne){return document.createComment(ne)}createText(ne){return document.createTextNode(ne)}appendChild(ne,W){(Jt(ne)?ne.content:ne).appendChild(W)}insertBefore(ne,W,be){ne&&(Jt(ne)?ne.content:ne).insertBefore(W,be)}removeChild(ne,W){ne&&ne.removeChild(W)}selectRootElement(ne,W){let be="string"==typeof ne?document.querySelector(ne):ne;if(!be)throw new Error(`The selector "${ne}" did not match any elements`);return W||(be.textContent=""),be}parentNode(ne){return ne.parentNode}nextSibling(ne){return ne.nextSibling}setAttribute(ne,W,be,Be){if(Be){W=Be+":"+W;const Zt=_t[Be];Zt?ne.setAttributeNS(Zt,W,be):ne.setAttribute(W,be)}else ne.setAttribute(W,be)}removeAttribute(ne,W,be){if(be){const Be=_t[be];Be?ne.removeAttributeNS(Be,W):ne.removeAttribute(`${be}:${W}`)}else ne.removeAttribute(W)}addClass(ne,W){ne.classList.add(W)}removeClass(ne,W){ne.classList.remove(W)}setStyle(ne,W,be,Be){Be&(z.JOm.DashCase|z.JOm.Important)?ne.style.setProperty(W,be,Be&z.JOm.Important?"important":""):ne.style[W]=be}removeStyle(ne,W,be){be&z.JOm.DashCase?ne.style.removeProperty(W):ne.style[W]=""}setProperty(ne,W,be){ne[W]=be}setValue(ne,W){ne.nodeValue=W}listen(ne,W,be){return"string"==typeof ne?this.eventManager.addGlobalEventListener(ne,W,_e(be)):this.eventManager.addEventListener(ne,W,_e(be))}}function Jt(we){return"TEMPLATE"===we.tagName&&void 0!==we.content}class ir extends Ke{constructor(ne,W,be,Be){super(ne),this.component=be;const Zt=ce(Be+"-"+be.id,be.styles,[]);W.addStyles(Zt),this.contentAttr=function ye(we){return"_ngcontent-%COMP%".replace(Qe,we)}(Be+"-"+be.id),this.hostAttr=function ot(we){return"_nghost-%COMP%".replace(Qe,we)}(Be+"-"+be.id)}applyToHost(ne){super.setAttribute(ne,this.hostAttr,"")}createElement(ne,W){const be=super.createElement(ne,W);return super.setAttribute(be,this.contentAttr,""),be}}class Ht extends Ke{constructor(ne,W,be,Be){super(ne),this.sharedStylesHost=W,this.hostEl=be,this.shadowRoot=be.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Zt=ce(Be.id,Be.styles,[]);for(let en=0;en<Zt.length;en++){const kn=document.createElement("style");kn.textContent=Zt[en],this.shadowRoot.appendChild(kn)}}nodeOrShadowRoot(ne){return ne===this.hostEl?this.shadowRoot:ne}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(ne,W){return super.appendChild(this.nodeOrShadowRoot(ne),W)}insertBefore(ne,W,be){return super.insertBefore(this.nodeOrShadowRoot(ne),W,be)}removeChild(ne,W){return super.removeChild(this.nodeOrShadowRoot(ne),W)}parentNode(ne){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(ne)))}}let Qt=(()=>{class we extends bt{constructor(W){super(W)}supports(W){return!0}addEventListener(W,be,Be){return W.addEventListener(be,Be,!1),()=>this.removeEventListener(W,be,Be)}removeEventListener(W,be,Be){return W.removeEventListener(be,Be)}}return we.\u0275fac=function(W){return new(W||we)(z.LFG(M.K0))},we.\u0275prov=z.Yz7({token:we,factory:we.\u0275fac}),we})();const On=["alt","control","meta","shift"],yn={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},xr={alt:we=>we.altKey,control:we=>we.ctrlKey,meta:we=>we.metaKey,shift:we=>we.shiftKey};let Tn=(()=>{class we extends bt{constructor(W){super(W)}supports(W){return null!=we.parseEventName(W)}addEventListener(W,be,Be){const Zt=we.parseEventName(be),en=we.eventCallback(Zt.fullKey,Be,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,M.q)().onAndCancel(W,Zt.domEventName,en))}static parseEventName(W){const be=W.toLowerCase().split("."),Be=be.shift();if(0===be.length||"keydown"!==Be&&"keyup"!==Be)return null;const Zt=we._normalizeKey(be.pop());let en="",kn=be.indexOf("code");if(kn>-1&&(be.splice(kn,1),en="code."),On.forEach(rn=>{const Fn=be.indexOf(rn);Fn>-1&&(be.splice(Fn,1),en+=rn+".")}),en+=Zt,0!=be.length||0===Zt.length)return null;const ht={};return ht.domEventName=Be,ht.fullKey=en,ht}static matchEventFullKeyCode(W,be){let Be=yn[W.key]||W.key,Zt="";return be.indexOf("code.")>-1&&(Be=W.code,Zt="code."),!(null==Be||!Be)&&(Be=Be.toLowerCase()," "===Be?Be="space":"."===Be&&(Be="dot"),On.forEach(en=>{en!==Be&&(0,xr[en])(W)&&(Zt+=en+".")}),Zt+=Be,Zt===be)}static eventCallback(W,be,Be){return Zt=>{we.matchEventFullKeyCode(Zt,W)&&Be.runGuarded(()=>be(Zt))}}static _normalizeKey(W){return"esc"===W?"escape":W}}return we.\u0275fac=function(W){return new(W||we)(z.LFG(M.K0))},we.\u0275prov=z.Yz7({token:we,factory:we.\u0275fac}),we})();const yr=(0,z.eFA)(z._c5,"browser",[{provide:z.Lbi,useValue:M.bD},{provide:z.g9A,useValue:function sr(){ve.makeCurrent()},multi:!0},{provide:M.K0,useFactory:function ni(){return(0,z.RDi)(document),document},deps:[]}]),Xr=new z.OlP(""),Lt=[{provide:z.rWj,useClass:class Pe{addToWindow(ne){z.dqk.getAngularTestability=(be,Be=!0)=>{const Zt=ne.findTestabilityInTree(be,Be);if(null==Zt)throw new Error("Could not find testability for element.");return Zt},z.dqk.getAllAngularTestabilities=()=>ne.getAllTestabilities(),z.dqk.getAllAngularRootElements=()=>ne.getAllRootElements(),z.dqk.frameworkStabilizers||(z.dqk.frameworkStabilizers=[]),z.dqk.frameworkStabilizers.push(be=>{const Be=z.dqk.getAllAngularTestabilities();let Zt=Be.length,en=!1;const kn=function(ht){en=en||ht,Zt--,0==Zt&&be(en)};Be.forEach(function(ht){ht.whenStable(kn)})})}findTestabilityInTree(ne,W,be){return null==W?null:ne.getTestability(W)??(be?(0,M.q)().isShadowRoot(W)?this.findTestabilityInTree(ne,W.host,!0):this.findTestabilityInTree(ne,W.parentElement,!0):null)}},deps:[]},{provide:z.lri,useClass:z.dDg,deps:[z.R0b,z.eoX,z.rWj]},{provide:z.dDg,useClass:z.dDg,deps:[z.R0b,z.eoX,z.rWj]}],ar=[{provide:z.zSh,useValue:"root"},{provide:z.qLn,useFactory:function dr(){return new z.qLn},deps:[]},{provide:Le,useClass:Qt,multi:!0,deps:[M.K0,z.R0b,z.Lbi]},{provide:Le,useClass:Tn,multi:!0,deps:[M.K0]},{provide:de,useClass:de,deps:[vt,xt,z.AFp]},{provide:z.FYo,useExisting:de},{provide:Wt,useExisting:xt},{provide:xt,useClass:xt,deps:[M.K0]},{provide:vt,useClass:vt,deps:[Le,z.R0b]},{provide:M.JF,useClass:ze,deps:[]},[]];let hi=(()=>{class we{constructor(W){}static withServerTransition(W){return{ngModule:we,providers:[{provide:z.AFp,useValue:W.appId},{provide:qe,useExisting:z.AFp},ae]}}}return we.\u0275fac=function(W){return new(W||we)(z.LFG(Xr,12))},we.\u0275mod=z.oAB({type:we}),we.\u0275inj=z.cJS({providers:[...ar,...Lt],imports:[M.ez,z.hGG]}),we})(),ri=(()=>{class we{constructor(W){this._doc=W}getTitle(){return this._doc.title}setTitle(W){this._doc.title=W||""}}return we.\u0275fac=function(W){return new(W||we)(z.LFG(M.K0))},we.\u0275prov=z.Yz7({token:we,factory:function(W){let be=null;return be=W?new W:function Zn(){return new ri((0,z.LFG)(M.K0))}(),be},providedIn:"root"}),we})();typeof window<"u"&&window},8489:(sn,Je,j)=>{j.d(Je,{F0:()=>ii,rH:()=>zi,Bz:()=>_i,lC:()=>Sr});var M=j(8256),z=j(8996),te=j(9646),ve=j(1135);const ue=(0,j(3888).d)(y=>function(){y(this),this.name="EmptyError",this.message="no elements in sequence"});var Ee=j(9751),Te=j(4742),qe=j(4671),K=j(3268),ae=j(7669),Pe=j(1810),ze=j(5403),Le=j(9672);function vt(...y){const _=(0,ae.yG)(y),g=(0,ae.jO)(y),{args:D,keys:A}=(0,Te.D)(y);if(0===D.length)return(0,z.D)([],_);const U=new Ee.y(function bt(y,_,g=qe.y){return D=>{Wt(_,()=>{const{length:A}=y,U=new Array(A);let Y=A,X=A;for(let Ne=0;Ne<A;Ne++)Wt(_,()=>{const pt=(0,z.D)(y[Ne],_);let on=!1;pt.subscribe((0,ze.x)(D,At=>{U[Ne]=At,on||(on=!0,X--),X||D.next(g(U.slice()))},()=>{--Y||D.complete()}))},D)},D)}}(D,_,A?Y=>(0,Pe.n)(A,Y):qe.y));return g?U.pipe((0,K.Z)(g)):U}function Wt(y,_,g){y?(0,Le.f)(g,y,_):_()}var xt=j(8189);function _t(...y){return function $t(){return(0,xt.J)(1)}()((0,z.D)(y,(0,ae.yG)(y)))}var Qe=j(8421);function nt(y){return new Ee.y(_=>{(0,Qe.Xf)(y()).subscribe(_)})}var Oe=j(9635),Et=j(576);function Ge(y,_){const g=(0,Et.m)(y)?y:()=>y,D=A=>A.error(g());return new Ee.y(_?A=>_.schedule(D,0,A):D)}var ye=j(515),ot=j(727),ce=j(4482);function _e(){return(0,ce.e)((y,_)=>{let g=null;y._refCount++;const D=(0,ze.x)(_,void 0,void 0,void 0,()=>{if(!y||y._refCount<=0||0<--y._refCount)return void(g=null);const A=y._connection,U=g;g=null,A&&(!U||A===U)&&A.unsubscribe(),_.unsubscribe()});y.subscribe(D),D.closed||(g=y.connect())})}class re extends Ee.y{constructor(_,g){super(),this.source=_,this.subjectFactory=g,this._subject=null,this._refCount=0,this._connection=null,(0,ce.A)(_)&&(this.lift=_.lift)}_subscribe(_){return this.getSubject().subscribe(_)}getSubject(){const _=this._subject;return(!_||_.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:_}=this;this._subject=this._connection=null,_?.unsubscribe()}connect(){let _=this._connection;if(!_){_=this._connection=new ot.w0;const g=this.getSubject();_.add(this.source.subscribe((0,ze.x)(g,void 0,()=>{this._teardown(),g.complete()},D=>{this._teardown(),g.error(D)},()=>this._teardown()))),_.closed&&(this._connection=null,_=ot.w0.EMPTY)}return _}refCount(){return _e()(this)}}var de=j(7579),Ke=j(6895),$e=j(4004);function yt(y,_){return(0,ce.e)((g,D)=>{let A=null,U=0,Y=!1;const X=()=>Y&&!A&&D.complete();g.subscribe((0,ze.x)(D,Ne=>{A?.unsubscribe();let pt=0;const on=U++;(0,Qe.Xf)(y(Ne,on)).subscribe(A=(0,ze.x)(D,At=>D.next(_?_(Ne,At,on,pt++):At),()=>{A=null,X()}))},()=>{Y=!0,X()}))})}function Jt(y){return y<=0?()=>ye.E:(0,ce.e)((_,g)=>{let D=0;_.subscribe((0,ze.x)(g,A=>{++D<=y&&(g.next(A),y<=D&&g.complete())}))})}function Ht(y,_){return(0,ce.e)((g,D)=>{let A=0;g.subscribe((0,ze.x)(D,U=>y.call(_,U,A++)&&D.next(U)))})}var Qt=j(5577);function On(y){return(0,ce.e)((_,g)=>{let D=!1;_.subscribe((0,ze.x)(g,A=>{D=!0,g.next(A)},()=>{D||g.next(y),g.complete()}))})}function yn(y=xr){return(0,ce.e)((_,g)=>{let D=!1;_.subscribe((0,ze.x)(g,A=>{D=!0,g.next(A)},()=>D?g.complete():g.error(y())))})}function xr(){return new ue}function Tn(y,_){const g=arguments.length>=2;return D=>D.pipe(y?Ht((A,U)=>y(A,U,D)):qe.y,Jt(1),g?On(_):yn(()=>new ue))}function Rn(y,_){return(0,Et.m)(_)?(0,Qt.z)(y,_,1):(0,Qt.z)(y,1)}var ft=j(8505);function Ut(y){return(0,ce.e)((_,g)=>{let U,D=null,A=!1;D=_.subscribe((0,ze.x)(g,void 0,void 0,Y=>{U=(0,Qe.Xf)(y(Y,Ut(y)(_))),D?(D.unsubscribe(),D=null,U.subscribe(g)):A=!0})),A&&(D.unsubscribe(),D=null,U.subscribe(g))})}function Kn(y,_,g,D,A){return(U,Y)=>{let X=g,Ne=_,pt=0;U.subscribe((0,ze.x)(Y,on=>{const At=pt++;Ne=X?y(Ne,on,At):(X=!0,on),D&&Y.next(Ne)},A&&(()=>{X&&Y.next(Ne),Y.complete()})))}}function _n(y,_){return(0,ce.e)(Kn(y,_,arguments.length>=2,!0))}function sr(y){return y<=0?()=>ye.E:(0,ce.e)((_,g)=>{let D=[];_.subscribe((0,ze.x)(g,A=>{D.push(A),y<D.length&&D.shift()},()=>{for(const A of D)g.next(A);g.complete()},void 0,()=>{D=null}))})}function dr(y,_){const g=arguments.length>=2;return D=>D.pipe(y?Ht((A,U)=>y(A,U,D)):qe.y,sr(1),g?On(_):yn(()=>new ue))}function yr(y){return(0,ce.e)((_,g)=>{try{_.subscribe(g)}finally{g.add(y)}})}var Xr=j(1481);const Lt="primary",ar=Symbol("RouteTitle");class hi{constructor(_){this.params=_||{}}has(_){return Object.prototype.hasOwnProperty.call(this.params,_)}get(_){if(this.has(_)){const g=this.params[_];return Array.isArray(g)?g[0]:g}return null}getAll(_){if(this.has(_)){const g=this.params[_];return Array.isArray(g)?g:[g]}return[]}get keys(){return Object.keys(this.params)}}function _r(y){return new hi(y)}function Ir(y,_,g){const D=g.path.split("/");if(D.length>y.length||"full"===g.pathMatch&&(_.hasChildren()||D.length<y.length))return null;const A={};for(let U=0;U<D.length;U++){const Y=D[U],X=y[U];if(Y.startsWith(":"))A[Y.substring(1)]=X;else if(Y!==X.path)return null}return{consumed:y.slice(0,D.length),posParams:A}}function Zn(y,_){const g=y?Object.keys(y):void 0,D=_?Object.keys(_):void 0;if(!g||!D||g.length!=D.length)return!1;let A;for(let U=0;U<g.length;U++)if(A=g[U],!ri(y[A],_[A]))return!1;return!0}function ri(y,_){if(Array.isArray(y)&&Array.isArray(_)){if(y.length!==_.length)return!1;const g=[...y].sort(),D=[..._].sort();return g.every((A,U)=>D[U]===A)}return y===_}function wt(y){return Array.prototype.concat.apply([],y)}function kt(y){return y.length>0?y[y.length-1]:null}function dn(y,_){for(const g in y)y.hasOwnProperty(g)&&_(y[g],g)}function hr(y){return(0,M.CqO)(y)?y:(0,M.QGY)(y)?(0,z.D)(Promise.resolve(y)):(0,te.of)(y)}const Ln={exact:function Nt(y,_,g){if(!ee(y.segments,_.segments)||!xe(y.segments,_.segments,g)||y.numberOfChildren!==_.numberOfChildren)return!1;for(const D in _.children)if(!y.children[D]||!Nt(y.children[D],_.children[D],g))return!1;return!0},subset:qr},Hr={exact:function Wr(y,_){return Zn(y,_)},subset:function li(y,_){return Object.keys(_).length<=Object.keys(y).length&&Object.keys(_).every(g=>ri(y[g],_[g]))},ignored:()=>!0};function $n(y,_,g){return Ln[g.paths](y.root,_.root,g.matrixParams)&&Hr[g.queryParams](y.queryParams,_.queryParams)&&!("exact"===g.fragment&&y.fragment!==_.fragment)}function qr(y,_,g){return dt(y,_,_.segments,g)}function dt(y,_,g,D){if(y.segments.length>g.length){const A=y.segments.slice(0,g.length);return!(!ee(A,g)||_.hasChildren()||!xe(A,g,D))}if(y.segments.length===g.length){if(!ee(y.segments,g)||!xe(y.segments,g,D))return!1;for(const A in _.children)if(!y.children[A]||!qr(y.children[A],_.children[A],D))return!1;return!0}{const A=g.slice(0,y.segments.length),U=g.slice(y.segments.length);return!!(ee(y.segments,A)&&xe(y.segments,A,D)&&y.children[Lt])&&dt(y.children[Lt],_,U,D)}}function xe(y,_,g){return _.every((D,A)=>Hr[g](y[A].parameters,D.parameters))}class mt{constructor(_,g,D){this.root=_,this.queryParams=g,this.fragment=D}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=_r(this.queryParams)),this._queryParamMap}toString(){return Ae.serialize(this)}}class rt{constructor(_,g){this.segments=_,this.children=g,this.parent=null,dn(g,(D,A)=>D.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return It(this)}}class Ot{constructor(_,g){this.path=_,this.parameters=g}get parameterMap(){return this._parameterMap||(this._parameterMap=_r(this.parameters)),this._parameterMap}toString(){return be(this)}}function ee(y,_){return y.length===_.length&&y.every((g,D)=>g.path===_[D].path)}let fe=(()=>{class y{}return y.\u0275fac=function(g){return new(g||y)},y.\u0275prov=M.Yz7({token:y,factory:function(){return new je},providedIn:"root"}),y})();class je{parse(_){const g=new ls(_);return new mt(g.parseRootSegment(),g.parseQueryParams(),g.parseFragment())}serialize(_){const g=`/${Kt(_.root,!0)}`,D=function Zt(y){const _=Object.keys(y).map(g=>{const D=y[g];return Array.isArray(D)?D.map(A=>`${Lr(g)}=${Lr(A)}`).join("&"):`${Lr(g)}=${Lr(D)}`}).filter(g=>!!g);return _.length?`?${_.join("&")}`:""}(_.queryParams);return`${g}${D}${"string"==typeof _.fragment?`#${function er(y){return encodeURI(y)}(_.fragment)}`:""}`}}const Ae=new je;function It(y){return y.segments.map(_=>be(_)).join("/")}function Kt(y,_){if(!y.hasChildren())return It(y);if(_){const g=y.children[Lt]?Kt(y.children[Lt],!1):"",D=[];return dn(y.children,(A,U)=>{U!==Lt&&D.push(`${U}:${Kt(A,!1)}`)}),D.length>0?`${g}(${D.join("//")})`:g}{const g=function J(y,_){let g=[];return dn(y.children,(D,A)=>{A===Lt&&(g=g.concat(_(D,A)))}),dn(y.children,(D,A)=>{A!==Lt&&(g=g.concat(_(D,A)))}),g}(y,(D,A)=>A===Lt?[Kt(y.children[Lt],!1)]:[`${A}:${Kt(D,!1)}`]);return 1===Object.keys(y.children).length&&null!=y.children[Lt]?`${It(y)}/${g[0]}`:`${It(y)}/(${g.join("//")})`}}function Cn(y){return encodeURIComponent(y).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Lr(y){return Cn(y).replace(/%3B/gi,";")}function we(y){return Cn(y).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ne(y){return decodeURIComponent(y)}function W(y){return ne(y.replace(/\+/g,"%20"))}function be(y){return`${we(y.path)}${function Be(y){return Object.keys(y).map(_=>`;${we(_)}=${we(y[_])}`).join("")}(y.parameters)}`}const en=/^[^\/()?;=#]+/;function kn(y){const _=y.match(en);return _?_[0]:""}const ht=/^[^=?&#]+/,Fn=/^[^&#]+/;class ls{constructor(_){this.url=_,this.remaining=_}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new rt([],{}):new rt([],this.parseChildren())}parseQueryParams(){const _={};if(this.consumeOptional("?"))do{this.parseQueryParam(_)}while(this.consumeOptional("&"));return _}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const _=[];for(this.peekStartsWith("(")||_.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),_.push(this.parseSegment());let g={};this.peekStartsWith("/(")&&(this.capture("/"),g=this.parseParens(!0));let D={};return this.peekStartsWith("(")&&(D=this.parseParens(!1)),(_.length>0||Object.keys(g).length>0)&&(D[Lt]=new rt(_,g)),D}parseSegment(){const _=kn(this.remaining);if(""===_&&this.peekStartsWith(";"))throw new M.vHH(4009,!1);return this.capture(_),new Ot(ne(_),this.parseMatrixParams())}parseMatrixParams(){const _={};for(;this.consumeOptional(";");)this.parseParam(_);return _}parseParam(_){const g=kn(this.remaining);if(!g)return;this.capture(g);let D="";if(this.consumeOptional("=")){const A=kn(this.remaining);A&&(D=A,this.capture(D))}_[ne(g)]=ne(D)}parseQueryParam(_){const g=function rn(y){const _=y.match(ht);return _?_[0]:""}(this.remaining);if(!g)return;this.capture(g);let D="";if(this.consumeOptional("=")){const Y=function Rr(y){const _=y.match(Fn);return _?_[0]:""}(this.remaining);Y&&(D=Y,this.capture(D))}const A=W(g),U=W(D);if(_.hasOwnProperty(A)){let Y=_[A];Array.isArray(Y)||(Y=[Y],_[A]=Y),Y.push(U)}else _[A]=U}parseParens(_){const g={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const D=kn(this.remaining),A=this.remaining[D.length];if("/"!==A&&")"!==A&&";"!==A)throw new M.vHH(4010,!1);let U;D.indexOf(":")>-1?(U=D.slice(0,D.indexOf(":")),this.capture(U),this.capture(":")):_&&(U=Lt);const Y=this.parseChildren();g[U]=1===Object.keys(Y).length?Y[Lt]:new rt([],Y),this.consumeOptional("//")}return g}peekStartsWith(_){return this.remaining.startsWith(_)}consumeOptional(_){return!!this.peekStartsWith(_)&&(this.remaining=this.remaining.substring(_.length),!0)}capture(_){if(!this.consumeOptional(_))throw new M.vHH(4011,!1)}}function Cr(y){return y.segments.length>0?new rt([],{[Lt]:y}):y}function Kr(y){const _={};for(const D of Object.keys(y.children)){const U=Kr(y.children[D]);(U.segments.length>0||U.hasChildren())&&(_[D]=U)}return function Sn(y){if(1===y.numberOfChildren&&y.children[Lt]){const _=y.children[Lt];return new rt(y.segments.concat(_.segments),_.children)}return y}(new rt(y.segments,_))}function Ei(y){return y instanceof mt}function Yi(y,_,g,D,A){if(0===g.length)return br(_.root,_.root,_.root,D,A);const U=function ge(y){if("string"==typeof y[0]&&1===y.length&&"/"===y[0])return new Jr(!0,0,y);let _=0,g=!1;const D=y.reduce((A,U,Y)=>{if("object"==typeof U&&null!=U){if(U.outlets){const X={};return dn(U.outlets,(Ne,pt)=>{X[pt]="string"==typeof Ne?Ne.split("/"):Ne}),[...A,{outlets:X}]}if(U.segmentPath)return[...A,U.segmentPath]}return"string"!=typeof U?[...A,U]:0===Y?(U.split("/").forEach((X,Ne)=>{0==Ne&&"."===X||(0==Ne&&""===X?g=!0:".."===X?_++:""!=X&&A.push(X))}),A):[...A,U]},[]);return new Jr(g,_,D)}(g);return U.toRoot()?br(_.root,_.root,new rt([],{}),D,A):function Y(Ne){const pt=function He(y,_,g,D){if(y.isAbsolute)return new he(_.root,!0,0);if(-1===D)return new he(g,g===_.root,0);return function at(y,_,g){let D=y,A=_,U=g;for(;U>A;){if(U-=A,D=D.parent,!D)throw new M.vHH(4005,!1);A=D.segments.length}return new he(D,!1,A-U)}(g,D+(bi(y.commands[0])?0:1),y.numberOfDoubleDots)}(U,_,y.snapshot?._urlSegment,Ne),on=pt.processChildren?ur(pt.segmentGroup,pt.index,U.commands):In(pt.segmentGroup,pt.index,U.commands);return br(_.root,pt.segmentGroup,on,D,A)}(y.snapshot?._lastPathIndex)}function bi(y){return"object"==typeof y&&null!=y&&!y.outlets&&!y.segmentPath}function Pn(y){return"object"==typeof y&&null!=y&&y.outlets}function br(y,_,g,D,A){let Y,U={};D&&dn(D,(Ne,pt)=>{U[pt]=Array.isArray(Ne)?Ne.map(on=>`${on}`):`${Ne}`}),Y=y===_?g:fi(y,_,g);const X=Cr(Kr(Y));return new mt(X,U,A)}function fi(y,_,g){const D={};return dn(y.children,(A,U)=>{D[U]=A===_?g:fi(A,_,g)}),new rt(y.segments,D)}class Jr{constructor(_,g,D){if(this.isAbsolute=_,this.numberOfDoubleDots=g,this.commands=D,_&&D.length>0&&bi(D[0]))throw new M.vHH(4003,!1);const A=D.find(Pn);if(A&&A!==kt(D))throw new M.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class he{constructor(_,g,D){this.segmentGroup=_,this.processChildren=g,this.index=D}}function In(y,_,g){if(y||(y=new rt([],{})),0===y.segments.length&&y.hasChildren())return ur(y,_,g);const D=function jn(y,_,g){let D=0,A=_;const U={match:!1,pathIndex:0,commandIndex:0};for(;A<y.segments.length;){if(D>=g.length)return U;const Y=y.segments[A],X=g[D];if(Pn(X))break;const Ne=`${X}`,pt=D<g.length-1?g[D+1]:null;if(A>0&&void 0===Ne)break;if(Ne&&pt&&"object"==typeof pt&&void 0===pt.outlets){if(!Vr(Ne,pt,Y))return U;D+=2}else{if(!Vr(Ne,{},Y))return U;D++}A++}return{match:!0,pathIndex:A,commandIndex:D}}(y,_,g),A=g.slice(D.commandIndex);if(D.match&&D.pathIndex<y.segments.length){const U=new rt(y.segments.slice(0,D.pathIndex),{});return U.children[Lt]=new rt(y.segments.slice(D.pathIndex),y.children),ur(U,0,A)}return D.match&&0===A.length?new rt(y.segments,{}):D.match&&!y.hasChildren()?Er(y,_,g):D.match?ur(y,0,A):Er(y,_,g)}function ur(y,_,g){if(0===g.length)return new rt(y.segments,{});{const D=function Ct(y){return Pn(y[0])?y[0].outlets:{[Lt]:y}}(g),A={};return dn(D,(U,Y)=>{"string"==typeof U&&(U=[U]),null!==U&&(A[Y]=In(y.children[Y],_,U))}),dn(y.children,(U,Y)=>{void 0===D[Y]&&(A[Y]=U)}),new rt(y.segments,A)}}function Er(y,_,g){const D=y.segments.slice(0,_);let A=0;for(;A<g.length;){const U=g[A];if(Pn(U)){const Ne=kr(U.outlets);return new rt(D,Ne)}if(0===A&&bi(g[0])){D.push(new Ot(y.segments[_].path,_s(g[0]))),A++;continue}const Y=Pn(U)?U.outlets[Lt]:`${U}`,X=A<g.length-1?g[A+1]:null;Y&&X&&bi(X)?(D.push(new Ot(Y,_s(X))),A+=2):(D.push(new Ot(Y,{})),A++)}return new rt(D,{})}function kr(y){const _={};return dn(y,(g,D)=>{"string"==typeof g&&(g=[g]),null!==g&&(_[D]=Er(new rt([],{}),0,g))}),_}function _s(y){const _={};return dn(y,(g,D)=>_[D]=`${g}`),_}function Vr(y,_,g){return y==g.path&&Zn(_,g.parameters)}class tr{constructor(_,g){this.id=_,this.url=g}}class js extends tr{constructor(_,g,D="imperative",A=null){super(_,g),this.type=0,this.navigationTrigger=D,this.restoredState=A}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Pr extends tr{constructor(_,g,D){super(_,g),this.urlAfterRedirects=D,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class vs extends tr{constructor(_,g,D,A){super(_,g),this.reason=D,this.code=A,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class di extends tr{constructor(_,g,D,A){super(_,g),this.error=D,this.target=A,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class to extends tr{constructor(_,g,D,A){super(_,g),this.urlAfterRedirects=D,this.state=A,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Pi extends tr{constructor(_,g,D,A){super(_,g),this.urlAfterRedirects=D,this.state=A,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class no extends tr{constructor(_,g,D,A,U){super(_,g),this.urlAfterRedirects=D,this.state=A,this.shouldActivate=U,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ss extends tr{constructor(_,g,D,A){super(_,g),this.urlAfterRedirects=D,this.state=A,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pi extends tr{constructor(_,g,D,A){super(_,g),this.urlAfterRedirects=D,this.state=A,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hs{constructor(_){this.route=_,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Gs{constructor(_){this.route=_,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ga{constructor(_){this.snapshot=_,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ko{constructor(_){this.snapshot=_,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xo{constructor(_){this.snapshot=_,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Jo{constructor(_){this.snapshot=_,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Va{constructor(_,g,D){this.routerEvent=_,this.position=g,this.anchor=D,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Qi{constructor(_){this._root=_}get root(){return this._root.value}parent(_){const g=this.pathFromRoot(_);return g.length>1?g[g.length-2]:null}children(_){const g=Xi(_,this._root);return g?g.children.map(D=>D.value):[]}firstChild(_){const g=Xi(_,this._root);return g&&g.children.length>0?g.children[0].value:null}siblings(_){const g=ro(_,this._root);return g.length<2?[]:g[g.length-2].children.map(A=>A.value).filter(A=>A!==_)}pathFromRoot(_){return ro(_,this._root).map(g=>g.value)}}function Xi(y,_){if(y===_.value)return _;for(const g of _.children){const D=Xi(y,g);if(D)return D}return null}function ro(y,_){if(y===_.value)return[_];for(const g of _.children){const D=ro(y,g);if(D.length)return D.unshift(_),D}return[]}class ws{constructor(_,g){this.value=_,this.children=g}toString(){return`TreeNode(${this.value})`}}function Yn(y){const _={};return y&&y.children.forEach(g=>_[g.value.outlet]=g),_}class io extends Qi{constructor(_,g){super(_),this.snapshot=g,mo(this,_)}toString(){return this.snapshot.toString()}}function $i(y,_){const g=function xi(y,_){const Y=new Is([],{},{},"",{},Lt,_,null,y.root,-1,{});return new Ji("",new ws(Y,[]))}(y,_),D=new ve.X([new Ot("",{})]),A=new ve.X({}),U=new ve.X({}),Y=new ve.X({}),X=new ve.X(""),Ne=new so(D,A,Y,X,U,Lt,_,g.root);return Ne.snapshot=g.root,new io(new ws(Ne,[]),g)}class so{constructor(_,g,D,A,U,Y,X,Ne){this.url=_,this.params=g,this.queryParams=D,this.fragment=A,this.data=U,this.outlet=Y,this.component=X,this.title=this.data?.pipe((0,$e.U)(pt=>pt[ar]))??(0,te.of)(void 0),this._futureSnapshot=Ne}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,$e.U)(_=>_r(_)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,$e.U)(_=>_r(_)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function go(y,_="emptyOnly"){const g=y.pathFromRoot;let D=0;if("always"!==_)for(D=g.length-1;D>=1;){const A=g[D],U=g[D-1];if(A.routeConfig&&""===A.routeConfig.path)D--;else{if(U.component)break;D--}}return function oo(y){return y.reduce((_,g)=>({params:{..._.params,...g.params},data:{..._.data,...g.data},resolve:{...g.data,..._.resolve,...g.routeConfig?.data,...g._resolvedData}}),{params:{},data:{},resolve:{}})}(g.slice(D))}class Is{constructor(_,g,D,A,U,Y,X,Ne,pt,on,At,lr){this.url=_,this.params=g,this.queryParams=D,this.fragment=A,this.data=U,this.outlet=Y,this.component=X,this.title=this.data?.[ar],this.routeConfig=Ne,this._urlSegment=pt,this._lastPathIndex=on,this._correctedLastPathIndex=lr??on,this._resolve=At}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=_r(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=_r(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(D=>D.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ji extends Qi{constructor(_,g){super(g),this.url=_,mo(this,g)}toString(){return Ni(this._root)}}function mo(y,_){_.value._routerState=y,_.children.forEach(g=>mo(y,g))}function Ni(y){const _=y.children.length>0?` { ${y.children.map(Ni).join(", ")} } `:"";return`${y.value}${_}`}function F(y){if(y.snapshot){const _=y.snapshot,g=y._futureSnapshot;y.snapshot=g,Zn(_.queryParams,g.queryParams)||y.queryParams.next(g.queryParams),_.fragment!==g.fragment&&y.fragment.next(g.fragment),Zn(_.params,g.params)||y.params.next(g.params),function ci(y,_){if(y.length!==_.length)return!1;for(let g=0;g<y.length;++g)if(!Zn(y[g],_[g]))return!1;return!0}(_.url,g.url)||y.url.next(g.url),Zn(_.data,g.data)||y.data.next(g.data)}else y.snapshot=y._futureSnapshot,y.data.next(y._futureSnapshot.data)}function O(y,_){const g=Zn(y.params,_.params)&&function wn(y,_){return ee(y,_)&&y.every((g,D)=>Zn(g.parameters,_[D].parameters))}(y.url,_.url);return g&&!(!y.parent!=!_.parent)&&(!y.parent||O(y.parent,_.parent))}function ie(y,_,g){if(g&&y.shouldReuseRoute(_.value,g.value.snapshot)){const D=g.value;D._futureSnapshot=_.value;const A=function me(y,_,g){return _.children.map(D=>{for(const A of g.children)if(y.shouldReuseRoute(D.value,A.value.snapshot))return ie(y,D,A);return ie(y,D)})}(y,_,g);return new ws(D,A)}{if(y.shouldAttach(_.value)){const U=y.retrieve(_.value);if(null!==U){const Y=U.route;return Y.value._futureSnapshot=_.value,Y.children=_.children.map(X=>ie(y,X)),Y}}const D=function Ve(y){return new so(new ve.X(y.url),new ve.X(y.params),new ve.X(y.queryParams),new ve.X(y.fragment),new ve.X(y.data),y.outlet,y.component,y)}(_.value),A=_.children.map(U=>ie(y,U));return new ws(D,A)}}const ut="ngNavigationCancelingError";function Ft(y,_){const{redirectTo:g,navigationBehaviorOptions:D}=Ei(_)?{redirectTo:_,navigationBehaviorOptions:void 0}:_,A=Bt(!1,0,_);return A.url=g,A.navigationBehaviorOptions=D,A}function Bt(y,_,g){const D=new Error("NavigationCancelingError: "+(y||""));return D[ut]=!0,D.cancellationCode=_,g&&(D.url=g),D}function un(y){return Un(y)&&Ei(y.url)}function Un(y){return y&&y[ut]}class Nr{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new zt,this.attachRef=null}}let zt=(()=>{class y{constructor(){this.contexts=new Map}onChildOutletCreated(g,D){const A=this.getOrCreateContext(g);A.outlet=D,this.contexts.set(g,A)}onChildOutletDestroyed(g){const D=this.getContext(g);D&&(D.outlet=null,D.attachRef=null)}onOutletDeactivated(){const g=this.contexts;return this.contexts=new Map,g}onOutletReAttached(g){this.contexts=g}getOrCreateContext(g){let D=this.getContext(g);return D||(D=new Nr,this.contexts.set(g,D)),D}getContext(g){return this.contexts.get(g)||null}}return y.\u0275fac=function(g){return new(g||y)},y.\u0275prov=M.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();const Tr=!1;let Sr=(()=>{class y{constructor(g,D,A,U,Y){this.parentContexts=g,this.location=D,this.changeDetector=U,this.environmentInjector=Y,this.activated=null,this._activatedRoute=null,this.activateEvents=new M.vpe,this.deactivateEvents=new M.vpe,this.attachEvents=new M.vpe,this.detachEvents=new M.vpe,this.name=A||Lt,g.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const g=this.parentContexts.getContext(this.name);g&&g.route&&(g.attachRef?this.attach(g.attachRef,g.route):this.activateWith(g.route,g.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new M.vHH(4012,Tr);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new M.vHH(4012,Tr);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new M.vHH(4012,Tr);this.location.detach();const g=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(g.instance),g}attach(g,D){this.activated=g,this._activatedRoute=D,this.location.insert(g.hostView),this.attachEvents.emit(g.instance)}deactivate(){if(this.activated){const g=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(g)}}activateWith(g,D){if(this.isActivated)throw new M.vHH(4013,Tr);this._activatedRoute=g;const A=this.location,Y=g._futureSnapshot.component,X=this.parentContexts.getOrCreateContext(this.name).children,Ne=new Gr(g,X,A.injector);if(D&&function Vn(y){return!!y.resolveComponentFactory}(D)){const pt=D.resolveComponentFactory(Y);this.activated=A.createComponent(pt,A.length,Ne)}else this.activated=A.createComponent(Y,{index:A.length,injector:Ne,environmentInjector:D??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return y.\u0275fac=function(g){return new(g||y)(M.Y36(zt),M.Y36(M.s_b),M.$8M("name"),M.Y36(M.sBO),M.Y36(M.lqb))},y.\u0275dir=M.lG2({type:y,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),y})();class Gr{constructor(_,g,D){this.route=_,this.childContexts=g,this.parent=D}get(_,g){return _===so?this.route:_===zt?this.childContexts:this.parent.get(_,g)}}let Mi=(()=>{class y{}return y.\u0275fac=function(g){return new(g||y)},y.\u0275cmp=M.Xpm({type:y,selectors:[["ng-component"]],standalone:!0,features:[M.jDz],decls:1,vars:0,template:function(g,D){1&g&&M._UZ(0,"router-outlet")},dependencies:[Sr],encapsulation:2}),y})();function cr(y,_){return y.providers&&!y._injector&&(y._injector=(0,M.MMx)(y.providers,_,`Route: ${y.path}`)),y._injector??_}function Pt(y){const _=y.children&&y.children.map(Pt),g=_?{...y,children:_}:{...y};return!g.component&&!g.loadComponent&&(_||g.loadChildren)&&g.outlet&&g.outlet!==Lt&&(g.component=Mi),g}function Oi(y){return y.outlet||Lt}function ma(y,_){const g=y.filter(D=>Oi(D)===_);return g.push(...y.filter(D=>Oi(D)!==_)),g}function ya(y){if(!y)return null;if(y.routeConfig?._injector)return y.routeConfig._injector;for(let _=y.parent;_;_=_.parent){const g=_.routeConfig;if(g?._loadedInjector)return g._loadedInjector;if(g?._injector)return g._injector}return null}class ea{constructor(_,g,D,A){this.routeReuseStrategy=_,this.futureState=g,this.currState=D,this.forwardEvent=A}activate(_){const g=this.futureState._root,D=this.currState?this.currState._root:null;this.deactivateChildRoutes(g,D,_),F(this.futureState.root),this.activateChildRoutes(g,D,_)}deactivateChildRoutes(_,g,D){const A=Yn(g);_.children.forEach(U=>{const Y=U.value.outlet;this.deactivateRoutes(U,A[Y],D),delete A[Y]}),dn(A,(U,Y)=>{this.deactivateRouteAndItsChildren(U,D)})}deactivateRoutes(_,g,D){const A=_.value,U=g?g.value:null;if(A===U)if(A.component){const Y=D.getContext(A.outlet);Y&&this.deactivateChildRoutes(_,g,Y.children)}else this.deactivateChildRoutes(_,g,D);else U&&this.deactivateRouteAndItsChildren(g,D)}deactivateRouteAndItsChildren(_,g){_.value.component&&this.routeReuseStrategy.shouldDetach(_.value.snapshot)?this.detachAndStoreRouteSubtree(_,g):this.deactivateRouteAndOutlet(_,g)}detachAndStoreRouteSubtree(_,g){const D=g.getContext(_.value.outlet),A=D&&_.value.component?D.children:g,U=Yn(_);for(const Y of Object.keys(U))this.deactivateRouteAndItsChildren(U[Y],A);if(D&&D.outlet){const Y=D.outlet.detach(),X=D.children.onOutletDeactivated();this.routeReuseStrategy.store(_.value.snapshot,{componentRef:Y,route:_,contexts:X})}}deactivateRouteAndOutlet(_,g){const D=g.getContext(_.value.outlet),A=D&&_.value.component?D.children:g,U=Yn(_);for(const Y of Object.keys(U))this.deactivateRouteAndItsChildren(U[Y],A);D&&D.outlet&&(D.outlet.deactivate(),D.children.onOutletDeactivated(),D.attachRef=null,D.resolver=null,D.route=null)}activateChildRoutes(_,g,D){const A=Yn(g);_.children.forEach(U=>{this.activateRoutes(U,A[U.value.outlet],D),this.forwardEvent(new Jo(U.value.snapshot))}),_.children.length&&this.forwardEvent(new ko(_.value.snapshot))}activateRoutes(_,g,D){const A=_.value,U=g?g.value:null;if(F(A),A===U)if(A.component){const Y=D.getOrCreateContext(A.outlet);this.activateChildRoutes(_,g,Y.children)}else this.activateChildRoutes(_,g,D);else if(A.component){const Y=D.getOrCreateContext(A.outlet);if(this.routeReuseStrategy.shouldAttach(A.snapshot)){const X=this.routeReuseStrategy.retrieve(A.snapshot);this.routeReuseStrategy.store(A.snapshot,null),Y.children.onOutletReAttached(X.contexts),Y.attachRef=X.componentRef,Y.route=X.route.value,Y.outlet&&Y.outlet.attach(X.componentRef,X.route.value),F(X.route.value),this.activateChildRoutes(_,null,Y.children)}else{const X=ya(A.snapshot),Ne=X?.get(M._Vd)??null;Y.attachRef=null,Y.route=A,Y.resolver=Ne,Y.injector=X,Y.outlet&&Y.outlet.activateWith(A,Y.injector),this.activateChildRoutes(_,null,Y.children)}}else this.activateChildRoutes(_,null,D)}}class zs{constructor(_){this.path=_,this.route=this.path[this.path.length-1]}}class ao{constructor(_,g){this.component=_,this.route=g}}function yo(y,_,g){const D=y._root;return Es(D,_?_._root:null,g,[D.value])}function pn(y,_){const g=Symbol(),D=_.get(y,g);return D===g?"function"!=typeof y||(0,M.Z0I)(y)?_.get(y):y:D}function Es(y,_,g,D,A={canDeactivateChecks:[],canActivateChecks:[]}){const U=Yn(_);return y.children.forEach(Y=>{(function ta(y,_,g,D,A={canDeactivateChecks:[],canActivateChecks:[]}){const U=y.value,Y=_?_.value:null,X=g?g.getContext(y.value.outlet):null;if(Y&&U.routeConfig===Y.routeConfig){const Ne=function Br(y,_,g){if("function"==typeof g)return g(y,_);switch(g){case"pathParamsChange":return!ee(y.url,_.url);case"pathParamsOrQueryParamsChange":return!ee(y.url,_.url)||!Zn(y.queryParams,_.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!O(y,_)||!Zn(y.queryParams,_.queryParams);default:return!O(y,_)}}(Y,U,U.routeConfig.runGuardsAndResolvers);Ne?A.canActivateChecks.push(new zs(D)):(U.data=Y.data,U._resolvedData=Y._resolvedData),Es(y,_,U.component?X?X.children:null:g,D,A),Ne&&X&&X.outlet&&X.outlet.isActivated&&A.canDeactivateChecks.push(new ao(X.outlet.component,Y))}else Y&&ji(_,X,A),A.canActivateChecks.push(new zs(D)),Es(y,null,U.component?X?X.children:null:g,D,A)})(Y,U[Y.value.outlet],g,D.concat([Y.value]),A),delete U[Y.value.outlet]}),dn(U,(Y,X)=>ji(Y,g.getContext(X),A)),A}function ji(y,_,g){const D=Yn(y),A=y.value;dn(D,(U,Y)=>{ji(U,A.component?_?_.children.getContext(Y):null:_,g)}),g.canDeactivateChecks.push(new ao(A.component&&_&&_.outlet&&_.outlet.isActivated?_.outlet.component:null,A))}function Ci(y){return"function"==typeof y}function ts(y){return y instanceof ue||"EmptyError"===y?.name}const Ms=Symbol("INITIAL_VALUE");function Li(){return yt(y=>vt(y.map(_=>_.pipe(Jt(1),function ir(...y){const _=(0,ae.yG)(y);return(0,ce.e)((g,D)=>{(_?_t(y,g,_):_t(y,g)).subscribe(D)})}(Ms)))).pipe((0,$e.U)(_=>{for(const g of _)if(!0!==g){if(g===Ms)return Ms;if(!1===g||g instanceof mt)return g}return!0}),Ht(_=>_!==Ms),Jt(1)))}function S(y){return(0,Oe.z)((0,ft.b)(_=>{if(Ei(_))throw Ft(0,_)}),(0,$e.U)(_=>!0===_))}const oe={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Fe(y,_,g,D,A){const U=We(y,_,g);return U.matched?function B(y,_,g,D){const A=_.canMatch;if(!A||0===A.length)return(0,te.of)(!0);const U=A.map(Y=>{const X=pn(Y,y);return hr(function ou(y){return y&&Ci(y.canMatch)}(X)?X.canMatch(_,g):y.runInContext(()=>X(_,g)))});return(0,te.of)(U).pipe(Li(),S())}(D=cr(_,D),_,g).pipe((0,$e.U)(Y=>!0===Y?U:{...oe})):(0,te.of)(U)}function We(y,_,g){if(""===_.path)return"full"===_.pathMatch&&(y.hasChildren()||g.length>0)?{...oe}:{matched:!0,consumedSegments:[],remainingSegments:g,parameters:{},positionalParamSegments:{}};const A=(_.matcher||Ir)(g,y,_);if(!A)return{...oe};const U={};dn(A.posParams,(X,Ne)=>{U[Ne]=X.path});const Y=A.consumed.length>0?{...U,...A.consumed[A.consumed.length-1].parameters}:U;return{matched:!0,consumedSegments:A.consumed,remainingSegments:g.slice(A.consumed.length),parameters:Y,positionalParamSegments:A.posParams??{}}}function Mt(y,_,g,D,A="corrected"){if(g.length>0&&function fr(y,_,g){return g.some(D=>zn(y,_,D)&&Oi(D)!==Lt)}(y,g,D)){const Y=new rt(_,function Gn(y,_,g,D){const A={};A[Lt]=D,D._sourceSegment=y,D._segmentIndexShift=_.length;for(const U of g)if(""===U.path&&Oi(U)!==Lt){const Y=new rt([],{});Y._sourceSegment=y,Y._segmentIndexShift=_.length,A[Oi(U)]=Y}return A}(y,_,D,new rt(g,y.children)));return Y._sourceSegment=y,Y._segmentIndexShift=_.length,{segmentGroup:Y,slicedSegments:[]}}if(0===g.length&&function Qn(y,_,g){return g.some(D=>zn(y,_,D))}(y,g,D)){const Y=new rt(y.segments,function nr(y,_,g,D,A,U){const Y={};for(const X of D)if(zn(y,g,X)&&!A[Oi(X)]){const Ne=new rt([],{});Ne._sourceSegment=y,Ne._segmentIndexShift="legacy"===U?y.segments.length:_.length,Y[Oi(X)]=Ne}return{...A,...Y}}(y,_,g,D,y.children,A));return Y._sourceSegment=y,Y._segmentIndexShift=_.length,{segmentGroup:Y,slicedSegments:g}}const U=new rt(y.segments,y.children);return U._sourceSegment=y,U._segmentIndexShift=_.length,{segmentGroup:U,slicedSegments:g}}function zn(y,_,g){return(!(y.hasChildren()||_.length>0)||"full"!==g.pathMatch)&&""===g.path}function rr(y,_,g,D){return!!(Oi(y)===D||D!==Lt&&zn(_,g,y))&&("**"===y.path||We(_,y,g).matched)}function Dn(y,_,g){return 0===_.length&&!y.children[g]}const Rs=!1;class rs{constructor(_){this.segmentGroup=_||null}}class wr{constructor(_){this.urlTree=_}}function mi(y){return Ge(new rs(y))}function fs(y){return Ge(new wr(y))}class Bn{constructor(_,g,D,A,U){this.injector=_,this.configLoader=g,this.urlSerializer=D,this.urlTree=A,this.config=U,this.allowRedirects=!0}apply(){const _=Mt(this.urlTree.root,[],[],this.config).segmentGroup,g=new rt(_.segments,_.children);return this.expandSegmentGroup(this.injector,this.config,g,Lt).pipe((0,$e.U)(U=>this.createUrlTree(Kr(U),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ut(U=>{if(U instanceof wr)return this.allowRedirects=!1,this.match(U.urlTree);throw U instanceof rs?this.noMatchError(U):U}))}match(_){return this.expandSegmentGroup(this.injector,this.config,_.root,Lt).pipe((0,$e.U)(A=>this.createUrlTree(Kr(A),_.queryParams,_.fragment))).pipe(Ut(A=>{throw A instanceof rs?this.noMatchError(A):A}))}noMatchError(_){return new M.vHH(4002,Rs)}createUrlTree(_,g,D){const A=Cr(_);return new mt(A,g,D)}expandSegmentGroup(_,g,D,A){return 0===D.segments.length&&D.hasChildren()?this.expandChildren(_,g,D).pipe((0,$e.U)(U=>new rt([],U))):this.expandSegment(_,D,g,D.segments,A,!0)}expandChildren(_,g,D){const A=[];for(const U of Object.keys(D.children))"primary"===U?A.unshift(U):A.push(U);return(0,z.D)(A).pipe(Rn(U=>{const Y=D.children[U],X=ma(g,U);return this.expandSegmentGroup(_,X,Y,U).pipe((0,$e.U)(Ne=>({segment:Ne,outlet:U})))}),_n((U,Y)=>(U[Y.outlet]=Y.segment,U),{}),dr())}expandSegment(_,g,D,A,U,Y){return(0,z.D)(D).pipe(Rn(X=>this.expandSegmentAgainstRoute(_,g,D,X,A,U,Y).pipe(Ut(pt=>{if(pt instanceof rs)return(0,te.of)(null);throw pt}))),Tn(X=>!!X),Ut((X,Ne)=>{if(ts(X))return Dn(g,A,U)?(0,te.of)(new rt([],{})):mi(g);throw X}))}expandSegmentAgainstRoute(_,g,D,A,U,Y,X){return rr(A,g,U,Y)?void 0===A.redirectTo?this.matchSegmentAgainstRoute(_,g,A,U,Y):X&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(_,g,D,A,U,Y):mi(g):mi(g)}expandSegmentAgainstRouteUsingRedirect(_,g,D,A,U,Y){return"**"===A.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(_,D,A,Y):this.expandRegularSegmentAgainstRouteUsingRedirect(_,g,D,A,U,Y)}expandWildCardWithParamsAgainstRouteUsingRedirect(_,g,D,A){const U=this.applyRedirectCommands([],D.redirectTo,{});return D.redirectTo.startsWith("/")?fs(U):this.lineralizeSegments(D,U).pipe((0,Qt.z)(Y=>{const X=new rt(Y,{});return this.expandSegment(_,X,g,Y,A,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(_,g,D,A,U,Y){const{matched:X,consumedSegments:Ne,remainingSegments:pt,positionalParamSegments:on}=We(g,A,U);if(!X)return mi(g);const At=this.applyRedirectCommands(Ne,A.redirectTo,on);return A.redirectTo.startsWith("/")?fs(At):this.lineralizeSegments(A,At).pipe((0,Qt.z)(lr=>this.expandSegment(_,g,D,lr.concat(pt),Y,!1)))}matchSegmentAgainstRoute(_,g,D,A,U){return"**"===D.path?(_=cr(D,_),D.loadChildren?(D._loadedRoutes?(0,te.of)({routes:D._loadedRoutes,injector:D._loadedInjector}):this.configLoader.loadChildren(_,D)).pipe((0,$e.U)(X=>(D._loadedRoutes=X.routes,D._loadedInjector=X.injector,new rt(A,{})))):(0,te.of)(new rt(A,{}))):Fe(g,D,A,_).pipe(yt(({matched:Y,consumedSegments:X,remainingSegments:Ne})=>Y?this.getChildConfig(_=D._injector??_,D,A).pipe((0,Qt.z)(on=>{const At=on.injector??_,lr=on.routes,{segmentGroup:Ui,slicedSegments:Ds}=Mt(g,X,Ne,lr),os=new rt(Ui.segments,Ui.children);if(0===Ds.length&&os.hasChildren())return this.expandChildren(At,lr,os).pipe((0,$e.U)(gr=>new rt(X,gr)));if(0===lr.length&&0===Ds.length)return(0,te.of)(new rt(X,{}));const vi=Oi(D)===U;return this.expandSegment(At,os,lr,Ds,vi?Lt:U,!0).pipe((0,$e.U)(Ao=>new rt(X.concat(Ao.segments),Ao.children)))})):mi(g)))}getChildConfig(_,g,D){return g.children?(0,te.of)({routes:g.children,injector:_}):g.loadChildren?void 0!==g._loadedRoutes?(0,te.of)({routes:g._loadedRoutes,injector:g._loadedInjector}):function P(y,_,g,D){const A=_.canLoad;if(void 0===A||0===A.length)return(0,te.of)(!0);const U=A.map(Y=>{const X=pn(Y,y);return hr(function xs(y){return y&&Ci(y.canLoad)}(X)?X.canLoad(_,g):y.runInContext(()=>X(_,g)))});return(0,te.of)(U).pipe(Li(),S())}(_,g,D).pipe((0,Qt.z)(A=>A?this.configLoader.loadChildren(_,g).pipe((0,ft.b)(U=>{g._loadedRoutes=U.routes,g._loadedInjector=U.injector})):function wa(y){return Ge(Bt(Rs,3))}())):(0,te.of)({routes:[],injector:_})}lineralizeSegments(_,g){let D=[],A=g.root;for(;;){if(D=D.concat(A.segments),0===A.numberOfChildren)return(0,te.of)(D);if(A.numberOfChildren>1||!A.children[Lt])return Ge(new M.vHH(4e3,Rs));A=A.children[Lt]}}applyRedirectCommands(_,g,D){return this.applyRedirectCreateUrlTree(g,this.urlSerializer.parse(g),_,D)}applyRedirectCreateUrlTree(_,g,D,A){const U=this.createSegmentGroup(_,g.root,D,A);return new mt(U,this.createQueryParams(g.queryParams,this.urlTree.queryParams),g.fragment)}createQueryParams(_,g){const D={};return dn(_,(A,U)=>{if("string"==typeof A&&A.startsWith(":")){const X=A.substring(1);D[U]=g[X]}else D[U]=A}),D}createSegmentGroup(_,g,D,A){const U=this.createSegments(_,g.segments,D,A);let Y={};return dn(g.children,(X,Ne)=>{Y[Ne]=this.createSegmentGroup(_,X,D,A)}),new rt(U,Y)}createSegments(_,g,D,A){return g.map(U=>U.path.startsWith(":")?this.findPosParam(_,U,A):this.findOrReturn(U,D))}findPosParam(_,g,D){const A=D[g.path.substring(1)];if(!A)throw new M.vHH(4001,Rs);return A}findOrReturn(_,g){let D=0;for(const A of g){if(A.path===_.path)return g.splice(D),A;D++}return _}}class Gt{}class St{constructor(_,g,D,A,U,Y,X,Ne){this.injector=_,this.rootComponentType=g,this.config=D,this.urlTree=A,this.url=U,this.paramsInheritanceStrategy=Y,this.relativeLinkResolution=X,this.urlSerializer=Ne}recognize(){const _=Mt(this.urlTree.root,[],[],this.config.filter(g=>void 0===g.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,_,Lt).pipe((0,$e.U)(g=>{if(null===g)return null;const D=new Is([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Lt,this.rootComponentType,null,this.urlTree.root,-1,{}),A=new ws(D,g),U=new Ji(this.url,A);return this.inheritParamsAndData(U._root),U}))}inheritParamsAndData(_){const g=_.value,D=go(g,this.paramsInheritanceStrategy);g.params=Object.freeze(D.params),g.data=Object.freeze(D.data),_.children.forEach(A=>this.inheritParamsAndData(A))}processSegmentGroup(_,g,D,A){return 0===D.segments.length&&D.hasChildren()?this.processChildren(_,g,D):this.processSegment(_,g,D,D.segments,A)}processChildren(_,g,D){return(0,z.D)(Object.keys(D.children)).pipe(Rn(A=>{const U=D.children[A],Y=ma(g,A);return this.processSegmentGroup(_,Y,U,A)}),_n((A,U)=>A&&U?(A.push(...U),A):null),function ni(y,_=!1){return(0,ce.e)((g,D)=>{let A=0;g.subscribe((0,ze.x)(D,U=>{const Y=y(U,A++);(Y||_)&&D.next(U),!Y&&D.complete()}))})}(A=>null!==A),On(null),dr(),(0,$e.U)(A=>{if(null===A)return null;const U=Tu(A);return function Ue(y){y.sort((_,g)=>_.value.outlet===Lt?-1:g.value.outlet===Lt?1:_.value.outlet.localeCompare(g.value.outlet))}(U),U}))}processSegment(_,g,D,A,U){return(0,z.D)(g).pipe(Rn(Y=>this.processSegmentAgainstRoute(Y._injector??_,Y,D,A,U)),Tn(Y=>!!Y),Ut(Y=>{if(ts(Y))return Dn(D,A,U)?(0,te.of)([]):(0,te.of)(null);throw Y}))}processSegmentAgainstRoute(_,g,D,A,U){if(g.redirectTo||!rr(g,D,A,U))return(0,te.of)(null);let Y;if("**"===g.path){const X=A.length>0?kt(A).parameters:{},Ne=Qu(D)+A.length,pt=new Is(A,X,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,au(g),Oi(g),g.component??g._loadedComponent??null,g,is(D),Ne,$a(g),Ne);Y=(0,te.of)({snapshot:pt,consumedSegments:[],remainingSegments:[]})}else Y=Fe(D,g,A,_).pipe((0,$e.U)(({matched:X,consumedSegments:Ne,remainingSegments:pt,parameters:on})=>{if(!X)return null;const At=Qu(D)+Ne.length;return{snapshot:new Is(Ne,on,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,au(g),Oi(g),g.component??g._loadedComponent??null,g,is(D),At,$a(g),At),consumedSegments:Ne,remainingSegments:pt}}));return Y.pipe(yt(X=>{if(null===X)return(0,te.of)(null);const{snapshot:Ne,consumedSegments:pt,remainingSegments:on}=X;_=g._injector??_;const At=g._loadedInjector??_,lr=function st(y){return y.children?y.children:y.loadChildren?y._loadedRoutes:[]}(g),{segmentGroup:Ui,slicedSegments:Ds}=Mt(D,pt,on,lr.filter(vi=>void 0===vi.redirectTo),this.relativeLinkResolution);if(0===Ds.length&&Ui.hasChildren())return this.processChildren(At,lr,Ui).pipe((0,$e.U)(vi=>null===vi?null:[new ws(Ne,vi)]));if(0===lr.length&&0===Ds.length)return(0,te.of)([new ws(Ne,[])]);const os=Oi(g)===U;return this.processSegment(At,lr,Ui,Ds,os?Lt:U).pipe((0,$e.U)(vi=>null===vi?null:[new ws(Ne,vi)]))}))}}function Zr(y){const _=y.value.routeConfig;return _&&""===_.path&&void 0===_.redirectTo}function Tu(y){const _=[],g=new Set;for(const D of y){if(!Zr(D)){_.push(D);continue}const A=_.find(U=>D.value.routeConfig===U.value.routeConfig);void 0!==A?(A.children.push(...D.children),g.add(A)):_.push(D)}for(const D of g){const A=Tu(D.children);_.push(new ws(D.value,A))}return _.filter(D=>!g.has(D))}function is(y){let _=y;for(;_._sourceSegment;)_=_._sourceSegment;return _}function Qu(y){let _=y,g=_._segmentIndexShift??0;for(;_._sourceSegment;)_=_._sourceSegment,g+=_._segmentIndexShift??0;return g-1}function au(y){return y.data||{}}function $a(y){return y.resolve||{}}function Bo(y){return"string"==typeof y.title||null===y.title}function bn(y){return yt(_=>{const g=y(_);return g?(0,z.D)(g).pipe((0,$e.U)(()=>_)):(0,te.of)(_)})}let hn=(()=>{class y{buildTitle(g){let D,A=g.root;for(;void 0!==A;)D=this.getResolvedTitleForRoute(A)??D,A=A.children.find(U=>U.outlet===Lt);return D}getResolvedTitleForRoute(g){return g.data[ar]}}return y.\u0275fac=function(g){return new(g||y)},y.\u0275prov=M.Yz7({token:y,factory:function(){return(0,M.f3M)(uo)},providedIn:"root"}),y})(),uo=(()=>{class y extends hn{constructor(g){super(),this.title=g}updateTitle(g){const D=this.buildTitle(g);void 0!==D&&this.title.setTitle(D)}}return y.\u0275fac=function(g){return new(g||y)(M.LFG(Xr.Dx))},y.\u0275prov=M.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();class uu{}class Tt extends class pr{shouldDetach(_){return!1}store(_,g){}shouldAttach(_){return!1}retrieve(_){return null}shouldReuseRoute(_,g){return _.routeConfig===g.routeConfig}}{}const vo=new M.OlP("",{providedIn:"root",factory:()=>({})}),$o=new M.OlP("ROUTES");let Gi=(()=>{class y{constructor(g,D){this.injector=g,this.compiler=D,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(g){if(this.componentLoaders.get(g))return this.componentLoaders.get(g);if(g._loadedComponent)return(0,te.of)(g._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(g);const D=hr(g.loadComponent()).pipe((0,ft.b)(U=>{this.onLoadEndListener&&this.onLoadEndListener(g),g._loadedComponent=U}),yr(()=>{this.componentLoaders.delete(g)})),A=new re(D,()=>new de.x).pipe(_e());return this.componentLoaders.set(g,A),A}loadChildren(g,D){if(this.childrenLoaders.get(D))return this.childrenLoaders.get(D);if(D._loadedRoutes)return(0,te.of)({routes:D._loadedRoutes,injector:D._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(D);const U=this.loadModuleFactoryOrRoutes(D.loadChildren).pipe((0,$e.U)(X=>{this.onLoadEndListener&&this.onLoadEndListener(D);let Ne,pt,on=!1;Array.isArray(X)?pt=X:(Ne=X.create(g).injector,pt=wt(Ne.get($o,[],M.XFs.Self|M.XFs.Optional)));return{routes:pt.map(Pt),injector:Ne}}),yr(()=>{this.childrenLoaders.delete(D)})),Y=new re(U,()=>new de.x).pipe(_e());return this.childrenLoaders.set(D,Y),Y}loadModuleFactoryOrRoutes(g){return hr(g()).pipe((0,Qt.z)(D=>D instanceof M.YKP||Array.isArray(D)?(0,te.of)(D):(0,z.D)(this.compiler.compileModuleAsync(D))))}}return y.\u0275fac=function(g){return new(g||y)(M.LFG(M.zs3),M.LFG(M.Sil))},y.\u0275prov=M.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();class Ha{}class wo{shouldProcessUrl(_){return!0}extract(_){return _}merge(_,g){return _}}function Da(y){throw y}function ki(y,_,g){return _.parse("/")}const cu={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},co={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function Ns(){const y=(0,M.f3M)(fe),_=(0,M.f3M)(zt),g=(0,M.f3M)(Ke.Ye),D=(0,M.f3M)(M.zs3),A=(0,M.f3M)(M.Sil),U=(0,M.f3M)($o,{optional:!0})??[],Y=(0,M.f3M)(vo,{optional:!0})??{},X=(0,M.f3M)(uo),Ne=(0,M.f3M)(hn,{optional:!0}),pt=(0,M.f3M)(Ha,{optional:!0}),on=(0,M.f3M)(uu,{optional:!0}),At=new ii(null,y,_,g,D,A,wt(U));return pt&&(At.urlHandlingStrategy=pt),on&&(At.routeReuseStrategy=on),At.titleStrategy=Ne??X,function sa(y,_){y.errorHandler&&(_.errorHandler=y.errorHandler),y.malformedUriErrorHandler&&(_.malformedUriErrorHandler=y.malformedUriErrorHandler),y.onSameUrlNavigation&&(_.onSameUrlNavigation=y.onSameUrlNavigation),y.paramsInheritanceStrategy&&(_.paramsInheritanceStrategy=y.paramsInheritanceStrategy),y.relativeLinkResolution&&(_.relativeLinkResolution=y.relativeLinkResolution),y.urlUpdateStrategy&&(_.urlUpdateStrategy=y.urlUpdateStrategy),y.canceledNavigationResolution&&(_.canceledNavigationResolution=y.canceledNavigationResolution)}(Y,At),At}let ii=(()=>{class y{constructor(g,D,A,U,Y,X,Ne){this.rootComponentType=g,this.urlSerializer=D,this.rootContexts=A,this.location=U,this.config=Ne,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new de.x,this.errorHandler=Da,this.malformedUriErrorHandler=ki,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,te.of)(void 0),this.urlHandlingStrategy=new wo,this.routeReuseStrategy=new Tt,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=Y.get(Gi),this.configLoader.onLoadEndListener=lr=>this.triggerEvent(new Gs(lr)),this.configLoader.onLoadStartListener=lr=>this.triggerEvent(new Hs(lr)),this.ngModule=Y.get(M.h0i),this.console=Y.get(M.c2e);const At=Y.get(M.R0b);this.isNgZoneEnabled=At instanceof M.R0b&&M.R0b.isInAngularZone(),this.resetConfig(Ne),this.currentUrlTree=function vr(){return new mt(new rt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=$i(this.currentUrlTree,this.rootComponentType),this.transitions=new ve.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(g){const D=this.events;return g.pipe(Ht(A=>0!==A.id),(0,$e.U)(A=>({...A,extractedUrl:this.urlHandlingStrategy.extract(A.rawUrl)})),yt(A=>{let U=!1,Y=!1;return(0,te.of)(A).pipe((0,ft.b)(X=>{this.currentNavigation={id:X.id,initialUrl:X.rawUrl,extractedUrl:X.extractedUrl,trigger:X.source,extras:X.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),yt(X=>{const Ne=this.browserUrlTree.toString(),pt=!this.navigated||X.extractedUrl.toString()!==Ne||Ne!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||pt)&&this.urlHandlingStrategy.shouldProcessUrl(X.rawUrl))return Os(X.source)&&(this.browserUrlTree=X.extractedUrl),(0,te.of)(X).pipe(yt(At=>{const lr=this.transitions.getValue();return D.next(new js(At.id,this.serializeUrl(At.extractedUrl),At.source,At.restoredState)),lr!==this.transitions.getValue()?ye.E:Promise.resolve(At)}),function ks(y,_,g,D){return yt(A=>function ct(y,_,g,D,A){return new Bn(y,_,g,D,A).apply()}(y,_,g,A.extractedUrl,D).pipe((0,$e.U)(U=>({...A,urlAfterRedirects:U}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,ft.b)(At=>{this.currentNavigation={...this.currentNavigation,finalUrl:At.urlAfterRedirects},A.urlAfterRedirects=At.urlAfterRedirects}),function ja(y,_,g,D,A,U){return(0,Qt.z)(Y=>function ia(y,_,g,D,A,U,Y="emptyOnly",X="legacy"){return new St(y,_,g,D,A,Y,X,U).recognize().pipe(yt(Ne=>null===Ne?function tn(y){return new Ee.y(_=>_.error(y))}(new Gt):(0,te.of)(Ne)))}(y,_,g,Y.urlAfterRedirects,D.serialize(Y.urlAfterRedirects),D,A,U).pipe((0,$e.U)(X=>({...Y,targetSnapshot:X}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,ft.b)(At=>{if(A.targetSnapshot=At.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!At.extras.skipLocationChange){const Ui=this.urlHandlingStrategy.merge(At.urlAfterRedirects,At.rawUrl);this.setBrowserUrl(Ui,At)}this.browserUrlTree=At.urlAfterRedirects}const lr=new to(At.id,this.serializeUrl(At.extractedUrl),this.serializeUrl(At.urlAfterRedirects),At.targetSnapshot);D.next(lr)}));if(pt&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:lr,extractedUrl:Ui,source:Ds,restoredState:os,extras:vi}=X,ti=new js(lr,this.serializeUrl(Ui),Ds,os);D.next(ti);const Ao=$i(Ui,this.rootComponentType).snapshot;return A={...X,targetSnapshot:Ao,urlAfterRedirects:Ui,extras:{...vi,skipLocationChange:!1,replaceUrl:!1}},(0,te.of)(A)}return this.rawUrlTree=X.rawUrl,X.resolve(null),ye.E}),(0,ft.b)(X=>{const Ne=new Pi(X.id,this.serializeUrl(X.extractedUrl),this.serializeUrl(X.urlAfterRedirects),X.targetSnapshot);this.triggerEvent(Ne)}),(0,$e.U)(X=>A={...X,guards:yo(X.targetSnapshot,X.currentSnapshot,this.rootContexts)}),function ns(y,_){return(0,Qt.z)(g=>{const{targetSnapshot:D,currentSnapshot:A,guards:{canActivateChecks:U,canDeactivateChecks:Y}}=g;return 0===Y.length&&0===U.length?(0,te.of)({...g,guardsResult:!0}):function Lo(y,_,g,D){return(0,z.D)(y).pipe((0,Qt.z)(A=>function T(y,_,g,D,A){const U=_&&_.routeConfig?_.routeConfig.canDeactivate:null;if(!U||0===U.length)return(0,te.of)(!0);const Y=U.map(X=>{const Ne=ya(_)??A,pt=pn(X,Ne);return hr(function bu(y){return y&&Ci(y.canDeactivate)}(pt)?pt.canDeactivate(y,_,g,D):Ne.runInContext(()=>pt(y,_,g,D))).pipe(Tn())});return(0,te.of)(Y).pipe(Li())}(A.component,A.route,g,_,D)),Tn(A=>!0!==A,!0))}(Y,D,A,y).pipe((0,Qt.z)(X=>X&&function es(y){return"boolean"==typeof y}(X)?function Fo(y,_,g,D){return(0,z.D)(_).pipe(Rn(A=>_t(function Ws(y,_){return null!==y&&_&&_(new ga(y)),(0,te.of)(!0)}(A.route.parent,D),function va(y,_){return null!==y&&_&&_(new Xo(y)),(0,te.of)(!0)}(A.route,D),function Uo(y,_,g){const D=_[_.length-1],U=_.slice(0,_.length-1).reverse().map(Y=>function et(y){const _=y.routeConfig?y.routeConfig.canActivateChild:null;return _&&0!==_.length?{node:y,guards:_}:null}(Y)).filter(Y=>null!==Y).map(Y=>nt(()=>{const X=Y.guards.map(Ne=>{const pt=ya(Y.node)??g,on=pn(Ne,pt);return hr(function Oo(y){return y&&Ci(y.canActivateChild)}(on)?on.canActivateChild(D,y):pt.runInContext(()=>on(D,y))).pipe(Tn())});return(0,te.of)(X).pipe(Li())}));return(0,te.of)(U).pipe(Li())}(y,A.path,g),function na(y,_,g){const D=_.routeConfig?_.routeConfig.canActivate:null;if(!D||0===D.length)return(0,te.of)(!0);const A=D.map(U=>nt(()=>{const Y=ya(_)??g,X=pn(U,Y);return hr(function _a(y){return y&&Ci(y.canActivate)}(X)?X.canActivate(_,y):Y.runInContext(()=>X(_,y))).pipe(Tn())}));return(0,te.of)(A).pipe(Li())}(y,A.route,g))),Tn(A=>!0!==A,!0))}(D,U,y,_):(0,te.of)(X)),(0,$e.U)(X=>({...g,guardsResult:X})))})}(this.ngModule.injector,X=>this.triggerEvent(X)),(0,ft.b)(X=>{if(A.guardsResult=X.guardsResult,Ei(X.guardsResult))throw Ft(0,X.guardsResult);const Ne=new no(X.id,this.serializeUrl(X.extractedUrl),this.serializeUrl(X.urlAfterRedirects),X.targetSnapshot,!!X.guardsResult);this.triggerEvent(Ne)}),Ht(X=>!!X.guardsResult||(this.restoreHistory(X),this.cancelNavigationTransition(X,"",3),!1)),bn(X=>{if(X.guards.canActivateChecks.length)return(0,te.of)(X).pipe((0,ft.b)(Ne=>{const pt=new Ss(Ne.id,this.serializeUrl(Ne.extractedUrl),this.serializeUrl(Ne.urlAfterRedirects),Ne.targetSnapshot);this.triggerEvent(pt)}),yt(Ne=>{let pt=!1;return(0,te.of)(Ne).pipe(function Cc(y,_){return(0,Qt.z)(g=>{const{targetSnapshot:D,guards:{canActivateChecks:A}}=g;if(!A.length)return(0,te.of)(g);let U=0;return(0,z.D)(A).pipe(Rn(Y=>function Ea(y,_,g,D){const A=y.routeConfig,U=y._resolve;return void 0!==A?.title&&!Bo(A)&&(U[ar]=A.title),function Vo(y,_,g,D){const A=function En(y){return[...Object.keys(y),...Object.getOwnPropertySymbols(y)]}(y);if(0===A.length)return(0,te.of)({});const U={};return(0,z.D)(A).pipe((0,Qt.z)(Y=>function ss(y,_,g,D){const A=ya(_)??D,U=pn(y,A);return hr(U.resolve?U.resolve(_,g):A.runInContext(()=>U(_,g)))}(y[Y],_,g,D).pipe(Tn(),(0,ft.b)(X=>{U[Y]=X}))),sr(1),function Mr(y){return(0,$e.U)(()=>y)}(U),Ut(Y=>ts(Y)?ye.E:Ge(Y)))}(U,y,_,D).pipe((0,$e.U)(Y=>(y._resolvedData=Y,y.data=go(y,g).resolve,A&&Bo(A)&&(y.data[ar]=A.title),null)))}(Y.route,D,y,_)),(0,ft.b)(()=>U++),sr(1),(0,Qt.z)(Y=>U===A.length?(0,te.of)(g):ye.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,ft.b)({next:()=>pt=!0,complete:()=>{pt||(this.restoreHistory(Ne),this.cancelNavigationTransition(Ne,"",2))}}))}),(0,ft.b)(Ne=>{const pt=new pi(Ne.id,this.serializeUrl(Ne.extractedUrl),this.serializeUrl(Ne.urlAfterRedirects),Ne.targetSnapshot);this.triggerEvent(pt)}))}),bn(X=>{const Ne=pt=>{const on=[];pt.routeConfig?.loadComponent&&!pt.routeConfig._loadedComponent&&on.push(this.configLoader.loadComponent(pt.routeConfig).pipe((0,ft.b)(At=>{pt.component=At}),(0,$e.U)(()=>{})));for(const At of pt.children)on.push(...Ne(At));return on};return vt(Ne(X.targetSnapshot.root)).pipe(On(),Jt(1))}),bn(()=>this.afterPreactivation()),(0,$e.U)(X=>{const Ne=function Q(y,_,g){const D=ie(y,_._root,g?g._root:void 0);return new io(D,_)}(this.routeReuseStrategy,X.targetSnapshot,X.currentRouterState);return A={...X,targetRouterState:Ne}}),(0,ft.b)(X=>{this.currentUrlTree=X.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(X.urlAfterRedirects,X.rawUrl),this.routerState=X.targetRouterState,"deferred"===this.urlUpdateStrategy&&(X.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,X),this.browserUrlTree=X.urlAfterRedirects)}),((y,_,g)=>(0,$e.U)(D=>(new ea(_,D.targetRouterState,D.currentRouterState,g).activate(y),D)))(this.rootContexts,this.routeReuseStrategy,X=>this.triggerEvent(X)),(0,ft.b)({next(){U=!0},complete(){U=!0}}),yr(()=>{U||Y||this.cancelNavigationTransition(A,"",1),this.currentNavigation?.id===A.id&&(this.currentNavigation=null)}),Ut(X=>{if(Y=!0,Un(X)){un(X)||(this.navigated=!0,this.restoreHistory(A,!0));const Ne=new vs(A.id,this.serializeUrl(A.extractedUrl),X.message,X.cancellationCode);if(D.next(Ne),un(X)){const pt=this.urlHandlingStrategy.merge(X.url,this.rawUrlTree),on={skipLocationChange:A.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Os(A.source)};this.scheduleNavigation(pt,"imperative",null,on,{resolve:A.resolve,reject:A.reject,promise:A.promise})}else A.resolve(!1)}else{this.restoreHistory(A,!0);const Ne=new di(A.id,this.serializeUrl(A.extractedUrl),X,A.targetSnapshot??void 0);D.next(Ne);try{A.resolve(this.errorHandler(X))}catch(pt){A.reject(pt)}}return ye.E}))}))}resetRootComponentType(g){this.rootComponentType=g,this.routerState.root.component=this.rootComponentType}setTransition(g){this.transitions.next({...this.transitions.value,...g})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(g=>{const D="popstate"===g.type?"popstate":"hashchange";"popstate"===D&&setTimeout(()=>{const A={replaceUrl:!0},U=g.state?.navigationId?g.state:null;if(U){const X={...U};delete X.navigationId,delete X.\u0275routerPageId,0!==Object.keys(X).length&&(A.state=X)}const Y=this.parseUrl(g.url);this.scheduleNavigation(Y,D,U,A)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(g){this.events.next(g)}resetConfig(g){this.config=g.map(Pt),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(g,D={}){const{relativeTo:A,queryParams:U,fragment:Y,queryParamsHandling:X,preserveFragment:Ne}=D,pt=A||this.routerState.root,on=Ne?this.currentUrlTree.fragment:Y;let At=null;switch(X){case"merge":At={...this.currentUrlTree.queryParams,...U};break;case"preserve":At=this.currentUrlTree.queryParams;break;default:At=U||null}return null!==At&&(At=this.removeEmptyProps(At)),Yi(pt,this.currentUrlTree,g,At,on??null)}navigateByUrl(g,D={skipLocationChange:!1}){const A=Ei(g)?g:this.parseUrl(g),U=this.urlHandlingStrategy.merge(A,this.rawUrlTree);return this.scheduleNavigation(U,"imperative",null,D)}navigate(g,D={skipLocationChange:!1}){return function Me(y){for(let _=0;_<y.length;_++){if(null==y[_])throw new M.vHH(4008,false)}}(g),this.navigateByUrl(this.createUrlTree(g,D),D)}serializeUrl(g){return this.urlSerializer.serialize(g)}parseUrl(g){let D;try{D=this.urlSerializer.parse(g)}catch(A){D=this.malformedUriErrorHandler(A,this.urlSerializer,g)}return D}isActive(g,D){let A;if(A=!0===D?{...cu}:!1===D?{...co}:D,Ei(g))return $n(this.currentUrlTree,g,A);const U=this.parseUrl(g);return $n(this.currentUrlTree,U,A)}removeEmptyProps(g){return Object.keys(g).reduce((D,A)=>{const U=g[A];return null!=U&&(D[A]=U),D},{})}processNavigations(){this.navigations.subscribe(g=>{this.navigated=!0,this.lastSuccessfulId=g.id,this.currentPageId=g.targetPageId,this.events.next(new Pr(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),g.resolve(!0)},g=>{this.console.warn(`Unhandled Navigation Error: ${g}`)})}scheduleNavigation(g,D,A,U,Y){if(this.disposed)return Promise.resolve(!1);let X,Ne,pt;Y?(X=Y.resolve,Ne=Y.reject,pt=Y.promise):pt=new Promise((lr,Ui)=>{X=lr,Ne=Ui});const on=++this.navigationId;let At;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(A=this.location.getState()),At=A&&A.\u0275routerPageId?A.\u0275routerPageId:U.replaceUrl||U.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):At=0,this.setTransition({id:on,targetPageId:At,source:D,restoredState:A,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:g,extras:U,resolve:X,reject:Ne,promise:pt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),pt.catch(lr=>Promise.reject(lr))}setBrowserUrl(g,D){const A=this.urlSerializer.serialize(g),U={...D.extras.state,...this.generateNgRouterState(D.id,D.targetPageId)};this.location.isCurrentPathEqualTo(A)||D.extras.replaceUrl?this.location.replaceState(A,"",U):this.location.go(A,"",U)}restoreHistory(g,D=!1){if("computed"===this.canceledNavigationResolution){const A=this.currentPageId-g.targetPageId;"popstate"!==g.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===A?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===A&&(this.resetState(g),this.browserUrlTree=g.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(A)}else"replace"===this.canceledNavigationResolution&&(D&&this.resetState(g),this.resetUrlToCurrentUrlTree())}resetState(g){this.routerState=g.currentRouterState,this.currentUrlTree=g.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,g.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(g,D,A){const U=new vs(g.id,this.serializeUrl(g.extractedUrl),D,A);this.triggerEvent(U),g.resolve(!1)}generateNgRouterState(g,D){return"computed"===this.canceledNavigationResolution?{navigationId:g,\u0275routerPageId:D}:{navigationId:g}}}return y.\u0275fac=function(g){M.$Z()},y.\u0275prov=M.Yz7({token:y,factory:function(){return Ns()},providedIn:"root"}),y})();function Os(y){return"imperative"!==y}let zi=(()=>{class y{constructor(g,D,A,U,Y){this.router=g,this.route=D,this.tabIndexAttribute=A,this.renderer=U,this.el=Y,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new de.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(g){this._preserveFragment=(0,M.D6c)(g)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(g){this._skipLocationChange=(0,M.D6c)(g)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(g){this._replaceUrl=(0,M.D6c)(g)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(g){if(null!=this.tabIndexAttribute)return;const D=this.renderer,A=this.el.nativeElement;null!==g?D.setAttribute(A,"tabindex",g):D.removeAttribute(A,"tabindex")}ngOnChanges(g){this.onChanges.next(this)}set routerLink(g){null!=g?(this.commands=Array.isArray(g)?g:[g],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return y.\u0275fac=function(g){return new(g||y)(M.Y36(ii),M.Y36(so),M.$8M("tabindex"),M.Y36(M.Qsj),M.Y36(M.SBq))},y.\u0275dir=M.lG2({type:y,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(g,D){1&g&&M.NdJ("click",function(){return D.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[M.TTD]}),y})();class Fs{}let Eo=(()=>{class y{constructor(g,D,A,U,Y){this.router=g,this.injector=A,this.preloadingStrategy=U,this.loader=Y}setUpPreloading(){this.subscription=this.router.events.pipe(Ht(g=>g instanceof Pr),Rn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(g,D){const A=[];for(const U of D){U.providers&&!U._injector&&(U._injector=(0,M.MMx)(U.providers,g,`Route: ${U.path}`));const Y=U._injector??g,X=U._loadedInjector??Y;U.loadChildren&&!U._loadedRoutes&&void 0===U.canLoad||U.loadComponent&&!U._loadedComponent?A.push(this.preloadConfig(Y,U)):(U.children||U._loadedRoutes)&&A.push(this.processRoutes(X,U.children??U._loadedRoutes))}return(0,z.D)(A).pipe((0,xt.J)())}preloadConfig(g,D){return this.preloadingStrategy.preload(D,()=>{let A;A=D.loadChildren&&void 0===D.canLoad?this.loader.loadChildren(g,D):(0,te.of)(null);const U=A.pipe((0,Qt.z)(Y=>null===Y?(0,te.of)(void 0):(D._loadedRoutes=Y.routes,D._loadedInjector=Y.injector,this.processRoutes(Y.injector??g,Y.routes))));if(D.loadComponent&&!D._loadedComponent){const Y=this.loader.loadComponent(D);return(0,z.D)([U,Y]).pipe((0,xt.J)())}return U})}}return y.\u0275fac=function(g){return new(g||y)(M.LFG(ii),M.LFG(M.Sil),M.LFG(M.lqb),M.LFG(Fs),M.LFG(Gi))},y.\u0275prov=M.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();const Do=new M.OlP("");let ba=(()=>{class y{constructor(g,D,A={}){this.router=g,this.viewportScroller=D,this.options=A,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},A.scrollPositionRestoration=A.scrollPositionRestoration||"disabled",A.anchorScrolling=A.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(g=>{g instanceof js?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=g.navigationTrigger,this.restoredId=g.restoredState?g.restoredState.navigationId:0):g instanceof Pr&&(this.lastId=g.id,this.scheduleScrollEvent(g,this.router.parseUrl(g.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(g=>{g instanceof Va&&(g.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(g.position):g.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(g.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(g,D){this.router.triggerEvent(new Va(g,"popstate"===this.lastSource?this.store[this.restoredId]:null,D))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return y.\u0275fac=function(g){M.$Z()},y.\u0275prov=M.Yz7({token:y,factory:y.\u0275fac}),y})();function bo(y,_){return{\u0275kind:y,\u0275providers:_}}function gn(y){return[{provide:$o,multi:!0,useValue:y}]}function Fi(){const y=(0,M.f3M)(M.zs3);return _=>{const g=y.get(M.z2F);if(_!==g.components[0])return;const D=y.get(ii),A=y.get(Or);1===y.get(lu)&&D.initialNavigation(),y.get(zr,null,M.XFs.Optional)?.setUpPreloading(),y.get(Do,null,M.XFs.Optional)?.init(),D.resetRootComponentType(g.componentTypes[0]),A.next(),A.complete()}}const Or=new M.OlP("",{factory:()=>new de.x}),lu=new M.OlP("",{providedIn:"root",factory:()=>1});const zr=new M.OlP("");function Cu(y){return bo(0,[{provide:zr,useExisting:Eo},{provide:Fs,useExisting:y}])}const Vs=new M.OlP("ROUTER_FORROOT_GUARD"),Sc=[Ke.Ye,{provide:fe,useClass:je},{provide:ii,useFactory:Ns},zt,{provide:so,useFactory:function lo(y){return y.routerState.root},deps:[ii]},Gi];function To(){return new M.PXZ("Router",ii)}let _i=(()=>{class y{constructor(g){}static forRoot(g,D){return{ngModule:y,providers:[Sc,[],gn(g),{provide:Vs,useFactory:Ga,deps:[[ii,new M.FiY,new M.tp0]]},{provide:vo,useValue:D||{}},D?.useHash?{provide:Ke.S$,useClass:Ke.Do}:{provide:Ke.S$,useClass:Ke.b0},{provide:Do,useFactory:()=>{const y=(0,M.f3M)(ii),_=(0,M.f3M)(Ke.EM),g=(0,M.f3M)(vo);return g.scrollOffset&&_.setOffset(g.scrollOffset),new ba(y,_,g)}},D?.preloadingStrategy?Cu(D.preloadingStrategy).\u0275providers:[],{provide:M.PXZ,multi:!0,useFactory:To},D?.initialNavigation?Wi(D):[],[{provide:ua,useFactory:Fi},{provide:M.tb,multi:!0,useExisting:ua}]]}}static forChild(g){return{ngModule:y,providers:[gn(g)]}}}return y.\u0275fac=function(g){return new(g||y)(M.LFG(Vs,8))},y.\u0275mod=M.oAB({type:y}),y.\u0275inj=M.cJS({imports:[Mi]}),y})();function Ga(y){return"guarded"}function Wi(y){return["disabled"===y.initialNavigation?bo(3,[{provide:M.ip1,multi:!0,useFactory:()=>{const _=(0,M.f3M)(ii);return()=>{_.setUpLocationChangeListener()}}},{provide:lu,useValue:2}]).\u0275providers:[],"enabledBlocking"===y.initialNavigation?bo(2,[{provide:lu,useValue:0},{provide:M.ip1,multi:!0,deps:[M.zs3],useFactory:_=>{const g=_.get(Ke.V_,Promise.resolve());let D=!1;return()=>g.then(()=>new Promise(U=>{const Y=_.get(ii),X=_.get(Or);(function A(U){_.get(ii).events.pipe(Ht(X=>X instanceof Pr||X instanceof vs||X instanceof di),(0,$e.U)(X=>X instanceof Pr||X instanceof vs&&(0===X.code||1===X.code)&&null),Ht(X=>null!==X),Jt(1)).subscribe(()=>{U()})})(()=>{U(!0),D=!0}),Y.afterPreactivation=()=>(U(!0),D||X.closed?(0,te.of)(void 0):X),Y.initialNavigation()}))}}]).\u0275providers:[]]}const ua=new M.OlP("")},9681:(sn,Je,j)=>{j.d(Je,{C6:()=>yr,Jn:()=>dr,KN:()=>ar,Mq:()=>Mr,Xd:()=>Tn,ZF:()=>ni,qX:()=>Rn});var M=j(5861),z=j(4859),te=j(1877),ve=j(2090),De=j(8766);class ue{constructor(xe){this.container=xe}getPlatformInfoString(){return this.container.getProviders().map(mt=>{if(function Ee(dt){return"VERSION"===dt.getComponent()?.type}(mt)){const rt=mt.getImmediate();return`${rt.library}/${rt.version}`}return null}).filter(mt=>mt).join(" ")}}const Te="@firebase/app",K=new te.Yd("@firebase/app"),ir="[DEFAULT]",Ht={[Te]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Qt=new Map,On=new Map;function yn(dt,xe){try{dt.container.addComponent(xe)}catch(mt){K.debug(`Component ${xe.name} failed to register with FirebaseApp ${dt.name}`,mt)}}function Tn(dt){const xe=dt.name;if(On.has(xe))return K.debug(`There were multiple attempts to register component ${xe}.`),!1;On.set(xe,dt);for(const mt of Qt.values())yn(mt,dt);return!0}function Rn(dt,xe){const mt=dt.container.getProvider("heartbeat").getImmediate({optional:!0});return mt&&mt.triggerHeartbeat(),dt.container.getProvider(xe)}const _n=new ve.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class sr{constructor(xe,mt,rt){this._isDeleted=!1,this._options=Object.assign({},xe),this._config=Object.assign({},mt),this._name=mt.name,this._automaticDataCollectionEnabled=mt.automaticDataCollectionEnabled,this._container=rt,this.container.addComponent(new z.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(xe){this.checkDestroyed(),this._automaticDataCollectionEnabled=xe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(xe){this._isDeleted=xe}checkDestroyed(){if(this.isDeleted)throw _n.create("app-deleted",{appName:this._name})}}const dr="9.12.1";function ni(dt,xe={}){let mt=dt;"object"!=typeof xe&&(xe={name:xe});const rt=Object.assign({name:ir,automaticDataCollectionEnabled:!1},xe),Ot=rt.name;if("string"!=typeof Ot||!Ot)throw _n.create("bad-app-name",{appName:String(Ot)});if(mt||(mt=(0,ve.aH)()),!mt)throw _n.create("no-options");const wn=Qt.get(Ot);if(wn){if((0,ve.vZ)(mt,wn.options)&&(0,ve.vZ)(rt,wn.config))return wn;throw _n.create("duplicate-app",{appName:Ot})}const ee=new z.H0(Ot);for(const fe of On.values())ee.addComponent(fe);const J=new sr(mt,rt,ee);return Qt.set(Ot,J),J}function Mr(dt=ir){const xe=Qt.get(dt);if(!xe&&dt===ir)return ni();if(!xe)throw _n.create("no-app",{appName:dt});return xe}function yr(){return Array.from(Qt.values())}function ar(dt,xe,mt){var rt;let Ot=null!==(rt=Ht[dt])&&void 0!==rt?rt:dt;mt&&(Ot+=`-${mt}`);const wn=Ot.match(/\s|\//),ee=xe.match(/\s|\//);if(wn||ee){const J=[`Unable to register library "${Ot}" with version "${xe}":`];return wn&&J.push(`library name "${Ot}" contains illegal characters (whitespace or "/")`),wn&&ee&&J.push("and"),ee&&J.push(`version name "${xe}" contains illegal characters (whitespace or "/")`),void K.warn(J.join(" "))}Tn(new z.wA(`${Ot}-version`,()=>({library:Ot,version:xe}),"VERSION"))}const Zn="firebase-heartbeat-store";let ri=null;function wt(){return ri||(ri=(0,De.X3)("firebase-heartbeat-database",1,{upgrade:(dt,xe)=>{0===xe&&dt.createObjectStore(Zn)}}).catch(dt=>{throw _n.create("idb-open",{originalErrorMessage:dt.message})})),ri}function Xt(){return(Xt=(0,M.Z)(function*(dt){var xe;try{return(yield wt()).transaction(Zn).objectStore(Zn).get(vn(dt))}catch(mt){if(mt instanceof ve.ZR)K.warn(mt.message);else{const rt=_n.create("idb-get",{originalErrorMessage:null===(xe=mt)||void 0===xe?void 0:xe.message});K.warn(rt.message)}}})).apply(this,arguments)}function dn(dt,xe){return hr.apply(this,arguments)}function hr(){return(hr=(0,M.Z)(function*(dt,xe){var mt;try{const Ot=(yield wt()).transaction(Zn,"readwrite");return yield Ot.objectStore(Zn).put(xe,vn(dt)),Ot.done}catch(rt){if(rt instanceof ve.ZR)K.warn(rt.message);else{const Ot=_n.create("idb-set",{originalErrorMessage:null===(mt=rt)||void 0===mt?void 0:mt.message});K.warn(Ot.message)}}})).apply(this,arguments)}function vn(dt){return`${dt.name}!${dt.options.appId}`}class Hr{constructor(xe){this.container=xe,this._heartbeatsCache=null;const mt=this.container.getProvider("app").getImmediate();this._storage=new Nt(mt),this._heartbeatsCachePromise=this._storage.read().then(rt=>(this._heartbeatsCache=rt,rt))}triggerHeartbeat(){var xe=this;return(0,M.Z)(function*(){const rt=xe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ot=$n();if(null===xe._heartbeatsCache&&(xe._heartbeatsCache=yield xe._heartbeatsCachePromise),xe._heartbeatsCache.lastSentHeartbeatDate!==Ot&&!xe._heartbeatsCache.heartbeats.some(wn=>wn.date===Ot))return xe._heartbeatsCache.heartbeats.push({date:Ot,agent:rt}),xe._heartbeatsCache.heartbeats=xe._heartbeatsCache.heartbeats.filter(wn=>{const ee=new Date(wn.date).valueOf();return Date.now()-ee<=2592e6}),xe._storage.overwrite(xe._heartbeatsCache)})()}getHeartbeatsHeader(){var xe=this;return(0,M.Z)(function*(){if(null===xe._heartbeatsCache&&(yield xe._heartbeatsCachePromise),null===xe._heartbeatsCache||0===xe._heartbeatsCache.heartbeats.length)return"";const mt=$n(),{heartbeatsToSend:rt,unsentEntries:Ot}=function Wr(dt,xe=1024){const mt=[];let rt=dt.slice();for(const Ot of dt){const wn=mt.find(ee=>ee.agent===Ot.agent);if(wn){if(wn.dates.push(Ot.date),li(mt)>xe){wn.dates.pop();break}}else if(mt.push({agent:Ot.agent,dates:[Ot.date]}),li(mt)>xe){mt.pop();break}rt=rt.slice(1)}return{heartbeatsToSend:mt,unsentEntries:rt}}(xe._heartbeatsCache.heartbeats),wn=(0,ve.L)(JSON.stringify({version:2,heartbeats:rt}));return xe._heartbeatsCache.lastSentHeartbeatDate=mt,Ot.length>0?(xe._heartbeatsCache.heartbeats=Ot,yield xe._storage.overwrite(xe._heartbeatsCache)):(xe._heartbeatsCache.heartbeats=[],xe._storage.overwrite(xe._heartbeatsCache)),wn})()}}function $n(){return(new Date).toISOString().substring(0,10)}class Nt{constructor(xe){this.app=xe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,M.Z)(function*(){return!!(0,ve.hl)()&&(0,ve.eu)().then(()=>!0).catch(()=>!1)})()}read(){var xe=this;return(0,M.Z)(function*(){return(yield xe._canUseIndexedDBPromise)&&(yield function kt(dt){return Xt.apply(this,arguments)}(xe.app))||{heartbeats:[]}})()}overwrite(xe){var mt=this;return(0,M.Z)(function*(){var rt;if(yield mt._canUseIndexedDBPromise){const wn=yield mt.read();return dn(mt.app,{lastSentHeartbeatDate:null!==(rt=xe.lastSentHeartbeatDate)&&void 0!==rt?rt:wn.lastSentHeartbeatDate,heartbeats:xe.heartbeats})}})()}add(xe){var mt=this;return(0,M.Z)(function*(){var rt;if(yield mt._canUseIndexedDBPromise){const wn=yield mt.read();return dn(mt.app,{lastSentHeartbeatDate:null!==(rt=xe.lastSentHeartbeatDate)&&void 0!==rt?rt:wn.lastSentHeartbeatDate,heartbeats:[...wn.heartbeats,...xe.heartbeats]})}})()}}function li(dt){return(0,ve.L)(JSON.stringify({version:2,heartbeats:dt})).length}!function qr(dt){Tn(new z.wA("platform-logger",xe=>new ue(xe),"PRIVATE")),Tn(new z.wA("heartbeat",xe=>new Hr(xe),"PRIVATE")),ar(Te,"0.8.2",dt),ar(Te,"0.8.2","esm2017"),ar("fire-js","")}("")},4859:(sn,Je,j)=>{j.d(Je,{H0:()=>Te,wA:()=>te});var M=j(5861),z=j(2090);class te{constructor(K,ae,Pe){this.name=K,this.instanceFactory=ae,this.type=Pe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(K){return this.instantiationMode=K,this}setMultipleInstances(K){return this.multipleInstances=K,this}setServiceProps(K){return this.serviceProps=K,this}setInstanceCreatedCallback(K){return this.onInstanceCreated=K,this}}const ve="[DEFAULT]";class De{constructor(K,ae){this.name=K,this.container=ae,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(K){const ae=this.normalizeInstanceIdentifier(K);if(!this.instancesDeferred.has(ae)){const Pe=new z.BH;if(this.instancesDeferred.set(ae,Pe),this.isInitialized(ae)||this.shouldAutoInitialize())try{const ze=this.getOrInitializeService({instanceIdentifier:ae});ze&&Pe.resolve(ze)}catch{}}return this.instancesDeferred.get(ae).promise}getImmediate(K){var ae;const Pe=this.normalizeInstanceIdentifier(K?.identifier),ze=null!==(ae=K?.optional)&&void 0!==ae&&ae;if(!this.isInitialized(Pe)&&!this.shouldAutoInitialize()){if(ze)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Pe})}catch(Le){if(ze)return null;throw Le}}getComponent(){return this.component}setComponent(K){if(K.name!==this.name)throw Error(`Mismatching Component ${K.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=K,this.shouldAutoInitialize()){if(function Ee(qe){return"EAGER"===qe.instantiationMode}(K))try{this.getOrInitializeService({instanceIdentifier:ve})}catch{}for(const[ae,Pe]of this.instancesDeferred.entries()){const ze=this.normalizeInstanceIdentifier(ae);try{const Le=this.getOrInitializeService({instanceIdentifier:ze});Pe.resolve(Le)}catch{}}}}clearInstance(K=ve){this.instancesDeferred.delete(K),this.instancesOptions.delete(K),this.instances.delete(K)}delete(){var K=this;return(0,M.Z)(function*(){const ae=Array.from(K.instances.values());yield Promise.all([...ae.filter(Pe=>"INTERNAL"in Pe).map(Pe=>Pe.INTERNAL.delete()),...ae.filter(Pe=>"_delete"in Pe).map(Pe=>Pe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(K=ve){return this.instances.has(K)}getOptions(K=ve){return this.instancesOptions.get(K)||{}}initialize(K={}){const{options:ae={}}=K,Pe=this.normalizeInstanceIdentifier(K.instanceIdentifier);if(this.isInitialized(Pe))throw Error(`${this.name}(${Pe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ze=this.getOrInitializeService({instanceIdentifier:Pe,options:ae});for(const[Le,vt]of this.instancesDeferred.entries())Pe===this.normalizeInstanceIdentifier(Le)&&vt.resolve(ze);return ze}onInit(K,ae){var Pe;const ze=this.normalizeInstanceIdentifier(ae),Le=null!==(Pe=this.onInitCallbacks.get(ze))&&void 0!==Pe?Pe:new Set;Le.add(K),this.onInitCallbacks.set(ze,Le);const vt=this.instances.get(ze);return vt&&K(vt,ze),()=>{Le.delete(K)}}invokeOnInitCallbacks(K,ae){const Pe=this.onInitCallbacks.get(ae);if(Pe)for(const ze of Pe)try{ze(K,ae)}catch{}}getOrInitializeService({instanceIdentifier:K,options:ae={}}){let Pe=this.instances.get(K);if(!Pe&&this.component&&(Pe=this.component.instanceFactory(this.container,{instanceIdentifier:(qe=K,qe===ve?void 0:qe),options:ae}),this.instances.set(K,Pe),this.instancesOptions.set(K,ae),this.invokeOnInitCallbacks(Pe,K),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,K,Pe)}catch{}var qe;return Pe||null}normalizeInstanceIdentifier(K=ve){return this.component?this.component.multipleInstances?K:ve:K}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Te{constructor(K){this.name=K,this.providers=new Map}addComponent(K){const ae=this.getProvider(K.name);if(ae.isComponentSet())throw new Error(`Component ${K.name} has already been registered with ${this.name}`);ae.setComponent(K)}addOrOverwriteComponent(K){this.getProvider(K.name).isComponentSet()&&this.providers.delete(K.name),this.addComponent(K)}getProvider(K){if(this.providers.has(K))return this.providers.get(K);const ae=new De(K,this);return this.providers.set(K,ae),ae}getProviders(){return Array.from(this.providers.values())}}},1877:(sn,Je,j)=>{j.d(Je,{Yd:()=>Ee,in:()=>z});const M=[];var z=(()=>{return(K=z||(z={}))[K.DEBUG=0]="DEBUG",K[K.VERBOSE=1]="VERBOSE",K[K.INFO=2]="INFO",K[K.WARN=3]="WARN",K[K.ERROR=4]="ERROR",K[K.SILENT=5]="SILENT",z;var K})();const te={debug:z.DEBUG,verbose:z.VERBOSE,info:z.INFO,warn:z.WARN,error:z.ERROR,silent:z.SILENT},ve=z.INFO,De={[z.DEBUG]:"log",[z.VERBOSE]:"log",[z.INFO]:"info",[z.WARN]:"warn",[z.ERROR]:"error"},ue=(K,ae,...Pe)=>{if(ae<K.logLevel)return;const ze=(new Date).toISOString(),Le=De[ae];if(!Le)throw new Error(`Attempted to log a message with an invalid logType (value: ${ae})`);console[Le](`[${ze}]  ${K.name}:`,...Pe)};class Ee{constructor(ae){this.name=ae,this._logLevel=ve,this._logHandler=ue,this._userLogHandler=null,M.push(this)}get logLevel(){return this._logLevel}set logLevel(ae){if(!(ae in z))throw new TypeError(`Invalid value "${ae}" assigned to \`logLevel\``);this._logLevel=ae}setLogLevel(ae){this._logLevel="string"==typeof ae?te[ae]:ae}get logHandler(){return this._logHandler}set logHandler(ae){if("function"!=typeof ae)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ae}get userLogHandler(){return this._userLogHandler}set userLogHandler(ae){this._userLogHandler=ae}debug(...ae){this._userLogHandler&&this._userLogHandler(this,z.DEBUG,...ae),this._logHandler(this,z.DEBUG,...ae)}log(...ae){this._userLogHandler&&this._userLogHandler(this,z.VERBOSE,...ae),this._logHandler(this,z.VERBOSE,...ae)}info(...ae){this._userLogHandler&&this._userLogHandler(this,z.INFO,...ae),this._logHandler(this,z.INFO,...ae)}warn(...ae){this._userLogHandler&&this._userLogHandler(this,z.WARN,...ae),this._logHandler(this,z.WARN,...ae)}error(...ae){this._userLogHandler&&this._userLogHandler(this,z.ERROR,...ae),this._logHandler(this,z.ERROR,...ae)}}},8766:(sn,Je,j)=>{j.d(Je,{Lj:()=>Qe,X3:()=>_t});var M=j(5861);let te,ve;const Ee=new WeakMap,Te=new WeakMap,qe=new WeakMap,K=new WeakMap,ae=new WeakMap;let Le={get(ye,ot,ce){if(ye instanceof IDBTransaction){if("done"===ot)return Te.get(ye);if("objectStoreNames"===ot)return ye.objectStoreNames||qe.get(ye);if("store"===ot)return ce.objectStoreNames[1]?void 0:ce.objectStore(ce.objectStoreNames[0])}return xt(ye[ot])},set:(ye,ot,ce)=>(ye[ot]=ce,!0),has:(ye,ot)=>ye instanceof IDBTransaction&&("done"===ot||"store"===ot)||ot in ye};function Wt(ye){return"function"==typeof ye?function bt(ye){return ye!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ue(){return ve||(ve=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ye)?function(...ot){return ye.apply($t(this),ot),xt(Ee.get(this))}:function(...ot){return xt(ye.apply($t(this),ot))}:function(ot,...ce){const _e=ye.call($t(this),ot,...ce);return qe.set(_e,ot.sort?ot.sort():[ot]),xt(_e)}}(ye):(ye instanceof IDBTransaction&&function ze(ye){if(Te.has(ye))return;const ot=new Promise((ce,_e)=>{const re=()=>{ye.removeEventListener("complete",de),ye.removeEventListener("error",Ke),ye.removeEventListener("abort",Ke)},de=()=>{ce(),re()},Ke=()=>{_e(ye.error||new DOMException("AbortError","AbortError")),re()};ye.addEventListener("complete",de),ye.addEventListener("error",Ke),ye.addEventListener("abort",Ke)});Te.set(ye,ot)}(ye),((ye,ot)=>ot.some(ce=>ye instanceof ce))(ye,function De(){return te||(te=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ye,Le):ye)}function xt(ye){if(ye instanceof IDBRequest)return function Pe(ye){const ot=new Promise((ce,_e)=>{const re=()=>{ye.removeEventListener("success",de),ye.removeEventListener("error",Ke)},de=()=>{ce(xt(ye.result)),re()},Ke=()=>{_e(ye.error),re()};ye.addEventListener("success",de),ye.addEventListener("error",Ke)});return ot.then(ce=>{ce instanceof IDBCursor&&Ee.set(ce,ye)}).catch(()=>{}),ae.set(ot,ye),ot}(ye);if(K.has(ye))return K.get(ye);const ot=Wt(ye);return ot!==ye&&(K.set(ye,ot),ae.set(ot,ye)),ot}const $t=ye=>ae.get(ye);function _t(ye,ot,{blocked:ce,upgrade:_e,blocking:re,terminated:de}={}){const Ke=indexedDB.open(ye,ot),$e=xt(Ke);return _e&&Ke.addEventListener("upgradeneeded",yt=>{_e(xt(Ke.result),yt.oldVersion,yt.newVersion,xt(Ke.transaction))}),ce&&Ke.addEventListener("blocked",()=>ce()),$e.then(yt=>{de&&yt.addEventListener("close",()=>de()),re&&yt.addEventListener("versionchange",()=>re())}).catch(()=>{}),$e}function Qe(ye,{blocked:ot}={}){const ce=indexedDB.deleteDatabase(ye);return ot&&ce.addEventListener("blocked",()=>ot()),xt(ce).then(()=>{})}const nt=["get","getKey","getAll","getAllKeys","count"],Oe=["put","add","delete","clear"],Et=new Map;function Ge(ye,ot){if(!(ye instanceof IDBDatabase)||ot in ye||"string"!=typeof ot)return;if(Et.get(ot))return Et.get(ot);const ce=ot.replace(/FromIndex$/,""),_e=ot!==ce,re=Oe.includes(ce);if(!(ce in(_e?IDBIndex:IDBObjectStore).prototype)||!re&&!nt.includes(ce))return;const de=function(){var Ke=(0,M.Z)(function*($e,...yt){const Jt=this.transaction($e,re?"readwrite":"readonly");let ir=Jt.store;return _e&&(ir=ir.index(yt.shift())),(yield Promise.all([ir[ce](...yt),re&&Jt.done]))[0]});return function(yt){return Ke.apply(this,arguments)}}();return Et.set(ot,de),de}!function vt(ye){Le=ye(Le)}(ye=>({...ye,get:(ot,ce,_e)=>Ge(ot,ce)||ye.get(ot,ce,_e),has:(ot,ce)=>!!Ge(ot,ce)||ye.has(ot,ce)}))},5861:(sn,Je,j)=>{function M(te,ve,De,ue,Ee,Te,qe){try{var K=te[Te](qe),ae=K.value}catch(Pe){return void De(Pe)}K.done?ve(ae):Promise.resolve(ae).then(ue,Ee)}function z(te){return function(){var ve=this,De=arguments;return new Promise(function(ue,Ee){var Te=te.apply(ve,De);function qe(ae){M(Te,ue,Ee,qe,K,"next",ae)}function K(ae){M(Te,ue,Ee,qe,K,"throw",ae)}qe(void 0)})}}j.d(Je,{Z:()=>z})}},sn=>{sn(sn.s=1594)}]);