"use strict";(self.webpackChunkclinica_online=self.webpackChunkclinica_online||[]).push([[179],{7128:(Zt,Ye,j)=>{j.d(Ye,{nm:()=>vr});var M=j(8321),ve=(j(8256),j(3692),j(5867),j(5861)),ne=j(9681),we=j(4859),me=j(2090),$e=j(1877);const K=new Map,re={activated:!1,tokenObservers:[]},Ie={initialized:!1,enabled:!1};function Ge(de){return K.get(de)||re}function be(de,ae){K.set(de,ae)}function ht(){return Ie}class Qe{constructor(ae,pe,Fe,tt,vt){if(this.operation=ae,this.retryPolicy=pe,this.getWaitDuration=Fe,this.lowerBound=tt,this.upperBound=vt,this.pending=null,this.nextErrorWaitInterval=tt,tt>vt)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(ae){var pe=this;return(0,ve.Z)(function*(){pe.stop();try{pe.pending=new me.BH,yield function Re(de){return new Promise(ae=>{setTimeout(ae,de)})}(pe.getNextRun(ae)),pe.pending.resolve(),yield pe.pending.promise,pe.pending=new me.BH,yield pe.operation(),pe.pending.resolve(),yield pe.pending.promise,pe.process(!0).catch(()=>{})}catch(Fe){pe.retryPolicy(Fe)?pe.process(!1).catch(()=>{}):pe.stop()}})()}getNextRun(ae){if(ae)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const pe=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),pe}}}const je=new me.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function et(de){if(!Ge(de).activated)throw je.create("use-before-activation",{appName:de.name})}function te(de,ae){return le.apply(this,arguments)}function le(){return(le=(0,ve.Z)(function*({url:de,body:ae},pe){var Fe,tt;const vt={"Content-Type":"application/json"},un=pe.getImmediate({optional:!0});if(un){const jn=yield un.getHeartbeatsHeader();jn&&(vt["X-Firebase-Client"]=jn)}const Qn={method:"POST",body:JSON.stringify(ae),headers:vt};let Nn,ir;try{Nn=yield fetch(de,Qn)}catch(jn){throw je.create("fetch-network-error",{originalErrorMessage:null===(Fe=jn)||void 0===Fe?void 0:Fe.message})}if(200!==Nn.status)throw je.create("fetch-status-error",{httpStatus:Nn.status});try{ir=yield Nn.json()}catch(jn){throw je.create("fetch-parse-error",{originalErrorMessage:null===(tt=jn)||void 0===tt?void 0:tt.message})}const mr=ir.ttl.match(/^([\d.]+)(s)$/);if(!mr||!mr[2]||isNaN(Number(mr[1])))throw je.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${ir.ttl}`});const Xs=1e3*Number(mr[1]),Tr=Date.now();return{token:ir.token,expireTimeMillis:Tr+Xs,issuedAtTimeMillis:Tr}})).apply(this,arguments)}function ct(de,ae){const{projectId:pe,appId:Fe,apiKey:tt}=de.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${pe}/apps/${Fe}:exchangeDebugToken?key=${tt}`,body:{debug_token:ae}}}const Nt="firebase-app-check-store";let An=null;function gn(){return An||(An=new Promise((de,ae)=>{var pe;try{const Fe=indexedDB.open("firebase-app-check-database",1);Fe.onsuccess=tt=>{de(tt.target.result)},Fe.onerror=tt=>{var vt;ae(je.create("storage-open",{originalErrorMessage:null===(vt=tt.target.error)||void 0===vt?void 0:vt.message}))},Fe.onupgradeneeded=tt=>{0===tt.oldVersion&&tt.target.result.createObjectStore(Nt,{keyPath:"compositeKey"})}}catch(Fe){ae(je.create("storage-open",{originalErrorMessage:null===(pe=Fe)||void 0===pe?void 0:pe.message}))}}),An)}function Or(){return(Or=(0,ve.Z)(function*(de,ae){const Fe=(yield gn()).transaction(Nt,"readwrite"),vt=Fe.objectStore(Nt).put({compositeKey:de,value:ae});return new Promise((un,Qn)=>{vt.onsuccess=Nn=>{un()},Fe.onerror=Nn=>{var ir;Qn(je.create("storage-set",{originalErrorMessage:null===(ir=Nn.target.error)||void 0===ir?void 0:ir.message}))}})})).apply(this,arguments)}const Br=new $e.Yd("@firebase/app-check");function Lr(de,ae){return(0,me.hl)()?function $n(de,ae){return function Yt(de,ae){return Or.apply(this,arguments)}(function Jn(de){return`${de.options.appId}-${de.name}`}(de),ae)}(de,ae).catch(pe=>{Br.warn(`Failed to write token to IndexedDB. Error: ${pe}`)}):Promise.resolve()}function ei(){return ht().enabled}function $r(){return ar.apply(this,arguments)}function ar(){return(ar=(0,ve.Z)(function*(){const de=ht();if(de.enabled&&de.token)return de.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Bn={error:"UNKNOWN_ERROR"};function jr(de){return me.US.encodeString(JSON.stringify(de),!1)}function lt(de){return bt.apply(this,arguments)}function bt(){return(bt=(0,ve.Z)(function*(de,ae=!1){const pe=de.app;et(pe);const Fe=Ge(pe);let vt,tt=Fe.token;if(tt&&!Dn(tt)&&(be(pe,Object.assign(Object.assign({},Fe),{token:void 0})),tt=void 0),!tt){const Nn=yield Fe.cachedTokenPromise;Nn&&(Dn(Nn)?tt=Nn:yield Lr(pe,void 0))}if(!ae&&tt&&Dn(tt))return{token:tt.token};let Qn,un=!1;if(ei()){Fe.exchangeTokenPromise||(Fe.exchangeTokenPromise=te(ct(pe,yield $r()),de.heartbeatServiceProvider).finally(()=>{Fe.exchangeTokenPromise=void 0}),un=!0);const Nn=yield Fe.exchangeTokenPromise;return yield Lr(pe,Nn),be(pe,Object.assign(Object.assign({},Fe),{token:Nn})),{token:Nn.token}}try{Fe.exchangeTokenPromise||(Fe.exchangeTokenPromise=Fe.provider.getToken().finally(()=>{Fe.exchangeTokenPromise=void 0}),un=!0),tt=yield Fe.exchangeTokenPromise}catch(Nn){"appCheck/throttled"===Nn.code?Br.warn(Nn.message):Br.error(Nn),vt=Nn}return tt?vt?Qn=Dn(tt)?{token:tt.token,internalError:vt}:Dr(vt):(Qn={token:tt.token},be(pe,Object.assign(Object.assign({},Fe),{token:tt})),yield Lr(pe,tt)):Qn=Dr(vt),un&&sr(pe,Qn),Qn})).apply(this,arguments)}function nn(de,ae){const pe=Ge(de),Fe=pe.tokenObservers.filter(tt=>tt.next!==ae);0===Fe.length&&pe.tokenRefresher&&pe.tokenRefresher.isRunning()&&pe.tokenRefresher.stop(),be(de,Object.assign(Object.assign({},pe),{tokenObservers:Fe}))}function er(de){const{app:ae}=de,pe=Ge(ae);let Fe=pe.tokenRefresher;Fe||(Fe=function Mn(de){const{app:ae}=de;return new Qe((0,ve.Z)(function*(){let Fe;if(Fe=Ge(ae).token?yield lt(de,!0):yield lt(de),Fe.error)throw Fe.error;if(Fe.internalError)throw Fe.internalError}),()=>!0,()=>{const pe=Ge(ae);if(pe.token){let Fe=pe.token.issuedAtTimeMillis+.5*(pe.token.expireTimeMillis-pe.token.issuedAtTimeMillis)+3e5;return Fe=Math.min(Fe,pe.token.expireTimeMillis-3e5),Math.max(0,Fe-Date.now())}return 0},3e4,96e4)}(de),be(ae,Object.assign(Object.assign({},pe),{tokenRefresher:Fe}))),!Fe.isRunning()&&pe.isTokenAutoRefreshEnabled&&Fe.start()}function sr(de,ae){const pe=Ge(de).tokenObservers;for(const Fe of pe)try{"EXTERNAL"===Fe.type&&null!=ae.error?Fe.error(ae.error):Fe.next(ae)}catch{}}function Dn(de){return de.expireTimeMillis-Date.now()>0}function Dr(de){return{token:jr(Bn),error:de}}class On{constructor(ae,pe){this.app=ae,this.heartbeatServiceProvider=pe}_delete(){const{tokenObservers:ae}=Ge(this.app);for(const pe of ae)nn(this.app,pe.next);return Promise.resolve()}}const _n="app-check-internal";!function st(){(0,ne.Xd)(new we.wA("app-check",de=>function Ar(de,ae){return new On(de,ae)}(de.getProvider("app").getImmediate(),de.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((de,ae,pe)=>{de.getProvider(_n).initialize()})),(0,ne.Xd)(new we.wA(_n,de=>function Ft(de){return{getToken:ae=>lt(de,ae),addTokenListener:ae=>function Bt(de,ae,pe,Fe){const{app:tt}=de,vt=Ge(tt),un={next:pe,error:Fe,type:ae};if(be(tt,Object.assign(Object.assign({},vt),{tokenObservers:[...vt.tokenObservers,un]})),vt.token&&Dn(vt.token)){const Qn=vt.token;Promise.resolve().then(()=>{pe({token:Qn.token}),er(de)}).catch(()=>{})}vt.cachedTokenPromise.then(()=>er(de))}(de,"INTERNAL",ae),removeTokenListener:ae=>nn(de.app,ae)}}(de.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ne.KN)("@firebase/app-check","0.5.15")}();class vr{constructor(){return(0,M.vb)("app-check")}}typeof window<"u"&&window},3692:(Zt,Ye,j)=>{j.d(Ye,{Ot:()=>oe,ZF:()=>Lt,hX:()=>Ge,z6:()=>ve});var M=j(5867),z=j(8256),fe=j(8321);class oe{constructor(Qe){return Qe}}class ve{constructor(){return(0,M.C6)()}}const me=new z.OlP("angularfire2._apps"),$e={provide:oe,useFactory:function we(We){return We&&1===We.length?We[0]:new oe((0,M.Mq)())},deps:[[new z.FiY,me]]},K={provide:ve,deps:[[new z.FiY,me]]};function re(We){return(Qe,Re)=>{const mt=Qe.runOutsideAngular(()=>We(Re));return new oe(mt)}}let Ie=(()=>{class We{constructor(Re){(0,M.KN)("angularfire",fe.q4.full,"core"),(0,M.KN)("angularfire",fe.q4.full,"app"),(0,M.KN)("angular",z.q4F.full,Re.toString())}}return We.\u0275fac=function(Re){return new(Re||We)(z.LFG(z.Lbi))},We.\u0275mod=z.oAB({type:We}),We.\u0275inj=z.cJS({providers:[$e,K]}),We})();function Ge(We,...Qe){return{ngModule:Ie,providers:[{provide:me,useFactory:re(We),multi:!0,deps:[z.R0b,z.zs3,fe.HU,...Qe]}]}}const Lt=(0,fe.u3)(M.ZF,!0)},9201:(Zt,Ye,j)=>{j.d(Ye,{gx:()=>Aa,dh:()=>Oc,Xb:()=>Cn,v0:()=>Ru,AR:()=>Ts,w$:()=>xl,LS:()=>Pu,e5:()=>sc,w7:()=>Sd,gQ:()=>Ml});var M=j(8321),z=j(8256),fe=j(3692),oe=j(5867),ve=j(7128),ne=j(5861),we=j(2090),me=j(9681),$e=j(1877),K=j(655),re=j(4859);const dt=function At(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},We=new we.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Re=new $e.Yd("@firebase/auth");function mt(_,...h){Re.logLevel<=$e.in.ERROR&&Re.error(`Auth (${me.Jn}): ${_}`,...h)}function je(_,...h){throw he(_,...h)}function ge(_,...h){return he(_,...h)}function et(_,h,f){const E=Object.assign(Object.assign({},dt()),{[h]:f});return new we.LL("auth","Firebase",E).create(h,{appName:_.name})}function he(_,...h){if("string"!=typeof _){const f=h[0],E=[...h.slice(1)];return E[0]&&(E[0].appName=_.name),_._errorFactory.create(f,...E)}return We.create(_,...h)}function te(_,h,...f){if(!_)throw he(h,...f)}function le(_){const h="INTERNAL ASSERTION FAILED: "+_;throw mt(h),new Error(h)}function He(_,h){_||le(h)}const Oe=new Map;function ct(_){He(_ instanceof Function,"Expected a class definition");let h=Oe.get(_);return h?(He(h instanceof _,"Instance stored in cache mismatched with class"),h):(h=new _,Oe.set(_,h),h)}function Nt(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function An(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class $n{constructor(h,f){this.shortDelay=h,this.longDelay=f,He(f>h,"Short delay should be less than long delay!"),this.isMobile=(0,we.uI)()||(0,we.b$)()}get(){return function gn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Wt(){return"http:"===An()||"https:"===An()}()||(0,we.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function xn(_,h){He(_.emulator,"Emulator should always be set here");const{url:f}=_.emulator;return h?`${f}${h.startsWith("/")?h.slice(1):h}`:f}class fn{static initialize(h,f,E){this.fetchImpl=h,f&&(this.headersImpl=f),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void le("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void le("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void le("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Yt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Or=new $n(3e4,6e4);function wn(_,h){return _.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:_.tenantId}):h}function Gn(_,h,f,E){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,ne.Z)(function*(_,h,f,E,F={}){return Br(_,F,(0,ne.Z)(function*(){let $={},Ee={};E&&("GET"===h?Ee=E:$={body:JSON.stringify(E)});const ze=(0,we.xO)(Object.assign({key:_.config.apiKey},Ee)).slice(1),xt=yield _._getAdditionalHeaders();return xt["Content-Type"]="application/json",_.languageCode&&(xt["X-Firebase-Locale"]=_.languageCode),fn.fetch()(St(_,_.config.apiHost,f,ze),Object.assign({method:h,headers:xt,referrerPolicy:"no-referrer"},$))}))})).apply(this,arguments)}function Br(_,h,f){return lr.apply(this,arguments)}function lr(){return(lr=(0,ne.Z)(function*(_,h,f){_._canInitEmulator=!1;const E=Object.assign(Object.assign({},Yt),h);try{const F=new Yn(_),$=yield Promise.race([f(),F.promise]);F.clearNetworkTimeout();const Ee=yield $.json();if("needConfirmation"in Ee)throw ei(_,"account-exists-with-different-credential",Ee);if($.ok&&!("errorMessage"in Ee))return Ee;{const ze=$.ok?Ee.errorMessage:Ee.error.message,[xt,zt]=ze.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===xt)throw ei(_,"credential-already-in-use",Ee);if("EMAIL_EXISTS"===xt)throw ei(_,"email-already-in-use",Ee);if("USER_DISABLED"===xt)throw ei(_,"user-disabled",Ee);const kn=E[xt]||xt.toLowerCase().replace(/[_\s]+/g,"-");if(zt)throw et(_,kn,zt);je(_,kn)}}catch(F){if(F instanceof we.ZR)throw F;je(_,"network-request-failed")}})).apply(this,arguments)}function nr(_,h,f,E){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,ne.Z)(function*(_,h,f,E,F={}){const $=yield Gn(_,h,f,E,F);return"mfaPendingCredential"in $&&je(_,"multi-factor-auth-required",{_serverResponse:$}),$})).apply(this,arguments)}function St(_,h,f,E){const F=`${h}${f}?${E}`;return _.config.emulator?xn(_.config,F):`${_.config.apiScheme}://${F}`}class Yn{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((f,E)=>{this.timer=setTimeout(()=>E(ge(this.auth,"network-request-failed")),Or.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ei(_,h,f){const E={appName:_.name};f.email&&(E.email=f.email),f.phoneNumber&&(E.phoneNumber=f.phoneNumber);const F=ge(_,h,E);return F.customData._tokenResponse=f,F}function ar(){return(ar=(0,ne.Z)(function*(_,h){return Gn(_,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function jr(_,h){return lt.apply(this,arguments)}function lt(){return(lt=(0,ne.Z)(function*(_,h){return Gn(_,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function bt(_){if(_)try{const h=new Date(Number(_));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function er(){return(er=(0,ne.Z)(function*(_,h=!1){const f=(0,we.m9)(_),E=yield f.getIdToken(h),F=sr(E);te(F&&F.exp&&F.auth_time&&F.iat,f.auth,"internal-error");const $="object"==typeof F.firebase?F.firebase:void 0,Ee=$?.sign_in_provider;return{claims:F,token:E,authTime:bt(Mn(F.auth_time)),issuedAtTime:bt(Mn(F.iat)),expirationTime:bt(Mn(F.exp)),signInProvider:Ee||null,signInSecondFactor:$?.sign_in_second_factor||null}})).apply(this,arguments)}function Mn(_){return 1e3*Number(_)}function sr(_){var h;const[f,E,F]=_.split(".");if(void 0===f||void 0===E||void 0===F)return mt("JWT malformed, contained fewer than 3 sections"),null;try{const $=(0,we.tV)(E);return $?JSON.parse($):(mt("Failed to decode base64 JWT payload"),null)}catch($){return mt("Caught error parsing JWT payload as JSON",null===(h=$)||void 0===h?void 0:h.toString()),null}}function Dr(_,h){return On.apply(this,arguments)}function On(){return(On=(0,ne.Z)(function*(_,h,f=!1){if(f)return h;try{return yield h}catch(E){throw E instanceof we.ZR&&Ar(E)&&_.auth.currentUser===_&&(yield _.auth.signOut()),E}})).apply(this,arguments)}function Ar({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}class Ft{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var f;if(h){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const F=(null!==(f=this.user.stsTokenManager.expirationTime)&&void 0!==f?f:0)-Date.now()-3e5;return Math.max(0,F)}}schedule(h=!1){var f=this;if(!this.isRunning)return;const E=this.getInterval(h);this.timerId=setTimeout((0,ne.Z)(function*(){yield f.iteration()}),E)}iteration(){var h=this;return(0,ne.Z)(function*(){var f;try{yield h.user.getIdToken(!0)}catch(E){return void("auth/network-request-failed"===(null===(f=E)||void 0===f?void 0:f.code)&&h.schedule(!0))}h.schedule()})()}}class vi{constructor(h,f){this.createdAt=h,this.lastLoginAt=f,this._initializeTime()}_initializeTime(){this.lastSignInTime=bt(this.lastLoginAt),this.creationTime=bt(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function xr(_){return it.apply(this,arguments)}function it(){return(it=(0,ne.Z)(function*(_){var h;const f=_.auth,E=yield _.getIdToken(),F=yield Dr(_,jr(f,{idToken:E}));te(F?.users.length,f,"internal-error");const $=F.users[0];_._notifyReloadListener($);const Ee=null!==(h=$.providerUserInfo)&&void 0!==h&&h.length?Tt($.providerUserInfo):[],ze=Xe(_.providerData,Ee),kn=!!_.isAnonymous&&!(_.email&&$.passwordHash||ze?.length),Pr={uid:$.localId,displayName:$.displayName||null,photoURL:$.photoUrl||null,email:$.email||null,emailVerified:$.emailVerified||!1,phoneNumber:$.phoneNumber||null,tenantId:$.tenantId||null,providerData:ze,metadata:new vi($.createdAt,$.lastLoginAt),isAnonymous:kn};Object.assign(_,Pr)})).apply(this,arguments)}function ut(){return(ut=(0,ne.Z)(function*(_){const h=(0,we.m9)(_);yield xr(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function Xe(_,h){return[..._.filter(E=>!h.some(F=>F.providerId===E.providerId)),...h]}function Tt(_){return _.map(h=>{var{providerId:f}=h,E=(0,K._T)(h,["providerId"]);return{providerId:f,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}function Q(){return(Q=(0,ne.Z)(function*(_,h){const f=yield Br(_,{},(0,ne.Z)(function*(){const E=(0,we.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:F,apiKey:$}=_.config,Ee=St(_,F,"/v1/token",`key=${$}`),ze=yield _._getAdditionalHeaders();return ze["Content-Type"]="application/x-www-form-urlencoded",fn.fetch()(Ee,{method:"POST",headers:ze,body:E})}));return{accessToken:f.access_token,expiresIn:f.expires_in,refreshToken:f.refresh_token}})).apply(this,arguments)}class Y{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){te(h.idToken,"internal-error"),te(typeof h.idToken<"u","internal-error"),te(typeof h.refreshToken<"u","internal-error");const f="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):function Dn(_){const h=sr(_);return te(h,"internal-error"),te(typeof h.exp<"u","internal-error"),te(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,f)}getToken(h,f=!1){var E=this;return(0,ne.Z)(function*(){return te(!E.accessToken||E.refreshToken,h,"user-token-expired"),f||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(h,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,f){var E=this;return(0,ne.Z)(function*(){const{accessToken:F,refreshToken:$,expiresIn:Ee}=yield function pn(_,h){return Q.apply(this,arguments)}(h,f);E.updateTokensAndExpiration(F,$,Number(Ee))})()}updateTokensAndExpiration(h,f,E){this.refreshToken=f||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(h,f){const{refreshToken:E,accessToken:F,expirationTime:$}=f,Ee=new Y;return E&&(te("string"==typeof E,"internal-error",{appName:h}),Ee.refreshToken=E),F&&(te("string"==typeof F,"internal-error",{appName:h}),Ee.accessToken=F),$&&(te("number"==typeof $,"internal-error",{appName:h}),Ee.expirationTime=$),Ee}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new Y,this.toJSON())}_performRefresh(){return le("not implemented")}}function ue(_,h){te("string"==typeof _||typeof _>"u","internal-error",{appName:h})}class Le{constructor(h){var{uid:f,auth:E,stsTokenManager:F}=h,$=(0,K._T)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ft(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=f,this.auth=E,this.stsTokenManager=F,this.accessToken=F.accessToken,this.displayName=$.displayName||null,this.email=$.email||null,this.emailVerified=$.emailVerified||!1,this.phoneNumber=$.phoneNumber||null,this.photoURL=$.photoURL||null,this.isAnonymous=$.isAnonymous||!1,this.tenantId=$.tenantId||null,this.providerData=$.providerData?[...$.providerData]:[],this.metadata=new vi($.createdAt||void 0,$.lastLoginAt||void 0)}getIdToken(h){var f=this;return(0,ne.Z)(function*(){const E=yield Dr(f,f.stsTokenManager.getToken(f.auth,h));return te(E,f.auth,"internal-error"),f.accessToken!==E&&(f.accessToken=E,yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)),E})()}getIdTokenResult(h){return function nn(_){return er.apply(this,arguments)}(this,h)}reload(){return function Ce(_){return ut.apply(this,arguments)}(this)}_assign(h){this!==h&&(te(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(f=>Object.assign({},f)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){return new Le(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(h){te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,f=!1){var E=this;return(0,ne.Z)(function*(){let F=!1;h.idToken&&h.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(h),F=!0),f&&(yield xr(E)),yield E.auth._persistUserIfCurrent(E),F&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var h=this;return(0,ne.Z)(function*(){const f=yield h.getIdToken();return yield Dr(h,function $r(_,h){return ar.apply(this,arguments)}(h.auth,{idToken:f})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,f){var E,F,$,Ee,ze,xt,zt,kn;const Pr=null!==(E=f.displayName)&&void 0!==E?E:void 0,Ma=null!==(F=f.email)&&void 0!==F?F:void 0,qa=null!==($=f.phoneNumber)&&void 0!==$?$:void 0,Ka=null!==(Ee=f.photoURL)&&void 0!==Ee?Ee:void 0,Md=null!==(ze=f.tenantId)&&void 0!==ze?ze:void 0,Za=null!==(xt=f._redirectEventId)&&void 0!==xt?xt:void 0,ku=null!==(zt=f.createdAt)&&void 0!==zt?zt:void 0,Rd=null!==(kn=f.lastLoginAt)&&void 0!==kn?kn:void 0,{uid:Nd,emailVerified:Rl,isAnonymous:Pd,providerData:Nl,stsTokenManager:Pl}=f;te(Nd&&Pl,h,"internal-error");const kd=Y.fromJSON(this.name,Pl);te("string"==typeof Nd,h,"internal-error"),ue(Pr,h.name),ue(Ma,h.name),te("boolean"==typeof Rl,h,"internal-error"),te("boolean"==typeof Pd,h,"internal-error"),ue(qa,h.name),ue(Ka,h.name),ue(Md,h.name),ue(Za,h.name),ue(ku,h.name),ue(Rd,h.name);const oc=new Le({uid:Nd,auth:h,email:Ma,emailVerified:Rl,displayName:Pr,isAnonymous:Pd,photoURL:Ka,phoneNumber:qa,tenantId:Md,stsTokenManager:kd,createdAt:ku,lastLoginAt:Rd});return Nl&&Array.isArray(Nl)&&(oc.providerData=Nl.map(Bc=>Object.assign({},Bc))),Za&&(oc._redirectEventId=Za),oc}static _fromIdTokenResponse(h,f,E=!1){return(0,ne.Z)(function*(){const F=new Y;F.updateFromServerResponse(f);const $=new Le({uid:f.localId,auth:h,stsTokenManager:F,isAnonymous:E});return yield xr($),$})()}}const Dt=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,ne.Z)(function*(){return!0})()}_set(f,E){var F=this;return(0,ne.Z)(function*(){F.storage[f]=E})()}_get(f){var E=this;return(0,ne.Z)(function*(){const F=E.storage[f];return void 0===F?null:F})()}_remove(f){var E=this;return(0,ne.Z)(function*(){delete E.storage[f]})()}_addListener(f,E){}_removeListener(f,E){}}return _.type="NONE",_})();function $t(_,h,f){return`firebase:${_}:${h}:${f}`}class mn{constructor(h,f,E){this.persistence=h,this.auth=f,this.userKey=E;const{config:F,name:$}=this.auth;this.fullUserKey=$t(this.userKey,F.apiKey,$),this.fullPersistenceKey=$t("persistence",F.apiKey,$),this.boundEventHandler=f._onStorageEvent.bind(f),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,ne.Z)(function*(){const f=yield h.persistence._get(h.fullUserKey);return f?Le._fromJSON(h.auth,f):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var f=this;return(0,ne.Z)(function*(){if(f.persistence===h)return;const E=yield f.getCurrentUser();return yield f.removeCurrentUser(),f.persistence=h,E?f.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,f,E="authUser"){return(0,ne.Z)(function*(){if(!f.length)return new mn(ct(Dt),h,E);const F=(yield Promise.all(f.map(function(){var zt=(0,ne.Z)(function*(kn){if(yield kn._isAvailable())return kn});return function(kn){return zt.apply(this,arguments)}}()))).filter(zt=>zt);let $=F[0]||ct(Dt);const Ee=$t(E,h.config.apiKey,h.name);let ze=null;for(const zt of f)try{const kn=yield zt._get(Ee);if(kn){const Pr=Le._fromJSON(h,kn);zt!==$&&(ze=Pr),$=zt;break}}catch{}const xt=F.filter(zt=>zt._shouldAllowMigration);return $._shouldAllowMigration&&xt.length?($=xt[0],ze&&(yield $._set(Ee,ze.toJSON())),yield Promise.all(f.map(function(){var zt=(0,ne.Z)(function*(kn){if(kn!==$)try{yield kn._remove(Ee)}catch{}});return function(kn){return zt.apply(this,arguments)}}())),new mn($,h,E)):new mn($,h,E)})()}}function gr(_){const h=_.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(H(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(rr(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(ke(h))return"Blackberry";if(Ot(h))return"Webos";if(ye(h))return"Safari";if((h.includes("chrome/")||X(h))&&!h.includes("edge/"))return"Chrome";if(_e(h))return"Android";{const E=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===E?.length)return E[1]}return"Other"}function rr(_=(0,we.z$)()){return/firefox\//i.test(_)}function ye(_=(0,we.z$)()){const h=_.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function X(_=(0,we.z$)()){return/crios\//i.test(_)}function H(_=(0,we.z$)()){return/iemobile/i.test(_)}function _e(_=(0,we.z$)()){return/android/i.test(_)}function ke(_=(0,we.z$)()){return/blackberry/i.test(_)}function Ot(_=(0,we.z$)()){return/webos/i.test(_)}function jt(_=(0,we.z$)()){return/iphone|ipad|ipod/i.test(_)||/macintosh/i.test(_)&&/mobile/i.test(_)}function Ln(_=(0,we.z$)()){return jt(_)||_e(_)||Ot(_)||ke(_)||/windows phone/i.test(_)||H(_)}function rs(_,h=[]){let f;switch(_){case"Browser":f=gr((0,we.z$)());break;case"Worker":f=`${gr((0,we.z$)())}-${_}`;break;default:f=_}const E=h.length?h.join(","):"FirebaseCore-web";return`${f}/JsCore/${me.Jn}/${E}`}class ur{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,f){const E=$=>new Promise((Ee,ze)=>{try{Ee(h($))}catch(xt){ze(xt)}});E.onAbort=f,this.queue.push(E);const F=this.queue.length-1;return()=>{this.queue[F]=()=>Promise.resolve()}}runMiddleware(h){var f=this;return(0,ne.Z)(function*(){var E;if(f.auth.currentUser===h)return;const F=[];try{for(const $ of f.queue)yield $(h),$.onAbort&&F.push($.onAbort)}catch($){F.reverse();for(const Ee of F)try{Ee()}catch{}throw f.auth._errorFactory.create("login-blocked",{originalMessage:null===(E=$)||void 0===E?void 0:E.message})}})()}}class Fr{constructor(h,f,E){this.app=h,this.heartbeatServiceProvider=f,this.config=E,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ni(this),this.idTokenSubscription=new ni(this),this.beforeStateQueue=new ur(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=We,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=E.sdkClientVersion}_initializeWithPersistence(h,f){var E=this;return f&&(this._popupRedirectResolver=ct(f)),this._initializationPromise=this.queue((0,ne.Z)(function*(){var F,$;if(!E._deleted&&(E.persistenceManager=yield mn.create(E,h),!E._deleted)){if(null!==(F=E._popupRedirectResolver)&&void 0!==F&&F._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch{}yield E.initializeCurrentUser(f),E.lastNotifiedUid=(null===($=E.currentUser)||void 0===$?void 0:$.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,ne.Z)(function*(){if(h._deleted)return;const f=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||f){if(h.currentUser&&f&&h.currentUser.uid===f.uid)return h._currentUser._assign(f),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(f,!0)}})()}initializeCurrentUser(h){var f=this;return(0,ne.Z)(function*(){var E;const F=yield f.assertedPersistence.getCurrentUser();let $=F,Ee=!1;if(h&&f.config.authDomain){yield f.getOrInitRedirectPersistenceManager();const ze=null===(E=f.redirectUser)||void 0===E?void 0:E._redirectEventId,xt=$?._redirectEventId,zt=yield f.tryRedirectSignIn(h);(!ze||ze===xt)&&zt?.user&&($=zt.user,Ee=!0)}if(!$)return f.directlySetCurrentUser(null);if(!$._redirectEventId){if(Ee)try{yield f.beforeStateQueue.runMiddleware($)}catch(ze){$=F,f._popupRedirectResolver._overrideRedirectResult(f,()=>Promise.reject(ze))}return $?f.reloadAndSetCurrentUserOrClear($):f.directlySetCurrentUser(null)}return te(f._popupRedirectResolver,f,"argument-error"),yield f.getOrInitRedirectPersistenceManager(),f.redirectUser&&f.redirectUser._redirectEventId===$._redirectEventId?f.directlySetCurrentUser($):f.reloadAndSetCurrentUserOrClear($)})()}tryRedirectSignIn(h){var f=this;return(0,ne.Z)(function*(){let E=null;try{E=yield f._popupRedirectResolver._completeRedirectFn(f,h,!0)}catch{yield f._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(h){var f=this;return(0,ne.Z)(function*(){var E;try{yield xr(h)}catch(F){if("auth/network-request-failed"!==(null===(E=F)||void 0===E?void 0:E.code))return f.directlySetCurrentUser(null)}return f.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function Er(){if(typeof navigator>"u")return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var h=this;return(0,ne.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var f=this;return(0,ne.Z)(function*(){const E=h?(0,we.m9)(h):null;return E&&te(E.auth.config.apiKey===f.config.apiKey,f,"invalid-user-token"),f._updateCurrentUser(E&&E._clone(f))})()}_updateCurrentUser(h,f=!1){var E=this;return(0,ne.Z)(function*(){if(!E._deleted)return h&&te(E.tenantId===h.tenantId,E,"tenant-id-mismatch"),f||(yield E.beforeStateQueue.runMiddleware(h)),E.queue((0,ne.Z)(function*(){yield E.directlySetCurrentUser(h),E.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,ne.Z)(function*(){return yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0)})()}setPersistence(h){var f=this;return this.queue((0,ne.Z)(function*(){yield f.assertedPersistence.setPersistence(ct(h))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new we.LL("auth","Firebase",h())}onAuthStateChanged(h,f,E){return this.registerStateListener(this.authStateSubscription,h,f,E)}beforeAuthStateChanged(h,f){return this.beforeStateQueue.pushCallback(h,f)}onIdTokenChanged(h,f,E){return this.registerStateListener(this.idTokenSubscription,h,f,E)}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,f){var E=this;return(0,ne.Z)(function*(){const F=yield E.getOrInitRedirectPersistenceManager(f);return null===h?F.removeCurrentUser():F.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var f=this;return(0,ne.Z)(function*(){if(!f.redirectPersistenceManager){const E=h&&ct(h)||f._popupRedirectResolver;te(E,f,"argument-error"),f.redirectPersistenceManager=yield mn.create(f,[ct(E._redirectPersistence)],"redirectUser"),f.redirectUser=yield f.redirectPersistenceManager.getCurrentUser()}return f.redirectPersistenceManager})()}_redirectUserForId(h){var f=this;return(0,ne.Z)(function*(){var E,F;return f._isInitialized&&(yield f.queue((0,ne.Z)(function*(){}))),(null===(E=f._currentUser)||void 0===E?void 0:E._redirectEventId)===h?f._currentUser:(null===(F=f.redirectUser)||void 0===F?void 0:F._redirectEventId)===h?f.redirectUser:null})()}_persistUserIfCurrent(h){var f=this;return(0,ne.Z)(function*(){if(h===f.currentUser)return f.queue((0,ne.Z)(function*(){return f.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,f;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(f=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==f?f:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,f,E,F){if(this._deleted)return()=>{};const $="function"==typeof f?f:f.next.bind(f),Ee=this._isInitialized?Promise.resolve():this._initializationPromise;return te(Ee,this,"internal-error"),Ee.then(()=>$(this.currentUser)),"function"==typeof f?h.addObserver(f,E,F):h.addObserver(f)}directlySetCurrentUser(h){var f=this;return(0,ne.Z)(function*(){f.currentUser&&f.currentUser!==h&&f._currentUser._stopProactiveRefresh(),h&&f.isProactiveRefreshEnabled&&h._startProactiveRefresh(),f.currentUser=h,h?yield f.assertedPersistence.setCurrentUser(h):yield f.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=rs(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,ne.Z)(function*(){var f;const E={"X-Client-Version":h.clientVersion};h.app.options.appId&&(E["X-Firebase-gmpid"]=h.app.options.appId);const F=yield null===(f=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===f?void 0:f.getHeartbeatsHeader();return F&&(E["X-Firebase-Client"]=F),E})()}}function yn(_){return(0,we.m9)(_)}class ni{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,we.ne)(f=>this.observer=f)}get next(){return te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function an(_){const h=_.indexOf(":");return h<0?"":_.substr(0,h+1)}function is(_){if(!_)return null;const h=Number(_);return isNaN(h)?null:h}class ci{constructor(h,f){this.providerId=h,this.signInMethod=f}toJSON(){return le("not implemented")}_getIdTokenResponse(h){return le("not implemented")}_linkToIdToken(h,f){return le("not implemented")}_getReauthenticationResolver(h){return le("not implemented")}}function ii(_,h){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,ne.Z)(function*(_,h){return Gn(_,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Fe(){return(Fe=(0,ne.Z)(function*(_,h){return nr(_,"POST","/v1/accounts:signInWithPassword",wn(_,h))})).apply(this,arguments)}function tt(_,h){return vt.apply(this,arguments)}function vt(){return(vt=(0,ne.Z)(function*(_,h){return Gn(_,"POST","/v1/accounts:sendOobCode",wn(_,h))})).apply(this,arguments)}function un(_,h){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,ne.Z)(function*(_,h){return tt(_,h)})).apply(this,arguments)}function Nn(_,h){return ir.apply(this,arguments)}function ir(){return(ir=(0,ne.Z)(function*(_,h){return tt(_,h)})).apply(this,arguments)}function dr(){return(dr=(0,ne.Z)(function*(_,h){return nr(_,"POST","/v1/accounts:signInWithEmailLink",wn(_,h))})).apply(this,arguments)}function si(){return(si=(0,ne.Z)(function*(_,h){return nr(_,"POST","/v1/accounts:signInWithEmailLink",wn(_,h))})).apply(this,arguments)}class Io extends ci{constructor(h,f,E,F=null){super("password",E),this._email=h,this._password=f,this._tenantId=F}static _fromEmailAndPassword(h,f){return new Io(h,f,"password")}static _fromEmailAndCode(h,f,E=null){return new Io(h,f,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const f="string"==typeof h?JSON.parse(h):h;if(f?.email&&f?.password){if("password"===f.signInMethod)return this._fromEmailAndPassword(f.email,f.password);if("emailLink"===f.signInMethod)return this._fromEmailAndCode(f.email,f.password,f.tenantId)}return null}_getIdTokenResponse(h){var f=this;return(0,ne.Z)(function*(){switch(f.signInMethod){case"password":return function pe(_,h){return Fe.apply(this,arguments)}(h,{returnSecureToken:!0,email:f._email,password:f._password});case"emailLink":return function Js(_,h){return dr.apply(this,arguments)}(h,{email:f._email,oobCode:f._password});default:je(h,"internal-error")}})()}_linkToIdToken(h,f){var E=this;return(0,ne.Z)(function*(){switch(E.signInMethod){case"password":return ii(h,{idToken:f,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function Ss(_,h){return si.apply(this,arguments)}(h,{idToken:f,email:E._email,oobCode:E._password});default:je(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function Ai(_,h){return Go.apply(this,arguments)}function Go(){return(Go=(0,ne.Z)(function*(_,h){return nr(_,"POST","/v1/accounts:signInWithIdp",wn(_,h))})).apply(this,arguments)}class Fn{constructor(h){var f,E,F,$,Ee,ze;const xt=(0,we.zd)((0,we.pd)(h)),zt=null!==(f=xt.apiKey)&&void 0!==f?f:null,kn=null!==(E=xt.oobCode)&&void 0!==E?E:null,Pr=function to(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(F=xt.mode)&&void 0!==F?F:null);te(zt&&kn&&Pr,"argument-error"),this.apiKey=zt,this.operation=Pr,this.code=kn,this.continueUrl=null!==($=xt.continueUrl)&&void 0!==$?$:null,this.languageCode=null!==(Ee=xt.languageCode)&&void 0!==Ee?Ee:null,this.tenantId=null!==(ze=xt.tenantId)&&void 0!==ze?ze:null}static parseLink(h){const f=function os(_){const h=(0,we.zd)((0,we.pd)(_)).link,f=h?(0,we.zd)((0,we.pd)(h)).deep_link_id:null,E=(0,we.zd)((0,we.pd)(_)).deep_link_id;return(E?(0,we.zd)((0,we.pd)(E)).link:null)||E||f||h||_}(h);try{return new Fn(f)}catch{return null}}}let xi=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(f,E){return Io._fromEmailAndPassword(f,E)}static credentialWithLink(f,E){const F=Fn.parseLink(E);return te(F,"argument-error"),Io._fromEmailAndCode(f,F.code,F.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class _i{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class no extends _i{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}function xs(_,h){return cs.apply(this,arguments)}function cs(){return(cs=(0,ne.Z)(function*(_,h){return nr(_,"POST","/v1/accounts:signUp",wn(_,h))})).apply(this,arguments)}class Ri{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,f,E,F=!1){return(0,ne.Z)(function*(){const $=yield Le._fromIdTokenResponse(h,E,F),Ee=oi(E);return new Ri({user:$,providerId:Ee,_tokenResponse:E,operationType:f})})()}static _forOperation(h,f,E){return(0,ne.Z)(function*(){yield h._updateTokensIfNecessary(E,!0);const F=oi(E);return new Ri({user:h,providerId:F,_tokenResponse:E,operationType:f})})()}}function oi(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}class ls extends we.ZR{constructor(h,f,E,F){var $;super(f.code,f.message),this.operationType=E,this.user=F,Object.setPrototypeOf(this,ls.prototype),this.customData={appName:h.name,tenantId:null!==($=h.tenantId)&&void 0!==$?$:void 0,_serverResponse:f.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(h,f,E,F){return new ls(h,f,E,F)}}function Do(_,h,f,E){return("reauthenticate"===h?f._getReauthenticationResolver(_):f._getIdTokenResponse(_)).catch($=>{throw"auth/multi-factor-auth-required"===$.code?ls._fromErrorAndOperation(_,$,h,E):$})}function Hs(_,h){return ds.apply(this,arguments)}function ds(){return(ds=(0,ne.Z)(function*(_,h,f=!1){const E=yield Dr(_,h._linkToIdToken(_.auth,yield _.getIdToken()),f);return Ri._forOperation(_,"link",E)})).apply(this,arguments)}function hs(){return(hs=(0,ne.Z)(function*(_,h,f=!1){var E;const{auth:F}=_,$="reauthenticate";try{const Ee=yield Dr(_,Do(F,$,h,_),f);te(Ee.idToken,F,"internal-error");const ze=sr(Ee.idToken);te(ze,F,"internal-error");const{sub:xt}=ze;return te(_.uid===xt,F,"user-mismatch"),Ri._forOperation(_,$,Ee)}catch(Ee){throw"auth/user-not-found"===(null===(E=Ee)||void 0===E?void 0:E.code)&&je(F,"user-mismatch"),Ee}})).apply(this,arguments)}function Vr(_,h){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,ne.Z)(function*(_,h,f=!1){const E="signIn",F=yield Do(_,E,h),$=yield Ri._fromIdTokenResponse(_,E,F);return f||(yield _._updateCurrentUser($.user)),$})).apply(this,arguments)}function Gs(){return(Gs=(0,ne.Z)(function*(_,h){return Vr(yn(_),h)})).apply(this,arguments)}function zs(_,h,f){var E;te((null===(E=f.url)||void 0===E?void 0:E.length)>0,_,"invalid-continue-uri"),te(typeof f.dynamicLinkDomain>"u"||f.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),h.continueUrl=f.url,h.dynamicLinkDomain=f.dynamicLinkDomain,h.canHandleCodeInApp=f.handleCodeInApp,f.iOS&&(te(f.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),h.iOSBundleId=f.iOS.bundleId),f.android&&(te(f.android.packageName.length>0,_,"missing-android-pkg-name"),h.androidInstallApp=f.android.installApp,h.androidMinimumVersionCode=f.android.minimumVersion,h.androidPackageName=f.android.packageName)}function io(_,h,f){return qe.apply(this,arguments)}function qe(){return(qe=(0,ne.Z)(function*(_,h,f){const E=(0,we.m9)(_),F={requestType:"PASSWORD_RESET",email:h};f&&zs(E,F,f),yield Nn(E,F)})).apply(this,arguments)}function pa(_,h,f){return So.apply(this,arguments)}function So(){return(So=(0,ne.Z)(function*(_,h,f){const E=yn(_),F=yield xs(E,{returnSecureToken:!0,email:h,password:f}),$=yield Ri._fromIdTokenResponse(E,"signIn",F);return yield E._updateCurrentUser($.user),$})).apply(this,arguments)}function Du(_,h,f){return function fs(_,h){return Gs.apply(this,arguments)}((0,we.m9)(_),xi.credential(h,f))}function ga(_,h){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,ne.Z)(function*(_,h){const f=(0,we.m9)(_),F={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};h&&zs(f.auth,F,h);const{email:$}=yield un(f.auth,F);$!==_.email&&(yield _.reload())})).apply(this,arguments)}function Ne(_,h){return function Ue(_,h,f){return _t.apply(this,arguments)}((0,we.m9)(_),null,h)}function _t(){return(_t=(0,ne.Z)(function*(_,h,f){const{auth:E}=_,$={idToken:yield _.getIdToken(),returnSecureToken:!0};h&&($.email=h),f&&($.password=f);const Ee=yield Dr(_,ii(E,$));yield _._updateTokensIfNecessary(Ee,!0)})).apply(this,arguments)}function nt(_){return(0,we.m9)(_).signOut()}const La="__sak";class Li{constructor(h,f){this.storageRetriever=h,this.type=f}_isAvailable(){try{return this.storage?(this.storage.setItem(La,"1"),this.storage.removeItem(La),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,f){return this.storage.setItem(h,JSON.stringify(f)),Promise.resolve()}_get(h){const f=this.storage.getItem(h);return Promise.resolve(f?JSON.parse(f):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ua=(()=>{class _ extends Li{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(f,E)=>this.onStorageEvent(f,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Qu(){const _=(0,we.z$)();return ye(_)||jt(_)}()&&function vr(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Ln(),this._shouldAllowMigration=!0}forAllChangedKeys(f){for(const E of Object.keys(this.listeners)){const F=this.storage.getItem(E),$=this.localCache[E];F!==$&&f(E,$,F)}}onStorageEvent(f,E=!1){if(!f.key)return void this.forAllChangedKeys((ze,xt,zt)=>{this.notifyListeners(ze,zt)});const F=f.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ze=this.storage.getItem(F);if(f.newValue!==ze)null!==f.newValue?this.storage.setItem(F,f.newValue):this.storage.removeItem(F);else if(this.localCache[F]===f.newValue&&!E)return}const $=()=>{const ze=this.storage.getItem(F);!E&&this.localCache[F]===ze||this.notifyListeners(F,ze)},Ee=this.storage.getItem(F);!function qt(){return(0,we.w1)()&&10===document.documentMode}()||Ee===f.newValue||f.newValue===f.oldValue?$():setTimeout($,10)}notifyListeners(f,E){this.localCache[f]=E;const F=this.listeners[f];if(F)for(const $ of Array.from(F))$(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((f,E,F)=>{this.onStorageEvent(new StorageEvent("storage",{key:f,oldValue:E,newValue:F}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(f,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[f]||(this.listeners[f]=new Set,this.localCache[f]=this.storage.getItem(f)),this.listeners[f].add(E)}_removeListener(f,E){this.listeners[f]&&(this.listeners[f].delete(E),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(f,E){var F=()=>super._set,$=this;return(0,ne.Z)(function*(){yield F().call($,f,E),$.localCache[f]=JSON.stringify(E)})()}_get(f){var E=()=>super._get,F=this;return(0,ne.Z)(function*(){const $=yield E().call(F,f);return F.localCache[f]=JSON.stringify($),$})()}_remove(f){var E=()=>super._remove,F=this;return(0,ne.Z)(function*(){yield E().call(F,f),delete F.localCache[f]})()}}return _.type="LOCAL",_})(),va=(()=>{class _ extends Li{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(f,E){}_removeListener(f,E){}}return _.type="SESSION",_})();let rn=(()=>{class _{constructor(f){this.eventTarget=f,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(f){const E=this.receivers.find($=>$.isListeningto(f));if(E)return E;const F=new _(f);return this.receivers.push(F),F}isListeningto(f){return this.eventTarget===f}handleEvent(f){var E=this;return(0,ne.Z)(function*(){const F=f,{eventId:$,eventType:Ee,data:ze}=F.data,xt=E.handlersMap[Ee];if(!xt?.size)return;F.ports[0].postMessage({status:"ack",eventId:$,eventType:Ee});const zt=Array.from(xt).map(function(){var Pr=(0,ne.Z)(function*(Ma){return Ma(F.origin,ze)});return function(Ma){return Pr.apply(this,arguments)}}()),kn=yield function Ro(_){return Promise.all(_.map(function(){var h=(0,ne.Z)(function*(f){try{return{fulfilled:!0,value:yield f}}catch(E){return{fulfilled:!1,reason:E}}});return function(f){return h.apply(this,arguments)}}()))}(zt);F.ports[0].postMessage({status:"done",eventId:$,eventType:Ee,response:kn})})()}_subscribe(f,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[f]||(this.handlersMap[f]=new Set),this.handlersMap[f].add(E)}_unsubscribe(f,E){this.handlersMap[f]&&E&&this.handlersMap[f].delete(E),(!E||0===this.handlersMap[f].size)&&delete this.handlersMap[f],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function Fi(_="",h=10){let f="";for(let E=0;E<h;E++)f+=Math.floor(10*Math.random());return _+f}class No{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,f,E=50){var F=this;return(0,ne.Z)(function*(){const $=typeof MessageChannel<"u"?new MessageChannel:null;if(!$)throw new Error("connection_unavailable");let Ee,ze;return new Promise((xt,zt)=>{const kn=Fi("",20);$.port1.start();const Pr=setTimeout(()=>{zt(new Error("unsupported_event"))},E);ze={messageChannel:$,onMessage(Ma){const qa=Ma;if(qa.data.eventId===kn)switch(qa.data.status){case"ack":clearTimeout(Pr),Ee=setTimeout(()=>{zt(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ee),xt(qa.data.response);break;default:clearTimeout(Pr),clearTimeout(Ee),zt(new Error("invalid_response"))}}},F.handlers.add(ze),$.port1.addEventListener("message",ze.onMessage),F.target.postMessage({eventType:h,eventId:kn,data:f},[$.port2])}).finally(()=>{ze&&F.removeMessageHandler(ze)})})()}}function on(){return window}function Ws(){return typeof on().WorkerGlobalScope<"u"&&"function"==typeof on().importScripts}function ou(){return(ou=(0,ne.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const vs="firebaseLocalStorageDb",Ei="firebaseLocalStorage",Po="fbase_key";class Di{constructor(h){this.request=h}toPromise(){return new Promise((h,f)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{f(this.request.error)})})}}function Va(_,h){return _.transaction([Ei],h?"readwrite":"readonly").objectStore(Ei)}function Ps(){const _=indexedDB.open(vs,1);return new Promise((h,f)=>{_.addEventListener("error",()=>{f(_.error)}),_.addEventListener("upgradeneeded",()=>{const E=_.result;try{E.createObjectStore(Ei,{keyPath:Po})}catch(F){f(F)}}),_.addEventListener("success",(0,ne.Z)(function*(){const E=_.result;E.objectStoreNames.contains(Ei)?h(E):(E.close(),yield function ao(){const _=indexedDB.deleteDatabase(vs);return new Di(_).toPromise()}(),h(yield Ps()))}))})}function _a(_,h,f){return ui.apply(this,arguments)}function ui(){return(ui=(0,ne.Z)(function*(_,h,f){const E=Va(_,!0).put({[Po]:h,value:f});return new Di(E).toPromise()})).apply(this,arguments)}function qs(){return(qs=(0,ne.Z)(function*(_,h){const f=Va(_,!1).get(h),E=yield new Di(f).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function ta(_,h){const f=Va(_,!0).delete(h);return new Di(f).toPromise()}const Is=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var f=this;return(0,ne.Z)(function*(){return f.db||(f.db=yield Ps()),f.db})()}_withRetries(f){var E=this;return(0,ne.Z)(function*(){let F=0;for(;;)try{const $=yield E._openDb();return yield f($)}catch($){if(F++>3)throw $;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var f=this;return(0,ne.Z)(function*(){return Ws()?f.initializeReceiver():f.initializeSender()})()}initializeReceiver(){var f=this;return(0,ne.Z)(function*(){f.receiver=rn._getInstance(function pt(){return Ws()?self:null}()),f.receiver._subscribe("keyChanged",function(){var E=(0,ne.Z)(function*(F,$){return{keyProcessed:(yield f._poll()).includes($.key)}});return function(F,$){return E.apply(this,arguments)}}()),f.receiver._subscribe("ping",function(){var E=(0,ne.Z)(function*(F,$){return["keyChanged"]});return function(F,$){return E.apply(this,arguments)}}())})()}initializeSender(){var f=this;return(0,ne.Z)(function*(){var E,F;if(f.activeServiceWorker=yield function Pn(){return ou.apply(this,arguments)}(),!f.activeServiceWorker)return;f.sender=new No(f.activeServiceWorker);const $=yield f.sender._send("ping",{},800);!$||(null===(E=$[0])||void 0===E?void 0:E.fulfilled)&&(null===(F=$[0])||void 0===F?void 0:F.value.includes("keyChanged"))&&(f.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(f){var E=this;return(0,ne.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function Wn(){var _;return(null===(_=navigator?.serviceWorker)||void 0===_?void 0:_.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:f},E.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,ne.Z)(function*(){try{if(!indexedDB)return!1;const f=yield Ps();return yield _a(f,La,"1"),yield ta(f,La),!0}catch{}return!1})()}_withPendingWrite(f){var E=this;return(0,ne.Z)(function*(){E.pendingWrites++;try{yield f()}finally{E.pendingWrites--}})()}_set(f,E){var F=this;return(0,ne.Z)(function*(){return F._withPendingWrite((0,ne.Z)(function*(){return yield F._withRetries($=>_a($,f,E)),F.localCache[f]=E,F.notifyServiceWorker(f)}))})()}_get(f){var E=this;return(0,ne.Z)(function*(){const F=yield E._withRetries($=>function au(_,h){return qs.apply(this,arguments)}($,f));return E.localCache[f]=F,F})()}_remove(f){var E=this;return(0,ne.Z)(function*(){return E._withPendingWrite((0,ne.Z)(function*(){return yield E._withRetries(F=>ta(F,f)),delete E.localCache[f],E.notifyServiceWorker(f)}))})()}_poll(){var f=this;return(0,ne.Z)(function*(){const E=yield f._withRetries(Ee=>{const ze=Va(Ee,!1).getAll();return new Di(ze).toPromise()});if(!E)return[];if(0!==f.pendingWrites)return[];const F=[],$=new Set;for(const{fbase_key:Ee,value:ze}of E)$.add(Ee),JSON.stringify(f.localCache[Ee])!==JSON.stringify(ze)&&(f.notifyListeners(Ee,ze),F.push(Ee));for(const Ee of Object.keys(f.localCache))f.localCache[Ee]&&!$.has(Ee)&&(f.notifyListeners(Ee,null),F.push(Ee));return F})()}notifyListeners(f,E){this.localCache[f]=E;const F=this.listeners[f];if(F)for(const $ of Array.from(F))$(E)}startPolling(){var f=this;this.stopPolling(),this.pollTimer=setInterval((0,ne.Z)(function*(){return f._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(f,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[f]||(this.listeners[f]=new Set,this._get(f)),this.listeners[f].add(E)}_removeListener(f,E){this.listeners[f]&&(this.listeners[f].delete(E),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})();function na(_){return`__${_}${Math.floor(1e6*Math.random())}`}function Ti(_,h){return h?ct(h):(te(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}na("rcb"),new $n(3e4,6e4);class ia extends ci{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return Ai(h,this._buildIdpRequest())}_linkToIdToken(h,f){return Ai(h,this._buildIdpRequest(f))}_getReauthenticationResolver(h){return Ai(h,this._buildIdpRequest())}_buildIdpRequest(h){const f={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(f.idToken=h),f}}function po(_){return Vr(_.auth,new ia(_),_.bypassAuthState)}function go(_){const{auth:h,user:f}=_;return te(f,h,"internal-error"),function _r(_,h){return hs.apply(this,arguments)}(f,new ia(_),_.bypassAuthState)}function y(_){return v.apply(this,arguments)}function v(){return(v=(0,ne.Z)(function*(_){const{auth:h,user:f}=_;return te(f,h,"internal-error"),Hs(f,new ia(_),_.bypassAuthState)})).apply(this,arguments)}new $n(2e3,1e4);const Hn=new Map;class gi extends class g{constructor(h,f,E,F,$=!1){this.auth=h,this.resolver=E,this.user=F,this.bypassAuthState=$,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(f)?f:[f]}execute(){var h=this;return new Promise(function(){var f=(0,ne.Z)(function*(E,F){h.pendingPromise={resolve:E,reject:F};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch($){h.reject($)}});return function(E,F){return f.apply(this,arguments)}}())}onAuthEvent(h){var f=this;return(0,ne.Z)(function*(){const{urlResponse:E,sessionId:F,postBody:$,tenantId:Ee,error:ze,type:xt}=h;if(ze)return void f.reject(ze);const zt={auth:f.auth,requestUri:E,sessionId:F,tenantId:Ee||void 0,postBody:$||void 0,user:f.user,bypassAuthState:f.bypassAuthState};try{f.resolve(yield f.getIdpTask(xt)(zt))}catch(kn){f.reject(kn)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return po;case"linkViaPopup":case"linkViaRedirect":return y;case"reauthViaPopup":case"reauthViaRedirect":return go;default:je(this.auth,"internal-error")}}resolve(h){He(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){He(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}{constructor(h,f,E=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],f,void 0,E),this.eventId=null}execute(){var h=()=>super.execute,f=this;return(0,ne.Z)(function*(){let E=Hn.get(f.auth._key());if(!E){try{const $=(yield function Ji(_,h){return Ui.apply(this,arguments)}(f.resolver,f.auth))?yield h().call(f):null;E=()=>Promise.resolve($)}catch(F){E=()=>Promise.reject(F)}Hn.set(f.auth._key(),E)}return f.bypassAuthState||Hn.set(f.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(h){var f=()=>super.onAuthEvent,E=this;return(0,ne.Z)(function*(){if("signInViaRedirect"===h.type)return f().call(E,h);if("unknown"!==h.type){if(h.eventId){const F=yield E.auth._redirectUserForId(h.eventId);if(F)return E.user=F,f().call(E,h);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,ne.Z)(function*(){})()}cleanUp(){}}function Ui(){return(Ui=(0,ne.Z)(function*(_,h){const f=Lo(h),E=Ac(_);if(!(yield E._isAvailable()))return!1;const F="true"===(yield E._get(f));return yield E._remove(f),F})).apply(this,arguments)}function qn(_,h){Hn.set(_._key(),h)}function Ac(_){return ct(_._redirectPersistence)}function Lo(_){return $t("pendingRedirect",_.config.apiKey,_.name)}function xe(_,h){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,ne.Z)(function*(_,h,f=!1){const E=yn(_),F=Ti(E,h),Ee=yield new gi(E,F,f).execute();return Ee&&!f&&(delete Ee.user._redirectEventId,yield E._persistUserIfCurrent(Ee.user),yield E._setRedirectUser(null,h)),Ee})).apply(this,arguments)}class dn{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let f=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(h,E)&&(f=!0,this.sendToConsumer(h,E),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function Ci(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Zr(_);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,f||(this.queuedRedirectEvent=h,f=!0)),f}sendToConsumer(h,f){var E;if(h.error&&!Zr(h)){const F=(null===(E=h.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";f.onError(ge(this.auth,F))}else f.onAuthEvent(h)}isEventForConsumer(h,f){const E=null===f.eventId||!!h.eventId&&h.eventId===f.eventId;return f.filter.includes(h.type)&&E}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Vt(h))}saveEventToCache(h){this.cachedEventUids.add(Vt(h)),this.lastProcessedEventTime=Date.now()}}function Vt(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(h=>h).join("-")}function Zr({type:_,error:h}){return"unknown"===_&&"auth/no-auth-event"===h?.code}function ja(_){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,ne.Z)(function*(_,h={}){return Gn(_,"GET","/v1/projects",h)})).apply(this,arguments)}const ba=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Zs=/^https?/;function Fo(){return(Fo=(0,ne.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:h}=yield ja(_);for(const f of h)try{if(oa(f))return}catch{}je(_,"unauthorized-domain")})).apply(this,arguments)}function oa(_){const h=Nt(),{protocol:f,hostname:E}=new URL(h);if(_.startsWith("chrome-extension://")){const Ee=new URL(_);return""===Ee.hostname&&""===E?"chrome-extension:"===f&&_.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===f&&Ee.hostname===E}if(!Zs.test(f))return!1;if(ba.test(_))return E===_;const F=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+F+"|"+F+")$","i").test(E)}const Uo=new $n(3e4,6e4);function aa(){const _=on().___jsl;if(_?.H)for(const h of Object.keys(_.H))if(_.H[h].r=_.H[h].r||[],_.H[h].L=_.H[h].L||[],_.H[h].r=[..._.H[h].L],_.CP)for(let f=0;f<_.CP.length;f++)_.CP[f]=null}let lu=null;function ec(_){return lu=lu||function Ls(_){return new Promise((h,f)=>{var E,F,$;function Ee(){aa(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{aa(),f(ge(_,"network-request-failed"))},timeout:Uo.get()})}if(null!==(F=null===(E=on().gapi)||void 0===E?void 0:E.iframes)&&void 0!==F&&F.Iframe)h(gapi.iframes.getContext());else{if(null===($=on().gapi)||void 0===$||!$.load){const ze=na("iframefcb");return on()[ze]=()=>{gapi.load?Ee():f(ge(_,"network-request-failed"))},function Ds(_){return new Promise((h,f)=>{const E=document.createElement("script");E.setAttribute("src",_),E.onload=h,E.onerror=F=>{const $=ge("internal-error");$.customData=F,f($)},E.type="text/javascript",E.charset="UTF-8",function Es(){var _,h;return null!==(h=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==h?h:document}().appendChild(E)})}(`https://apis.google.com/js/api.js?onload=${ze}`).catch(xt=>f(xt))}Ee()}}).catch(h=>{throw lu=null,h})}(_),lu}const md=new $n(5e3,15e3),yd={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yl=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Cp(_){const h=_.config;te(h.authDomain,_,"auth-domain-config-required");const f=h.emulator?xn(h,"emulator/auth/iframe"):`https://${_.config.authDomain}/__/auth/iframe`,E={apiKey:h.apiKey,appName:_.name,v:me.Jn},F=yl.get(_.config.apiHost);F&&(E.eid=F);const $=_._getFrameworks();return $.length&&(E.fw=$.join(",")),`${f}?${(0,we.xO)(E).slice(1)}`}function _l(){return _l=(0,ne.Z)(function*(_){const h=yield ec(_),f=on().gapi;return te(f,_,"internal-error"),h.open({where:document.body,url:Cp(_),messageHandlersFilter:f.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yd,dontclear:!0},E=>new Promise(function(){var F=(0,ne.Z)(function*($,Ee){yield E.restyle({setHideOnLeave:!1});const ze=ge(_,"network-request-failed"),xt=on().setTimeout(()=>{Ee(ze)},md.get());function zt(){on().clearTimeout(xt),$(E)}E.ping(zt).then(zt,()=>{Ee(ze)})});return function($,Ee){return F.apply(this,arguments)}}()))}),_l.apply(this,arguments)}const Mc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class yo{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Ta(_,h,f,E,F,$){te(_.config.authDomain,_,"auth-domain-config-required"),te(_.config.apiKey,_,"invalid-api-key");const Ee={apiKey:_.config.apiKey,appName:_.name,authType:f,redirectUrl:E,v:me.Jn,eventId:F};if(h instanceof _i){h.setDefaultLanguage(_.languageCode),Ee.providerId=h.providerId||"",(0,we.xb)(h.getCustomParameters())||(Ee.customParameters=JSON.stringify(h.getCustomParameters()));for(const[xt,zt]of Object.entries($||{}))Ee[xt]=zt}if(h instanceof no){const xt=h.getScopes().filter(zt=>""!==zt);xt.length>0&&(Ee.scopes=xt.join(","))}_.tenantId&&(Ee.tid=_.tenantId);const ze=Ee;for(const xt of Object.keys(ze))void 0===ze[xt]&&delete ze[xt];return`${function Il({config:_}){return _.emulator?xn(_,"emulator/auth/handler"):`https://${_.authDomain}/__/auth/handler`}(_)}?${(0,we.xO)(ze).slice(1)}`}const nc="webStorageSupport",Id=class xu{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=va,this._completeRedirectFn=xe,this._overrideRedirectResult=qn}_openPopup(h,f,E,F){var $=this;return(0,ne.Z)(function*(){var Ee;He(null===(Ee=$.eventManagers[h._key()])||void 0===Ee?void 0:Ee.manager,"_initialize() not called before _openPopup()");const ze=Ta(h,f,E,Nt(),F);return function du(_,h,f,E=500,F=600){const $=Math.max((window.screen.availHeight-F)/2,0).toString(),Ee=Math.max((window.screen.availWidth-E)/2,0).toString();let ze="";const xt=Object.assign(Object.assign({},Mc),{width:E.toString(),height:F.toString(),top:$,left:Ee}),zt=(0,we.z$)().toLowerCase();f&&(ze=X(zt)?"_blank":f),rr(zt)&&(h=h||"http://localhost",xt.scrollbars="yes");const kn=Object.entries(xt).reduce((Ma,[qa,Ka])=>`${Ma}${qa}=${Ka},`,"");if(function st(_=(0,we.z$)()){var h;return jt(_)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(zt)&&"_self"!==ze)return function _d(_,h){const f=document.createElement("a");f.href=_,f.target=h;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),f.dispatchEvent(E)}(h||"",ze),new yo(null);const Pr=window.open(h||"",ze,kn);te(Pr,_,"popup-blocked");try{Pr.focus()}catch{}return new yo(Pr)}(h,ze,Fi())})()}_openRedirect(h,f,E,F){var $=this;return(0,ne.Z)(function*(){return yield $._originValidation(h),function Xt(_){on().location.href=_}(Ta(h,f,E,Nt(),F)),new Promise(()=>{})})()}_initialize(h){const f=h._key();if(this.eventManagers[f]){const{manager:F,promise:$}=this.eventManagers[f];return F?Promise.resolve(F):(He($,"If manager is not set, promise should be"),$)}const E=this.initAndGetManager(h);return this.eventManagers[f]={promise:E},E.catch(()=>{delete this.eventManagers[f]}),E}initAndGetManager(h){var f=this;return(0,ne.Z)(function*(){const E=yield function vl(_){return _l.apply(this,arguments)}(h),F=new dn(h);return E.register("authEvent",$=>(te($?.authEvent,h,"invalid-auth-event"),{status:F.onEvent($.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),f.eventManagers[h._key()]={manager:F},f.iframes[h._key()]=E,F})()}_isIframeWebStorageSupported(h,f){this.iframes[h._key()].send(nc,{type:nc},F=>{var $;const Ee=null===($=F?.[0])||void 0===$?void 0:$[nc];void 0!==Ee&&f(!!Ee),je(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const f=h._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function sa(_){return Fo.apply(this,arguments)}(h)),this.originValidationPromises[f]}get _shouldInitProactively(){return Ln()||ye()||jt()}};var rc="@firebase/auth",El="0.20.10";class Ha{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var f=this;return(0,ne.Z)(function*(){return f.assertAuthConfigured(),yield f.auth._initializationPromise,f.auth.currentUser?{accessToken:yield f.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const f=this.auth.onIdTokenChanged(E=>{var F;h((null===(F=E)||void 0===F?void 0:F.stsTokenManager.accessToken)||null)});this.internalListeners.set(h,f),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const f=this.internalListeners.get(h);!f||(this.internalListeners.delete(h),f(),this.updateProactiveRefresh())}assertAuthConfigured(){te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const ic=(0,we.Pz)("authIdTokenMaxAge")||300;let Sa=null;const Kh=_=>function(){var h=(0,ne.Z)(function*(f){const E=f&&(yield f.getIdTokenResult()),F=E&&((new Date).getTime()-Date.parse(E.issuedAtTime))/1e3;if(F&&F>ic)return;const $=E?.token;Sa!==$&&(Sa=$,yield fetch(_,{method:$?"POST":"DELETE",headers:$?{Authorization:`Bearer ${$}`}:{}}))});return function(f){return h.apply(this,arguments)}}();function Zh(_=(0,me.Mq)()){const h=(0,me.qX)(_,"auth");if(h.isInitialized())return h.getImmediate();const f=function Ht(_,h){const f=(0,me.qX)(_,"auth");if(f.isInitialized()){const F=f.getImmediate(),$=f.getOptions();if((0,we.vZ)($,h??{}))return F;je(F,"already-initialized")}return f.initialize({options:h})}(_,{popupRedirectResolver:Id,persistence:[Is,Ua,va]}),E=(0,we.Pz)("authTokenSyncURL");if(E){const $=Kh(E);(function zr(_,h,f){(0,we.m9)(_).beforeAuthStateChanged(h,f)})(f,$,()=>$(f.currentUser)),function Xn(_,h,f,E){(0,we.m9)(_).onIdTokenChanged(h,f,E)}(f,Ee=>$(Ee))}const F=(0,we.q4)("auth");return F&&function Hr(_,h,f){const E=yn(_);te(E._canInitEmulator,E,"emulator-config-failed"),te(/^https?:\/\//.test(h),E,"invalid-emulator-scheme");const F=!!f?.disableWarnings,$=an(h),{host:Ee,port:ze}=function br(_){const h=an(_),f=/(\/\/)?([^?#/]+)/.exec(_.substr(h.length));if(!f)return{host:"",port:null};const E=f[2].split("@").pop()||"",F=/^(\[[^\]]+\])(:|$)/.exec(E);if(F){const $=F[1];return{host:$,port:is(E.substr($.length+1))}}{const[$,Ee]=E.split(":");return{host:$,port:is(Ee)}}}(h);E.config.emulator={url:`${$}//${Ee}${null===ze?"":`:${ze}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:Ee,port:ze,protocol:$.replace(":",""),options:Object.freeze({disableWarnings:F})}),F||function ss(){function _(){const h=document.createElement("p"),f=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",f.position="fixed",f.width="100%",f.backgroundColor="#ffffff",f.border=".1em solid #000000",f.color="#b50000",f.bottom="0px",f.left="0px",f.margin="0px",f.zIndex="10000",f.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}(f,`http://${F}`),f}!function Wh(_){(0,me.Xd)(new re.wA("auth",(h,{options:f})=>{const E=h.getProvider("app").getImmediate(),F=h.getProvider("heartbeat"),{apiKey:$,authDomain:Ee}=E.options;return((ze,xt)=>{te($&&!$.includes(":"),"invalid-api-key",{appName:ze.name}),te(!Ee?.includes(":"),"argument-error",{appName:ze.name});const zt={apiKey:$,authDomain:Ee,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rs(_)},kn=new Fr(ze,xt,zt);return function Zn(_,h){const f=h?.persistence||[],E=(Array.isArray(f)?f:[f]).map(ct);h?.errorMap&&_._updateErrorMap(h.errorMap),_._initializeWithPersistence(E,h?.popupRedirectResolver)}(kn,f),kn})(E,F)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,f,E)=>{h.getProvider("auth-internal").initialize()})),(0,me.Xd)(new re.wA("auth-internal",h=>{const f=yn(h.getProvider("auth").getImmediate());return new Ha(f)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,me.KN)(rc,El,function Ca(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,me.KN)(rc,El,"esm2017")}("Browser");class Aa{constructor(h){return h}}class Oc{constructor(){return(0,M.vb)("auth")}}const Jr=new z.OlP("angularfire2.auth-instances");function ua(_){return(h,f)=>{const E=h.runOutsideAngular(()=>_(f));return new Aa(E)}}const Mu={provide:Oc,deps:[[new z.FiY,Jr]]},xa={provide:Aa,useFactory:function Kn(_,h){const f=(0,M.JM)("auth",_,h);return f&&new Aa(f)},deps:[[new z.FiY,Jr],fe.Ot]};let wd=(()=>{class _{constructor(){(0,oe.KN)("angularfire",M.q4.full,"auth")}}return _.\u0275fac=function(f){return new(f||_)},_.\u0275mod=z.oAB({type:_}),_.\u0275inj=z.cJS({providers:[xa,Mu]}),_})();function Ts(_,...h){return{ngModule:wd,providers:[{provide:Jr,useFactory:ua(_),multi:!0,deps:[z.R0b,z.zs3,M.HU,fe.z6,[new z.FiY,ve.nm],...h]}]}}const Cn=(0,M.u3)(pa,!0),Ru=(0,M.u3)(Zh,!0),xl=(0,M.u3)(ga,!0),Pu=(0,M.u3)(io,!0),sc=(0,M.u3)(Du,!0),Sd=(0,M.u3)(nt,!0),Ml=(0,M.u3)(Ne,!0)},7554:(Zt,Ye,j)=>{j.d(Ye,{Cm:()=>At,ad:()=>lr,gg:()=>me});var M=j(8321),z=j(8256),fe=j(9201),oe=j(3692),ve=j(5867),ne=j(7128),we=j(3209);class me{constructor(Ce){return Ce}}const $e="firestore",Ie=new z.OlP("angularfire2.firestore-instances");function be(it){return(Ce,ut)=>{const Xe=Ce.runOutsideAngular(()=>it(ut));return new me(Xe)}}const ht={provide:class K{constructor(){return(0,M.vb)($e)}},deps:[[new z.FiY,Ie]]},wt={provide:me,useFactory:function Ge(it,Ce){const ut=(0,M.JM)($e,it,Ce);return ut&&new me(ut)},deps:[[new z.FiY,Ie],oe.Ot]};let Lt=(()=>{class it{constructor(){(0,ve.KN)("angularfire",M.q4.full,"fst")}}return it.\u0275fac=function(ut){return new(ut||it)},it.\u0275mod=z.oAB({type:it}),it.\u0275inj=z.cJS({providers:[wt,ht]}),it})();function At(it,...Ce){return{ngModule:Lt,providers:[{provide:Ie,useFactory:be(it),multi:!0,deps:[z.R0b,z.zs3,M.HU,oe.z6,[new z.FiY,fe.dh],[new z.FiY,ne.nm],...Ce]}]}}const lr=(0,M.u3)(we.ad,!0)},8321:(Zt,Ye,j)=>{j.d(Ye,{q4:()=>g,HU:()=>mo,vb:()=>Ji,JM:()=>gi,u3:()=>cu});var M=j(8256),z=j(5867),fe=j(5861),oe=j(9681),ve=j(2090),ne=j(4859),we=j(1877),me=j(8766);const $e="@firebase/installations",K="0.5.15",Ie=`w:${K}`,Ge="FIS_v2",Mt=new ve.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function dt(C){return C instanceof ve.ZR&&C.code.includes("request-failed")}function We({projectId:C}){return`https://firebaseinstallations.googleapis.com/v1/projects/${C}/installations`}function Qe(C){return{token:C.token,requestStatus:2,expiresIn:he(C.expiresIn),creationTime:Date.now()}}function Re(C,x){return mt.apply(this,arguments)}function mt(){return(mt=(0,fe.Z)(function*(C,x){const W=(yield x.json()).error;return Mt.create("request-failed",{requestName:C,serverCode:W.code,serverMessage:W.message,serverStatus:W.status})})).apply(this,arguments)}function je({apiKey:C}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C})}function ge(C,{refreshToken:x}){const O=je(C);return O.append("Authorization",function te(C){return`${Ge} ${C}`}(x)),O}function et(C){return se.apply(this,arguments)}function se(){return(se=(0,fe.Z)(function*(C){const x=yield C();return x.status>=500&&x.status<600?C():x})).apply(this,arguments)}function he(C){return Number(C.replace("s","000"))}function le(C,x){return He.apply(this,arguments)}function He(){return(He=(0,fe.Z)(function*({appConfig:C,heartbeatServiceProvider:x},{fid:O}){const W=We(C),ce=je(C),xe=x.getImmediate({optional:!0});if(xe){const ln=yield xe.getHeartbeatsHeader();ln&&ce.append("x-firebase-client",ln)}const ft={method:"POST",headers:ce,body:JSON.stringify({fid:O,authVersion:Ge,appId:C.appId,sdkVersion:Ie})},Kt=yield et(()=>fetch(W,ft));if(Kt.ok){const ln=yield Kt.json();return{fid:ln.fid||O,registrationStatus:2,refreshToken:ln.refreshToken,authToken:Qe(ln.authToken)}}throw yield Re("Create Installation",Kt)})).apply(this,arguments)}function Oe(C){return new Promise(x=>{setTimeout(x,C)})}const Ht=/^[cdef][\w-]{21}$/;function Nt(){try{const C=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(C),C[0]=112+C[0]%16;const O=function Wt(C){return function ct(C){return btoa(String.fromCharCode(...C)).replace(/\+/g,"-").replace(/\//g,"_")}(C).substr(0,22)}(C);return Ht.test(O)?O:""}catch{return""}}function An(C){return`${C.appName}!${C.appId}`}const gn=new Map;function Er(C,x){const O=An(C);fn(O,x),function Yt(C,x){const O=function wn(){return!Or&&"BroadcastChannel"in self&&(Or=new BroadcastChannel("[Firebase] FID Change"),Or.onmessage=C=>{fn(C.data.key,C.data.fid)}),Or}();O&&O.postMessage({key:C,fid:x}),function Gn(){0===gn.size&&Or&&(Or.close(),Or=null)}()}(O,x)}function fn(C,x){const O=gn.get(C);if(O)for(const W of O)W(x)}let Or=null;const lr="firebase-installations-store";let nr=null;function Lr(){return nr||(nr=(0,me.X3)("firebase-installations-database",1,{upgrade:(C,x)=>{0===x&&C.createObjectStore(lr)}})),nr}function St(C,x){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,fe.Z)(function*(C,x){const O=An(C),ce=(yield Lr()).transaction(lr,"readwrite"),xe=ce.objectStore(lr),Ze=yield xe.get(O);return yield xe.put(x,O),yield ce.done,(!Ze||Ze.fid!==x.fid)&&Er(C,x.fid),x})).apply(this,arguments)}function ei(C){return $r.apply(this,arguments)}function $r(){return($r=(0,fe.Z)(function*(C){const x=An(C),W=(yield Lr()).transaction(lr,"readwrite");yield W.objectStore(lr).delete(x),yield W.done})).apply(this,arguments)}function ar(C,x){return ti.apply(this,arguments)}function ti(){return(ti=(0,fe.Z)(function*(C,x){const O=An(C),ce=(yield Lr()).transaction(lr,"readwrite"),xe=ce.objectStore(lr),Ze=yield xe.get(O),ft=x(Ze);return void 0===ft?yield xe.delete(O):yield xe.put(ft,O),yield ce.done,ft&&(!Ze||Ze.fid!==ft.fid)&&Er(C,ft.fid),ft})).apply(this,arguments)}function Bn(C){return jr.apply(this,arguments)}function jr(){return(jr=(0,fe.Z)(function*(C){let x;const O=yield ar(C.appConfig,W=>{const ce=lt(W),xe=bt(C,ce);return x=xe.registrationPromise,xe.installationEntry});return""===O.fid?{installationEntry:yield x}:{installationEntry:O,registrationPromise:x}})).apply(this,arguments)}function lt(C){return Dn(C||{fid:Nt(),registrationStatus:0})}function bt(C,x){if(0===x.registrationStatus){if(!navigator.onLine)return{installationEntry:x,registrationPromise:Promise.reject(Mt.create("app-offline"))};const O={fid:x.fid,registrationStatus:1,registrationTime:Date.now()},W=function Bt(C,x){return nn.apply(this,arguments)}(C,O);return{installationEntry:O,registrationPromise:W}}return 1===x.registrationStatus?{installationEntry:x,registrationPromise:er(C)}:{installationEntry:x}}function nn(){return(nn=(0,fe.Z)(function*(C,x){try{const O=yield le(C,x);return St(C.appConfig,O)}catch(O){throw dt(O)&&409===O.customData.serverCode?yield ei(C.appConfig):yield St(C.appConfig,{fid:x.fid,registrationStatus:0}),O}})).apply(this,arguments)}function er(C){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,fe.Z)(function*(C){let x=yield sr(C.appConfig);for(;1===x.registrationStatus;)yield Oe(100),x=yield sr(C.appConfig);if(0===x.registrationStatus){const{installationEntry:O,registrationPromise:W}=yield Bn(C);return W||O}return x})).apply(this,arguments)}function sr(C){return ar(C,x=>{if(!x)throw Mt.create("installation-not-found");return Dn(x)})}function Dn(C){return function Dr(C){return 1===C.registrationStatus&&C.registrationTime+1e4<Date.now()}(C)?{fid:C.fid,registrationStatus:0}:C}function On(C,x){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,fe.Z)(function*({appConfig:C,heartbeatServiceProvider:x},O){const W=Ft(C,O),ce=ge(C,O),xe=x.getImmediate({optional:!0});if(xe){const ln=yield xe.getHeartbeatsHeader();ln&&ce.append("x-firebase-client",ln)}const ft={method:"POST",headers:ce,body:JSON.stringify({installation:{sdkVersion:Ie,appId:C.appId}})},Kt=yield et(()=>fetch(W,ft));if(Kt.ok)return Qe(yield Kt.json());throw yield Re("Generate Auth Token",Kt)})).apply(this,arguments)}function Ft(C,{fid:x}){return`${We(C)}/${x}/authTokens:generate`}function vi(C){return xr.apply(this,arguments)}function xr(){return(xr=(0,fe.Z)(function*(C,x=!1){let O;const W=yield ar(C.appConfig,xe=>{if(!pn(xe))throw Mt.create("not-registered");const Ze=xe.authToken;if(!x&&Q(Ze))return xe;if(1===Ze.requestStatus)return O=it(C,x),xe;{if(!navigator.onLine)throw Mt.create("app-offline");const ft=ue(xe);return O=Xe(C,ft),ft}});return O?yield O:W.authToken})).apply(this,arguments)}function it(C,x){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,fe.Z)(function*(C,x){let O=yield ut(C.appConfig);for(;1===O.authToken.requestStatus;)yield Oe(100),O=yield ut(C.appConfig);const W=O.authToken;return 0===W.requestStatus?vi(C,x):W})).apply(this,arguments)}function ut(C){return ar(C,x=>{if(!pn(x))throw Mt.create("not-registered");return function Le(C){return 1===C.requestStatus&&C.requestTime+1e4<Date.now()}(x.authToken)?Object.assign(Object.assign({},x),{authToken:{requestStatus:0}}):x})}function Xe(C,x){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,fe.Z)(function*(C,x){try{const O=yield On(C,x),W=Object.assign(Object.assign({},x),{authToken:O});return yield St(C.appConfig,W),O}catch(O){if(!dt(O)||401!==O.customData.serverCode&&404!==O.customData.serverCode){const W=Object.assign(Object.assign({},x),{authToken:{requestStatus:0}});yield St(C.appConfig,W)}else yield ei(C.appConfig);throw O}})).apply(this,arguments)}function pn(C){return void 0!==C&&2===C.registrationStatus}function Q(C){return 2===C.requestStatus&&!function Y(C){const x=Date.now();return x<C.creationTime||C.creationTime+C.expiresIn<x+36e5}(C)}function ue(C){const x={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},C),{authToken:x})}function Dt(){return(Dt=(0,fe.Z)(function*(C){const x=C,{installationEntry:O,registrationPromise:W}=yield Bn(x);return W?W.catch(console.error):vi(x).catch(console.error),O.fid})).apply(this,arguments)}function mn(){return(mn=(0,fe.Z)(function*(C,x=!1){const O=C;return yield gr(O),(yield vi(O,x)).token})).apply(this,arguments)}function gr(C){return rr.apply(this,arguments)}function rr(){return(rr=(0,fe.Z)(function*(C){const{registrationPromise:x}=yield Bn(C);x&&(yield x)})).apply(this,arguments)}function st(C){return Mt.create("missing-app-config-values",{valueName:C})}const qt="installations",vr=C=>{const x=C.getProvider("app").getImmediate(),O=function _n(C){if(!C||!C.options)throw st("App Configuration");if(!C.name)throw st("App Name");const x=["projectId","apiKey","appId"];for(const O of x)if(!C.options[O])throw st(O);return{appName:C.name,projectId:C.options.projectId,apiKey:C.options.apiKey,appId:C.options.appId}}(x);return{app:x,appConfig:O,heartbeatServiceProvider:(0,oe.qX)(x,"heartbeat"),_delete:()=>Promise.resolve()}},rs=C=>{const x=C.getProvider("app").getImmediate(),O=(0,oe.qX)(x,qt).getImmediate();return{getId:()=>function Ae(C){return Dt.apply(this,arguments)}(O),getToken:ce=>function $t(C){return mn.apply(this,arguments)}(O,ce)}};(function ur(){(0,oe.Xd)(new ne.wA(qt,vr,"PUBLIC")),(0,oe.Xd)(new ne.wA("installations-internal",rs,"PRIVATE"))})(),(0,oe.KN)($e,K),(0,oe.KN)($e,K,"esm2017");const Fr="@firebase/remote-config",br=new ve.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Tr{constructor(x,O,W,ce){this.client=x,this.storage=O,this.storageCache=W,this.logger=ce}isCachedDataFresh(x,O){if(!O)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const W=Date.now()-O,ce=W<=x;return this.logger.debug(`Config fetch cache check. Cache age millis: ${W}. Cache max age millis (minimumFetchIntervalMillis setting): ${x}. Is cache hit: ${ce}.`),ce}fetch(x){var O=this;return(0,fe.Z)(function*(){const[W,ce]=yield Promise.all([O.storage.getLastSuccessfulFetchTimestampMillis(),O.storage.getLastSuccessfulFetchResponse()]);if(ce&&O.isCachedDataFresh(x.cacheMaxAgeMillis,W))return ce;x.eTag=ce&&ce.eTag;const xe=yield O.client.fetch(x),Ze=[O.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===xe.status&&Ze.push(O.storage.setLastSuccessfulFetchResponse(xe)),yield Promise.all(Ze),xe})()}}function jn(C=navigator){return C.languages&&C.languages[0]||C.language}class Js{constructor(x,O,W,ce,xe,Ze){this.firebaseInstallations=x,this.sdkVersion=O,this.namespace=W,this.projectId=ce,this.apiKey=xe,this.appId=Ze}fetch(x){var O=this;return(0,fe.Z)(function*(){var W,ce,xe;const[Ze,ft]=yield Promise.all([O.firebaseInstallations.getId(),O.firebaseInstallations.getToken()]),ln=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${O.projectId}/namespaces/${O.namespace}:fetch?key=${O.apiKey}`,dn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":x.eTag||"*"},Vt={sdk_version:O.sdkVersion,app_instance_id:Ze,app_instance_id_token:ft,app_id:O.appId,language_code:jn()},Zr={method:"POST",headers:dn,body:JSON.stringify(Vt)},Ci=fetch(ln,Zr),ja=new Promise((oa,Uo)=>{x.signal.addEventListener(()=>{const aa=new Error("The operation was aborted.");aa.name="AbortError",Uo(aa)})});let Yi;try{yield Promise.race([Ci,ja]),Yi=yield Ci}catch(oa){let Uo="fetch-client-network";throw"AbortError"===(null===(W=oa)||void 0===W?void 0:W.name)&&(Uo="fetch-timeout"),br.create(Uo,{originalErrorMessage:null===(ce=oa)||void 0===ce?void 0:ce.message})}let ba=Yi.status;const Zs=Yi.headers.get("ETag")||void 0;let sa,Fo;if(200===Yi.status){let oa;try{oa=yield Yi.json()}catch(Uo){throw br.create("fetch-client-parse",{originalErrorMessage:null===(xe=Uo)||void 0===xe?void 0:xe.message})}sa=oa.entries,Fo=oa.state}if("INSTANCE_STATE_UNSPECIFIED"===Fo?ba=500:"NO_CHANGE"===Fo?ba=304:("NO_TEMPLATE"===Fo||"EMPTY_CONFIG"===Fo)&&(sa={}),304!==ba&&200!==ba)throw br.create("fetch-status",{httpStatus:ba});return{status:ba,eTag:Zs,config:sa}})()}}class si{constructor(x,O){this.client=x,this.storage=O}fetch(x){var O=this;return(0,fe.Z)(function*(){const W=(yield O.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return O.attemptFetch(x,W)})()}attemptFetch(x,{throttleEndTimeMillis:O,backoffCount:W}){var ce=this;return(0,fe.Z)(function*(){yield function dr(C,x){return new Promise((O,W)=>{const ce=Math.max(x-Date.now(),0),xe=setTimeout(O,ce);C.addEventListener(()=>{clearTimeout(xe),W(br.create("fetch-throttle",{throttleEndTimeMillis:x}))})})}(x.signal,O);try{const xe=yield ce.client.fetch(x);return yield ce.storage.deleteThrottleMetadata(),xe}catch(xe){if(!function Ss(C){if(!(C instanceof ve.ZR&&C.customData))return!1;const x=Number(C.customData.httpStatus);return 429===x||500===x||503===x||504===x}(xe))throw xe;const Ze={throttleEndTimeMillis:Date.now()+(0,ve.$s)(W),backoffCount:W+1};return yield ce.storage.setThrottleMetadata(Ze),ce.attemptFetch(x,Ze)}})()}}class Go{constructor(x,O,W,ce,xe){this.app=x,this._client=O,this._storageCache=W,this._storage=ce,this._logger=xe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function $s(C,x){var O;const W=C.target.error||void 0;return br.create(x,{originalErrorMessage:W&&(null===(O=W)||void 0===O?void 0:O.message)})}const li="app_namespace_store";class Oa{constructor(x,O,W,ce=function wu(){return new Promise((C,x)=>{var O;try{const W=indexedDB.open("firebase_remote_config",1);W.onerror=ce=>{x($s(ce,"storage-open"))},W.onsuccess=ce=>{C(ce.target.result)},W.onupgradeneeded=ce=>{0===ce.oldVersion&&ce.target.result.createObjectStore(li,{keyPath:"compositeKey"})}}catch(W){x(br.create("storage-open",{originalErrorMessage:null===(O=W)||void 0===O?void 0:O.message}))}})}()){this.appId=x,this.appName=O,this.namespace=W,this.openDbPromise=ce}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(x){return this.set("last_fetch_status",x)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(x){return this.set("last_successful_fetch_timestamp_millis",x)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(x){return this.set("last_successful_fetch_response",x)}getActiveConfig(){return this.get("active_config")}setActiveConfig(x){return this.set("active_config",x)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(x){return this.set("active_config_etag",x)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(x){return this.set("throttle_metadata",x)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(x){var O=this;return(0,fe.Z)(function*(){const W=yield O.openDbPromise;return new Promise((ce,xe)=>{var Ze;const Kt=W.transaction([li],"readonly").objectStore(li),ln=O.createCompositeKey(x);try{const dn=Kt.get(ln);dn.onerror=Vt=>{xe($s(Vt,"storage-get"))},dn.onsuccess=Vt=>{const Zr=Vt.target.result;ce(Zr?Zr.value:void 0)}}catch(dn){xe(br.create("storage-get",{originalErrorMessage:null===(Ze=dn)||void 0===Ze?void 0:Ze.message}))}})})()}set(x,O){var W=this;return(0,fe.Z)(function*(){const ce=yield W.openDbPromise;return new Promise((xe,Ze)=>{var ft;const ln=ce.transaction([li],"readwrite").objectStore(li),dn=W.createCompositeKey(x);try{const Vt=ln.put({compositeKey:dn,value:O});Vt.onerror=Zr=>{Ze($s(Zr,"storage-set"))},Vt.onsuccess=()=>{xe()}}catch(Vt){Ze(br.create("storage-set",{originalErrorMessage:null===(ft=Vt)||void 0===ft?void 0:ft.message}))}})})()}delete(x){var O=this;return(0,fe.Z)(function*(){const W=yield O.openDbPromise;return new Promise((ce,xe)=>{var Ze;const Kt=W.transaction([li],"readwrite").objectStore(li),ln=O.createCompositeKey(x);try{const dn=Kt.delete(ln);dn.onerror=Vt=>{xe($s(Vt,"storage-delete"))},dn.onsuccess=()=>{ce()}}catch(dn){xe(br.create("storage-delete",{originalErrorMessage:null===(Ze=dn)||void 0===Ze?void 0:Ze.message}))}})})()}createCompositeKey(x){return[this.appId,this.appName,this.namespace,x].join()}}class nu{constructor(x){this.storage=x}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var x=this;return(0,fe.Z)(function*(){const O=x.storage.getLastFetchStatus(),W=x.storage.getLastSuccessfulFetchTimestampMillis(),ce=x.storage.getActiveConfig(),xe=yield O;xe&&(x.lastFetchStatus=xe);const Ze=yield W;Ze&&(x.lastSuccessfulFetchTimestampMillis=Ze);const ft=yield ce;ft&&(x.activeConfig=ft)})()}setLastFetchStatus(x){return this.lastFetchStatus=x,this.storage.setLastFetchStatus(x)}setLastSuccessfulFetchTimestampMillis(x){return this.lastSuccessfulFetchTimestampMillis=x,this.storage.setLastSuccessfulFetchTimestampMillis(x)}setActiveConfig(x){return this.activeConfig=x,this.storage.setActiveConfig(x)}}function Hi(){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,fe.Z)(function*(){if(!(0,ve.hl)())return!1;try{return yield(0,ve.eu)()}catch{return!1}})).apply(this,arguments)}!function da(){(0,oe.Xd)(new ne.wA("remote-config",function C(x,{instanceIdentifier:O}){const W=x.getProvider("app").getImmediate(),ce=x.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw br.create("registration-window");if(!(0,ve.hl)())throw br.create("indexed-db-unavailable");const{projectId:xe,apiKey:Ze,appId:ft}=W.options;if(!xe)throw br.create("registration-project-id");if(!Ze)throw br.create("registration-api-key");if(!ft)throw br.create("registration-app-id");const Kt=new Oa(ft,W.name,O=O||"firebase"),ln=new nu(Kt),dn=new we.Yd(Fr);dn.logLevel=we.in.ERROR;const Vt=new Js(ce,oe.Jn,O,xe,Ze,ft),Zr=new si(Vt,Kt),Ci=new Tr(Zr,Kt,ln,dn),ja=new Go(W,Ci,ln,Kt,dn);return function pe(C){const x=(0,ve.m9)(C);x._initializePromise||(x._initializePromise=x._storageCache.loadFromStorage().then(()=>{x._isInitializationComplete=!0}))}(ja),ja},"PUBLIC").setMultipleInstances(!0)),(0,oe.KN)(Fr,"0.3.14"),(0,oe.KN)(Fr,"0.3.14","esm2017")}();const to="/firebase-messaging-sw.js",os="/firebase-cloud-messaging-push-scope",Fn="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",xi="google.c.a.c_id",_i="google.c.a.c_l",no="google.c.a.ts",Wo="google.c.a.e";var as=(()=>{return(C=as||(as={})).PUSH_RECEIVED="push-received",C.NOTIFICATION_CLICKED="notification-clicked",as;var C})();function zi(C){const x=new Uint8Array(C);return btoa(String.fromCharCode(...x)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function qo(C){const O=(C+"=".repeat((4-C.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),W=atob(O),ce=new Uint8Array(W.length);for(let xe=0;xe<W.length;++xe)ce[xe]=W.charCodeAt(xe);return ce}const Mi="fcm_token_details_db",js="fcm_token_object_Store";function ru(C){return xs.apply(this,arguments)}function xs(){return xs=(0,fe.Z)(function*(C){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(xe=>xe.name).includes(Mi))return null;let x=null;return(yield(0,me.X3)(Mi,5,{upgrade:(W=(0,fe.Z)(function*(ce,xe,Ze,ft){var Kt;if(xe<2||!ce.objectStoreNames.contains(js))return;const ln=ft.objectStore(js),dn=yield ln.index("fcmSenderId").get(C);if(yield ln.clear(),dn)if(2===xe){const Vt=dn;if(!Vt.auth||!Vt.p256dh||!Vt.endpoint)return;x={token:Vt.fcmToken,createTime:null!==(Kt=Vt.createTime)&&void 0!==Kt?Kt:Date.now(),subscriptionOptions:{auth:Vt.auth,p256dh:Vt.p256dh,endpoint:Vt.endpoint,swScope:Vt.swScope,vapidKey:"string"==typeof Vt.vapidKey?Vt.vapidKey:zi(Vt.vapidKey)}}}else if(3===xe){const Vt=dn;x={token:Vt.fcmToken,createTime:Vt.createTime,subscriptionOptions:{auth:zi(Vt.auth),p256dh:zi(Vt.p256dh),endpoint:Vt.endpoint,swScope:Vt.swScope,vapidKey:zi(Vt.vapidKey)}}}else if(4===xe){const Vt=dn;x={token:Vt.fcmToken,createTime:Vt.createTime,subscriptionOptions:{auth:zi(Vt.auth),p256dh:zi(Vt.p256dh),endpoint:Vt.endpoint,swScope:Vt.swScope,vapidKey:zi(Vt.vapidKey)}}}}),function(xe,Ze,ft,Kt){return W.apply(this,arguments)})})).close(),yield(0,me.Lj)(Mi),yield(0,me.Lj)("fcm_vapid_details_db"),yield(0,me.Lj)("undefined"),cs(x)?x:null;var W}),xs.apply(this,arguments)}function cs(C){if(!C||!C.subscriptionOptions)return!1;const{subscriptionOptions:x}=C;return"number"==typeof C.createTime&&C.createTime>0&&"string"==typeof C.token&&C.token.length>0&&"string"==typeof x.auth&&x.auth.length>0&&"string"==typeof x.p256dh&&x.p256dh.length>0&&"string"==typeof x.endpoint&&x.endpoint.length>0&&"string"==typeof x.swScope&&x.swScope.length>0&&"string"==typeof x.vapidKey&&x.vapidKey.length>0}const Wi="firebase-messaging-store";let ro=null;function ls(){return ro||(ro=(0,me.X3)("firebase-messaging-database",1,{upgrade:(C,x)=>{0===x&&C.createObjectStore(Wi)}})),ro}function Do(C){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,fe.Z)(function*(C){const x=Gr(C),W=yield(yield ls()).transaction(Wi).objectStore(Wi).get(x);if(W)return W;{const ce=yield ru(C.appConfig.senderId);if(ce)return yield cn(C,ce),ce}})).apply(this,arguments)}function cn(C,x){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,fe.Z)(function*(C,x){const O=Gr(C),ce=(yield ls()).transaction(Wi,"readwrite");return yield ce.objectStore(Wi).put(x,O),yield ce.done,x})).apply(this,arguments)}function Hs(C){return ds.apply(this,arguments)}function ds(){return(ds=(0,fe.Z)(function*(C){const x=Gr(C),W=(yield ls()).transaction(Wi,"readwrite");yield W.objectStore(Wi).delete(x),yield W.done})).apply(this,arguments)}function Gr({appConfig:C}){return C.appId}const _r=new ve.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function hs(C,x){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,fe.Z)(function*(C,x){var O;const W=yield To(C),ce=hi(x),xe={method:"POST",headers:W,body:JSON.stringify(ce)};let Ze;try{Ze=yield(yield fetch(Ii(C.appConfig),xe)).json()}catch(ft){throw _r.create("token-subscribe-failed",{errorInfo:null===(O=ft)||void 0===O?void 0:O.toString()})}if(Ze.error)throw _r.create("token-subscribe-failed",{errorInfo:Ze.error.message});if(!Ze.token)throw _r.create("token-subscribe-no-token");return Ze.token})).apply(this,arguments)}function Zo(C,x){return fs.apply(this,arguments)}function fs(){return(fs=(0,fe.Z)(function*(C,x){var O;const W=yield To(C),ce=hi(x.subscriptionOptions),xe={method:"PATCH",headers:W,body:JSON.stringify(ce)};let Ze;try{Ze=yield(yield fetch(`${Ii(C.appConfig)}/${x.token}`,xe)).json()}catch(ft){throw _r.create("token-update-failed",{errorInfo:null===(O=ft)||void 0===O?void 0:O.toString()})}if(Ze.error)throw _r.create("token-update-failed",{errorInfo:Ze.error.message});if(!Ze.token)throw _r.create("token-update-no-token");return Ze.token})).apply(this,arguments)}function Gs(C,x){return di.apply(this,arguments)}function di(){return(di=(0,fe.Z)(function*(C,x){var O;const ce={method:"DELETE",headers:yield To(C)};try{const Ze=yield(yield fetch(`${Ii(C.appConfig)}/${x}`,ce)).json();if(Ze.error)throw _r.create("token-unsubscribe-failed",{errorInfo:Ze.error.message})}catch(xe){throw _r.create("token-unsubscribe-failed",{errorInfo:null===(O=xe)||void 0===O?void 0:O.toString()})}})).apply(this,arguments)}function Ii({projectId:C}){return`https://fcmregistrations.googleapis.com/v1/projects/${C}/registrations`}function To(C){return Et.apply(this,arguments)}function Et(){return(Et=(0,fe.Z)(function*({appConfig:C,installations:x}){const O=yield x.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C.apiKey,"x-goog-firebase-installations-auth":`FIS ${O}`})})).apply(this,arguments)}function hi({p256dh:C,auth:x,endpoint:O,vapidKey:W}){const ce={web:{endpoint:O,auth:x,p256dh:C}};return W!==Fn&&(ce.web.applicationPubKey=W),ce}const ha=6048e5;function fa(C){return Co.apply(this,arguments)}function Co(){return(Co=(0,fe.Z)(function*(C){const x=yield Xi(C.swRegistration,C.vapidKey),O={vapidKey:C.vapidKey,swScope:C.swRegistration.scope,endpoint:x.endpoint,auth:zi(x.getKey("auth")),p256dh:zi(x.getKey("p256dh"))},W=yield Do(C.firebaseDependencies);if(W){if(hr(W.subscriptionOptions,O))return Date.now()>=W.createTime+ha?zs(C,{token:W.token,createTime:Date.now(),subscriptionOptions:O}):W.token;try{yield Gs(C.firebaseDependencies,W.token)}catch(ce){console.warn(ce)}return qe(C.firebaseDependencies,O)}return qe(C.firebaseDependencies,O)})).apply(this,arguments)}function Yo(C){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,fe.Z)(function*(C){const x=yield Do(C.firebaseDependencies);x&&(yield Gs(C.firebaseDependencies,x.token),yield Hs(C.firebaseDependencies));const O=yield C.swRegistration.pushManager.getSubscription();return!O||O.unsubscribe()})).apply(this,arguments)}function zs(C,x){return io.apply(this,arguments)}function io(){return(io=(0,fe.Z)(function*(C,x){try{const O=yield Zo(C.firebaseDependencies,x),W=Object.assign(Object.assign({},x),{token:O,createTime:Date.now()});return yield cn(C.firebaseDependencies,W),O}catch(O){throw yield Yo(C),O}})).apply(this,arguments)}function qe(C,x){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,fe.Z)(function*(C,x){const W={token:yield hs(C,x),createTime:Date.now(),subscriptionOptions:x};return yield cn(C,W),W.token})).apply(this,arguments)}function Xi(C,x){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,fe.Z)(function*(C,x){return(yield C.pushManager.getSubscription())||C.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:qo(x)})})).apply(this,arguments)}function hr(C,x){return x.vapidKey===C.vapidKey&&x.endpoint===C.endpoint&&x.auth===C.auth&&x.p256dh===C.p256dh}function wi(C){const x={from:C.from,collapseKey:C.collapse_key,messageId:C.fcmMessageId};return function Qr(C,x){if(!x.notification)return;C.notification={};const O=x.notification.title;O&&(C.notification.title=O);const W=x.notification.body;W&&(C.notification.body=W);const ce=x.notification.image;ce&&(C.notification.image=ce)}(x,C),function Ni(C,x){!x.data||(C.data=x.data)}(x,C),function ps(C,x){var O,W,ce,xe,Ze;if(!(x.fcmOptions||null!==(O=x.notification)&&void 0!==O&&O.click_action))return;C.fcmOptions={};const ft=null!==(ce=null===(W=x.fcmOptions)||void 0===W?void 0:W.link)&&void 0!==ce?ce:null===(xe=x.notification)||void 0===xe?void 0:xe.click_action;ft&&(C.fcmOptions.link=ft);const Kt=null===(Ze=x.fcmOptions)||void 0===Ze?void 0:Ze.analytics_label;Kt&&(C.fcmOptions.analyticsLabel=Kt)}(x,C),x}function pa(C){return"object"==typeof C&&!!C&&xi in C}function So(C,x){const O=[];for(let W=0;W<C.length;W++)O.push(C.charAt(W)),W<x.length&&O.push(x.charAt(W));return O.join("")}function iu(C){return _r.create("missing-app-config-values",{valueName:C})}So("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),So("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class so{constructor(x,O,W){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ce=function Du(C){if(!C||!C.options)throw iu("App Configuration Object");if(!C.name)throw iu("App Name");const x=["projectId","apiKey","appId","messagingSenderId"],{options:O}=C;for(const W of x)if(!O[W])throw iu(W);return{appName:C.name,projectId:O.projectId,apiKey:O.apiKey,appId:O.appId,senderId:O.messagingSenderId}}(x);this.firebaseDependencies={app:x,appConfig:ce,installations:O,analyticsProvider:W}}_delete(){return Promise.resolve()}}function ai(C){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,fe.Z)(function*(C){var x;try{C.swRegistration=yield navigator.serviceWorker.register(to,{scope:os}),C.swRegistration.update().catch(()=>{})}catch(O){throw _r.create("failed-service-worker-registration",{browserErrorMessage:null===(x=O)||void 0===x?void 0:x.message})}})).apply(this,arguments)}function gs(C,x){return fi.apply(this,arguments)}function fi(){return(fi=(0,fe.Z)(function*(C,x){if(!x&&!C.swRegistration&&(yield ai(C)),x||!C.swRegistration){if(!(x instanceof ServiceWorkerRegistration))throw _r.create("invalid-sw-registration");C.swRegistration=x}})).apply(this,arguments)}function ki(C,x){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,fe.Z)(function*(C,x){x?C.vapidKey=x:C.vapidKey||(C.vapidKey=Fn)})).apply(this,arguments)}function ga(){return(ga=(0,fe.Z)(function*(C,x){if(!navigator)throw _r.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw _r.create("permission-blocked");return yield ki(C,x?.vapidKey),yield gs(C,x?.serviceWorkerRegistration),fa(C)})).apply(this,arguments)}function Ns(C,x,O){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,fe.Z)(function*(C,x,O){const W=Mo(x);(yield C.firebaseDependencies.analyticsProvider.get()).logEvent(W,{message_id:O[xi],message_name:O[_i],message_time:O[no],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Mo(C){switch(C){case as.NOTIFICATION_CLICKED:return"notification_open";case as.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function P(){return(P=(0,fe.Z)(function*(C,x){const O=x.data;if(!O.isFirebaseMessaging)return;C.onMessageHandler&&O.messageType===as.PUSH_RECEIVED&&("function"==typeof C.onMessageHandler?C.onMessageHandler(wi(O)):C.onMessageHandler.next(wi(O)));const W=O.data;pa(W)&&"1"===W[Wo]&&(yield Ns(C,O.messageType,W))})).apply(this,arguments)}const S="@firebase/messaging",U="0.9.19",ee=C=>{const x=new so(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),C.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",O=>function T(C,x){return P.apply(this,arguments)}(x,O)),x},Ne=C=>{const x=C.getProvider("messaging").getImmediate();return{getToken:W=>function xo(C,x){return ga.apply(this,arguments)}(x,W)}};function _t(){return Un.apply(this,arguments)}function Un(){return(Un=(0,fe.Z)(function*(){try{yield(0,ve.eu)()}catch{return!1}return typeof window<"u"&&(0,ve.hl)()&&(0,ve.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Ue(){(0,oe.Xd)(new ne.wA("messaging",ee,"PUBLIC")),(0,oe.Xd)(new ne.wA("messaging-internal",Ne,"PRIVATE")),(0,oe.KN)(S,U),(0,oe.KN)(S,U,"esm2017")}();const Xn="analytics",zr="firebase_id",ma="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",nt="https://www.googletagmanager.com/gtag/js",En=new we.Yd("@firebase/analytics");function ys(C){return Promise.all(C.map(x=>x.catch(O=>O)))}function Ki(C,x){const O=document.createElement("script");O.src=`${nt}?l=${C}&id=${x}`,O.async=!0,document.head.appendChild(O)}function Ut(C,x,O,W,ce,xe){return ea.apply(this,arguments)}function ea(){return(ea=(0,fe.Z)(function*(C,x,O,W,ce,xe){const Ze=W[ce];try{if(Ze)yield x[Ze];else{const Kt=(yield ys(O)).find(ln=>ln.measurementId===ce);Kt&&(yield x[Kt.appId])}}catch(ft){En.error(ft)}C("config",ce,xe)})).apply(this,arguments)}function gt(C,x,O,W,ce){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,fe.Z)(function*(C,x,O,W,ce){try{let xe=[];if(ce&&ce.send_to){let Ze=ce.send_to;Array.isArray(Ze)||(Ze=[Ze]);const ft=yield ys(O);for(const Kt of Ze){const ln=ft.find(Vt=>Vt.measurementId===Kt),dn=ln&&x[ln.appId];if(!dn){xe=[];break}xe.push(dn)}}0===xe.length&&(xe=Object.values(x)),yield Promise.all(xe),C("event",W,ce||{})}catch(xe){En.error(xe)}})).apply(this,arguments)}function bu(C){const x=window.document.getElementsByTagName("script");for(const O of Object.values(x))if(O.src&&O.src.includes(nt)&&O.src.includes(C))return O;return null}const Li=new ve.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Fa=new class su{constructor(x={},O=1e3){this.throttleMetadata=x,this.intervalMillis=O}getThrottleMetadata(x){return this.throttleMetadata[x]}setThrottleMetadata(x,O){this.throttleMetadata[x]=O}deleteThrottleMetadata(x){delete this.throttleMetadata[x]}};function Ua(C){return new Headers({Accept:"application/json","x-goog-api-key":C})}function Cc(C){return va.apply(this,arguments)}function va(){return(va=(0,fe.Z)(function*(C){var x;const{appId:O,apiKey:W}=C,ce={method:"GET",headers:Ua(W)},xe=ma.replace("{app-id}",O),Ze=yield fetch(xe,ce);if(200!==Ze.status&&304!==Ze.status){let ft="";try{const Kt=yield Ze.json();null!==(x=Kt.error)&&void 0!==x&&x.message&&(ft=Kt.error.message)}catch{}throw Li.create("config-fetch-failed",{httpStatus:Ze.status,responseMessage:ft})}return Ze.json()})).apply(this,arguments)}function Ro(C){return rn.apply(this,arguments)}function rn(){return(rn=(0,fe.Z)(function*(C,x=Fa,O){const{appId:W,apiKey:ce,measurementId:xe}=C.options;if(!W)throw Li.create("no-app-id");if(!ce){if(xe)return{measurementId:xe,appId:W};throw Li.create("no-api-key")}const Ze=x.getThrottleMetadata(W)||{backoffCount:0,throttleEndTimeMillis:Date.now()},ft=new Ws;return setTimeout((0,fe.Z)(function*(){ft.abort()}),void 0!==O?O:6e4),Fi({appId:W,apiKey:ce,measurementId:xe},Ze,ft,x)})).apply(this,arguments)}function Fi(C,x,O){return No.apply(this,arguments)}function No(){return(No=(0,fe.Z)(function*(C,{throttleEndTimeMillis:x,backoffCount:O},W,ce=Fa){var xe,Ze;const{appId:ft,measurementId:Kt}=C;try{yield on(W,x)}catch(ln){if(Kt)return En.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Kt} provided in the "measurementId" field in the local Firebase config. [${null===(xe=ln)||void 0===xe?void 0:xe.message}]`),{appId:ft,measurementId:Kt};throw ln}try{const ln=yield Cc(C);return ce.deleteThrottleMetadata(ft),ln}catch(ln){const dn=ln;if(!Xt(dn)){if(ce.deleteThrottleMetadata(ft),Kt)return En.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Kt} provided in the "measurementId" field in the local Firebase config. [${dn?.message}]`),{appId:ft,measurementId:Kt};throw ln}const Vt=503===Number(null===(Ze=dn?.customData)||void 0===Ze?void 0:Ze.httpStatus)?(0,ve.$s)(O,ce.intervalMillis,30):(0,ve.$s)(O,ce.intervalMillis),Zr={throttleEndTimeMillis:Date.now()+Vt,backoffCount:O+1};return ce.setThrottleMetadata(ft,Zr),En.debug(`Calling attemptFetch again in ${Vt} millis`),Fi(C,Zr,W,ce)}})).apply(this,arguments)}function on(C,x){return new Promise((O,W)=>{const ce=Math.max(x-Date.now(),0),xe=setTimeout(O,ce);C.addEventListener(()=>{clearTimeout(xe),W(Li.create("fetch-throttle",{throttleEndTimeMillis:x}))})})}function Xt(C){if(!(C instanceof ve.ZR&&C.customData))return!1;const x=Number(C.customData.httpStatus);return 429===x||500===x||503===x||504===x}class Ws{constructor(){this.listeners=[]}addEventListener(x){this.listeners.push(x)}abort(){this.listeners.forEach(x=>x())}}let Pn,Ps;function Wn(){return(Wn=(0,fe.Z)(function*(C,x,O,W,ce){if(ce&&ce.global)C("event",O,W);else{const xe=yield x;C("event",O,Object.assign(Object.assign({},W),{send_to:xe}))}})).apply(this,arguments)}function _a(C){Ps=C}function ui(C){Pn=C}function au(){return qs.apply(this,arguments)}function qs(){return(qs=(0,fe.Z)(function*(){var C;if(!(0,ve.hl)())return En.warn(Li.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ve.eu)()}catch(x){return En.warn(Li.create("indexeddb-unavailable",{errorInfo:null===(C=x)||void 0===C?void 0:C.toString()}).message),!1}return!0})).apply(this,arguments)}function _s(){return(_s=(0,fe.Z)(function*(C,x,O,W,ce,xe,Ze){var ft;const Kt=Ro(C);Kt.then(Ci=>{O[Ci.measurementId]=Ci.appId,C.options.measurementId&&Ci.measurementId!==C.options.measurementId&&En.warn(`The measurement ID in the local Firebase config (${C.options.measurementId}) does not match the measurement ID fetched from the server (${Ci.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Ci=>En.error(Ci)),x.push(Kt);const ln=au().then(Ci=>{if(Ci)return W.getId()}),[dn,Vt]=yield Promise.all([Kt,ln]);bu(xe)||Ki(xe,dn.measurementId),Ps&&(ce("consent","default",Ps),_a(void 0)),ce("js",new Date);const Zr=null!==(ft=Ze?.config)&&void 0!==ft?ft:{};return Zr.origin="firebase",Zr.update=!0,null!=Vt&&(Zr[zr]=Vt),ce("config",dn.measurementId,Zr),Pn&&(ce("set",Pn),ui(void 0)),dn.measurementId})).apply(this,arguments)}class Mr{constructor(x){this.app=x}_delete(){return delete Te[this.app.options.appId],Promise.resolve()}}let Te={},Is=[];const bi={};let ws,Es,ko="dataLayer",Ds=!1;function lo(C,x,O){!function co(){const C=[];if((0,ve.ru)()&&C.push("This is a browser extension environment."),(0,ve.zI)()||C.push("Cookies are not available."),C.length>0){const x=C.map((W,ce)=>`(${ce+1}) ${W}`).join(" "),O=Li.create("invalid-analytics-context",{errorInfo:x});En.warn(O.message)}}();const W=C.options.appId;if(!W)throw Li.create("no-app-id");if(!C.options.apiKey){if(!C.options.measurementId)throw Li.create("no-api-key");En.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${C.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Te[W])throw Li.create("already-exists",{id:W});if(!Ds){!function Rt(C){let x=[];Array.isArray(window[C])?x=window[C]:window[C]=x}(ko);const{wrappedGtag:xe,gtagCore:Ze}=function Ir(C,x,O,W,ce){let xe=function(...Ze){window[W].push(arguments)};return window[ce]&&"function"==typeof window[ce]&&(xe=window[ce]),window[ce]=function Je(C,x,O,W){function xe(){return(xe=(0,fe.Z)(function*(Ze,ft,Kt){try{"event"===Ze?yield gt(C,x,O,ft,Kt):"config"===Ze?yield Ut(C,x,O,W,ft,Kt):"consent"===Ze?C("consent","update",Kt):C("set",ft)}catch(ln){En.error(ln)}})).apply(this,arguments)}return function ce(Ze,ft,Kt){return xe.apply(this,arguments)}}(xe,C,x,O),{gtagCore:xe,wrappedGtag:window[ce]}}(Te,Is,bi,ko,"gtag");Es=xe,ws=Ze,Ds=!0}return Te[W]=function ta(C,x,O,W,ce,xe,Ze){return _s.apply(this,arguments)}(C,Is,bi,x,ws,ko,O),new Mr(C)}function ra(){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,fe.Z)(function*(){if((0,ve.ru)()||!(0,ve.zI)()||!(0,ve.hl)())return!1;try{return yield(0,ve.eu)()}catch{return!1}})).apply(this,arguments)}const Zi="@firebase/analytics";!function yr(){(0,oe.Xd)(new ne.wA(Xn,(x,{options:O})=>lo(x.getProvider("app").getImmediate(),x.getProvider("installations-internal").getImmediate(),O),"PUBLIC")),(0,oe.Xd)(new ne.wA("analytics-internal",function C(x){try{const O=x.getProvider(Xn).getImmediate();return{logEvent:(W,ce,xe)=>function uu(C,x,O,W){C=(0,ve.m9)(C),function ou(C,x,O,W,ce){return Wn.apply(this,arguments)}(Es,Te[C.app.options.appId],x,O,W).catch(ce=>En.error(ce))}(O,W,ce,xe)}}catch(O){throw Li.create("interop-component-reg-failed",{reason:O})}},"PRIVATE")),(0,oe.KN)(Zi,"0.8.3"),(0,oe.KN)(Zi,"0.8.3","esm2017")}();var Tu=j(727);class Ea extends Tu.w0{constructor(x,O){super()}schedule(x,O=0){return this}}const tn={setInterval(C,x,...O){const{delegate:W}=tn;return W?.setInterval?W.setInterval(C,x,...O):setInterval(C,x,...O)},clearInterval(C){const{delegate:x}=tn;return(x?.clearInterval||clearInterval)(C)},delegate:void 0};var Oo=j(8737);class bs extends Ea{constructor(x,O){super(x,O),this.scheduler=x,this.work=O,this.pending=!1}schedule(x,O=0){var W;if(this.closed)return this;this.state=x;const ce=this.id,xe=this.scheduler;return null!=ce&&(this.id=this.recycleAsyncId(xe,ce,O)),this.pending=!0,this.delay=O,this.id=null!==(W=this.id)&&void 0!==W?W:this.requestAsyncId(xe,this.id,O),this}requestAsyncId(x,O,W=0){return tn.setInterval(x.flush.bind(x,this),W)}recycleAsyncId(x,O,W=0){if(null!=W&&this.delay===W&&!1===this.pending)return O;null!=O&&tn.clearInterval(O)}execute(x,O){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const W=this._execute(x,O);if(W)return W;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(x,O){let ce,W=!1;try{this.work(x)}catch(xe){W=!0,ce=xe||new Error("Scheduled action threw falsy error")}if(W)return this.unsubscribe(),ce}unsubscribe(){if(!this.closed){const{id:x,scheduler:O}=this,{actions:W}=O;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Oo.P)(W,this),null!=x&&(this.id=this.recycleAsyncId(O,x,null)),this.delay=null,super.unsubscribe()}}}const fo={now:()=>(fo.delegate||Date).now(),delegate:void 0};class qr{constructor(x,O=qr.now){this.schedulerActionCtor=x,this.now=O}schedule(x,O=0,W){return new this.schedulerActionCtor(this,x).schedule(W,O)}}qr.now=fo.now;class Xr extends qr{constructor(x,O=qr.now){super(x,O),this.actions=[],this._active=!1}flush(x){const{actions:O}=this;if(this._active)return void O.push(x);let W;this._active=!0;do{if(W=x.execute(x.state,x.delay))break}while(x=O.shift());if(this._active=!1,W){for(;x=O.shift();)x.unsubscribe();throw W}}}const ks=new class Da extends Xr{}(class Sc extends bs{constructor(x,O){super(x,O),this.scheduler=x,this.work=O}schedule(x,O=0){return O>0?super.schedule(x,O):(this.delay=O,this.state=x,this.scheduler.flush(this),this)}execute(x,O){return O>0||this.closed?super.execute(x,O):this._execute(x,O)}requestAsyncId(x,O,W=0){return null!=W&&W>0||null==W&&this.delay>0?super.requestAsyncId(x,O,W):(x.flush(this),0)}}),Ti=new Xr(bs);var po=j(9751),go=j(8505),y=j(9468),v=j(5363);const g=new M.GfV("7.4.1"),D="__angularfire_symbol__analyticsIsSupportedValue",A="__angularfire_symbol__analyticsIsSupported",L="__angularfire_symbol__remoteConfigIsSupportedValue",q="__angularfire_symbol__remoteConfigIsSupported",Z="__angularfire_symbol__messagingIsSupportedValue",Me="__angularfire_symbol__messagingIsSupported";function gi(C,x,O){if(x){if(1===x.length)return x[0];const xe=x.filter(Ze=>Ze.app===O);if(1===xe.length)return xe[0]}return O.container.getProvider(C).getImmediate({optional:!0})}globalThis[A]||(globalThis[A]=ra().then(C=>globalThis[D]=C).catch(()=>globalThis[D]=!1)),globalThis[Me]||(globalThis[Me]=_t().then(C=>globalThis[Z]=C).catch(()=>globalThis[Z]=!1)),globalThis[q]||(globalThis[q]=Hi().then(C=>globalThis[L]=C).catch(()=>globalThis[L]=!1));const Ji=(C,x)=>{const O=x?[x]:(0,z.C6)(),W=[];return O.forEach(ce=>{ce.container.getProvider(C).instances.forEach(Ze=>{W.includes(Ze)||W.push(Ze)})}),W};function Ui(){}class Kr{constructor(x,O=ks){this.zone=x,this.delegate=O}now(){return this.delegate.now()}schedule(x,O,W){const ce=this.zone;return this.delegate.schedule(function(Ze){ce.runGuarded(()=>{x.apply(this,[Ze])})},O,W)}}class Cr{constructor(x){this.zone=x,this.task=null}call(x,O){const W=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ui,{},Ui,Ui)),O.pipe((0,go.b)({next:W,complete:W,error:W})).subscribe(x).add(W)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let mo=(()=>{class C{constructor(O){this.ngZone=O,this.outsideAngular=O.runOutsideAngular(()=>new Kr(Zone.current)),this.insideAngular=O.run(()=>new Kr(Zone.current,Ti)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return C.\u0275fac=function(O){return new(O||C)(M.LFG(M.R0b))},C.\u0275prov=M.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function qn(){const C=globalThis.\u0275AngularFireScheduler;if(!C)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return C}function Ac(C){return qn().ngZone.runOutsideAngular(()=>C())}function Lo(C){return qn().ngZone.run(()=>C())}function Os(C){return qn(),function Ju(C){return function(O){return(O=O.lift(new Cr(C.ngZone))).pipe((0,y.R)(C.outsideAngular),(0,v.Q)(C.insideAngular))}}(qn())(C)}const Rr=(C,x)=>function(){const W=arguments;return x&&setTimeout(()=>{"scheduled"===x.state&&x.invoke()},10),Lo(()=>C.apply(void 0,W))},cu=(C,x)=>function(){let O;const W=arguments;for(let xe=0;xe<arguments.length;xe++)"function"==typeof W[xe]&&(x&&(O||(O=Lo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ui,{},Ui,Ui)))),W[xe]=Rr(W[xe],O));const ce=Ac(()=>C.apply(this,W));if(!x){if(ce instanceof po.y){const xe=qn();return ce.pipe((0,y.R)(xe.outsideAngular),(0,v.Q)(xe.insideAngular))}return Lo(()=>ce)}return ce instanceof po.y?ce.pipe(Os):ce instanceof Promise?Lo(()=>new Promise((xe,Ze)=>ce.then(ft=>Lo(()=>xe(ft)),ft=>Lo(()=>Ze(ft))))):"function"==typeof ce&&O?function(){return setTimeout(()=>{O&&"scheduled"===O.state&&O.invoke()},10),ce.apply(this,arguments)}:Lo(()=>ce)}},2090:(Zt,Ye,j)=>{j.d(Ye,{$s:()=>ut,BH:()=>Zn,L:()=>me,LL:()=>gn,P0:()=>Oe,Pz:()=>Ht,Sg:()=>Nt,US:()=>ne,ZR:()=>An,aH:()=>ct,b$:()=>At,eu:()=>je,hl:()=>mt,m9:()=>pn,ne:()=>jr,pd:()=>ti,q4:()=>He,ru:()=>Lt,tV:()=>$e,uI:()=>be,vZ:()=>St,w1:()=>dt,xO:()=>$r,xb:()=>nr,z$:()=>Ge,zI:()=>ge,zd:()=>ar});const oe=function(Q){const Y=[];let ue=0;for(let Le=0;Le<Q.length;Le++){let Ae=Q.charCodeAt(Le);Ae<128?Y[ue++]=Ae:Ae<2048?(Y[ue++]=Ae>>6|192,Y[ue++]=63&Ae|128):55296==(64512&Ae)&&Le+1<Q.length&&56320==(64512&Q.charCodeAt(Le+1))?(Ae=65536+((1023&Ae)<<10)+(1023&Q.charCodeAt(++Le)),Y[ue++]=Ae>>18|240,Y[ue++]=Ae>>12&63|128,Y[ue++]=Ae>>6&63|128,Y[ue++]=63&Ae|128):(Y[ue++]=Ae>>12|224,Y[ue++]=Ae>>6&63|128,Y[ue++]=63&Ae|128)}return Y},ne={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Q,Y){if(!Array.isArray(Q))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ue=Y?this.byteToCharMapWebSafe_:this.byteToCharMap_,Le=[];for(let Ae=0;Ae<Q.length;Ae+=3){const Dt=Q[Ae],$t=Ae+1<Q.length,mn=$t?Q[Ae+1]:0,gr=Ae+2<Q.length,rr=gr?Q[Ae+2]:0;let H=(15&mn)<<2|rr>>6,_e=63&rr;gr||(_e=64,$t||(H=64)),Le.push(ue[Dt>>2],ue[(3&Dt)<<4|mn>>4],ue[H],ue[_e])}return Le.join("")},encodeString(Q,Y){return this.HAS_NATIVE_SUPPORT&&!Y?btoa(Q):this.encodeByteArray(oe(Q),Y)},decodeString(Q,Y){return this.HAS_NATIVE_SUPPORT&&!Y?atob(Q):function(Q){const Y=[];let ue=0,Le=0;for(;ue<Q.length;){const Ae=Q[ue++];if(Ae<128)Y[Le++]=String.fromCharCode(Ae);else if(Ae>191&&Ae<224){const Dt=Q[ue++];Y[Le++]=String.fromCharCode((31&Ae)<<6|63&Dt)}else if(Ae>239&&Ae<365){const gr=((7&Ae)<<18|(63&Q[ue++])<<12|(63&Q[ue++])<<6|63&Q[ue++])-65536;Y[Le++]=String.fromCharCode(55296+(gr>>10)),Y[Le++]=String.fromCharCode(56320+(1023&gr))}else{const Dt=Q[ue++],$t=Q[ue++];Y[Le++]=String.fromCharCode((15&Ae)<<12|(63&Dt)<<6|63&$t)}}return Y.join("")}(this.decodeStringToByteArray(Q,Y))},decodeStringToByteArray(Q,Y){this.init_();const ue=Y?this.charToByteMapWebSafe_:this.charToByteMap_,Le=[];for(let Ae=0;Ae<Q.length;){const Dt=ue[Q.charAt(Ae++)],mn=Ae<Q.length?ue[Q.charAt(Ae)]:0;++Ae;const rr=Ae<Q.length?ue[Q.charAt(Ae)]:64;++Ae;const X=Ae<Q.length?ue[Q.charAt(Ae)]:64;if(++Ae,null==Dt||null==mn||null==rr||null==X)throw Error();Le.push(Dt<<2|mn>>4),64!==rr&&(Le.push(mn<<4&240|rr>>2),64!==X&&Le.push(rr<<6&192|X))}return Le},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Q=0;Q<this.ENCODED_VALS.length;Q++)this.byteToCharMap_[Q]=this.ENCODED_VALS.charAt(Q),this.charToByteMap_[this.byteToCharMap_[Q]]=Q,this.byteToCharMapWebSafe_[Q]=this.ENCODED_VALS_WEBSAFE.charAt(Q),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Q]]=Q,Q>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Q)]=Q,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Q)]=Q)}}},me=function(Q){return function(Q){const Y=oe(Q);return ne.encodeByteArray(Y,!0)}(Q).replace(/\./g,"")},$e=function(Q){try{return ne.decodeString(Q,!0)}catch(Y){console.error("base64Decode failed: ",Y)}return null};function Ge(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function be(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ge())}function Lt(){const Q="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Q&&void 0!==Q.id}function At(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function dt(){const Q=Ge();return Q.indexOf("MSIE ")>=0||Q.indexOf("Trident/")>=0}function mt(){return"object"==typeof indexedDB}function je(){return new Promise((Q,Y)=>{try{let ue=!0;const Le="validate-browser-context-for-indexeddb-analytics-module",Ae=self.indexedDB.open(Le);Ae.onsuccess=()=>{Ae.result.close(),ue||self.indexedDB.deleteDatabase(Le),Q(!0)},Ae.onupgradeneeded=()=>{ue=!1},Ae.onerror=()=>{var Dt;Y((null===(Dt=Ae.error)||void 0===Dt?void 0:Dt.message)||"")}}catch(ue){Y(ue)}})}function ge(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const le=()=>{try{return function et(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Q=process.env.__FIREBASE_DEFAULTS__;return Q?JSON.parse(Q):void 0})()||(()=>{if(typeof document>"u")return;let Q;try{Q=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const Y=Q&&$e(Q[1]);return Y&&JSON.parse(Y)})()}catch(Q){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Q}`)}},He=Q=>{var Y,ue;return null===(ue=null===(Y=le())||void 0===Y?void 0:Y.emulatorHosts)||void 0===ue?void 0:ue[Q]},Oe=Q=>{const Y=He(Q);if(!Y)return;const ue=Y.lastIndexOf(":");if(ue<=0||ue+1===Y.length)throw new Error(`Invalid host ${Y} with no separate hostname and port!`);const Le=parseInt(Y.substring(ue+1),10);return"["===Y[0]?[Y.substring(1,ue-1),Le]:[Y.substring(0,ue),Le]},ct=()=>{var Q;return null===(Q=le())||void 0===Q?void 0:Q.config},Ht=Q=>{var Y;return null===(Y=le())||void 0===Y?void 0:Y[`_${Q}`]};class Zn{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Y,ue)=>{this.resolve=Y,this.reject=ue})}wrapCallback(Y){return(ue,Le)=>{ue?this.reject(ue):this.resolve(Le),"function"==typeof Y&&(this.promise.catch(()=>{}),1===Y.length?Y(ue):Y(ue,Le))}}}function Nt(Q,Y){if(Q.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Le=Y||"demo-project",Ae=Q.iat||0,Dt=Q.sub||Q.user_id;if(!Dt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const $t=Object.assign({iss:`https://securetoken.google.com/${Le}`,aud:Le,iat:Ae,exp:Ae+3600,auth_time:Ae,sub:Dt,user_id:Dt,firebase:{sign_in_provider:"custom",identities:{}}},Q);return[me(JSON.stringify({alg:"none",type:"JWT"})),me(JSON.stringify($t)),""].join(".")}class An extends Error{constructor(Y,ue,Le){super(ue),this.code=Y,this.customData=Le,this.name="FirebaseError",Object.setPrototypeOf(this,An.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gn.prototype.create)}}class gn{constructor(Y,ue,Le){this.service=Y,this.serviceName=ue,this.errors=Le}create(Y,...ue){const Le=ue[0]||{},Ae=`${this.service}/${Y}`,Dt=this.errors[Y],$t=Dt?function Er(Q,Y){return Q.replace($n,(ue,Le)=>{const Ae=Y[Le];return null!=Ae?String(Ae):`<${Le}?>`})}(Dt,Le):"Error";return new An(Ae,`${this.serviceName}: ${$t} (${Ae}).`,Le)}}const $n=/\{\$([^}]+)}/g;function nr(Q){for(const Y in Q)if(Object.prototype.hasOwnProperty.call(Q,Y))return!1;return!0}function St(Q,Y){if(Q===Y)return!0;const ue=Object.keys(Q),Le=Object.keys(Y);for(const Ae of ue){if(!Le.includes(Ae))return!1;const Dt=Q[Ae],$t=Y[Ae];if(Yn(Dt)&&Yn($t)){if(!St(Dt,$t))return!1}else if(Dt!==$t)return!1}for(const Ae of Le)if(!ue.includes(Ae))return!1;return!0}function Yn(Q){return null!==Q&&"object"==typeof Q}function $r(Q){const Y=[];for(const[ue,Le]of Object.entries(Q))Array.isArray(Le)?Le.forEach(Ae=>{Y.push(encodeURIComponent(ue)+"="+encodeURIComponent(Ae))}):Y.push(encodeURIComponent(ue)+"="+encodeURIComponent(Le));return Y.length?"&"+Y.join("&"):""}function ar(Q){const Y={};return Q.replace(/^\?/,"").split("&").forEach(Le=>{if(Le){const[Ae,Dt]=Le.split("=");Y[decodeURIComponent(Ae)]=decodeURIComponent(Dt)}}),Y}function ti(Q){const Y=Q.indexOf("?");if(!Y)return"";const ue=Q.indexOf("#",Y);return Q.substring(Y,ue>0?ue:void 0)}function jr(Q,Y){const ue=new lt(Q,Y);return ue.subscribe.bind(ue)}class lt{constructor(Y,ue){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ue,this.task.then(()=>{Y(this)}).catch(Le=>{this.error(Le)})}next(Y){this.forEachObserver(ue=>{ue.next(Y)})}error(Y){this.forEachObserver(ue=>{ue.error(Y)}),this.close(Y)}complete(){this.forEachObserver(Y=>{Y.complete()}),this.close()}subscribe(Y,ue,Le){let Ae;if(void 0===Y&&void 0===ue&&void 0===Le)throw new Error("Missing Observer.");Ae=function Bt(Q,Y){if("object"!=typeof Q||null===Q)return!1;for(const ue of Y)if(ue in Q&&"function"==typeof Q[ue])return!0;return!1}(Y,["next","error","complete"])?Y:{next:Y,error:ue,complete:Le},void 0===Ae.next&&(Ae.next=nn),void 0===Ae.error&&(Ae.error=nn),void 0===Ae.complete&&(Ae.complete=nn);const Dt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Ae.error(this.finalError):Ae.complete()}catch{}}),this.observers.push(Ae),Dt}unsubscribeOne(Y){void 0===this.observers||void 0===this.observers[Y]||(delete this.observers[Y],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Y){if(!this.finalized)for(let ue=0;ue<this.observers.length;ue++)this.sendOne(ue,Y)}sendOne(Y,ue){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Y])try{ue(this.observers[Y])}catch(Le){typeof console<"u"&&console.error&&console.error(Le)}})}close(Y){this.finalized||(this.finalized=!0,void 0!==Y&&(this.finalError=Y),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nn(){}function ut(Q,Y=1e3,ue=2){const Le=Y*Math.pow(ue,Q),Ae=Math.round(.5*Le*(Math.random()-.5)*2);return Math.min(144e5,Le+Ae)}function pn(Q){return Q&&Q._delegate?Q._delegate:Q}},3543:(Zt,Ye,j)=>{var M=j(1481),z=j(8256),fe=j(6557);const oe=[{path:"login",loadChildren:()=>Promise.all([j.e(21),j.e(628)]).then(j.bind(j,2628)).then(Ie=>Ie.LoginModule)},{path:"home",loadChildren:()=>Promise.all([j.e(21),j.e(51)]).then(j.bind(j,4051)).then(Ie=>Ie.HomeModule)},{path:"",redirectTo:"login",pathMatch:"full"}];let ve=(()=>{class Ie{}return Ie.\u0275fac=function(be){return new(be||Ie)},Ie.\u0275mod=z.oAB({type:Ie}),Ie.\u0275inj=z.cJS({imports:[fe.Bz.forRoot(oe),fe.Bz]}),Ie})(),ne=(()=>{class Ie{constructor(){this.title="clinica-online"}}return Ie.\u0275fac=function(be){return new(be||Ie)},Ie.\u0275cmp=z.Xpm({type:Ie,selectors:[["app-root"]],decls:4,vars:0,consts:[[2,"margin","0px"]],template:function(be,ht){1&be&&(z.TgZ(0,"html"),z._UZ(1,"head"),z.TgZ(2,"body",0),z._UZ(3,"router-outlet"),z.qZA()())},dependencies:[fe.lC]}),Ie})();var we=j(3692);const me_firebase={projectId:"clinica-online-c4792",appId:"1:408788974803:web:450e17ef1940a19ea0e826",storageBucket:"clinica-online-c4792.appspot.com",apiKey:"AIzaSyDsYnDtvLTjFRgmUaM2pK3qVezZtb6McBM",authDomain:"clinica-online-c4792.firebaseapp.com",messagingSenderId:"408788974803"};var $e=j(9201),K=j(7554);let re=(()=>{class Ie{constructor(){}}return Ie.\u0275fac=function(be){return new(be||Ie)},Ie.\u0275mod=z.oAB({type:Ie,bootstrap:[ne]}),Ie.\u0275inj=z.cJS({imports:[M.b2,ve,(0,we.hX)(()=>(0,we.ZF)(me_firebase)),(0,$e.AR)(()=>(0,$e.v0)()),(0,K.Cm)(()=>(0,K.ad)())]}),Ie})();(0,z.G48)(),M.q6().bootstrapModule(re).catch(Ie=>console.error(Ie))},5867:(Zt,Ye,j)=>{j.d(Ye,{C6:()=>M.C6,KN:()=>M.KN,Mq:()=>M.Mq,ZF:()=>M.ZF});var M=j(9681);(0,M.KN)("firebase","9.12.1","app")},3209:(Zt,Ye,j)=>{j.d(Ye,{ET:()=>Qg,hJ:()=>Vg,JU:()=>Bg,PL:()=>qv,ad:()=>ep,r7:()=>xy});var me,M=j(5861),z=j(9681),fe=j(4859),oe=j(1877),ve=j(2090),ne=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},we={},$e=$e||{},K=ne||self;function re(){}function Ie(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function Ge(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var ht="closure_uid_"+(1e9*Math.random()>>>0),wt=0;function Lt(i,e,n){return i.call.apply(i.bind,arguments)}function At(i,e,n){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,o),i.apply(e,u)}}return function(){return i.apply(e,arguments)}}function Mt(i,e,n){return(Mt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Lt:At).apply(null,arguments)}function dt(i,e){var n=Array.prototype.slice.call(arguments,1);return function(){var o=n.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function We(i,e){function n(){}n.prototype=e.prototype,i.X=e.prototype,i.prototype=new n,i.prototype.constructor=i,i.Wb=function(o,u,l){for(var p=Array(arguments.length-2),w=2;w<arguments.length;w++)p[w-2]=arguments[w];return e.prototype[u].apply(o,p)}}function Qe(){this.s=this.s,this.o=this.o}var mt={};Qe.prototype.s=!1,Qe.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function be(i){return Object.prototype.hasOwnProperty.call(i,ht)&&i[ht]||(i[ht]=++wt)}(this);delete mt[i]}},Qe.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const je=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let n=0;n<i.length;n++)if(n in i&&i[n]===e)return n;return-1};function ge(i){const e=i.length;if(0<e){const n=Array(e);for(let o=0;o<e;o++)n[o]=i[o];return n}return[]}function et(i,e){for(let n=1;n<arguments.length;n++){const o=arguments[n];if(Ie(o)){const u=i.length||0,l=o.length||0;i.length=u+l;for(let p=0;p<l;p++)i[u+p]=o[p]}else i.push(o)}}function se(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}se.prototype.h=function(){this.defaultPrevented=!0};var he=function(){if(!K.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{K.addEventListener("test",re,e),K.removeEventListener("test",re,e)}catch{}return i}();function te(i){return/^[\s\xa0]*$/.test(i)}var le=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function He(i,e){return i<e?-1:i>e?1:0}function Oe(){var i=K.navigator;return i&&(i=i.userAgent)?i:""}function ct(i){return-1!=Oe().indexOf(i)}function Ht(i){return Ht[" "](i),i}Ht[" "]=re;var fn,i,Nt=ct("Opera"),Wt=ct("Trident")||ct("MSIE"),An=ct("Edge"),gn=An||Wt,Er=ct("Gecko")&&!(-1!=Oe().toLowerCase().indexOf("webkit")&&!ct("Edge"))&&!(ct("Trident")||ct("MSIE"))&&!ct("Edge"),$n=-1!=Oe().toLowerCase().indexOf("webkit")&&!ct("Edge");function xn(){var i=K.document;return i?i.documentMode:void 0}e:{var Yt="",Or=(i=Oe(),Er?/rv:([^\);]+)(\)|;)/.exec(i):An?/Edge\/([\d\.]+)/.exec(i):Wt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):$n?/WebKit\/(\S+)/.exec(i):Nt?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(Or&&(Yt=Or?Or[1]:""),Wt){var wn=xn();if(null!=wn&&wn>parseFloat(Yt)){fn=String(wn);break e}}fn=Yt}var Gn={};var nr=K.document&&Wt&&(xn()||parseInt(fn,10))||void 0;function Lr(i,e){if(se.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var n=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(Er){e:{try{Ht(e.nodeName);var u=!0;break e}catch{}u=!1}u||(e=null)}}else"mouseover"==n?e=i.fromElement:"mouseout"==n&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:St[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&Lr.X.h.call(this)}}We(Lr,se);var St={2:"touch",3:"pen",4:"mouse"};Lr.prototype.h=function(){Lr.X.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var Yn="closure_listenable_"+(1e6*Math.random()|0),ei=0;function $r(i,e,n,o,u){this.listener=i,this.proxy=null,this.src=e,this.type=n,this.capture=!!o,this.ha=u,this.key=++ei,this.ba=this.ea=!1}function ar(i){i.ba=!0,i.listener=null,i.proxy=null,i.src=null,i.ha=null}function ti(i,e,n){for(const o in i)e.call(n,i[o],o,i)}function Bn(i){const e={};for(const n in i)e[n]=i[n];return e}const jr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function lt(i,e){let n,o;for(let u=1;u<arguments.length;u++){for(n in o=arguments[u],o)i[n]=o[n];for(let l=0;l<jr.length;l++)n=jr[l],Object.prototype.hasOwnProperty.call(o,n)&&(i[n]=o[n])}}function bt(i){this.src=i,this.g={},this.h=0}function Bt(i,e){var n=e.type;if(n in i.g){var l,o=i.g[n],u=je(o,e);(l=0<=u)&&Array.prototype.splice.call(o,u,1),l&&(ar(e),0==i.g[n].length&&(delete i.g[n],i.h--))}}function nn(i,e,n,o){for(var u=0;u<i.length;++u){var l=i[u];if(!l.ba&&l.listener==e&&l.capture==!!n&&l.ha==o)return u}return-1}bt.prototype.add=function(i,e,n,o,u){var l=i.toString();(i=this.g[l])||(i=this.g[l]=[],this.h++);var p=nn(i,e,o,u);return-1<p?(e=i[p],n||(e.ea=!1)):((e=new $r(e,this.src,l,!!o,u)).ea=n,i.push(e)),e};var er="closure_lm_"+(1e6*Math.random()|0),Mn={};function sr(i,e,n,o,u){if(o&&o.once)return On(i,e,n,o,u);if(Array.isArray(e)){for(var l=0;l<e.length;l++)sr(i,e[l],n,o,u);return null}return n=ut(n),i&&i[Yn]?i.N(e,n,Ge(o)?!!o.capture:!!o,u):Dn(i,e,n,!1,o,u)}function Dn(i,e,n,o,u,l){if(!e)throw Error("Invalid event type");var p=Ge(u)?!!u.capture:!!u,w=it(i);if(w||(i[er]=w=new bt(i)),(n=w.add(e,n,o,p,l)).proxy)return n;if(o=function Dr(){const e=xr;return function i(n){return e.call(i.src,i.listener,n)}}(),n.proxy=o,o.src=i,o.listener=n,i.addEventListener)he||(u=p),void 0===u&&(u=!1),i.addEventListener(e.toString(),o,u);else if(i.attachEvent)i.attachEvent(vi(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return n}function On(i,e,n,o,u){if(Array.isArray(e)){for(var l=0;l<e.length;l++)On(i,e[l],n,o,u);return null}return n=ut(n),i&&i[Yn]?i.O(e,n,Ge(o)?!!o.capture:!!o,u):Dn(i,e,n,!0,o,u)}function Ar(i,e,n,o,u){if(Array.isArray(e))for(var l=0;l<e.length;l++)Ar(i,e[l],n,o,u);else o=Ge(o)?!!o.capture:!!o,n=ut(n),i&&i[Yn]?(i=i.i,(e=String(e).toString())in i.g&&-1<(n=nn(l=i.g[e],n,o,u))&&(ar(l[n]),Array.prototype.splice.call(l,n,1),0==l.length&&(delete i.g[e],i.h--))):i&&(i=it(i))&&(e=i.g[e.toString()],i=-1,e&&(i=nn(e,n,o,u)),(n=-1<i?e[i]:null)&&Ft(n))}function Ft(i){if("number"!=typeof i&&i&&!i.ba){var e=i.src;if(e&&e[Yn])Bt(e.i,i);else{var n=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(n,o,i.capture):e.detachEvent?e.detachEvent(vi(n),o):e.addListener&&e.removeListener&&e.removeListener(o),(n=it(e))?(Bt(n,i),0==n.h&&(n.src=null,e[er]=null)):ar(i)}}}function vi(i){return i in Mn?Mn[i]:Mn[i]="on"+i}function xr(i,e){if(i.ba)i=!0;else{e=new Lr(e,this);var n=i.listener,o=i.ha||i.src;i.ea&&Ft(i),i=n.call(o,e)}return i}function it(i){return(i=i[er])instanceof bt?i:null}var Ce="__closure_events_fn_"+(1e9*Math.random()>>>0);function ut(i){return"function"==typeof i?i:(i[Ce]||(i[Ce]=function(e){return i.handleEvent(e)}),i[Ce])}function Xe(){Qe.call(this),this.i=new bt(this),this.P=this,this.I=null}function Tt(i,e){var n,o=i.I;if(o)for(n=[];o;o=o.I)n.push(o);if(i=i.P,o=e.type||e,"string"==typeof e)e=new se(e,i);else if(e instanceof se)e.target=e.target||i;else{var u=e;lt(e=new se(o,i),u)}if(u=!0,n)for(var l=n.length-1;0<=l;l--){var p=e.g=n[l];u=pn(p,o,!0,e)&&u}if(u=pn(p=e.g=i,o,!0,e)&&u,u=pn(p,o,!1,e)&&u,n)for(l=0;l<n.length;l++)u=pn(p=e.g=n[l],o,!1,e)&&u}function pn(i,e,n,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var u=!0,l=0;l<e.length;++l){var p=e[l];if(p&&!p.ba&&p.capture==n){var w=p.listener,R=p.ha||p.src;p.ea&&Bt(i.i,p),u=!1!==w.call(R,o)&&u}}return u&&!o.defaultPrevented}We(Xe,Qe),Xe.prototype[Yn]=!0,Xe.prototype.removeEventListener=function(i,e,n,o){Ar(this,i,e,n,o)},Xe.prototype.M=function(){if(Xe.X.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var n=i.g[e],o=0;o<n.length;o++)ar(n[o]);delete i.g[e],i.h--}}this.I=null},Xe.prototype.N=function(i,e,n,o){return this.i.add(String(i),e,!1,n,o)},Xe.prototype.O=function(i,e,n,o){return this.i.add(String(i),e,!0,n,o)};var Q=K.JSON.stringify;function Y(){var i=ye;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var mn,Le=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new Ae,i=>i.reset());class Ae{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Dt(i){K.setTimeout(()=>{throw i},0)}function $t(i,e){mn||function gr(){var i=K.Promise.resolve(void 0);mn=function(){i.then(X)}}(),rr||(mn(),rr=!0),ye.add(i,e)}var rr=!1,ye=new class ue{constructor(){this.h=this.g=null}add(e,n){const o=Le.get();o.set(e,n),this.h?this.h.next=o:this.g=o,this.h=o}};function X(){for(var i;i=Y();){try{i.h.call(i.g)}catch(n){Dt(n)}var e=Le;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}rr=!1}function H(i,e){Xe.call(this),this.h=i||1,this.g=e||K,this.j=Mt(this.lb,this),this.l=Date.now()}function _e(i){i.ca=!1,i.R&&(i.g.clearTimeout(i.R),i.R=null)}function ke(i,e,n){if("function"==typeof i)n&&(i=Mt(i,n));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=Mt(i.handleEvent,i)}return 2147483647<Number(e)?-1:K.setTimeout(i,e||0)}function Ot(i){i.g=ke(()=>{i.g=null,i.i&&(i.i=!1,Ot(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}We(H,Xe),(me=H.prototype).ca=!1,me.R=null,me.lb=function(){if(this.ca){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-i):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Tt(this,"tick"),this.ca&&(_e(this),this.start()))}},me.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},me.M=function(){H.X.M.call(this),_e(this),delete this.g};class jt extends Qe{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Ot(this)}M(){super.M(),this.g&&(K.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _n(i){Qe.call(this),this.h=i,this.g={}}We(_n,Qe);var st=[];function qt(i,e,n,o){Array.isArray(n)||(n&&(st[0]=n.toString()),n=st);for(var u=0;u<n.length;u++){var l=sr(e,n[u],o||i.handleEvent,!1,i.h||i);if(!l)break;i.g[l.key]=l}}function Ln(i){ti(i.g,function(e,n){this.g.hasOwnProperty(n)&&Ft(e)},i),i.g={}}function vr(){this.g=!0}function Fr(i,e,n,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function ni(i,e){if(!i.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(i=0;i<n.length;i++)if(Array.isArray(n[i])){var o=n[i];if(!(2>o.length)){var u=o[1];if(Array.isArray(u)&&!(1>u.length)){var l=u[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var p=1;p<u.length;p++)u[p]=""}}}return Q(n)}catch{return e}}(i,n)+(o?" "+o:"")})}_n.prototype.M=function(){_n.X.M.call(this),Ln(this)},_n.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},vr.prototype.Aa=function(){this.g=!1},vr.prototype.info=function(){};var Hr={},an=null;function br(){return an=an||new Xe}function is(i){se.call(this,Hr.Pa,i)}function ss(i){const e=br();Tt(e,new is(e,i))}function ci(i,e){se.call(this,Hr.STAT_EVENT,i),this.stat=e}function In(i){const e=br();Tt(e,new ci(e,i))}function ri(i,e){se.call(this,Hr.Qa,i),this.size=e}function ii(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return K.setTimeout(function(){i()},e)}Hr.Pa="serverreachability",We(is,se),Hr.STAT_EVENT="statevent",We(ci,se),Hr.Qa="timingevent",We(ri,se);var Ur={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},de={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function ae(){}function Fe(){}ae.prototype.h=null;var Qn,tt={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function vt(){se.call(this,"d")}function un(){se.call(this,"c")}function Nn(){}function ir(i,e,n,o){this.l=i,this.j=e,this.m=n,this.U=o||1,this.S=new _n(this),this.O=Xs,this.T=new H(i=gn?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new mr}function mr(){this.i=null,this.g="",this.h=!1}We(vt,se),We(un,se),We(Nn,ae),Nn.prototype.g=function(){return new XMLHttpRequest},Nn.prototype.i=function(){return{}},Qn=new Nn;var Xs=45e3,Tr={},jn={};function Js(i,e,n){i.K=1,i.v=wo(Hi(e)),i.s=n,i.P=!0,dr(i,null)}function dr(i,e){i.F=Date.now(),Ai(i),i.A=Hi(i.v);var n=i.A,o=i.U;Array.isArray(o)||(o=[String(o)]),xs(n.i,"t",o),i.C=0,n=i.l.H,i.h=new mr,i.g=T(i.l,n?e:null,!i.s),0<i.N&&(i.L=new jt(Mt(i.La,i,i.g),i.N)),qt(i.S,i.g,"readystatechange",i.ib),e=i.H?Bn(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.da(i.A,i.u,i.s,e)):(i.u="GET",i.g.da(i.A,i.u,null,e)),ss(1),function rs(i,e,n,o,u,l){i.info(function(){if(i.g)if(l)for(var p="",w=l.split("&"),R=0;R<w.length;R++){var k=w[R].split("=");if(1<k.length){var B=k[0];k=k[1];var J=B.split("_");p=2<=J.length&&"type"==J[1]?p+(B+"=")+k+"&":p+(B+"=redacted&")}}else p=null;else p=l;return"XMLHTTP REQ ("+o+") [attempt "+u+"]: "+e+"\n"+n+"\n"+p})}(i.j,i.u,i.A,i.m,i.U,i.s)}function Ss(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Da}function si(i,e,n){let u,o=!0;for(;!i.I&&i.C<n.length;){if(u=Io(i,n),u==jn){4==e&&(i.o=4,In(14),o=!1),Fr(i.j,i.m,null,"[Incomplete Response]");break}if(u==Tr){i.o=4,In(15),Fr(i.j,i.m,n,"[Invalid Chunk]"),o=!1;break}Fr(i.j,i.m,u,null),zo(i,u)}Ss(i)&&u!=jn&&u!=Tr&&(i.h.g="",i.C=0),4!=e||0!=n.length||i.h.h||(i.o=1,In(16),o=!1),i.i=i.i&&o,o?0<n.length&&!i.$&&(i.$=!0,(e=i.l).g==i&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),fi(e),e.K=!0,In(11))):(Fr(i.j,i.m,n,"[Invalid Chunked Response]"),eo(i),li(i))}function Io(i,e){var n=i.C,o=e.indexOf("\n",n);return-1==o?jn:(n=Number(e.substring(n,o)),isNaN(n)?Tr:(o+=1)+n>e.length?jn:(e=e.substr(o,n),i.C=o+n,e))}function Ai(i){i.V=Date.now()+i.O,Go(i,i.O)}function Go(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=ii(Mt(i.gb,i),e)}function $s(i){i.B&&(K.clearTimeout(i.B),i.B=null)}function li(i){0==i.l.G||i.I||xo(i.l,i)}function eo(i){$s(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,_e(i.T),Ln(i.S),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function zo(i,e){try{var n=i.l;if(0!=n.G&&(n.g==i||Ko(n.h,i)))if(!i.J&&Ko(n.h,i)&&3==n.G){try{var o=n.Fa.g.parse(e)}catch{o=null}if(Array.isArray(o)&&3==o.length){var u=o;if(0==u[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<i.F))break e;Ao(n),ps(n)}gs(n),In(18)}}else n.Ba=u[1],0<n.Ba-n.T&&37500>u[2]&&n.L&&0==n.A&&!n.v&&(n.v=ii(Mt(n.cb,n),6e3));if(1>=Do(n.h)&&n.ja){try{n.ja()}catch{}n.ja=void 0}}else Ns(n,11)}else if((i.J||n.g==i)&&Ao(n),!te(e))for(u=n.Fa.g.parse(e),e=0;e<u.length;e++){let k=u[e];if(n.T=k[0],k=k[1],2==n.G)if("c"==k[0]){n.I=k[1],n.ka=k[2];const B=k[3];null!=B&&(n.ma=B,n.j.info("VER="+n.ma));const J=k[4];null!=J&&(n.Ca=J,n.j.info("SVER="+n.Ca));const Se=k[5];null!=Se&&"number"==typeof Se&&0<Se&&(n.J=o=1.5*Se,n.j.info("backChannelRequestTimeoutMs_="+o)),o=n;const Ve=i.g;if(Ve){const Ke=Ve.g?Ve.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ke){var l=o.h;l.g||-1==Ke.indexOf("spdy")&&-1==Ke.indexOf("quic")&&-1==Ke.indexOf("h2")||(l.j=l.l,l.g=new Set,l.h&&(cn(l,l.h),l.h=null))}if(o.D){const Ct=Ve.g?Ve.g.getResponseHeader("X-HTTP-Session-Id"):null;Ct&&(o.za=Ct,Fn(o.F,o.D,Ct))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-i.F,n.j.info("Handshake RTT: "+n.P+"ms"));var p=i;if((o=n).sa=Mo(o,o.H?o.ka:null,o.V),p.J){Ms(o.h,p);var w=p,R=o.J;R&&w.setTimeout(R),w.B&&($s(w),Ai(w)),o.g=p}else Pi(o);0<n.i.length&&So(n)}else"stop"!=k[0]&&"close"!=k[0]||Ns(n,7);else 3==n.G&&("stop"==k[0]||"close"==k[0]?"stop"==k[0]?Ns(n,7):Ni(n):"noop"!=k[0]&&n.l&&n.l.wa(k),n.A=0)}ss(4)}catch{}}function nu(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(Ie(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var n=function Oa(i){if(i.oa&&"function"==typeof i.oa)return i.oa();if(!i.W||"function"!=typeof i.W){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(Ie(i)||"string"==typeof i){var e=[];i=i.length;for(var n=0;n<i;n++)e.push(n);return e}e=[],n=0;for(const o in i)e[n++]=o;return e}}}(i),o=function wu(i){if(i.W&&"function"==typeof i.W)return i.W();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(Ie(i)){for(var e=[],n=i.length,o=0;o<n;o++)e.push(i[o]);return e}for(o in e=[],n=0,i)e[n++]=i[o];return e}(i),u=o.length,l=0;l<u;l++)e.call(void 0,o[l],n&&n[l],i)}(me=ir.prototype).setTimeout=function(i){this.O=i},me.ib=function(i){i=i.target;const e=this.L;e&&3==Jt(i)?e.l():this.La(i)},me.La=function(i){try{if(i==this.g)e:{const B=Jt(this.g);var e=this.g.Ea();const J=this.g.aa();if(!(3>B)&&(3!=B||gn||this.g&&(this.h.h||this.g.fa()||Xi(this.g)))){this.I||4!=B||7==e||ss(8==e||0>=J?3:2),$s(this);var n=this.g.aa();this.Y=n;t:if(Ss(this)){var o=Xi(this.g);i="";var u=o.length,l=4==Jt(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){eo(this),li(this);var p="";break t}this.h.i=new K.TextDecoder}for(e=0;e<u;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:l&&e==u-1});o.splice(0,u),this.h.g+=i,this.C=0,p=this.h.g}else p=this.g.fa();if(this.i=200==n,function ur(i,e,n,o,u,l,p){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+u+"]: "+e+"\n"+n+"\n"+l+" "+p})}(this.j,this.u,this.A,this.m,this.U,B,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var w,R=this.g;if((w=R.g?R.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!te(w)){var k=w;break t}}k=null}if(!(n=k)){this.i=!1,this.o=3,In(12),eo(this),li(this);break e}Fr(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,zo(this,n)}this.P?(si(this,B,p),gn&&this.i&&3==B&&(qt(this.S,this.T,"tick",this.hb),this.T.start())):(Fr(this.j,this.m,p,null),zo(this,p)),4==B&&eo(this),this.i&&!this.I&&(4==B?xo(this.l,this):(this.i=!1,Ai(this)))}else 400==n&&0<p.indexOf("Unknown SID")?(this.o=3,In(12)):(this.o=0,In(13)),eo(this),li(this)}}}catch{}},me.hb=function(){if(this.g){var i=Jt(this.g),e=this.g.fa();this.C<e.length&&($s(this),si(this,i,e),this.i&&4!=i&&Ai(this))}},me.cancel=function(){this.I=!0,eo(this)},me.gb=function(){this.B=null;const i=Date.now();0<=i-this.V?(function yn(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(ss(3),In(17)),eo(this),this.o=2,li(this)):Go(this,this.V-i)};var da=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function As(i,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof As){this.h=void 0!==e?e:i.h,Gi(this,i.j),this.s=i.s,this.g=i.g,to(this,i.m),this.l=i.l,e=i.i;var n=new Mi;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),os(this,n),this.o=i.o}else i&&(n=String(i).match(da))?(this.h=!!e,Gi(this,n[1]||"",!0),this.s=xi(n[2]||""),this.g=xi(n[3]||"",!0),to(this,n[4]),this.l=xi(n[5]||"",!0),os(this,n[6]||"",!0),this.o=xi(n[7]||"")):(this.h=!!e,this.i=new Mi(null,this.h))}function Hi(i){return new As(i)}function Gi(i,e,n){i.j=n?xi(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function to(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function os(i,e,n){e instanceof Mi?(i.i=e,function Ri(i,e){e&&!i.j&&(us(i),i.i=null,i.g.forEach(function(n,o){var u=o.toLowerCase();o!=u&&(js(this,o),xs(this,u,n))},i)),i.j=e}(i.i,i.h)):(n||(e=_i(e,zi)),i.i=new Mi(e,i.h))}function Fn(i,e,n){i.i.set(e,n)}function wo(i){return Fn(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function xi(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function _i(i,e,n){return"string"==typeof i?(i=encodeURI(i).replace(e,no),n&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function no(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}As.prototype.toString=function(){var i=[],e=this.j;e&&i.push(_i(e,Wo,!0),":");var n=this.g;return(n||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(_i(e,Wo,!0),"@"),i.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&i.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&i.push("/"),i.push(_i(n,"/"==n.charAt(0)?as:Eo,!0))),(n=this.i.toString())&&i.push("?",n),(n=this.o)&&i.push("#",_i(n,qo)),i.join("")};var Wo=/[#\/\?@]/g,Eo=/[#\?:]/g,as=/[#\?]/g,zi=/[#\?@]/g,qo=/#/g;function Mi(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function us(i){i.g||(i.g=new Map,i.h=0,i.i&&function Eu(i,e){if(i){i=i.split("&");for(var n=0;n<i.length;n++){var o=i[n].indexOf("="),u=null;if(0<=o){var l=i[n].substring(0,o);u=i[n].substring(o+1)}else l=i[n];e(l,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(i.i,function(e,n){i.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function js(i,e){us(i),e=cs(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function ru(i,e){return us(i),e=cs(i,e),i.g.has(e)}function xs(i,e,n){js(i,e),0<n.length&&(i.i=null,i.g.set(cs(i,e),ge(n)),i.h+=n.length)}function cs(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function Wi(i){this.l=i||ro,i=K.PerformanceNavigationTiming?0<(i=K.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(K.g&&K.g.Ga&&K.g.Ga()&&K.g.Ga().$b),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(me=Mi.prototype).add=function(i,e){us(this),this.i=null,i=cs(this,i);var n=this.g.get(i);return n||this.g.set(i,n=[]),n.push(e),this.h+=1,this},me.forEach=function(i,e){us(this),this.g.forEach(function(n,o){n.forEach(function(u){i.call(e,u,o,this)},this)},this)},me.oa=function(){us(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let o=0;o<e.length;o++){const u=i[o];for(let l=0;l<u.length;l++)n.push(e[o])}return n},me.W=function(i){us(this);let e=[];if("string"==typeof i)ru(this,i)&&(e=e.concat(this.g.get(cs(this,i))));else{i=Array.from(this.g.values());for(let n=0;n<i.length;n++)e=e.concat(i[n])}return e},me.set=function(i,e){return us(this),this.i=null,ru(this,i=cs(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},me.get=function(i,e){return i&&0<(i=this.W(i)).length?String(i[0]):e},me.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var o=e[n];const l=encodeURIComponent(String(o)),p=this.W(o);for(o=0;o<p.length;o++){var u=l;""!==p[o]&&(u+="="+encodeURIComponent(String(p[o]))),i.push(u)}}return this.i=i.join("&")};var ro=10;function ls(i){return!!i.h||!!i.g&&i.g.size>=i.j}function Do(i){return i.h?1:i.g?i.g.size:0}function Ko(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function cn(i,e){i.g?i.g.add(e):i.h=e}function Ms(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function Hs(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const n of i.g.values())e=e.concat(n.D);return e}return ge(i.i)}function ds(){}function Gr(){this.g=new ds}function bo(i,e,n){const o=n||"";try{nu(i,function(u,l){let p=u;Ge(u)&&(p=Q(u)),e.push(o+l+"="+encodeURIComponent(p))})}catch(u){throw e.push(o+"type="+encodeURIComponent("_badmap")),u}}function hs(i,e,n,o,u){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,u(o)}catch{}}function Vr(i){this.l=i.ac||null,this.j=i.jb||!1}function Zo(i,e){Xe.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=fs,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Wi.prototype.cancel=function(){if(this.i=Hs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},ds.prototype.stringify=function(i){return K.JSON.stringify(i,void 0)},ds.prototype.parse=function(i){return K.JSON.parse(i,void 0)},We(Vr,ae),Vr.prototype.g=function(){return new Zo(this.l,this.j)},Vr.prototype.i=function(i){return function(){return i}}({}),We(Zo,Xe);var fs=0;function Gs(i){i.j.read().then(i.Ta.bind(i)).catch(i.ga.bind(i))}function di(i){i.readyState=4,i.l=null,i.j=null,i.A=null,Ii(i)}function Ii(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(me=Zo.prototype).open=function(i,e){if(this.readyState!=fs)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,Ii(this)},me.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||K).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},me.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,di(this)),this.readyState=fs},me.Wa=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,Ii(this)),this.g&&(this.readyState=3,Ii(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof K.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Gs(this)}else i.text().then(this.Va.bind(this),this.ga.bind(this))},me.Ta=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?di(this):Ii(this),3==this.readyState&&Gs(this)}},me.Va=function(i){this.g&&(this.response=this.responseText=i,di(this))},me.Ua=function(i){this.g&&(this.response=i,di(this))},me.ga=function(){this.g&&di(this)},me.setRequestHeader=function(i,e){this.v.append(i,e)},me.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},me.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var n=e.next();!n.done;)i.push((n=n.value)[0]+": "+n[1]),n=e.next();return i.join("\r\n")},Object.defineProperty(Zo.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var To=K.JSON.parse;function Et(i){Xe.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=hi,this.K=this.L=!1}We(Et,Xe);var hi="",ha=/^https?$/i,fa=["POST","PUT"];function Yo(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,Rs(i),io(i)}function Rs(i){i.D||(i.D=!0,Tt(i,"complete"),Tt(i,"error"))}function zs(i){if(i.h&&typeof $e<"u"&&(!i.C[1]||4!=Jt(i)||2!=i.aa()))if(i.v&&4==Jt(i))ke(i.Ha,0,i);else if(Tt(i,"readystatechange"),4==Jt(i)){i.h=!1;try{const w=i.aa();e:switch(w){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var o;if(o=0===w){var u=String(i.H).match(da)[1]||null;if(!u&&K.self&&K.self.location){var l=K.self.location.protocol;u=l.substr(0,l.length-1)}o=!ha.test(u?u.toLowerCase():"")}n=o}if(n)Tt(i,"complete"),Tt(i,"success");else{i.m=6;try{var p=2<Jt(i)?i.g.statusText:""}catch{p=""}i.j=p+" ["+i.aa()+"]",Rs(i)}}finally{io(i)}}}function io(i,e){if(i.g){qe(i);const n=i.g,o=i.C[0]?re:null;i.g=null,i.C=null,e||Tt(i,"ready");try{n.onreadystatechange=o}catch{}}}function qe(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(K.clearTimeout(i.A),i.A=null)}function Jt(i){return i.g?i.g.readyState:0}function Xi(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case hi:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function Qo(i){let e="";return ti(i,function(n,o){e+=o,e+=":",e+=n,e+="\r\n"}),e}function hr(i,e,n){e:{for(o in n){var o=!1;break e}o=!0}o||(n=Qo(n),"string"==typeof i?null!=n&&encodeURIComponent(String(n)):Fn(i,e,n))}function wi(i,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[i]||e}function Qr(i){this.Ca=0,this.i=[],this.j=new vr,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=wi("failFast",!1,i),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=wi("baseRetryDelayMs",5e3,i),this.bb=wi("retryDelaySeedMs",1e4,i),this.$a=wi("forwardChannelMaxRetries",2,i),this.ta=wi("forwardChannelRequestTimeoutMs",2e4,i),this.ra=i&&i.xmlHttpFactory||void 0,this.Da=i&&i.Zb||!1,this.J=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.I="",this.h=new Wi(i&&i.concurrentRequestLimit),this.Fa=new Gr,this.O=i&&i.fastHandshake||!1,this.N=i&&i.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=i&&i.Xb||!1,i&&i.Aa&&this.j.Aa(),i&&i.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&i&&i.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Ni(i){if(pa(i),3==i.G){var e=i.U++,n=Hi(i.F);Fn(n,"SID",i.I),Fn(n,"RID",e),Fn(n,"TYPE","terminate"),so(i,n),(e=new ir(i,i.j,e,void 0)).K=2,e.v=wo(Hi(n)),n=!1,K.navigator&&K.navigator.sendBeacon&&(n=K.navigator.sendBeacon(e.v.toString(),"")),!n&&K.Image&&((new Image).src=e.v,n=!0),n||(e.g=T(e.l,null),e.g.da(e.v)),e.F=Date.now(),Ai(e)}Xo(i)}function ps(i){i.g&&(fi(i),i.g.cancel(),i.g=null)}function pa(i){ps(i),i.u&&(K.clearTimeout(i.u),i.u=null),Ao(i),i.h.cancel(),i.m&&("number"==typeof i.m&&K.clearTimeout(i.m),i.m=null)}function So(i){ls(i.h)||i.m||(i.m=!0,$t(i.Ja,i),i.C=0)}function iu(i,e){var n;n=e?e.m:i.U++;const o=Hi(i.F);Fn(o,"SID",i.I),Fn(o,"RID",n),Fn(o,"AID",i.T),so(i,o),i.o&&i.s&&hr(o,i.o,i.s),n=new ir(i,i.j,n,i.C+1),null===i.o&&(n.H=i.s),e&&(i.i=e.D.concat(i.i)),e=ai(i,n,1e3),n.setTimeout(Math.round(.5*i.ta)+Math.round(.5*i.ta*Math.random())),cn(i.h,n),Js(n,o,e)}function so(i,e){i.ia&&ti(i.ia,function(n,o){Fn(e,o,n)}),i.l&&nu({},function(n,o){Fn(e,o,n)})}function ai(i,e,n){n=Math.min(i.i.length,n);var o=i.l?Mt(i.l.Ra,i.l,i):null;e:{var u=i.i;let l=-1;for(;;){const p=["count="+n];-1==l?0<n?(l=u[0].h,p.push("ofs="+l)):l=0:p.push("ofs="+l);let w=!0;for(let R=0;R<n;R++){let k=u[R].h;const B=u[R].g;if(k-=l,0>k)l=Math.max(0,u[R].h-100),w=!1;else try{bo(B,p,"req"+k+"_")}catch{o&&o(B)}}if(w){o=p.join("&");break e}}}return i=i.i.splice(0,n),e.D=i,o}function Pi(i){i.g||i.u||(i.Z=1,$t(i.Ia,i),i.A=0)}function gs(i){return!(i.g||i.u||3<=i.A||(i.Z++,i.u=ii(Mt(i.Ia,i),ga(i,i.A)),i.A++,0))}function fi(i){null!=i.B&&(K.clearTimeout(i.B),i.B=null)}function ki(i){i.g=new ir(i,i.j,"rpc",i.Z),null===i.o&&(i.g.H=i.s),i.g.N=0;var e=Hi(i.sa);Fn(e,"RID","rpc"),Fn(e,"SID",i.I),Fn(e,"CI",i.L?"0":"1"),Fn(e,"AID",i.T),Fn(e,"TYPE","xmlhttp"),so(i,e),i.o&&i.s&&hr(e,i.o,i.s),i.J&&i.g.setTimeout(i.J);var n=i.g;i=i.ka,n.K=1,n.v=wo(Hi(e)),n.s=null,n.P=!0,dr(n,i)}function Ao(i){null!=i.v&&(K.clearTimeout(i.v),i.v=null)}function xo(i,e){var n=null;if(i.g==e){Ao(i),fi(i),i.g=null;var o=2}else{if(!Ko(i.h,e))return;n=e.D,Ms(i.h,e),o=1}if(0!=i.G)if(i.pa=e.Y,e.i)if(1==o){n=e.s?e.s.length:0,e=Date.now()-e.F;var u=i.C;Tt(o=br(),new ri(o,n,e,u)),So(i)}else Pi(i);else if(3==(u=e.o)||0==u&&0<i.pa||!(1==o&&function Du(i,e){return!(Do(i.h)>=i.h.j-(i.m?1:0)||(i.m?(i.i=e.D.concat(i.i),0):1==i.G||2==i.G||i.C>=(i.Za?0:i.$a)||(i.m=ii(Mt(i.Ja,i,e),ga(i,i.C)),i.C++,0)))}(i,e)||2==o&&gs(i)))switch(n&&0<n.length&&(e=i.h,e.i=e.i.concat(n)),u){case 1:Ns(i,5);break;case 4:Ns(i,10);break;case 3:Ns(i,6);break;default:Ns(i,2)}}function ga(i,e){let n=i.Xa+Math.floor(Math.random()*i.bb);return i.l||(n*=2),n*e}function Ns(i,e){if(i.j.info("Error code "+e),2==e){var n=null;i.l&&(n=null);var o=Mt(i.kb,i);n||(n=new As("//www.google.com/images/cleardot.gif"),K.location&&"http"==K.location.protocol||Gi(n,"https"),wo(n)),function _r(i,e){const n=new vr;if(K.Image){const o=new Image;o.onload=dt(hs,n,o,"TestLoadImage: loaded",!0,e),o.onerror=dt(hs,n,o,"TestLoadImage: error",!1,e),o.onabort=dt(hs,n,o,"TestLoadImage: abort",!1,e),o.ontimeout=dt(hs,n,o,"TestLoadImage: timeout",!1,e),K.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(n.toString(),o)}else In(2);i.G=0,i.l&&i.l.va(e),Xo(i),pa(i)}function Xo(i){if(i.G=0,i.la=[],i.l){const e=Hs(i.h);(0!=e.length||0!=i.i.length)&&(et(i.la,e),et(i.la,i.i),i.h.i.length=0,ge(i.i),i.i.length=0),i.l.ua()}}function Mo(i,e,n){var o=n instanceof As?Hi(n):new As(n,void 0);if(""!=o.g)e&&(o.g=e+"."+o.g),to(o,o.m);else{var u=K.location;o=u.protocol,e=e?e+"."+u.hostname:u.hostname,u=+u.port;var l=new As(null,void 0);o&&Gi(l,o),e&&(l.g=e),u&&to(l,u),n&&(l.l=n),o=l}return e=i.za,(n=i.D)&&e&&Fn(o,n,e),Fn(o,"VER",i.ma),so(i,o),o}function T(i,e,n){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Et(n&&i.Da&&!i.ra?new Vr({jb:!0}):i.ra)).Ka(i.H),e}function P(){}function S(){if(Wt&&!(10<=Number(nr)))throw Error("Environmental error: no available transport.")}function U(i,e){Xe.call(this),this.g=new Qr(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.S=i,(i=e&&e.Yb)&&!te(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!te(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new Ue(this)}function ee(i){vt.call(this);var e=i.__sm__;if(e){e:{for(const n in e){i=n;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function Ne(){un.call(this),this.status=1}function Ue(i){this.g=i}(me=Et.prototype).Ka=function(i){this.L=i},me.da=function(i,e,n,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Qn.g(),this.C=function pe(i){return i.h||(i.h=i.i())}(this.u?this.u:Qn),this.g.onreadystatechange=Mt(this.Ha,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(l){return void Yo(this,l)}if(i=n||"",n=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var u in o)n.set(u,o[u]);else{if("function"!=typeof o.keys||"function"!=typeof o.get)throw Error("Unknown input type for opt_headers: "+String(o));for(const l of o.keys())n.set(l,o.get(l))}o=Array.from(n.keys()).find(l=>"content-type"==l.toLowerCase()),u=K.FormData&&i instanceof K.FormData,!(0<=je(fa,e))||o||u||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[l,p]of n)this.g.setRequestHeader(l,p);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{qe(this),0<this.B&&((this.K=function Co(i){return Wt&&function Jn(){return function Zn(i){var e=Gn;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=i(9)}(function(){let i=0;const e=le(String(fn)).split("."),n=le("9").split("."),o=Math.max(e.length,n.length);for(let p=0;0==i&&p<o;p++){var u=e[p]||"",l=n[p]||"";do{if(u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==u[0].length&&0==l[0].length)break;i=He(0==u[1].length?0:parseInt(u[1],10),0==l[1].length?0:parseInt(l[1],10))||He(0==u[2].length,0==l[2].length)||He(u[2],l[2]),u=u[3],l=l[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Mt(this.qa,this)):this.A=ke(this.qa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(l){Yo(this,l)}},me.qa=function(){typeof $e<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Tt(this,"timeout"),this.abort(8))},me.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,Tt(this,"complete"),Tt(this,"abort"),io(this))},me.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),io(this,!0)),Et.X.M.call(this)},me.Ha=function(){this.s||(this.F||this.v||this.l?zs(this):this.fb())},me.fb=function(){zs(this)},me.aa=function(){try{return 2<Jt(this)?this.g.status:-1}catch{return-1}},me.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},me.Sa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),To(e)}},me.Ea=function(){return this.m},me.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(me=Qr.prototype).ma=8,me.G=1,me.Ja=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.U=Math.floor(1e5*Math.random()),i=this.U++;const u=new ir(this,this.j,i,void 0);let l=this.s;if(this.S&&(l?(l=Bn(l),lt(l,this.S)):l=this.S),null!==this.o||this.N||(u.H=l,l=null),this.O)e:{for(var e=0,n=0;n<this.i.length;n++){var o=this.i[n];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=n;break e}if(4096===e||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=ai(this,u,e),Fn(n=Hi(this.F),"RID",i),Fn(n,"CVER",22),this.D&&Fn(n,"X-HTTP-Session-Id",this.D),so(this,n),l&&(this.N?e="headers="+encodeURIComponent(String(Qo(l)))+"&"+e:this.o&&hr(n,this.o,l)),cn(this.h,u),this.Ya&&Fn(n,"TYPE","init"),this.O?(Fn(n,"$req",e),Fn(n,"SID","null"),u.Z=!0,Js(u,n,null)):Js(u,n,e),this.G=2}}else 3==this.G&&(i?iu(this,i):0==this.i.length||ls(this.h)||iu(this))},me.Ia=function(){if(this.u=null,ki(this),this.$&&!(this.K||null==this.g||0>=this.P)){var i=2*this.P;this.j.info("BP detection timer enabled: "+i),this.B=ii(Mt(this.eb,this),i)}},me.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,In(10),ps(this),ki(this))},me.cb=function(){null!=this.v&&(this.v=null,ps(this),gs(this),In(19))},me.kb=function(i){i?(this.j.info("Successfully pinged google.com"),In(2)):(this.j.info("Failed to ping google.com"),In(1))},(me=P.prototype).xa=function(){},me.wa=function(){},me.va=function(){},me.ua=function(){},me.Ra=function(){},S.prototype.g=function(i,e){return new U(i,e)},We(U,Xe),U.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,n=this.h||void 0;In(0),i.V=e,i.ia=n||{},i.L=i.Y,i.F=Mo(i,null,i.V),So(i)},U.prototype.close=function(){Ni(this.g)},U.prototype.u=function(i){var e=this.g;if("string"==typeof i){var n={};n.__data__=i,i=n}else this.v&&((n={}).__data__=Q(i),i=n);e.i.push(new class{constructor(i,e){this.h=i,this.g=e}}(e.ab++,i)),3==e.G&&So(e)},U.prototype.M=function(){this.g.l=null,delete this.j,Ni(this.g),delete this.g,U.X.M.call(this)},We(ee,vt),We(Ne,un),We(Ue,P),Ue.prototype.xa=function(){Tt(this.g,"a")},Ue.prototype.wa=function(i){Tt(this.g,new ee(i))},Ue.prototype.va=function(i){Tt(this.g,new Ne(i))},Ue.prototype.ua=function(){Tt(this.g,"b")},S.prototype.createWebChannel=S.prototype.g,U.prototype.send=U.prototype.u,U.prototype.open=U.prototype.m,U.prototype.close=U.prototype.close,Ur.NO_ERROR=0,Ur.TIMEOUT=8,Ur.HTTP_ERROR=6,de.COMPLETE="complete",Fe.EventType=tt,tt.OPEN="a",tt.CLOSE="b",tt.ERROR="c",tt.MESSAGE="d",Xe.prototype.listen=Xe.prototype.N,Et.prototype.listenOnce=Et.prototype.O,Et.prototype.getLastError=Et.prototype.Oa,Et.prototype.getLastErrorCode=Et.prototype.Ea,Et.prototype.getStatus=Et.prototype.aa,Et.prototype.getResponseJson=Et.prototype.Sa,Et.prototype.getResponseText=Et.prototype.fa,Et.prototype.send=Et.prototype.da,Et.prototype.setWithCredentials=Et.prototype.Ka;var _t=we.createWebChannelTransport=function(){return new S},Un=we.getStatEventTarget=function(){return br()},bn=we.ErrorCode=Ur,zn=we.EventType=de,Rn=we.Event=Hr,Tn=we.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Vn=we.FetchXmlHttpFactory=Vr,sn=we.WebChannel=Fe,ms=we.XhrIo=Et;const Oi="@firebase/firestore";class Xn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xn.UNAUTHENTICATED=new Xn(null),Xn.GOOGLE_CREDENTIALS=new Xn("google-credentials-uid"),Xn.FIRST_PARTY=new Xn("first-party-uid"),Xn.MOCK_USER=new Xn("mock-user");let zr="9.12.1";const qi=new oe.Yd("@firebase/firestore");function Jo(){return qi.logLevel}function nt(i,...e){if(qi.logLevel<=oe.in.DEBUG){const n=e.map(Ki);qi.debug(`Firestore (${zr}): ${i}`,...n)}}function En(i,...e){if(qi.logLevel<=oe.in.ERROR){const n=e.map(Ki);qi.error(`Firestore (${zr}): ${i}`,...n)}}function ys(i,...e){if(qi.logLevel<=oe.in.WARN){const n=e.map(Ki);qi.warn(`Firestore (${zr}): ${i}`,...n)}}function Ki(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function Rt(i="Unexpected state"){const e=`FIRESTORE (${zr}) INTERNAL ASSERTION FAILED: `+i;throw En(e),new Error(e)}function Ut(i,e){i||Rt()}function gt(i,e){return i}const Pe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Je extends ve.ZR{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ir{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class bu{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class La{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Xn.UNAUTHENTICATED))}shutdown(){}}class Li{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Qu{constructor(e){this.t=e,this.currentUser=Xn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var o=this;let u=this.i;const l=k=>this.i!==u?(u=this.i,n(k)):Promise.resolve();let p=new Ir;this.o=()=>{this.i++,this.currentUser=this.u(),p.resolve(),p=new Ir,e.enqueueRetryable(()=>l(this.currentUser))};const w=()=>{const k=p;e.enqueueRetryable((0,M.Z)(function*(){yield k.promise,yield l(o.currentUser)}))},R=k=>{nt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=k,this.auth.addAuthTokenListener(this.o),w()};this.t.onInit(k=>R(k)),setTimeout(()=>{if(!this.auth){const k=this.t.getImmediate({optional:!0});k?R(k):(nt("FirebaseAuthCredentialsProvider","Auth not yet detected"),p.resolve(),p=new Ir)}},0),w()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(o=>this.i!==e?(nt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(Ut("string"==typeof o.accessToken),new bu(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ut(null===e||"string"==typeof e),new Xn(e)}}class ya{constructor(e,n,o,u){this.h=e,this.l=n,this.m=o,this.g=u,this.type="FirstParty",this.user=Xn.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Ut(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class su{constructor(e,n,o,u){this.h=e,this.l=n,this.m=o,this.g=u}getToken(){return Promise.resolve(new ya(this.h,this.l,this.m,this.g))}start(e,n){e.enqueueRetryable(()=>n(Xn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Fa{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ua{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,n){const o=l=>{null!=l.error&&nt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const p=l.token!==this.A;return this.A=l.token,nt("FirebaseAppCheckTokenProvider",`Received ${p?"new":"existing"} token.`),p?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>o(l))};const u=l=>{nt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.T.onInit(l=>u(l)),setTimeout(()=>{if(!this.appCheck){const l=this.T.getImmediate({optional:!0});l?u(l):nt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ut("string"==typeof n.token),this.A=n.token,new Fa(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function va(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let o=0;o<i;o++)n[o]=Math.floor(256*Math.random());return n}class Ro{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const u=va(40);for(let l=0;l<u.length;++l)o.length<20&&u[l]<n&&(o+=e.charAt(u[l]%e.length))}return o}}function rn(i,e){return i<e?-1:i>e?1:0}function Fi(i,e,n){return i.length===e.length&&i.every((o,u)=>n(o,e[u]))}class on{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Je(Pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Je(Pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Je(Pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Je(Pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return on.fromMillis(Date.now())}static fromDate(e){return on.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*n));return new on(n,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?rn(this.nanoseconds,e.nanoseconds):rn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Xt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Xt(e)}static min(){return new Xt(new on(0,0))}static max(){return new Xt(new on(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ws{constructor(e,n,o){void 0===n?n=0:n>e.length&&Rt(),void 0===o?o=e.length-n:o>e.length-n&&Rt(),this.segments=e,this.offset=n,this.len=o}get length(){return this.len}isEqual(e){return 0===Ws.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ws?e.forEach(o=>{n.push(o)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,o=this.limit();n<o;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const o=Math.min(e.length,n.length);for(let u=0;u<o;u++){const l=e.get(u),p=n.get(u);if(l<p)return-1;if(l>p)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Pn extends Ws{construct(e,n,o){return new Pn(e,n,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const o of e){if(o.indexOf("//")>=0)throw new Je(Pe.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);n.push(...o.split("/").filter(u=>u.length>0))}return new Pn(n)}static emptyPath(){return new Pn([])}}const ou=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wn extends Ws{construct(e,n,o){return new Wn(e,n,o)}static isValidIdentifier(e){return ou.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Wn(["__name__"])}static fromServerFormat(e){const n=[];let o="",u=0;const l=()=>{if(0===o.length)throw new Je(Pe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(o),o=""};let p=!1;for(;u<e.length;){const w=e[u];if("\\"===w){if(u+1===e.length)throw new Je(Pe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const R=e[u+1];if("\\"!==R&&"."!==R&&"`"!==R)throw new Je(Pe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=R,u+=2}else"`"===w?(p=!p,u++):"."!==w||p?(o+=w,u++):(l(),u++)}if(l(),p)throw new Je(Pe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wn(n)}static emptyPath(){return new Wn([])}}class pt{constructor(e){this.path=e}static fromPath(e){return new pt(Pn.fromString(e))}static fromName(e){return new pt(Pn.fromString(e).popFirst(5))}static empty(){return new pt(Pn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Pn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return Pn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pt(new Pn(e.slice()))}}function _a(i){return new ui(i.readTime,i.key,-1)}class ui{constructor(e,n,o){this.readTime=e,this.documentKey=n,this.largestBatchId=o}static min(){return new ui(Xt.min(),pt.empty(),-1)}static max(){return new ui(Xt.max(),pt.empty(),-1)}}function au(i,e){let n=i.readTime.compareTo(e.readTime);return 0!==n?n:(n=pt.comparator(i.documentKey,e.documentKey),0!==n?n:rn(i.largestBatchId,e.largestBatchId))}const qs="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";function _s(i){return Mr.apply(this,arguments)}function Mr(){return Mr=(0,M.Z)(function*(i){if(i.code!==Pe.FAILED_PRECONDITION||i.message!==qs)throw i;nt("LocalStore","Unexpectedly lost primary lease")}),Mr.apply(this,arguments)}class Te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Rt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Te((o,u)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(o,u)},this.catchCallback=l=>{this.wrapFailure(n,l).next(o,u)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Te?n:Te.resolve(n)}catch(n){return Te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Te.reject(n)}static resolve(e){return new Te((n,o)=>{n(e)})}static reject(e){return new Te((n,o)=>{o(e)})}static waitFor(e){return new Te((n,o)=>{let u=0,l=0,p=!1;e.forEach(w=>{++u,w.next(()=>{++l,p&&l===u&&n()},R=>o(R))}),p=!0,l===u&&n()})}static or(e){let n=Te.resolve(!1);for(const o of e)n=n.next(u=>u?Te.resolve(u):o());return n}static forEach(e,n){const o=[];return e.forEach((u,l)=>{o.push(n.call(this,u,l))}),this.waitFor(o)}static mapArray(e,n){return new Te((o,u)=>{const l=e.length,p=new Array(l);let w=0;for(let R=0;R<l;R++){const k=R;n(e[k]).next(B=>{p[k]=B,++w,w===l&&o(p)},B=>u(B))}})}static doWhile(e,n){return new Te((o,u)=>{const l=()=>{!0===e()?n().next(()=>{l()},u):o()};l()})}}function ws(i){return"IndexedDbTransactionError"===i.name}class Wr{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=o=>this.ut(o),this.ct=o=>n.writeSequenceNumber(o))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function ra(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Ks(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function ho(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}Wr.at=-1;class en{constructor(e,n){this.comparator=e,this.root=n||pi.EMPTY}insert(e,n){return new en(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,pi.BLACK,null,null))}remove(e){return new en(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pi.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const o=this.comparator(e,n.key);if(0===o)return n.value;o<0?n=n.left:o>0&&(n=n.right)}return null}indexOf(e){let n=0,o=this.root;for(;!o.isEmpty();){const u=this.comparator(e,o.key);if(0===u)return n+o.left.size;u<0?o=o.left:(n+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,o)=>(e(n,o),!1))}toString(){const e=[];return this.inorderTraversal((n,o)=>(e.push(`${n}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xu(this.root,e,this.comparator,!0)}}class Xu{constructor(e,n,o,u){this.isReverse=u,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?o(e.key,n):1,n&&u&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class pi{constructor(e,n,o,u,l){this.key=e,this.value=n,this.color=o??pi.RED,this.left=u??pi.EMPTY,this.right=l??pi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,o,u,l){return new pi(e??this.key,n??this.value,o??this.color,u??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,o){let u=this;const l=o(e,u.key);return u=l<0?u.copy(null,null,null,u.left.insert(e,n,o),null):0===l?u.copy(null,n,null,null,null):u.copy(null,null,null,null,u.right.insert(e,n,o)),u.fixUp()}removeMin(){if(this.left.isEmpty())return pi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let o,u=this;if(n(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,n),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===n(e,u.key)){if(u.right.isEmpty())return pi.EMPTY;o=u.right.min(),u=u.copy(o.key,o.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,n))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,pi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,pi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Rt();const e=this.left.check();if(e!==this.right.check())throw Rt();return e+(this.isRed()?0:1)}}pi.EMPTY=null,pi.RED=!0,pi.BLACK=!1,pi.EMPTY=new class{constructor(){this.size=0}get key(){throw Rt()}get value(){throw Rt()}get color(){throw Rt()}get left(){throw Rt()}get right(){throw Rt()}copy(i,e,n,o,u){return this}insert(i,e,n){return new pi(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class or{constructor(e){this.comparator=e,this.data=new en(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,o)=>(e(n),!1))}forEachInRange(e,n){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const u=o.getNext();if(this.comparator(u.key,e[1])>=0)return;n(u.key)}}forEachWhile(e,n){let o;for(o=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new uu(this.data.getIterator())}getIteratorFrom(e){return new uu(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(o=>{n=n.add(o)}),n}isEqual(e){if(!(e instanceof or)||this.size!==e.size)return!1;const n=this.data.getIterator(),o=e.data.getIterator();for(;n.hasNext();){const u=n.getNext().key,l=o.getNext().key;if(0!==this.comparator(u,l))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new or(this.comparator);return n.data=e,n}}class uu{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Zi{constructor(e){this.fields=e,e.sort(Wn.comparator)}static empty(){return new Zi([])}unionWith(e){let n=new or(Wn.comparator);for(const o of this.fields)n=n.add(o);for(const o of e)n=n.add(o);return new Zi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Fi(this.fields,e.fields,(n,o)=>n.isEqual(o))}}class yr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new yr(n)}static fromUint8Array(e){const n=function(o){let u="";for(let l=0;l<o.length;++l)u+=String.fromCharCode(o[l]);return u}(e);return new yr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let o=0;o<e.length;o++)n[o]=e.charCodeAt(o);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return rn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yr.EMPTY_BYTE_STRING=new yr("");const Tu=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ea(i){if(Ut(!!i),"string"==typeof i){let e=0;const n=Tu.exec(i);if(Ut(!!n),n[1]){let u=n[1];u=(u+"000000000").substr(0,9),e=Number(u)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:tn(i.seconds),nanos:tn(i.nanos)}}function tn(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function Oo(i){return"string"==typeof i?yr.fromBase64String(i):yr.fromUint8Array(i)}function bs(i){var e,n;return"server_timestamp"===(null===(n=((null===(e=i?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Sc(i){const e=i.mapValue.fields.__previous_value__;return bs(e)?Sc(e):e}function fo(i){const e=Ea(i.mapValue.fields.__local_write_time__.timestampValue);return new on(e.seconds,e.nanos)}class qr{constructor(e,n,o,u,l,p,w,R){this.databaseId=e,this.appId=n,this.persistenceKey=o,this.host=u,this.ssl=l,this.forceLongPolling=p,this.autoDetectLongPolling=w,this.useFetchStreams=R}}class Xr{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Xr("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Xr&&e.projectId===this.projectId&&e.database===this.database}}function Da(i){return null==i}function ks(i){return 0===i&&1/i==-1/0}const Ti_mapValue={fields:{__type__:{stringValue:"__max__"}}};function po(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?bs(i)?4:Hn(i)?9007199254740991:10:Rt()}function go(i,e){if(i===e)return!0;const n=po(i);if(n!==po(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return fo(i).isEqual(fo(e));case 3:return function(o,u){if("string"==typeof o.timestampValue&&"string"==typeof u.timestampValue&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const l=Ea(o.timestampValue),p=Ea(u.timestampValue);return l.seconds===p.seconds&&l.nanos===p.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return u=e,Oo(i.bytesValue).isEqual(Oo(u.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return tn(o.geoPointValue.latitude)===tn(u.geoPointValue.latitude)&&tn(o.geoPointValue.longitude)===tn(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return tn(o.integerValue)===tn(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const l=tn(o.doubleValue),p=tn(u.doubleValue);return l===p?ks(l)===ks(p):isNaN(l)&&isNaN(p)}return!1}(i,e);case 9:return Fi(i.arrayValue.values||[],e.arrayValue.values||[],go);case 10:return function(o,u){const l=o.mapValue.fields||{},p=u.mapValue.fields||{};if(ra(l)!==ra(p))return!1;for(const w in l)if(l.hasOwnProperty(w)&&(void 0===p[w]||!go(l[w],p[w])))return!1;return!0}(i,e);default:return Rt()}var u}function y(i,e){return void 0!==(i.values||[]).find(n=>go(n,e))}function v(i,e){if(i===e)return 0;const n=po(i),o=po(e);if(n!==o)return rn(n,o);switch(n){case 0:case 9007199254740991:return 0;case 1:return rn(i.booleanValue,e.booleanValue);case 2:return function(u,l){const p=tn(u.integerValue||u.doubleValue),w=tn(l.integerValue||l.doubleValue);return p<w?-1:p>w?1:p===w?0:isNaN(p)?isNaN(w)?0:-1:1}(i,e);case 3:return g(i.timestampValue,e.timestampValue);case 4:return g(fo(i),fo(e));case 5:return rn(i.stringValue,e.stringValue);case 6:return function(u,l){const p=Oo(u),w=Oo(l);return p.compareTo(w)}(i.bytesValue,e.bytesValue);case 7:return function(u,l){const p=u.split("/"),w=l.split("/");for(let R=0;R<p.length&&R<w.length;R++){const k=rn(p[R],w[R]);if(0!==k)return k}return rn(p.length,w.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,l){const p=rn(tn(u.latitude),tn(l.latitude));return 0!==p?p:rn(tn(u.longitude),tn(l.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(u,l){const p=u.values||[],w=l.values||[];for(let R=0;R<p.length&&R<w.length;++R){const k=v(p[R],w[R]);if(k)return k}return rn(p.length,w.length)}(i.arrayValue,e.arrayValue);case 10:return function(u,l){if(u===Ti_mapValue&&l===Ti_mapValue)return 0;if(u===Ti_mapValue)return 1;if(l===Ti_mapValue)return-1;const p=u.fields||{},w=Object.keys(p),R=l.fields||{},k=Object.keys(R);w.sort(),k.sort();for(let B=0;B<w.length&&B<k.length;++B){const J=rn(w[B],k[B]);if(0!==J)return J;const Se=v(p[w[B]],R[k[B]]);if(0!==Se)return Se}return rn(w.length,k.length)}(i.mapValue,e.mapValue);default:throw Rt()}}function g(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return rn(i,e);const n=Ea(i),o=Ea(e),u=rn(n.seconds,o.seconds);return 0!==u?u:rn(n.nanos,o.nanos)}function D(i){return A(i)}function A(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(o){const u=Ea(o);return`time(${u.seconds},${u.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?Oo(i.bytesValue).toBase64():"referenceValue"in i?pt.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(o){let u="[",l=!0;for(const p of o.values||[])l?l=!1:u+=",",u+=A(p);return u+"]"}(i.arrayValue):"mapValue"in i?function(o){const u=Object.keys(o.fields||{}).sort();let l="{",p=!0;for(const w of u)p?p=!1:l+=",",l+=`${w}:${A(o.fields[w])}`;return l+"}"}(i.mapValue):Rt();var e}function q(i){return!!i&&"integerValue"in i}function Z(i){return!!i&&"arrayValue"in i}function Me(i){return!!i&&"nullValue"in i}function ot(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Gt(i){return!!i&&"mapValue"in i}function yt(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Ks(i.mapValue.fields,(n,o)=>e.mapValue.fields[n]=yt(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=yt(i.arrayValue.values[n]);return e}return Object.assign({},i)}function Hn(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}class Cr{constructor(e){this.value=e}static empty(){return new Cr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let o=0;o<e.length-1;++o)if(n=(n.mapValue.fields||{})[e.get(o)],!Gt(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=yt(n)}setAll(e){let n=Wn.emptyPath(),o={},u=[];e.forEach((p,w)=>{if(!n.isImmediateParentOf(w)){const R=this.getFieldsMap(n);this.applyChanges(R,o,u),o={},u=[],n=w.popLast()}p?o[w.lastSegment()]=yt(p):u.push(w.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,o,u)}delete(e){const n=this.field(e.popLast());Gt(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return go(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let o=0;o<e.length;++o){let u=n.mapValue.fields[e.get(o)];Gt(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},n.mapValue.fields[e.get(o)]=u),n=u}return n.mapValue.fields}applyChanges(e,n,o){Ks(n,(u,l)=>e[u]=l);for(const u of o)delete e[u]}clone(){return new Cr(yt(this.value))}}function mo(i){const e=[];return Ks(i.fields,(n,o)=>{const u=new Wn([n]);if(Gt(o)){const l=mo(o.mapValue).fields;if(0===l.length)e.push(u);else for(const p of l)e.push(u.child(p))}else e.push(u)}),new Zi(e)}class qn{constructor(e,n,o,u,l,p){this.key=e,this.documentType=n,this.version=o,this.readTime=u,this.data=l,this.documentState=p}static newInvalidDocument(e){return new qn(e,0,Xt.min(),Xt.min(),Cr.empty(),0)}static newFoundDocument(e,n,o){return new qn(e,1,n,Xt.min(),o,0)}static newNoDocument(e,n){return new qn(e,2,n,Xt.min(),Cr.empty(),0)}static newUnknownDocument(e,n){return new qn(e,3,n,Xt.min(),Cr.empty(),2)}convertToFoundDocument(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Cr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Cr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Xt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof qn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new qn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ac{constructor(e,n=null,o=[],u=[],l=null,p=null,w=null){this.path=e,this.collectionGroup=n,this.orderBy=o,this.filters=u,this.limit=l,this.startAt=p,this.endAt=w,this.ht=null}}function Lo(i,e=null,n=[],o=[],u=null,l=null,p=null){return new Ac(i,e,n,o,u,l,p)}function $a(i){const e=gt(i);if(null===e.ht){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(o=>{return(u=o).field.canonicalString()+u.op.toString()+D(u.value);var u}).join(","),n+="|ob:",n+=e.orderBy.map(o=>{return(u=o).field.canonicalString()+u.dir;var u}).join(","),Da(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(o=>D(o)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(o=>D(o)).join(",")),e.ht=n}return e.ht}function Os(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let u=0;u<i.orderBy.length;u++)if(!Zr(i.orderBy[u],e.orderBy[u]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let u=0;u<i.filters.length;u++)if((n=i.filters[u]).op!==(o=e.filters[u]).op||!n.field.isEqual(o.field)||!go(n.value,o.value))return!1;var n,o;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!ja(i.startAt,e.startAt)&&ja(i.endAt,e.endAt)}function Ju(i){return pt.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}class x extends class{}{constructor(e,n,o){super(),this.field=e,this.op=n,this.value=o}static create(e,n,o){return e.isKeyField()?"in"===n||"not-in"===n?this.lt(e,n,o):new O(e,n,o):"array-contains"===n?new Ze(e,o):"in"===n?new ft(e,o):"not-in"===n?new Kt(e,o):"array-contains-any"===n?new ln(e,o):new x(e,n,o)}static lt(e,n,o){return"in"===n?new W(e,o):new ce(e,o)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.ft(v(n,this.value)):null!==n&&po(this.value)===po(n)&&this.ft(v(n,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Rt()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class O extends x{constructor(e,n,o){super(e,n,o),this.key=pt.fromName(o.referenceValue)}matches(e){const n=pt.comparator(e.key,this.key);return this.ft(n)}}class W extends x{constructor(e,n){super(e,"in",n),this.keys=xe(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class ce extends x{constructor(e,n){super(e,"not-in",n),this.keys=xe(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function xe(i,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(o=>pt.fromName(o.referenceValue))}class Ze extends x{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Z(n)&&y(n.arrayValue,this.value)}}class ft extends x{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&y(this.value.arrayValue,n)}}class Kt extends x{constructor(e,n){super(e,"not-in",n)}matches(e){if(y(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!y(this.value.arrayValue,n)}}class ln extends x{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Z(n)||!n.arrayValue.values)&&n.arrayValue.values.some(o=>y(this.value.arrayValue,o))}}class dn{constructor(e,n){this.position=e,this.inclusive=n}}class Vt{constructor(e,n="asc"){this.field=e,this.dir=n}}function Zr(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}function Ci(i,e,n){let o=0;for(let u=0;u<i.position.length;u++){const l=e[u],p=i.position[u];if(o=l.field.isKeyField()?pt.comparator(pt.fromName(p.referenceValue),n.key):v(p,n.data.field(l.field)),"desc"===l.dir&&(o*=-1),0!==o)break}return o}function ja(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!go(i.position[n],e.position[n]))return!1;return!0}class Yi{constructor(e,n=null,o=[],u=[],l=null,p="F",w=null,R=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=o,this.filters=u,this.limit=l,this.limitType=p,this.startAt=w,this.endAt=R,this._t=null,this.wt=null}}function Zs(i){return new Yi(i)}function sa(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function aa(i){const e=gt(i);if(null===e._t){e._t=[];const n=function oa(i){for(const e of i.filters)if(e.dt())return e.field;return null}(e),o=function Fo(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}(e);if(null!==n&&null===o)n.isKeyField()||e._t.push(new Vt(n)),e._t.push(new Vt(Wn.keyField(),"asc"));else{let u=!1;for(const l of e.explicitOrderBy)e._t.push(l),l.field.isKeyField()&&(u=!0);if(!u){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new Vt(Wn.keyField(),l))}}}return e._t}function Ls(i){const e=gt(i);if(!e.wt)if("F"===e.limitType)e.wt=Lo(e.path,e.collectionGroup,aa(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const l of aa(e))n.push(new Vt(l.field,"desc"===l.dir?"asc":"desc"));const o=e.endAt?new dn(e.endAt.position,e.endAt.inclusive):null,u=e.startAt?new dn(e.startAt.position,e.startAt.inclusive):null;e.wt=Lo(e.path,e.collectionGroup,n,e.filters,e.limit,o,u)}return e.wt}function lu(i,e,n){return new Yi(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function ec(i,e){return Os(Ls(i),Ls(e))&&i.limitType===e.limitType}function md(i){return`${$a(Ls(i))}|lt:${i.limitType}`}function Su(i){return`Query(target=${function Cu(i){let e=i.path.canonicalString();return null!==i.collectionGroup&&(e+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(e+=`, filters: [${i.filters.map(n=>{return`${(o=n).field.canonicalString()} ${o.op} ${D(o.value)}`;var o}).join(", ")}]`),Da(i.limit)||(e+=", limit: "+i.limit),i.orderBy.length>0&&(e+=`, orderBy: [${i.orderBy.map(n=>{return`${(o=n).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),i.startAt&&(e+=", startAt: ",e+=i.startAt.inclusive?"b:":"a:",e+=i.startAt.position.map(n=>D(n)).join(",")),i.endAt&&(e+=", endAt: ",e+=i.endAt.inclusive?"a:":"b:",e+=i.endAt.position.map(n=>D(n)).join(",")),`Target(${e})`}(Ls(i))}; limitType=${i.limitType})`}function xc(i,e){return e.isFoundDocument()&&function(n,o){const u=o.key.path;return null!==n.collectionGroup?o.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(u):pt.isDocumentKey(n.path)?n.path.isEqual(u):n.path.isImmediateParentOf(u)}(i,e)&&function(n,o){for(const u of n.explicitOrderBy)if(!u.field.isKeyField()&&null===o.data.field(u.field))return!1;return!0}(i,e)&&function(n,o){for(const u of n.filters)if(!u.matches(o))return!1;return!0}(i,e)&&(o=e,!((n=i).startAt&&!function(u,l,p){const w=Ci(u,l,p);return u.inclusive?w<=0:w<0}(n.startAt,aa(n),o)||n.endAt&&!function(u,l,p){const w=Ci(u,l,p);return u.inclusive?w>=0:w>0}(n.endAt,aa(n),o)));var n,o}function yl(i){return(e,n)=>{let o=!1;for(const u of aa(i)){const l=Cp(u,e,n);if(0!==l)return l;o=o||u.field.isKeyField()}return 0}}function Cp(i,e,n){const o=i.field.isKeyField()?pt.comparator(e.key,n.key):function(u,l,p){const w=l.data.field(u),R=p.data.field(u);return null!==w&&null!==R?v(w,R):Rt()}(i.field,e,n);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return Rt()}}function vl(i,e){if(i.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ks(e)?"-0":e}}function _l(i){return{integerValue:""+i}}function Mc(i,e){return function Ba(i){return"number"==typeof i&&Number.isInteger(i)&&!ks(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}(e)?_l(e):vl(i,e)}class Rc{constructor(){this._=void 0}}function vd(i,e,n){return i instanceof yo?function(o,u){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&(l.fields.__previous_value__=u),{mapValue:l}}(n,e):i instanceof du?_d(i,e):i instanceof Au?tc(i,e):function(o,u){const l=Pc(o,u),p=Il(l)+Il(o.yt);return q(l)&&q(o.yt)?_l(p):vl(o.It,p)}(i,e)}function Nc(i,e,n){return i instanceof du?_d(i,e):i instanceof Au?tc(i,e):n}function Pc(i,e){return i instanceof Ta?q(n=e)||(o=n)&&"doubleValue"in o?e:{integerValue:0}:null;var o,n}class yo extends Rc{}class du extends Rc{constructor(e){super(),this.elements=e}}function _d(i,e){const n=nc(e);for(const o of i.elements)n.some(u=>go(u,o))||n.push(o);return{arrayValue:{values:n}}}class Au extends Rc{constructor(e){super(),this.elements=e}}function tc(i,e){let n=nc(e);for(const o of i.elements)n=n.filter(u=>!go(u,o));return{arrayValue:{values:n}}}class Ta extends Rc{constructor(e,n){super(),this.It=e,this.yt=n}}function Il(i){return tn(i.integerValue||i.doubleValue)}function nc(i){return Z(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Sp{constructor(e,n){this.version=e,this.transformResults=n}}class Nr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Nr}static exists(e){return new Nr(void 0,e)}static updateTime(e){return new Nr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function wl(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class rc{}function El(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new Aa(i.key,Nr.none()):new ic(i.key,i.data,Nr.none());{const n=i.data,o=Cr.empty();let u=new or(Wn.comparator);for(let l of e.fields)if(!u.has(l)){let p=n.field(l);null===p&&l.length>1&&(l=l.popLast(),p=n.field(l)),null===p?o.delete(l):o.set(l,p),u=u.add(l)}return new Sa(i.key,o,new Zi(u.toArray()),Nr.none())}}function Ha(i,e,n){i instanceof ic?function(o,u,l){const p=o.value.clone(),w=Zh(o.fieldTransforms,u,l.transformResults);p.setAll(w),u.convertToFoundDocument(l.version,p).setHasCommittedMutations()}(i,e,n):i instanceof Sa?function(o,u,l){if(!wl(o.precondition,u))return void u.convertToUnknownDocument(l.version);const p=Zh(o.fieldTransforms,u,l.transformResults),w=u.data;w.setAll(Kh(o)),w.setAll(p),u.convertToFoundDocument(l.version,w).setHasCommittedMutations()}(i,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Ca(i,e,n,o){return i instanceof ic?function(u,l,p,w){if(!wl(u.precondition,l))return p;const R=u.value.clone(),k=kc(u.fieldTransforms,w,l);return R.setAll(k),l.convertToFoundDocument(l.version,R).setHasLocalMutations(),null}(i,e,n,o):i instanceof Sa?function(u,l,p,w){if(!wl(u.precondition,l))return p;const R=kc(u.fieldTransforms,w,l),k=l.data;return k.setAll(Kh(u)),k.setAll(R),l.convertToFoundDocument(l.version,k).setHasLocalMutations(),null===p?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(B=>B.field))}(i,e,n,o):(p=n,wl(i.precondition,l=e)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):p);var l,p}function Wh(i,e){let n=null;for(const o of i.fieldTransforms){const u=e.data.field(o.field),l=Pc(o.transform,u||null);null!=l&&(null===n&&(n=Cr.empty()),n.set(o.field,l))}return n||null}function qh(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(n=i.fieldTransforms)&&void 0===o||n&&o&&Fi(n,o,(u,l)=>function Id(i,e){return i.field.isEqual(e.field)&&(o=e.transform,(n=i.transform)instanceof du&&o instanceof du||n instanceof Au&&o instanceof Au?Fi(n.elements,o.elements,go):n instanceof Ta&&o instanceof Ta?go(n.yt,o.yt):n instanceof yo&&o instanceof yo);var n,o}(u,l))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var n,o}class ic extends rc{constructor(e,n,o,u=[]){super(),this.key=e,this.value=n,this.precondition=o,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class Sa extends rc{constructor(e,n,o,u,l=[]){super(),this.key=e,this.data=n,this.fieldMask=o,this.precondition=u,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Kh(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const o=i.data.field(n);e.set(n,o)}}),e}function Zh(i,e,n){const o=new Map;Ut(i.length===n.length);for(let u=0;u<n.length;u++){const l=i[u],p=l.transform,w=e.data.field(l.field);o.set(l.field,Nc(p,w,n[u]))}return o}function kc(i,e,n){const o=new Map;for(const u of i){const l=u.transform,p=n.data.field(u.field);o.set(u.field,vd(l,p,e))}return o}class Aa extends rc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Oc extends rc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ap{constructor(e){this.count=e}}var Jr,Kn;function ua(i){switch(i){default:return Rt();case Pe.CANCELLED:case Pe.UNKNOWN:case Pe.DEADLINE_EXCEEDED:case Pe.RESOURCE_EXHAUSTED:case Pe.INTERNAL:case Pe.UNAVAILABLE:case Pe.UNAUTHENTICATED:return!1;case Pe.INVALID_ARGUMENT:case Pe.NOT_FOUND:case Pe.ALREADY_EXISTS:case Pe.PERMISSION_DENIED:case Pe.FAILED_PRECONDITION:case Pe.ABORTED:case Pe.OUT_OF_RANGE:case Pe.UNIMPLEMENTED:case Pe.DATA_LOSS:return!0}}function Mu(i){if(void 0===i)return En("GRPC error has no .code"),Pe.UNKNOWN;switch(i){case Jr.OK:return Pe.OK;case Jr.CANCELLED:return Pe.CANCELLED;case Jr.UNKNOWN:return Pe.UNKNOWN;case Jr.DEADLINE_EXCEEDED:return Pe.DEADLINE_EXCEEDED;case Jr.RESOURCE_EXHAUSTED:return Pe.RESOURCE_EXHAUSTED;case Jr.INTERNAL:return Pe.INTERNAL;case Jr.UNAVAILABLE:return Pe.UNAVAILABLE;case Jr.UNAUTHENTICATED:return Pe.UNAUTHENTICATED;case Jr.INVALID_ARGUMENT:return Pe.INVALID_ARGUMENT;case Jr.NOT_FOUND:return Pe.NOT_FOUND;case Jr.ALREADY_EXISTS:return Pe.ALREADY_EXISTS;case Jr.PERMISSION_DENIED:return Pe.PERMISSION_DENIED;case Jr.FAILED_PRECONDITION:return Pe.FAILED_PRECONDITION;case Jr.ABORTED:return Pe.ABORTED;case Jr.OUT_OF_RANGE:return Pe.OUT_OF_RANGE;case Jr.UNIMPLEMENTED:return Pe.UNIMPLEMENTED;case Jr.DATA_LOSS:return Pe.DATA_LOSS;default:return Rt()}}(Kn=Jr||(Jr={}))[Kn.OK=0]="OK",Kn[Kn.CANCELLED=1]="CANCELLED",Kn[Kn.UNKNOWN=2]="UNKNOWN",Kn[Kn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Kn[Kn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Kn[Kn.NOT_FOUND=5]="NOT_FOUND",Kn[Kn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Kn[Kn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Kn[Kn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Kn[Kn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Kn[Kn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Kn[Kn.ABORTED=10]="ABORTED",Kn[Kn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Kn[Kn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Kn[Kn.INTERNAL=13]="INTERNAL",Kn[Kn.UNAVAILABLE=14]="UNAVAILABLE",Kn[Kn.DATA_LOSS=15]="DATA_LOSS";class xa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0!==o)for(const[u,l]of o)if(this.equalsFn(u,e))return l}has(e){return void 0!==this.get(e)}set(e,n){const o=this.mapKeyFn(e),u=this.inner[o];if(void 0===u)return this.inner[o]=[[e,n]],void this.innerSize++;for(let l=0;l<u.length;l++)if(this.equalsFn(u[l][0],e))return void(u[l]=[e,n]);u.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0===o)return!1;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return 1===o.length?delete this.inner[n]:o.splice(u,1),this.innerSize--,!0;return!1}forEach(e){Ks(this.inner,(n,o)=>{for(const[u,l]of o)e(u,l)})}isEmpty(){return ho(this.inner)}size(){return this.innerSize}}const wd=new en(pt.comparator);function Ts(){return wd}const xp=new en(pt.comparator);function Dl(...i){let e=xp;for(const n of i)e=e.insert(n.key,n);return e}function Mp(i){let e=xp;return i.forEach((n,o)=>e=e.insert(n,o.overlayedDocument)),e}function Vo(){return Tl()}function bl(){return Tl()}function Tl(){return new xa(i=>i.toString(),(i,e)=>i.isEqual(e))}const pm=new en(pt.comparator),Yh=new or(pt.comparator);function Cn(...i){let e=Yh;for(const n of i)e=e.add(n);return e}const Rp=new or(rn);function Cl(){return Rp}class Lc{constructor(e,n,o,u,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=o,this.documentUpdates=u,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,o){const u=new Map;return u.set(e,Ru.createSynthesizedTargetChangeForCurrentChange(e,n,o)),new Lc(Xt.min(),u,Cl(),Ts(),Cn())}}class Ru{constructor(e,n,o,u,l){this.resumeToken=e,this.current=n,this.addedDocuments=o,this.modifiedDocuments=u,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,o){return new Ru(o,n,Cn(),Cn(),Cn())}}class Nu{constructor(e,n,o,u){this.Tt=e,this.removedTargetIds=n,this.key=o,this.Et=u}}class Qh{constructor(e,n){this.targetId=e,this.At=n}}class Sl{constructor(e,n,o=yr.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=n,this.resumeToken=o,this.cause=u}}class Xh{constructor(){this.Rt=0,this.bt=ef(),this.Pt=yr.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=Cn(),n=Cn(),o=Cn();return this.bt.forEach((u,l)=>{switch(l){case 0:e=e.add(u);break;case 2:n=n.add(u);break;case 1:o=o.add(u);break;default:Rt()}}),new Ru(this.Pt,this.vt,e,n,o)}Nt(){this.Vt=!1,this.bt=ef()}kt(e,n){this.Vt=!0,this.bt=this.bt.insert(e,n)}Ot(e){this.Vt=!0,this.bt=this.bt.remove(e)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class Si{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=Ts(),this.qt=Jh(),this.Kt=new or(rn)}Gt(e){for(const n of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(n,e.Et):this.jt(n,e.key,e.Et);for(const n of e.removedTargetIds)this.jt(n,e.key,e.Et)}Wt(e){this.forEachTarget(e,n=>{const o=this.zt(n);switch(e.state){case 0:this.Ht(n)&&o.Ct(e.resumeToken);break;case 1:o.Ft(),o.St||o.Nt(),o.Ct(e.resumeToken);break;case 2:o.Ft(),o.St||this.removeTarget(n);break;case 3:this.Ht(n)&&(o.$t(),o.Ct(e.resumeToken));break;case 4:this.Ht(n)&&(this.Jt(n),o.Ct(e.resumeToken));break;default:Rt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Lt.forEach((o,u)=>{this.Ht(u)&&n(u)})}Yt(e){const n=e.targetId,o=e.At.count,u=this.Xt(n);if(u){const l=u.target;if(Ju(l))if(0===o){const p=new pt(l.path);this.jt(n,p,qn.newNoDocument(p,Xt.min()))}else Ut(1===o);else this.Zt(n)!==o&&(this.Jt(n),this.Kt=this.Kt.add(n))}}te(e){const n=new Map;this.Lt.forEach((l,p)=>{const w=this.Xt(p);if(w){if(l.current&&Ju(w.target)){const R=new pt(w.target.path);null!==this.Ut.get(R)||this.ee(p,R)||this.jt(p,R,qn.newNoDocument(R,e))}l.Dt&&(n.set(p,l.xt()),l.Nt())}});let o=Cn();this.qt.forEach((l,p)=>{let w=!0;p.forEachWhile(R=>{const k=this.Xt(R);return!k||2===k.purpose||(w=!1,!1)}),w&&(o=o.add(l))}),this.Ut.forEach((l,p)=>p.setReadTime(e));const u=new Lc(e,n,this.Kt,this.Ut,o);return this.Ut=Ts(),this.qt=Jh(),this.Kt=new or(rn),u}Qt(e,n){if(!this.Ht(e))return;const o=this.ee(e,n.key)?2:0;this.zt(e).kt(n.key,o),this.Ut=this.Ut.insert(n.key,n),this.qt=this.qt.insert(n.key,this.ne(n.key).add(e))}jt(e,n,o){if(!this.Ht(e))return;const u=this.zt(e);this.ee(e,n)?u.kt(n,1):u.Ot(n),this.qt=this.qt.insert(n,this.ne(n).delete(e)),o&&(this.Ut=this.Ut.insert(n,o))}removeTarget(e){this.Lt.delete(e)}Zt(e){const n=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Mt(e){this.zt(e).Mt()}zt(e){let n=this.Lt.get(e);return n||(n=new Xh,this.Lt.set(e,n)),n}ne(e){let n=this.qt.get(e);return n||(n=new or(rn),this.qt=this.qt.insert(e,n)),n}Ht(e){const n=null!==this.Xt(e);return n||nt("WatchChangeAggregator","Detected inactive target",e),n}Xt(e){const n=this.Lt.get(e);return n&&n.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new Xh),this.Bt.getRemoteKeysForTarget(e).forEach(n=>{this.jt(e,n,null)})}ee(e,n){return this.Bt.getRemoteKeysForTarget(e).has(n)}}function Jh(){return new en(pt.comparator)}function ef(){return new en(pt.comparator)}const Ed={asc:"ASCENDING",desc:"DESCENDING"},tf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Np{constructor(e,n){this.databaseId=e,this.gt=n}}function Fc(i,e){return i.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function nf(i,e){return i.gt?e.toBase64():e.toUint8Array()}function Pp(i,e){return Fc(i,e.toTimestamp())}function Qi(i){return Ut(!!i),Xt.fromTimestamp(function(e){const n=Ea(e);return new on(n.seconds,n.nanos)}(i))}function rf(i,e){return(n=i,new Pn(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function kp(i){const e=Pn.fromString(i);return Ut(_(e)),e}function Ga(i,e){return rf(i.databaseId,e.path)}function Bo(i,e){const n=kp(e);if(n.get(1)!==i.databaseId.projectId)throw new Je(Pe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new Je(Pe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new pt(sf(n))}function Al(i,e){return rf(i.databaseId,e)}function Pu(i){return new Pn(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function sf(i){return Ut(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function Dd(i,e,n){return{name:Ga(i,e),fields:n.value.mapValue.fields}}function Cd(i,e){return{documents:[Al(i,e.path)]}}function za(i,e){const n={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(n.parent=Al(i,o),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Al(i,o.popLast()),n.structuredQuery.from=[{collectionId:o.lastSegment()}]);const u=function(R){if(0===R.length)return;const k=R.map(B=>function(J){if("=="===J.op){if(ot(J.value))return{unaryFilter:{field:Wa(J.field),op:"IS_NAN"}};if(Me(J.value))return{unaryFilter:{field:Wa(J.field),op:"IS_NULL"}}}else if("!="===J.op){if(ot(J.value))return{unaryFilter:{field:Wa(J.field),op:"IS_NOT_NAN"}};if(Me(J.value))return{unaryFilter:{field:Wa(J.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wa(J.field),op:Ml(J.op),value:J.value}}}(B));return 1===k.length?k[0]:{compositeFilter:{op:"AND",filters:k}}}(e.filters);u&&(n.structuredQuery.where=u);const l=function(R){if(0!==R.length)return R.map(k=>{return{field:Wa((B=k).field),direction:Op(B.dir)};var B})}(e.orderBy);l&&(n.structuredQuery.orderBy=l);const p=(k=e.limit,i.gt||Da(k)?k:{value:k});var k,w,R;return null!==p&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt={before:(w=e.startAt).inclusive,values:w.position}),e.endAt&&(n.structuredQuery.endAt={before:!(R=e.endAt).inclusive,values:R.position}),n}function Sd(i){let e=function xl(i){const e=kp(i);return 4===e.length?Pn.emptyPath():sf(e)}(i.parent);const n=i.structuredQuery,o=n.from?n.from.length:0;let u=null;if(o>0){Ut(1===o);const B=n.from[0];B.allDescendants?u=B.collectionId:e=e.child(B.collectionId)}let l=[];n.where&&(l=Vc(n.where));let p=[];n.orderBy&&(p=n.orderBy.map(B=>{return new Vt($o((J=B).field),function(Se){switch(Se){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(J.direction));var J}));let w=null;n.limit&&(w=function(B){let J;return J="object"==typeof B?B.value:B,Da(J)?null:J}(n.limit));let R=null;var B;n.startAt&&(R=new dn((B=n.startAt).values||[],!!B.before));let k=null;return n.endAt&&(k=function(B){return new dn(B.values||[],!B.before)}(n.endAt)),function ba(i,e,n,o,u,l,p,w){return new Yi(i,e,n,o,u,l,p,w)}(e,u,p,l,w,"F",R,k)}function Vc(i){return i?void 0!==i.unaryFilter?[xd(i)]:void 0!==i.fieldFilter?[uf(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(e=>Vc(e)).reduce((e,n)=>e.concat(n)):Rt():[]}function Op(i){return Ed[i]}function Ml(i){return tf[i]}function Wa(i){return{fieldPath:i.canonicalString()}}function $o(i){return Wn.fromServerFormat(i.fieldPath)}function uf(i){return x.create($o(i.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Rt()}}(i.fieldFilter.op),i.fieldFilter.value)}function xd(i){switch(i.unaryFilter.op){case"IS_NAN":const e=$o(i.unaryFilter.field);return x.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=$o(i.unaryFilter.field);return x.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=$o(i.unaryFilter.field);return x.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=$o(i.unaryFilter.field);return x.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Rt()}}function Lp(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function _(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}class Fp{constructor(e,n,o,u){this.batchId=e,this.localWriteTime=n,this.baseMutations=o,this.mutations=u}applyToRemoteDocument(e,n){const o=n.mutationResults;for(let u=0;u<this.mutations.length;u++){const l=this.mutations[u];l.key.isEqual(e.key)&&Ha(l,e,o[u])}}applyToLocalView(e,n){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(n=Ca(o,e,n,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(n=Ca(o,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const o=bl();return this.mutations.forEach(u=>{const l=e.get(u.key),p=l.overlayedDocument;let w=this.applyToLocalView(p,l.mutatedFields);w=n.has(u.key)?null:w;const R=El(p,w);null!==R&&o.set(u.key,R),p.isValidDocument()||p.convertToNoDocument(Xt.min())}),o}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Cn())}isEqual(e){return this.batchId===e.batchId&&Fi(this.mutations,e.mutations,(n,o)=>qh(n,o))&&Fi(this.baseMutations,e.baseMutations,(n,o)=>qh(n,o))}}class Up{constructor(e,n,o,u){this.batch=e,this.commitVersion=n,this.mutationResults=o,this.docVersions=u}static from(e,n,o){Ut(e.mutations.length===o.length);let u=pm;const l=e.mutations;for(let p=0;p<l.length;p++)u=u.insert(l[p].key,o[p].version);return new Up(e,n,o,u)}}class kl{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class ac{constructor(e,n,o,u,l=Xt.min(),p=Xt.min(),w=yr.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=o,this.sequenceNumber=u,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=p,this.resumeToken=w}withSequenceNumber(e){return new ac(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new ac(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new ac(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class ym{constructor(e){this.re=e}}function Od(i){const e=Sd({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?lu(e,e.limit,"L"):e}class cc{constructor(){}ce(e,n){this.ae(e,n),n.he()}ae(e,n){if("nullValue"in e)this.le(n,5);else if("booleanValue"in e)this.le(n,10),n.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(n,15),n.fe(tn(e.integerValue));else if("doubleValue"in e){const o=tn(e.doubleValue);isNaN(o)?this.le(n,13):(this.le(n,15),ks(o)?n.fe(0):n.fe(o))}else if("timestampValue"in e){const o=e.timestampValue;this.le(n,20),"string"==typeof o?n.de(o):(n.de(`${o.seconds||""}`),n.fe(o.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,n),this.we(n);else if("bytesValue"in e)this.le(n,30),n.me(Oo(e.bytesValue)),this.we(n);else if("referenceValue"in e)this.ge(e.referenceValue,n);else if("geoPointValue"in e){const o=e.geoPointValue;this.le(n,45),n.fe(o.latitude||0),n.fe(o.longitude||0)}else"mapValue"in e?Hn(e)?this.le(n,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,n),this.we(n)):"arrayValue"in e?(this.pe(e.arrayValue,n),this.we(n)):Rt()}_e(e,n){this.le(n,25),this.Ie(e,n)}Ie(e,n){n.de(e)}ye(e,n){const o=e.fields||{};this.le(n,55);for(const u of Object.keys(o))this._e(u,n),this.ae(o[u],n)}pe(e,n){const o=e.values||[];this.le(n,50);for(const u of o)this.ae(u,n)}ge(e,n){this.le(n,37),pt.fromName(e).path.forEach(o=>{this.le(n,60),this.Ie(o,n)})}le(e,n){e.fe(n)}we(e){e.fe(2)}}cc.Te=new cc;class Ys{constructor(){this.Ye=new Ul}addToCollectionParentIndex(e,n){return this.Ye.add(n),Te.resolve()}getCollectionParents(e,n){return Te.resolve(this.Ye.getEntries(n))}addFieldIndex(e,n){return Te.resolve()}deleteFieldIndex(e,n){return Te.resolve()}getDocumentsMatchingTarget(e,n){return Te.resolve(null)}getIndexType(e,n){return Te.resolve(0)}getFieldIndexes(e,n){return Te.resolve([])}getNextCollectionGroupToUpdate(e){return Te.resolve(null)}getMinOffset(e,n){return Te.resolve(ui.min())}getMinOffsetFromCollectionGroup(e,n){return Te.resolve(ui.min())}updateCollectionGroup(e,n,o){return Te.resolve()}updateIndexEntries(e,n){return Te.resolve()}}class Ul{constructor(){this.index={}}add(e){const n=e.lastSegment(),o=e.popLast(),u=this.index[n]||new or(Pn.comparator),l=!u.has(o);return this.index[n]=u.add(o),l}has(e){const n=e.lastSegment(),o=e.popLast(),u=this.index[n];return u&&u.has(o)}getEntries(e){return(this.index[e]||new or(Pn.comparator)).toArray()}}new Uint8Array(0);class vo{constructor(e,n,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new vo(e,vo.DEFAULT_COLLECTION_PERCENTILE,vo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}vo.DEFAULT_COLLECTION_PERCENTILE=10,vo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vo.DEFAULT=new vo(41943040,vo.DEFAULT_COLLECTION_PERCENTILE,vo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vo.DISABLED=new vo(-1,0,0);class dc{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new dc(0)}static vn(){return new dc(-1)}}class Zp{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class Cm{constructor(e,n,o,u){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=o,this.indexManager=u}getDocument(e,n){let o=null;return this.documentOverlayCache.getOverlay(e,n).next(u=>(o=u,this.getBaseDocument(e,n,o))).next(u=>(null!==o&&Ca(o.mutation,u,Zi.empty(),on.now()),u))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.getLocalViewOfDocuments(e,o,Cn()).next(()=>o))}getLocalViewOfDocuments(e,n,o=Cn()){const u=Vo();return this.populateOverlays(e,u,n).next(()=>this.computeViews(e,n,u,o).next(l=>{let p=Dl();return l.forEach((w,R)=>{p=p.insert(w,R.overlayedDocument)}),p}))}getOverlayedDocuments(e,n){const o=Vo();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,Cn()))}populateOverlays(e,n,o){const u=[];return o.forEach(l=>{n.has(l)||u.push(l)}),this.documentOverlayCache.getOverlays(e,u).next(l=>{l.forEach((p,w)=>{n.set(p,w)})})}computeViews(e,n,o,u){let l=Ts();const p=Tl(),w=Tl();return n.forEach((R,k)=>{const B=o.get(k.key);u.has(k.key)&&(void 0===B||B.mutation instanceof Sa)?l=l.insert(k.key,k):void 0!==B&&(p.set(k.key,B.mutation.getFieldMask()),Ca(B.mutation,k,B.mutation.getFieldMask(),on.now()))}),this.recalculateAndSaveOverlays(e,l).next(R=>(R.forEach((k,B)=>p.set(k,B)),n.forEach((k,B)=>{var J;return w.set(k,new Zp(B,null!==(J=p.get(k))&&void 0!==J?J:null))}),w))}recalculateAndSaveOverlays(e,n){const o=Tl();let u=new en((p,w)=>p-w),l=Cn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(p=>{for(const w of p)w.keys().forEach(R=>{const k=n.get(R);if(null===k)return;let B=o.get(R)||Zi.empty();B=w.applyToLocalView(k,B),o.set(R,B);const J=(u.get(w.batchId)||Cn()).add(R);u=u.insert(w.batchId,J)})}).next(()=>{const p=[],w=u.getReverseIterator();for(;w.hasNext();){const R=w.getNext(),k=R.key,B=R.value,J=bl();B.forEach(Se=>{if(!l.has(Se)){const Ve=El(n.get(Se),o.get(Se));null!==Ve&&J.set(Se,Ve),l=l.add(Se)}}),p.push(this.documentOverlayCache.saveOverlays(e,k,J))}return Te.waitFor(p)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,n,o){return pt.isDocumentKey((u=n).path)&&null===u.collectionGroup&&0===u.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):function Uo(i){return null!==i.collectionGroup}(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,o):this.getDocumentsMatchingCollectionQuery(e,n,o);var u}getNextDocuments(e,n,o,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,o,u).next(l=>{const p=u-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,o.largestBatchId,u-l.size):Te.resolve(Vo());let w=-1,R=l;return p.next(k=>Te.forEach(k,(B,J)=>(w<J.largestBatchId&&(w=J.largestBatchId),l.get(B)?Te.resolve():this.getBaseDocument(e,B,J).next(Se=>{R=R.insert(B,Se)}))).next(()=>this.populateOverlays(e,k,l)).next(()=>this.computeViews(e,R,k,Cn())).next(B=>({batchId:w,changes:Mp(B)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new pt(n)).next(o=>{let u=Dl();return o.isFoundDocument()&&(u=u.insert(o.key,o)),u})}getDocumentsMatchingCollectionGroupQuery(e,n,o){const u=n.collectionGroup;let l=Dl();return this.indexManager.getCollectionParents(e,u).next(p=>Te.forEach(p,w=>{const R=(k=n,B=w.child(u),new Yi(B,null,k.explicitOrderBy.slice(),k.filters.slice(),k.limit,k.limitType,k.startAt,k.endAt));var k,B;return this.getDocumentsMatchingCollectionQuery(e,R,o).next(k=>{k.forEach((B,J)=>{l=l.insert(B,J)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,o){let u;return this.remoteDocumentCache.getAllFromCollection(e,n.path,o).next(l=>(u=l,this.documentOverlayCache.getOverlaysForCollection(e,n.path,o.largestBatchId))).next(l=>{l.forEach((w,R)=>{const k=R.getKey();null===u.get(k)&&(u=u.insert(k,qn.newInvalidDocument(k)))});let p=Dl();return u.forEach((w,R)=>{const k=l.get(w);void 0!==k&&Ca(k.mutation,R,Zi.empty(),on.now()),xc(n,R)&&(p=p.insert(w,R))}),p})}getBaseDocument(e,n,o){return null===o||1===o.mutation.type?this.remoteDocumentCache.getEntry(e,n):Te.resolve(qn.newInvalidDocument(n))}}class qc{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,n){return Te.resolve(this.Zn.get(n))}saveBundleMetadata(e,n){var o;return this.Zn.set(n.id,{id:(o=n).id,version:o.version,createTime:Qi(o.createTime)}),Te.resolve()}getNamedQuery(e,n){return Te.resolve(this.ts.get(n))}saveNamedQuery(e,n){return this.ts.set(n.name,{name:(o=n).name,query:Od(o.bundledQuery),readTime:Qi(o.readTime)}),Te.resolve();var o}}class vf{constructor(){this.overlays=new en(pt.comparator),this.es=new Map}getOverlay(e,n){return Te.resolve(this.overlays.get(n))}getOverlays(e,n){const o=Vo();return Te.forEach(n,u=>this.getOverlay(e,u).next(l=>{null!==l&&o.set(u,l)})).next(()=>o)}saveOverlays(e,n,o){return o.forEach((u,l)=>{this.ue(e,n,l)}),Te.resolve()}removeOverlaysForBatchId(e,n,o){const u=this.es.get(o);return void 0!==u&&(u.forEach(l=>this.overlays=this.overlays.remove(l)),this.es.delete(o)),Te.resolve()}getOverlaysForCollection(e,n,o){const u=Vo(),l=n.length+1,p=new pt(n.child("")),w=this.overlays.getIteratorFrom(p);for(;w.hasNext();){const R=w.getNext().value,k=R.getKey();if(!n.isPrefixOf(k.path))break;k.path.length===l&&R.largestBatchId>o&&u.set(R.getKey(),R)}return Te.resolve(u)}getOverlaysForCollectionGroup(e,n,o,u){let l=new en((k,B)=>k-B);const p=this.overlays.getIterator();for(;p.hasNext();){const k=p.getNext().value;if(k.getKey().getCollectionGroup()===n&&k.largestBatchId>o){let B=l.get(k.largestBatchId);null===B&&(B=Vo(),l=l.insert(k.largestBatchId,B)),B.set(k.getKey(),k)}}const w=Vo(),R=l.getIterator();for(;R.hasNext()&&(R.getNext().value.forEach((k,B)=>w.set(k,B)),!(w.size()>=u)););return Te.resolve(w)}ue(e,n,o){const u=this.overlays.get(o.key);if(null!==u){const p=this.es.get(u.largestBatchId).delete(o.key);this.es.set(u.largestBatchId,p)}this.overlays=this.overlays.insert(o.key,new kl(n,o));let l=this.es.get(n);void 0===l&&(l=Cn(),this.es.set(n,l)),this.es.set(n,l.add(o.key))}}class $d{constructor(){this.ns=new or(es.ss),this.rs=new or(es.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,n){const o=new es(e,n);this.ns=this.ns.add(o),this.rs=this.rs.add(o)}us(e,n){e.forEach(o=>this.addReference(o,n))}removeReference(e,n){this.cs(new es(e,n))}hs(e,n){e.forEach(o=>this.removeReference(o,n))}ls(e){const n=new pt(new Pn([])),o=new es(n,e),u=new es(n,e+1),l=[];return this.rs.forEachInRange([o,u],p=>{this.cs(p),l.push(p.key)}),l}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const n=new pt(new Pn([])),o=new es(n,e),u=new es(n,e+1);let l=Cn();return this.rs.forEachInRange([o,u],p=>{l=l.add(p.key)}),l}containsKey(e){const n=new es(e,0),o=this.ns.firstAfterOrEqual(n);return null!==o&&e.isEqual(o.key)}}class es{constructor(e,n){this.key=e,this._s=n}static ss(e,n){return pt.comparator(e.key,n.key)||rn(e._s,n._s)}static os(e,n){return rn(e._s,n._s)||pt.comparator(e.key,n.key)}}class _f{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new or(es.ss)}checkEmpty(e){return Te.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,o,u){const l=this.ws;this.ws++;const p=new Fp(l,n,o,u);this.mutationQueue.push(p);for(const w of u)this.gs=this.gs.add(new es(w.key,l)),this.indexManager.addToCollectionParentIndex(e,w.key.path.popLast());return Te.resolve(p)}lookupMutationBatch(e,n){return Te.resolve(this.ys(n))}getNextMutationBatchAfterBatchId(e,n){const u=this.ps(n+1),l=u<0?0:u;return Te.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return Te.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return Te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const o=new es(n,0),u=new es(n,Number.POSITIVE_INFINITY),l=[];return this.gs.forEachInRange([o,u],p=>{const w=this.ys(p._s);l.push(w)}),Te.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let o=new or(rn);return n.forEach(u=>{const l=new es(u,0),p=new es(u,Number.POSITIVE_INFINITY);this.gs.forEachInRange([l,p],w=>{o=o.add(w._s)})}),Te.resolve(this.Is(o))}getAllMutationBatchesAffectingQuery(e,n){const o=n.path,u=o.length+1;let l=o;pt.isDocumentKey(l)||(l=l.child(""));const p=new es(new pt(l),0);let w=new or(rn);return this.gs.forEachWhile(R=>{const k=R.key.path;return!!o.isPrefixOf(k)&&(k.length===u&&(w=w.add(R._s)),!0)},p),Te.resolve(this.Is(w))}Is(e){const n=[];return e.forEach(o=>{const u=this.ys(o);null!==u&&n.push(u)}),n}removeMutationBatch(e,n){Ut(0===this.Ts(n.batchId,"removed")),this.mutationQueue.shift();let o=this.gs;return Te.forEach(n.mutations,u=>{const l=new es(u.key,n.batchId);return o=o.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.gs=o})}An(e){}containsKey(e,n){const o=new es(n,0),u=this.gs.firstAfterOrEqual(o);return Te.resolve(n.isEqual(u&&u.key))}performConsistencyCheck(e){return Te.resolve()}Ts(e,n){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const n=this.ps(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Sm{constructor(e){this.Es=e,this.docs=new en(pt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const o=n.key,u=this.docs.get(o),l=u?u.size:0,p=this.Es(n);return this.docs=this.docs.insert(o,{document:n.mutableCopy(),size:p}),this.size+=p-l,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const o=this.docs.get(n);return Te.resolve(o?o.document.mutableCopy():qn.newInvalidDocument(n))}getEntries(e,n){let o=Ts();return n.forEach(u=>{const l=this.docs.get(u);o=o.insert(u,l?l.document.mutableCopy():qn.newInvalidDocument(u))}),Te.resolve(o)}getAllFromCollection(e,n,o){let u=Ts();const l=new pt(n.child("")),p=this.docs.getIteratorFrom(l);for(;p.hasNext();){const{key:w,value:{document:R}}=p.getNext();if(!n.isPrefixOf(w.path))break;w.path.length>n.length+1||au(_a(R),o)<=0||(u=u.insert(R.key,R.mutableCopy()))}return Te.resolve(u)}getAllFromCollectionGroup(e,n,o,u){Rt()}As(e,n){return Te.forEach(this.docs,o=>n(o))}newChangeBuffer(e){return new Am(this)}getSize(e){return Te.resolve(this.size)}}class Am extends class mf{constructor(){this.changes=new xa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,qn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const o=this.changes.get(n);return void 0!==o?Te.resolve(o):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.Yn=e}applyChanges(e){const n=[];return this.changes.forEach((o,u)=>{u.isValidDocument()?n.push(this.Yn.addEntry(e,u)):this.Yn.removeEntry(o)}),Te.waitFor(n)}getFromCache(e,n){return this.Yn.getEntry(e,n)}getAllFromCache(e,n){return this.Yn.getEntries(e,n)}}class xm{constructor(e){this.persistence=e,this.Rs=new xa(n=>$a(n),Os),this.lastRemoteSnapshotVersion=Xt.min(),this.highestTargetId=0,this.bs=0,this.Ps=new $d,this.targetCount=0,this.vs=dc.Pn()}forEachTarget(e,n){return this.Rs.forEach((o,u)=>n(u)),Te.resolve()}getLastRemoteSnapshotVersion(e){return Te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Te.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),Te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,o){return o&&(this.lastRemoteSnapshotVersion=o),n>this.bs&&(this.bs=n),Te.resolve()}Dn(e){this.Rs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.vs=new dc(n),this.highestTargetId=n),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,n){return this.Dn(n),this.targetCount+=1,Te.resolve()}updateTargetData(e,n){return this.Dn(n),Te.resolve()}removeTargetData(e,n){return this.Rs.delete(n.target),this.Ps.ls(n.targetId),this.targetCount-=1,Te.resolve()}removeTargets(e,n,o){let u=0;const l=[];return this.Rs.forEach((p,w)=>{w.sequenceNumber<=n&&null===o.get(w.targetId)&&(this.Rs.delete(p),l.push(this.removeMatchingKeysForTargetId(e,w.targetId)),u++)}),Te.waitFor(l).next(()=>u)}getTargetCount(e){return Te.resolve(this.targetCount)}getTargetData(e,n){const o=this.Rs.get(n)||null;return Te.resolve(o)}addMatchingKeys(e,n,o){return this.Ps.us(n,o),Te.resolve()}removeMatchingKeys(e,n,o){this.Ps.hs(n,o);const u=this.persistence.referenceDelegate,l=[];return u&&n.forEach(p=>{l.push(u.markPotentiallyOrphaned(e,p))}),Te.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.Ps.ls(n),Te.resolve()}getMatchingKeysForTargetId(e,n){const o=this.Ps.ds(n);return Te.resolve(o)}containsKey(e,n){return Te.resolve(this.Ps.containsKey(n))}}class Yp{constructor(e,n){this.Vs={},this.overlays={},this.Ss=new Wr(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new xm(this),this.indexManager=new Ys,this.remoteDocumentCache=new Sm(o=>this.referenceDelegate.xs(o)),this.It=new ym(n),this.Ns=new qc(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new vf,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let o=this.Vs[e.toKey()];return o||(o=new _f(n,this.referenceDelegate),this.Vs[e.toKey()]=o),o}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,n,o){nt("MemoryPersistence","Starting transaction:",e);const u=new Mm(this.Ss.next());return this.referenceDelegate.ks(),o(u).next(l=>this.referenceDelegate.Os(u).next(()=>l)).toPromise().then(l=>(u.raiseOnCommittedEvent(),l))}Ms(e,n){return Te.or(Object.values(this.Vs).map(o=>()=>o.containsKey(e,n)))}}class Mm extends class ta{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class jd{constructor(e){this.persistence=e,this.Fs=new $d,this.$s=null}static Bs(e){return new jd(e)}get Ls(){if(this.$s)return this.$s;throw Rt()}addReference(e,n,o){return this.Fs.addReference(o,n),this.Ls.delete(o.toString()),Te.resolve()}removeReference(e,n,o){return this.Fs.removeReference(o,n),this.Ls.add(o.toString()),Te.resolve()}markPotentiallyOrphaned(e,n){return this.Ls.add(n.toString()),Te.resolve()}removeTarget(e,n){this.Fs.ls(n.targetId).forEach(u=>this.Ls.add(u.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,n.targetId).next(u=>{u.forEach(l=>this.Ls.add(l.toString()))}).next(()=>o.removeTargetData(e,n))}ks(){this.$s=new Set}Os(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Te.forEach(this.Ls,o=>{const u=pt.fromPath(o);return this.Us(e,u).next(l=>{l||n.removeEntry(u,Xt.min())})}).next(()=>(this.$s=null,n.apply(e)))}updateLimboDocument(e,n){return this.Us(e,n).next(o=>{o?this.Ls.delete(n.toString()):this.Ls.add(n.toString())})}xs(e){return 0}Us(e,n){return Te.or([()=>Te.resolve(this.Fs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ms(e,n)])}}class qd{constructor(e,n,o,u){this.targetId=e,this.fromCache=n,this.Si=o,this.Di=u}static Ci(e,n){let o=Cn(),u=Cn();for(const l of n.docChanges)switch(l.type){case 0:o=o.add(l.doc.key);break;case 1:u=u.add(l.doc.key)}return new qd(e,n.fromCache,o,u)}}class Vu{constructor(){this.xi=!1}initialize(e,n){this.Ni=e,this.indexManager=n,this.xi=!0}getDocumentsMatchingQuery(e,n,o,u){return this.ki(e,n).next(l=>l||this.Oi(e,n,u,o)).next(l=>l||this.Mi(e,n))}ki(e,n){if(sa(n))return Te.resolve(null);let o=Ls(n);return this.indexManager.getIndexType(e,o).next(u=>0===u?null:(null!==n.limit&&1===u&&(n=lu(n,null,"F"),o=Ls(n)),this.indexManager.getDocumentsMatchingTarget(e,o).next(l=>{const p=Cn(...l);return this.Ni.getDocuments(e,p).next(w=>this.indexManager.getMinOffset(e,o).next(R=>{const k=this.Fi(n,w);return this.$i(n,k,p,R.readTime)?this.ki(e,lu(n,null,"F")):this.Bi(e,k,n,R)}))})))}Oi(e,n,o,u){return sa(n)||u.isEqual(Xt.min())?this.Mi(e,n):this.Ni.getDocuments(e,o).next(l=>{const p=this.Fi(n,l);return this.$i(n,p,o,u)?this.Mi(e,n):(Jo()<=oe.in.DEBUG&&nt("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),Su(n)),this.Bi(e,p,n,function Ps(i,e){const n=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,u=Xt.fromTimestamp(1e9===o?new on(n+1,0):new on(n,o));return new ui(u,pt.empty(),e)}(u,-1)))})}Fi(e,n){let o=new or(yl(e));return n.forEach((u,l)=>{xc(e,l)&&(o=o.add(l))}),o}$i(e,n,o,u){if(null===e.limit)return!1;if(o.size!==n.size)return!0;const l="F"===e.limitType?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(u)>0)}Mi(e,n){return Jo()<=oe.in.DEBUG&&nt("QueryEngine","Using full collection scan to execute query:",Su(n)),this.Ni.getDocumentsMatchingQuery(e,n,ui.min())}Bi(e,n,o,u){return this.Ni.getDocumentsMatchingQuery(e,o,u).next(l=>(n.forEach(p=>{l=l.insert(p.key,p)}),l))}}class Xp{constructor(e,n,o,u){this.persistence=e,this.Li=n,this.It=u,this.Ui=new en(rn),this.qi=new xa(l=>$a(l),Os),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(o)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Cm(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ui))}}function Jp(i,e){return eg.apply(this,arguments)}function eg(){return eg=(0,M.Z)(function*(i,e){const n=gt(i);return yield n.persistence.runTransaction("Handle user change","readonly",o=>{let u;return n.mutationQueue.getAllMutationBatches(o).next(l=>(u=l,n.Qi(e),n.mutationQueue.getAllMutationBatches(o))).next(l=>{const p=[],w=[];let R=Cn();for(const k of u){p.push(k.batchId);for(const B of k.mutations)R=R.add(B.key)}for(const k of l){w.push(k.batchId);for(const B of k.mutations)R=R.add(B.key)}return n.localDocuments.getDocuments(o,R).next(k=>({ji:k,removedBatchIds:p,addedBatchIds:w}))})})}),eg.apply(this,arguments)}function Kd(i,e){const n=gt(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const u=e.batch.keys(),l=n.Gi.newChangeBuffer({trackRemovals:!0});return function(p,w,R,k){const B=R.batch,J=B.keys();let Se=Te.resolve();return J.forEach(Ve=>{Se=Se.next(()=>k.getEntry(w,Ve)).next(Ke=>{const Ct=R.docVersions.get(Ve);Ut(null!==Ct),Ke.version.compareTo(Ct)<0&&(B.applyToRemoteDocument(Ke,R),Ke.isValidDocument()&&(Ke.setReadTime(R.commitVersion),k.addEntry(Ke)))})}),Se.next(()=>p.mutationQueue.removeMutationBatch(w,B))}(n,o,e,l).next(()=>l.apply(o)).next(()=>n.mutationQueue.performConsistencyCheck(o)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(o,u,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(p){let w=Cn();for(let R=0;R<p.mutationResults.length;++R)p.mutationResults[R].transformResults.length>0&&(w=w.add(p.batch.mutations[R].key));return w}(e))).next(()=>n.localDocuments.getDocuments(o,u))})}function tg(i){const e=gt(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Cs.getLastRemoteSnapshotVersion(n))}function ng(i,e){const n=gt(i),o=e.snapshotVersion;let u=n.Ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const p=n.Gi.newChangeBuffer({trackRemovals:!0});u=n.Ui;const w=[];e.targetChanges.forEach((B,J)=>{const Se=u.get(J);if(!Se)return;w.push(n.Cs.removeMatchingKeys(l,B.removedDocuments,J).next(()=>n.Cs.addMatchingKeys(l,B.addedDocuments,J)));let Ve=Se.withSequenceNumber(l.currentSequenceNumber);var Ke,Ct,kt;e.targetMismatches.has(J)?Ve=Ve.withResumeToken(yr.EMPTY_BYTE_STRING,Xt.min()).withLastLimboFreeSnapshotVersion(Xt.min()):B.resumeToken.approximateByteSize()>0&&(Ve=Ve.withResumeToken(B.resumeToken,o)),u=u.insert(J,Ve),Ct=Ve,kt=B,(0===(Ke=Se).resumeToken.approximateByteSize()||Ct.snapshotVersion.toMicroseconds()-Ke.snapshotVersion.toMicroseconds()>=3e8||kt.addedDocuments.size+kt.modifiedDocuments.size+kt.removedDocuments.size>0)&&w.push(n.Cs.updateTargetData(l,Ve))});let R=Ts(),k=Cn();if(e.documentUpdates.forEach(B=>{e.resolvedLimboDocuments.has(B)&&w.push(n.persistence.referenceDelegate.updateLimboDocument(l,B))}),w.push(function wf(i,e,n){let o=Cn(),u=Cn();return n.forEach(l=>o=o.add(l)),e.getEntries(i,o).next(l=>{let p=Ts();return n.forEach((w,R)=>{const k=l.get(w);R.isFoundDocument()!==k.isFoundDocument()&&(u=u.add(w)),R.isNoDocument()&&R.version.isEqual(Xt.min())?(e.removeEntry(w,R.readTime),p=p.insert(w,R)):!k.isValidDocument()||R.version.compareTo(k.version)>0||0===R.version.compareTo(k.version)&&k.hasPendingWrites?(e.addEntry(R),p=p.insert(w,R)):nt("LocalStore","Ignoring outdated watch update for ",w,". Current version:",k.version," Watch version:",R.version)}),{Wi:p,zi:u}})}(l,p,e.documentUpdates).next(B=>{R=B.Wi,k=B.zi})),!o.isEqual(Xt.min())){const B=n.Cs.getLastRemoteSnapshotVersion(l).next(J=>n.Cs.setTargetsMetadata(l,l.currentSequenceNumber,o));w.push(B)}return Te.waitFor(w).next(()=>p.apply(l)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,R,k)).next(()=>R)}).then(l=>(n.Ui=u,l))}function rg(i,e){const n=gt(i);return n.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function Bu(i,e){const n=gt(i);return n.persistence.runTransaction("Allocate target","readwrite",o=>{let u;return n.Cs.getTargetData(o,e).next(l=>l?(u=l,Te.resolve(u)):n.Cs.allocateTargetId(o).next(p=>(u=new ac(e,p,0,o.currentSequenceNumber),n.Cs.addTargetData(o,u).next(()=>u))))}).then(o=>{const u=n.Ui.get(o.targetId);return(null===u||o.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(n.Ui=n.Ui.insert(o.targetId,o),n.qi.set(e,o.targetId)),o})}function fc(i,e,n){return Kc.apply(this,arguments)}function Kc(){return Kc=(0,M.Z)(function*(i,e,n){const o=gt(i),u=o.Ui.get(e),l=n?"readwrite":"readwrite-primary";try{n||(yield o.persistence.runTransaction("Release target",l,p=>o.persistence.referenceDelegate.removeTarget(p,u)))}catch(p){if(!ws(p))throw p;nt("LocalStore",`Failed to update sequence numbers for target ${e}: ${p}`)}o.Ui=o.Ui.remove(e),o.qi.delete(u.target)}),Kc.apply(this,arguments)}function pc(i,e,n){const o=gt(i);let u=Xt.min(),l=Cn();return o.persistence.runTransaction("Execute query","readonly",p=>function(w,R,k){const B=gt(w),J=B.qi.get(k);return void 0!==J?Te.resolve(B.Ui.get(J)):B.Cs.getTargetData(R,k)}(o,p,Ls(e)).next(w=>{if(w)return u=w.lastLimboFreeSnapshotVersion,o.Cs.getMatchingKeysForTargetId(p,w.targetId).next(R=>{l=R})}).next(()=>o.Li.getDocumentsMatchingQuery(p,e,n?u:Xt.min(),n?l:Cn())).next(w=>(function Df(i,e,n){let o=i.Ki.get(e)||Xt.min();n.forEach((u,l)=>{l.readTime.compareTo(o)>0&&(o=l.readTime)}),i.Ki.set(e,o)}(o,function yd(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}(e),w),{documents:w,Hi:l})))}class Cf{constructor(){this.activeTargetIds=Cl()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class og{constructor(){this.Lr=new Cf,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,o){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,n,o){this.Ur[e]=n}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new Cf,Promise.resolve()}handleUserChange(e,n,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Nm{qr(e){}shutdown(){}}class ca{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){nt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){nt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Pm={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ag{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class km extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,n,o,u,l){const p=this.ho(e,n);nt("RestConnection","Sending: ",p,o);const w={};return this.lo(w,u,l),this.fo(e,p,w,o).then(R=>(nt("RestConnection","Received: ",R),R),R=>{throw ys("RestConnection",`${e} failed with error: `,R,"url: ",p,"request:",o),R})}_o(e,n,o,u,l,p){return this.ao(e,n,o,u,l)}lo(e,n,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+zr,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((u,l)=>e[l]=u),o&&o.headers.forEach((u,l)=>e[l]=u)}ho(e,n){return`${this.oo}/v1/${n}:${Pm[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,n,o,u){return new Promise((l,p)=>{const w=new ms;w.setWithCredentials(!0),w.listenOnce(zn.COMPLETE,()=>{try{switch(w.getLastErrorCode()){case bn.NO_ERROR:const k=w.getResponseJson();nt("Connection","XHR received:",JSON.stringify(k)),l(k);break;case bn.TIMEOUT:nt("Connection",'RPC "'+e+'" timed out'),p(new Je(Pe.DEADLINE_EXCEEDED,"Request time out"));break;case bn.HTTP_ERROR:const B=w.getStatus();if(nt("Connection",'RPC "'+e+'" failed with status:',B,"response text:",w.getResponseText()),B>0){const J=w.getResponseJson().error;if(J&&J.status&&J.message){const Se=function(Ve){const Ke=Ve.toLowerCase().replace(/_/g,"-");return Object.values(Pe).indexOf(Ke)>=0?Ke:Pe.UNKNOWN}(J.status);p(new Je(Se,J.message))}else p(new Je(Pe.UNKNOWN,"Server responded with status "+w.getStatus()))}else p(new Je(Pe.UNAVAILABLE,"Connection failed."));break;default:Rt()}}finally{nt("Connection",'RPC "'+e+'" completed.')}});const R=JSON.stringify(u);w.send(n,"POST",R,o,15)})}wo(e,n,o){const u=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=_t(),p=Un(),w={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(w.xmlHttpFactory=new Vn({})),this.lo(w.initMessageHeaders,n,o),w.encodeInitMessageHeaders=!0;const R=u.join("");nt("Connection","Creating WebChannel: "+R,w);const k=l.createWebChannel(R,w);let B=!1,J=!1;const Se=new ag({Hr:Ke=>{J?nt("Connection","Not sending because WebChannel is closed:",Ke):(B||(nt("Connection","Opening WebChannel transport."),k.open(),B=!0),nt("Connection","WebChannel sending:",Ke),k.send(Ke))},Jr:()=>k.close()}),Ve=(Ke,Ct,kt)=>{Ke.listen(Ct,cr=>{try{kt(cr)}catch(kr){setTimeout(()=>{throw kr},0)}})};return Ve(k,sn.EventType.OPEN,()=>{J||nt("Connection","WebChannel transport opened.")}),Ve(k,sn.EventType.CLOSE,()=>{J||(J=!0,nt("Connection","WebChannel transport closed"),Se.io())}),Ve(k,sn.EventType.ERROR,Ke=>{J||(J=!0,ys("Connection","WebChannel transport errored:",Ke),Se.io(new Je(Pe.UNAVAILABLE,"The operation could not be completed")))}),Ve(k,sn.EventType.MESSAGE,Ke=>{var Ct;if(!J){const kt=Ke.data[0];Ut(!!kt);const cr=kt,kr=cr.error||(null===(Ct=cr[0])||void 0===Ct?void 0:Ct.error);if(kr){nt("Connection","WebChannel received error:",kr);const fr=kr.status;let $i=function(pr){const ns=Jr[pr];if(void 0!==ns)return Mu(ns)}(fr),Sr=kr.message;void 0===$i&&($i=Pe.INTERNAL,Sr="Unknown error status: "+fr+" with message "+kr.message),J=!0,Se.io(new Je($i,Sr)),k.close()}else nt("Connection","WebChannel received:",kt),Se.ro(kt)}}),Ve(p,Rn.STAT_EVENT,Ke=>{Ke.stat===Tn.PROXY?nt("Connection","Detected buffering proxy"):Ke.stat===Tn.NOPROXY&&nt("Connection","Detected no buffering proxy")}),setTimeout(()=>{Se.so()},0),Se}}function eh(){return typeof document<"u"?document:null}function Wl(i){return new Np(i,!0)}class th{constructor(e,n,o=1e3,u=1.5,l=6e4){this.Hs=e,this.timerId=n,this.mo=o,this.yo=u,this.po=l,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const n=Math.floor(this.Io+this.bo()),o=Math.max(0,Date.now()-this.Eo),u=Math.max(0,n-o);u>0&&nt("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Io} ms, delay with jitter: ${n} ms, last attempt: ${o} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,u,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class cg{constructor(e,n,o,u,l,p,w,R){this.Hs=e,this.vo=o,this.Vo=u,this.So=l,this.authCredentialsProvider=p,this.appCheckCredentialsProvider=w,this.listener=R,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new th(e,n)}ko(){return 1===this.state||5===this.state||this.Oo()}Oo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var e=this;return(0,M.Z)(function*(){e.ko()&&(yield e.close(0))})()}Fo(){this.state=0,this.No.reset()}$o(){this.Oo()&&null===this.Co&&(this.Co=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.Bo()))}Lo(e){this.Uo(),this.stream.send(e)}Bo(){var e=this;return(0,M.Z)(function*(){if(e.Oo())return e.close(0)})()}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}close(e,n){var o=this;return(0,M.Z)(function*(){o.Uo(),o.qo(),o.No.cancel(),o.Do++,4!==e?o.No.reset():n&&n.code===Pe.RESOURCE_EXHAUSTED?(En(n.toString()),En("Using maximum backoff delay to prevent overloading the backend."),o.No.Ao()):n&&n.code===Pe.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Ko(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.Zr(n)})()}Ko(){}auth(){this.state=1;const e=this.Go(this.Do),n=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,u])=>{this.Do===n&&this.Qo(o,u)},o=>{e(()=>{const u=new Je(Pe.UNKNOWN,"Fetching auth token failed: "+o.message);return this.jo(u)})})}Qo(e,n){const o=this.Go(this.Do);this.stream=this.Wo(e,n),this.stream.Yr(()=>{o(()=>(this.state=2,this.xo=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.Oo()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(u=>{o(()=>this.jo(u))}),this.stream.onMessage(u=>{o(()=>this.onMessage(u))})}Mo(){var e=this;this.state=5,this.No.Ro((0,M.Z)(function*(){e.state=0,e.start()}))}jo(e){return nt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Go(e){return n=>{this.Hs.enqueueAndForget(()=>this.Do===e?n():(nt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Om extends cg{constructor(e,n,o,u,l,p){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,o,u,p),this.It=l}Wo(e,n){return this.So.wo("Listen",e,n)}onMessage(e){this.No.reset();const n=function gm(i,e){let n;if("targetChange"in e){const o="NO_CHANGE"===(R=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===R?1:"REMOVE"===R?2:"CURRENT"===R?3:"RESET"===R?4:Rt(),u=e.targetChange.targetIds||[],l=function(R,k){return R.gt?(Ut(void 0===k||"string"==typeof k),yr.fromBase64String(k||"")):(Ut(void 0===k||k instanceof Uint8Array),yr.fromUint8Array(k||new Uint8Array))}(i,e.targetChange.resumeToken),p=e.targetChange.cause,w=p&&function(R){const k=void 0===R.code?Pe.UNKNOWN:Mu(R.code);return new Je(k,R.message||"")}(p);n=new Sl(o,u,l,w||null)}else if("documentChange"in e){const o=e.documentChange,u=Bo(i,o.document.name),l=Qi(o.document.updateTime),p=new Cr({mapValue:{fields:o.document.fields}}),w=qn.newFoundDocument(u,l,p);n=new Nu(o.targetIds||[],o.removedTargetIds||[],w.key,w)}else if("documentDelete"in e){const o=e.documentDelete,u=Bo(i,o.document),l=o.readTime?Qi(o.readTime):Xt.min(),p=qn.newNoDocument(u,l);n=new Nu([],o.removedTargetIds||[],p.key,p)}else if("documentRemove"in e){const o=e.documentRemove,u=Bo(i,o.document);n=new Nu([],o.removedTargetIds||[],u,null)}else{if(!("filter"in e))return Rt();{const o=e.filter,l=new Ap(o.count||0);n=new Qh(o.targetId,l)}}var R;return n}(this.It,e),o=function(u){if(!("targetChange"in u))return Xt.min();const l=u.targetChange;return l.targetIds&&l.targetIds.length?Xt.min():l.readTime?Qi(l.readTime):Xt.min()}(e);return this.listener.zo(n,o)}Ho(e){const n={};n.database=Pu(this.It),n.addTarget=function(u,l){let p;const w=l.target;return p=Ju(w)?{documents:Cd(u,w)}:{query:za(u,w)},p.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?p.resumeToken=nf(u,l.resumeToken):l.snapshotVersion.compareTo(Xt.min())>0&&(p.readTime=Fc(u,l.snapshotVersion.toTimestamp())),p}(this.It,e);const o=function Ad(i,e){const n=function(o,u){switch(u){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Rt()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);o&&(n.labels=o),this.Lo(n)}Jo(e){const n={};n.database=Pu(this.It),n.removeTarget=e,this.Lo(n)}}class Lm extends cg{constructor(e,n,o,u,l,p){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,o,u,p),this.It=l,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(e,n){return this.So.wo("Write",e,n)}onMessage(e){if(Ut(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();const n=function af(i,e){return i&&i.length>0?(Ut(void 0!==e),i.map(n=>function(o,u){let l=Qi(o.updateTime?o.updateTime:u);return l.isEqual(Xt.min())&&(l=Qi(u)),new Sp(l,o.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),o=Qi(e.commitTime);return this.listener.tu(o,n)}return Ut(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}nu(){const e={};e.database=Pu(this.It),this.Lo(e)}Zo(e){const n={streamToken:this.lastStreamToken,writes:e.map(o=>function sc(i,e){let n;if(e instanceof ic)n={update:Dd(i,e.key,e.value)};else if(e instanceof Aa)n={delete:Ga(i,e.key)};else if(e instanceof Sa)n={update:Dd(i,e.key,e.data),updateMask:Lp(e.fieldMask)};else{if(!(e instanceof Oc))return Rt();n={verify:Ga(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(o=>function(u,l){const p=l.transform;if(p instanceof yo)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof du)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Au)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Ta)return{fieldPath:l.field.canonicalString(),increment:p.yt};throw Rt()}(0,o))),e.precondition.isNone||(n.currentDocument=void 0!==(u=e.precondition).updateTime?{updateTime:Pp(i,u.updateTime)}:void 0!==u.exists?{exists:u.exists}:Rt()),n;var u}(this.It,o))};this.Lo(n)}}class Sn extends class{}{constructor(e,n,o,u){super(),this.authCredentials=e,this.appCheckCredentials=n,this.So=o,this.It=u,this.su=!1}iu(){if(this.su)throw new Je(Pe.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,n,o){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,l])=>this.So.ao(e,n,o,u,l)).catch(u=>{throw"FirebaseError"===u.name?(u.code===Pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Je(Pe.UNKNOWN,u.toString())})}_o(e,n,o,u){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,p])=>this.So._o(e,n,o,l,p,u)).catch(l=>{throw"FirebaseError"===l.name?(l.code===Pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Je(Pe.UNKNOWN,l.toString())})}terminate(){this.su=!0}}class dg{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}cu(){0===this.ru&&(this.au("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.au("Offline"),Promise.resolve())))}lu(e){"Online"===this.state?this.au("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.au("Offline")))}set(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.au(e)}au(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}hu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(En(n),this.uu=!1):nt("OnlineStateTracker",n)}fu(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}class Fm{constructor(e,n,o,u,l){var p=this;this.localStore=e,this.datastore=n,this.asyncQueue=o,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=l,this.gu.qr(w=>{o.enqueueAndForget((0,M.Z)(function*(){var R;gu(p)&&(nt("RemoteStore","Restarting streams for network reachability change."),yield(R=(0,M.Z)(function*(k){const B=gt(k);B.wu.add(4),yield Qc(B),B.yu.set("Unknown"),B.wu.delete(4),yield ql(B)}),function(k){return R.apply(this,arguments)})(p))}))}),this.yu=new dg(o,u)}}function ql(i){return rh.apply(this,arguments)}function rh(){return rh=(0,M.Z)(function*(i){if(gu(i))for(const e of i.mu)yield e(!0)}),rh.apply(this,arguments)}function Qc(i){return ih.apply(this,arguments)}function ih(){return ih=(0,M.Z)(function*(i){for(const e of i.mu)yield e(!1)}),ih.apply(this,arguments)}function sh(i,e){const n=gt(i);n._u.has(e.targetId)||(n._u.set(e.targetId,e),pu(n)?oh(n):Xc(n).Oo()&&hg(n,e))}function Kl(i,e){const n=gt(i),o=Xc(n);n._u.delete(e),o.Oo()&&Sf(n,e),0===n._u.size&&(o.Oo()?o.$o():gu(n)&&n.yu.set("Unknown"))}function hg(i,e){i.pu.Mt(e.targetId),Xc(i).Ho(e)}function Sf(i,e){i.pu.Mt(e),Xc(i).Jo(e)}function oh(i){i.pu=new Si({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),se:e=>i._u.get(e)||null}),Xc(i).start(),i.yu.cu()}function pu(i){return gu(i)&&!Xc(i).ko()&&i._u.size>0}function gu(i){return 0===gt(i).wu.size}function ah(i){i.pu=void 0}function Af(i){return xf.apply(this,arguments)}function xf(){return xf=(0,M.Z)(function*(i){i._u.forEach((e,n)=>{hg(i,e)})}),xf.apply(this,arguments)}function Av(i,e){return fg.apply(this,arguments)}function fg(){return fg=(0,M.Z)(function*(i,e){ah(i),pu(i)?(i.yu.lu(e),oh(i)):i.yu.set("Unknown")}),fg.apply(this,arguments)}function xv(i,e,n){return Mf.apply(this,arguments)}function Mf(){return Mf=(0,M.Z)(function*(i,e,n){if(i.yu.set("Online"),e instanceof Sl&&2===e.state&&e.cause)try{yield(o=(0,M.Z)(function*(u,l){const p=l.cause;for(const w of l.targetIds)u._u.has(w)&&(yield u.remoteSyncer.rejectListen(w,p),u._u.delete(w),u.pu.removeTarget(w))}),function(u,l){return o.apply(this,arguments)})(i,e)}catch(o){nt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield Zl(i,o)}else if(e instanceof Nu?i.pu.Gt(e):e instanceof Qh?i.pu.Yt(e):i.pu.Wt(e),!n.isEqual(Xt.min()))try{const o=yield tg(i.localStore);n.compareTo(o)>=0&&(yield function(u,l){const p=u.pu.te(l);return p.targetChanges.forEach((w,R)=>{if(w.resumeToken.approximateByteSize()>0){const k=u._u.get(R);k&&u._u.set(R,k.withResumeToken(w.resumeToken,l))}}),p.targetMismatches.forEach(w=>{const R=u._u.get(w);if(!R)return;u._u.set(w,R.withResumeToken(yr.EMPTY_BYTE_STRING,R.snapshotVersion)),Sf(u,w);const k=new ac(R.target,w,1,R.sequenceNumber);hg(u,k)}),u.remoteSyncer.applyRemoteEvent(p)}(i,n))}catch(o){nt("RemoteStore","Failed to raise snapshot:",o),yield Zl(i,o)}var o}),Mf.apply(this,arguments)}function Zl(i,e,n){return pg.apply(this,arguments)}function pg(){return pg=(0,M.Z)(function*(i,e,n){if(!ws(e))throw e;i.wu.add(1),yield Qc(i),i.yu.set("Offline"),n||(n=()=>tg(i.localStore)),i.asyncQueue.enqueueRetryable((0,M.Z)(function*(){nt("RemoteStore","Retrying IndexedDB access"),yield n(),i.wu.delete(1),yield ql(i)}))}),pg.apply(this,arguments)}function gg(i,e){return e().catch(n=>Zl(i,n,e))}function Ra(i){return Rf.apply(this,arguments)}function Rf(){return Rf=(0,M.Z)(function*(i){const e=gt(i),n=mc(e);let o=e.du.length>0?e.du[e.du.length-1].batchId:-1;for(;mg(e);)try{const u=yield rg(e.localStore,o);if(null===u){0===e.du.length&&n.$o();break}o=u.batchId,uh(e,u)}catch(u){yield Zl(e,u)}yg(e)&&Nf(e)}),Rf.apply(this,arguments)}function mg(i){return gu(i)&&i.du.length<10}function uh(i,e){i.du.push(e);const n=mc(i);n.Oo()&&n.Xo&&n.Zo(e.mutations)}function yg(i){return gu(i)&&!mc(i).ko()&&i.du.length>0}function Nf(i){mc(i).start()}function Um(i){return Pf.apply(this,arguments)}function Pf(){return Pf=(0,M.Z)(function*(i){mc(i).nu()}),Pf.apply(this,arguments)}function Vm(i){return kf.apply(this,arguments)}function kf(){return kf=(0,M.Z)(function*(i){const e=mc(i);for(const n of i.du)e.Zo(n.mutations)}),kf.apply(this,arguments)}function Bm(i,e,n){return ch.apply(this,arguments)}function ch(){return ch=(0,M.Z)(function*(i,e,n){const o=i.du.shift(),u=Up.from(o,e,n);yield gg(i,()=>i.remoteSyncer.applySuccessfulWrite(u)),yield Ra(i)}),ch.apply(this,arguments)}function $m(i,e){return lh.apply(this,arguments)}function lh(){return lh=(0,M.Z)(function*(i,e){var n;e&&mc(i).Xo&&(yield(n=(0,M.Z)(function*(o,u){if(ua(l=u.code)&&l!==Pe.ABORTED){const p=o.du.shift();mc(o).Fo(),yield gg(o,()=>o.remoteSyncer.rejectFailedWrite(p.batchId,u)),yield Ra(o)}var l}),function(o,u){return n.apply(this,arguments)})(i,e)),yg(i)&&Nf(i)}),lh.apply(this,arguments)}function Of(i,e){return Yl.apply(this,arguments)}function Yl(){return Yl=(0,M.Z)(function*(i,e){const n=gt(i);n.asyncQueue.verifyOperationInProgress(),nt("RemoteStore","RemoteStore received new credentials");const o=gu(n);n.wu.add(3),yield Qc(n),o&&n.yu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.wu.delete(3),yield ql(n)}),Yl.apply(this,arguments)}function Ql(){return Ql=(0,M.Z)(function*(i,e){const n=gt(i);e?(n.wu.delete(2),yield ql(n)):e||(n.wu.add(2),yield Qc(n),n.yu.set("Unknown"))}),Ql.apply(this,arguments)}function Xc(i){return i.Iu||(i.Iu=function(e,n,o){const u=gt(e);return u.iu(),new Om(n,u.So,u.authCredentials,u.appCheckCredentials,u.It,o)}(i.datastore,i.asyncQueue,{Yr:Af.bind(null,i),Zr:Av.bind(null,i),zo:xv.bind(null,i)}),i.mu.push(function(){var e=(0,M.Z)(function*(n){n?(i.Iu.Fo(),pu(i)?oh(i):i.yu.set("Unknown")):(yield i.Iu.stop(),ah(i))});return function(n){return e.apply(this,arguments)}}())),i.Iu}function mc(i){return i.Tu||(i.Tu=function(e,n,o){const u=gt(e);return u.iu(),new Lm(n,u.So,u.authCredentials,u.appCheckCredentials,u.It,o)}(i.datastore,i.asyncQueue,{Yr:Um.bind(null,i),Zr:$m.bind(null,i),eu:Vm.bind(null,i),tu:Bm.bind(null,i)}),i.mu.push(function(){var e=(0,M.Z)(function*(n){n?(i.Tu.Fo(),yield Ra(i)):(yield i.Tu.stop(),i.du.length>0&&(nt("RemoteStore",`Stopping write stream with ${i.du.length} pending writes`),i.du=[]))});return function(n){return e.apply(this,arguments)}}())),i.Tu}class $u{constructor(e,n,o,u,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=o,this.op=u,this.removalCallback=l,this.deferred=new Ir,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(p=>{})}static createAndSchedule(e,n,o,u,l){const p=Date.now()+o,w=new $u(e,n,p,u,l);return w.start(o),w}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Je(Pe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yc(i,e){if(En("AsyncQueue",`${e}: ${i}`),ws(i))return new Je(Pe.UNAVAILABLE,`${e}: ${i}`);throw i}class vc{constructor(e){this.comparator=e?(n,o)=>e(n,o)||pt.comparator(n.key,o.key):(n,o)=>pt.comparator(n.key,o.key),this.keyedMap=Dl(),this.sortedSet=new en(this.comparator)}static emptySet(e){return new vc(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,o)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof vc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;n.hasNext();){const u=n.getNext().key,l=o.getNext().key;if(!u.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const o=new vc;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=n,o}}class Xl{constructor(){this.Eu=new en(pt.comparator)}track(e){const n=e.doc.key,o=this.Eu.get(n);o?0!==e.type&&3===o.type?this.Eu=this.Eu.insert(n,e):3===e.type&&1!==o.type?this.Eu=this.Eu.insert(n,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.Eu=this.Eu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.Eu=this.Eu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.Eu=this.Eu.remove(n):1===e.type&&2===o.type?this.Eu=this.Eu.insert(n,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.Eu=this.Eu.insert(n,{type:2,doc:e.doc}):Rt():this.Eu=this.Eu.insert(n,e)}Au(){const e=[];return this.Eu.inorderTraversal((n,o)=>{e.push(o)}),e}}class Fs{constructor(e,n,o,u,l,p,w,R,k){this.query=e,this.docs=n,this.oldDocs=o,this.docChanges=u,this.mutatedKeys=l,this.fromCache=p,this.syncStateChanged=w,this.excludesMetadataChanges=R,this.hasCachedResults=k}static fromInitialDocuments(e,n,o,u,l){const p=[];return n.forEach(w=>{p.push({type:0,doc:w})}),new Fs(e,n,vc.emptySet(n),p,o,u,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ec(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,o=e.docChanges;if(n.length!==o.length)return!1;for(let u=0;u<n.length;u++)if(n[u].type!==o[u].type||!n[u].doc.isEqual(o[u].doc))return!1;return!0}}class _g{constructor(){this.Ru=void 0,this.listeners=[]}}class jm{constructor(){this.queries=new xa(e=>md(e),ec),this.onlineState="Unknown",this.bu=new Set}}function Na(){return Na=(0,M.Z)(function*(i,e){const n=gt(i),o=e.query;let u=!1,l=n.queries.get(o);if(l||(u=!0,l=new _g),u)try{l.Ru=yield n.onListen(o)}catch(p){const w=yc(p,`Initialization of query '${Su(e.query)}' failed`);return void e.onError(w)}n.queries.set(o,l),l.listeners.push(e),e.Pu(n.onlineState),l.Ru&&e.vu(l.Ru)&&hh(n)}),Na.apply(this,arguments)}function dh(){return dh=(0,M.Z)(function*(i,e){const n=gt(i),o=e.query;let u=!1;const l=n.queries.get(o);if(l){const p=l.listeners.indexOf(e);p>=0&&(l.listeners.splice(p,1),u=0===l.listeners.length)}if(u)return n.queries.delete(o),n.onUnlisten(o)}),dh.apply(this,arguments)}function Lf(i,e){const n=gt(i);let o=!1;for(const u of e){const p=n.queries.get(u.query);if(p){for(const w of p.listeners)w.vu(u)&&(o=!0);p.Ru=u}}o&&hh(n)}function Mv(i,e,n){const o=gt(i),u=o.queries.get(e);if(u)for(const l of u.listeners)l.onError(n);o.queries.delete(e)}function hh(i){i.bu.forEach(e=>{e.next()})}class Ig{constructor(e,n,o){this.query=e,this.Vu=n,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=o||{}}vu(e){if(!this.options.includeMetadataChanges){const o=[];for(const u of e.docChanges)3!==u.type&&o.push(u);e=new Fs(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Su?this.Cu(e)&&(this.Vu.next(e),n=!0):this.xu(e,this.onlineState)&&(this.Nu(e),n=!0),this.Du=e,n}onError(e){this.Vu.error(e)}Pu(e){this.onlineState=e;let n=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),n=!0),n}xu(e,n){return!e.fromCache||(!this.options.ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Cu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Nu(e){e=Fs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Su=!0,this.Vu.next(e)}}class gh{constructor(e){this.key=e}}class Hm{constructor(e){this.key=e}}class wg{constructor(e,n){this.query=e,this.Uu=n,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Cn(),this.mutatedKeys=Cn(),this.Gu=yl(e),this.Qu=new vc(this.Gu)}get ju(){return this.Uu}Wu(e,n){const o=n?n.zu:new Xl,u=n?n.Qu:this.Qu;let l=n?n.mutatedKeys:this.mutatedKeys,p=u,w=!1;const R="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,k="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((B,J)=>{const Se=u.get(B),Ve=xc(this.query,J)?J:null,Ke=!!Se&&this.mutatedKeys.has(Se.key),Ct=!!Ve&&(Ve.hasLocalMutations||this.mutatedKeys.has(Ve.key)&&Ve.hasCommittedMutations);let kt=!1;Se&&Ve?Se.data.isEqual(Ve.data)?Ke!==Ct&&(o.track({type:3,doc:Ve}),kt=!0):this.Hu(Se,Ve)||(o.track({type:2,doc:Ve}),kt=!0,(R&&this.Gu(Ve,R)>0||k&&this.Gu(Ve,k)<0)&&(w=!0)):!Se&&Ve?(o.track({type:0,doc:Ve}),kt=!0):Se&&!Ve&&(o.track({type:1,doc:Se}),kt=!0,(R||k)&&(w=!0)),kt&&(Ve?(p=p.add(Ve),l=Ct?l.add(B):l.delete(B)):(p=p.delete(B),l=l.delete(B)))}),null!==this.query.limit)for(;p.size>this.query.limit;){const B="F"===this.query.limitType?p.last():p.first();p=p.delete(B.key),l=l.delete(B.key),o.track({type:1,doc:B})}return{Qu:p,zu:o,$i:w,mutatedKeys:l}}Hu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,o){const u=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const l=e.zu.Au();l.sort((k,B)=>function(J,Se){const Ve=Ke=>{switch(Ke){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Rt()}};return Ve(J)-Ve(Se)}(k.type,B.type)||this.Gu(k.doc,B.doc)),this.Ju(o);const p=n?this.Yu():[],w=0===this.Ku.size&&this.current?1:0,R=w!==this.qu;return this.qu=w,0!==l.length||R?{snapshot:new Fs(this.query,e.Qu,u,l,e.mutatedKeys,0===w,R,!1,!!o&&o.resumeToken.approximateByteSize()>0),Xu:p}:{Xu:p}}Pu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new Xl,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(n=>this.Uu=this.Uu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Uu=this.Uu.delete(n)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Cn(),this.Qu.forEach(o=>{this.Zu(o.key)&&(this.Ku=this.Ku.add(o.key))});const n=[];return e.forEach(o=>{this.Ku.has(o)||n.push(new Hm(o))}),this.Ku.forEach(o=>{e.has(o)||n.push(new gh(o))}),n}tc(e){this.Uu=e.Hi,this.Ku=Cn();const n=this.Wu(e.documents);return this.applyChanges(n,!0)}ec(){return Fs.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class Gm{constructor(e,n,o){this.query=e,this.targetId=n,this.view=o}}class zm{constructor(e){this.key=e,this.nc=!1}}class Wm{constructor(e,n,o,u,l,p){this.localStore=e,this.remoteStore=n,this.eventManager=o,this.sharedClientState=u,this.currentUser=l,this.maxConcurrentLimboResolutions=p,this.sc={},this.ic=new xa(w=>md(w),ec),this.rc=new Map,this.oc=new Set,this.uc=new en(pt.comparator),this.cc=new Map,this.ac=new $d,this.hc={},this.lc=new Map,this.fc=dc.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function Eg(i,e){return Dg.apply(this,arguments)}function Dg(){return Dg=(0,M.Z)(function*(i,e){const n=Kf(i);let o,u;const l=n.ic.get(e);if(l)o=l.targetId,n.sharedClientState.addLocalQueryTarget(o),u=l.view.ec();else{const p=yield Bu(n.localStore,Ls(e));n.isPrimaryClient&&sh(n.remoteStore,p);const w=n.sharedClientState.addLocalQueryTarget(p.targetId);o=p.targetId,u=yield Uf(n,e,o,"current"===w,p.resumeToken)}return u}),Dg.apply(this,arguments)}function Uf(i,e,n,o,u){return bg.apply(this,arguments)}function bg(){return bg=(0,M.Z)(function*(i,e,n,o,u){i._c=(J,Se,Ve)=>{return(Ke=(0,M.Z)(function*(Ct,kt,cr,kr){let fr=kt.view.Wu(cr);fr.$i&&(fr=yield pc(Ct.localStore,kt.query,!1).then(({documents:pr})=>kt.view.Wu(pr,fr)));const $i=kr&&kr.targetChanges.get(kt.targetId),Sr=kt.view.applyChanges(fr,Ct.isPrimaryClient,$i);return vh(Ct,kt.targetId,Sr.Xu),Sr.snapshot}),function(Ct,kt,cr,kr){return Ke.apply(this,arguments)})(i,J,Se,Ve);var Ke};const l=yield pc(i.localStore,e,!0),p=new wg(e,l.Hi),w=p.Wu(l.documents),R=Ru.createSynthesizedTargetChangeForCurrentChange(n,o&&"Offline"!==i.onlineState,u),k=p.applyChanges(w,i.isPrimaryClient,R);vh(i,n,k.Xu);const B=new Gm(e,n,p);return i.ic.set(e,B),i.rc.has(n)?i.rc.get(n).push(e):i.rc.set(n,[e]),k.snapshot}),bg.apply(this,arguments)}function Tg(i,e){return mh.apply(this,arguments)}function mh(){return mh=(0,M.Z)(function*(i,e){const n=gt(i),o=n.ic.get(e),u=n.rc.get(o.targetId);if(u.length>1)return n.rc.set(o.targetId,u.filter(l=>!ec(l,e))),void n.ic.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(o.targetId),n.sharedClientState.isActiveQueryTarget(o.targetId)||(yield fc(n.localStore,o.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(o.targetId),Kl(n.remoteStore,o.targetId),_c(n,o.targetId)}).catch(_s))):(_c(n,o.targetId),yield fc(n.localStore,o.targetId,!0))}),mh.apply(this,arguments)}function nd(){return nd=(0,M.Z)(function*(i,e,n){const o=Dh(i);try{const u=yield function(l,p){const w=gt(l),R=on.now(),k=p.reduce((Se,Ve)=>Se.add(Ve.key),Cn());let B,J;return w.persistence.runTransaction("Locally write mutations","readwrite",Se=>{let Ve=Ts(),Ke=Cn();return w.Gi.getEntries(Se,k).next(Ct=>{Ve=Ct,Ve.forEach((kt,cr)=>{cr.isValidDocument()||(Ke=Ke.add(kt))})}).next(()=>w.localDocuments.getOverlayedDocuments(Se,Ve)).next(Ct=>{B=Ct;const kt=[];for(const cr of p){const kr=Wh(cr,B.get(cr.key).overlayedDocument);null!=kr&&kt.push(new Sa(cr.key,kr,mo(kr.value.mapValue),Nr.exists(!0)))}return w.mutationQueue.addMutationBatch(Se,R,kt,p)}).next(Ct=>{J=Ct;const kt=Ct.applyToLocalDocumentSet(B,Ke);return w.documentOverlayCache.saveOverlays(Se,Ct.batchId,kt)})}).then(()=>({batchId:J.batchId,changes:Mp(B)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(u.batchId),function(l,p,w){let R=l.hc[l.currentUser.toKey()];R||(R=new en(rn)),R=R.insert(p,w),l.hc[l.currentUser.toKey()]=R}(o,u.batchId,n),yield Us(o,u.changes),yield Ra(o.remoteStore)}catch(u){const l=yc(u,"Failed to persist write");n.reject(l)}}),nd.apply(this,arguments)}function Km(i,e){return Cg.apply(this,arguments)}function Cg(){return Cg=(0,M.Z)(function*(i,e){const n=gt(i);try{const o=yield ng(n.localStore,e);e.targetChanges.forEach((u,l)=>{const p=n.cc.get(l);p&&(Ut(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?p.nc=!0:u.modifiedDocuments.size>0?Ut(p.nc):u.removedDocuments.size>0&&(Ut(p.nc),p.nc=!1))}),yield Us(n,o,e)}catch(o){yield _s(o)}}),Cg.apply(this,arguments)}function Zm(i,e,n){const o=gt(i);if(o.isPrimaryClient&&0===n||!o.isPrimaryClient&&1===n){const u=[];o.ic.forEach((l,p)=>{const w=p.view.Pu(e);w.snapshot&&u.push(w.snapshot)}),function(l,p){const w=gt(l);w.onlineState=p;let R=!1;w.queries.forEach((k,B)=>{for(const J of B.listeners)J.Pu(p)&&(R=!0)}),R&&hh(w)}(o.eventManager,e),u.length&&o.sc.zo(u),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function Rv(i,e,n){return Sg.apply(this,arguments)}function Sg(){return Sg=(0,M.Z)(function*(i,e,n){const o=gt(i);o.sharedClientState.updateQueryState(e,"rejected",n);const u=o.cc.get(e),l=u&&u.key;if(l){let p=new en(pt.comparator);p=p.insert(l,qn.newNoDocument(l,Xt.min()));const w=Cn().add(l),R=new Lc(Xt.min(),new Map,new or(rn),p,w);yield Km(o,R),o.uc=o.uc.remove(l),o.cc.delete(e),$f(o)}else yield fc(o.localStore,e,!1).then(()=>_c(o,e,n)).catch(_s)}),Sg.apply(this,arguments)}function Nv(i,e){return Ag.apply(this,arguments)}function Ag(){return Ag=(0,M.Z)(function*(i,e){const n=gt(i),o=e.batch.batchId;try{const u=yield Kd(n.localStore,e);Vf(n,o,null),rd(n,o),n.sharedClientState.updateMutationState(o,"acknowledged"),yield Us(n,u)}catch(u){yield _s(u)}}),Ag.apply(this,arguments)}function Pv(i,e,n){return xg.apply(this,arguments)}function xg(){return xg=(0,M.Z)(function*(i,e,n){const o=gt(i);try{const u=yield function(l,p){const w=gt(l);return w.persistence.runTransaction("Reject batch","readwrite-primary",R=>{let k;return w.mutationQueue.lookupMutationBatch(R,p).next(B=>(Ut(null!==B),k=B.keys(),w.mutationQueue.removeMutationBatch(R,B))).next(()=>w.mutationQueue.performConsistencyCheck(R)).next(()=>w.documentOverlayCache.removeOverlaysForBatchId(R,k,p)).next(()=>w.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(R,k)).next(()=>w.localDocuments.getDocuments(R,k))})}(o.localStore,e);Vf(o,e,n),rd(o,e),o.sharedClientState.updateMutationState(e,"rejected",n),yield Us(o,u)}catch(u){yield _s(u)}}),xg.apply(this,arguments)}function rd(i,e){(i.lc.get(e)||[]).forEach(n=>{n.resolve()}),i.lc.delete(e)}function Vf(i,e,n){const o=gt(i);let u=o.hc[o.currentUser.toKey()];if(u){const l=u.get(e);l&&(n?l.reject(n):l.resolve(),u=u.remove(e)),o.hc[o.currentUser.toKey()]=u}}function _c(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i.rc.get(e))i.ic.delete(o),n&&i.sc.wc(o,n);i.rc.delete(e),i.isPrimaryClient&&i.ac.ls(e).forEach(o=>{i.ac.containsKey(o)||yh(i,o)})}function yh(i,e){i.oc.delete(e.path.canonicalString());const n=i.uc.get(e);null!==n&&(Kl(i.remoteStore,n),i.uc=i.uc.remove(e),i.cc.delete(n),$f(i))}function vh(i,e,n){for(const o of n)o instanceof gh?(i.ac.addReference(o.key,e),Bf(i,o)):o instanceof Hm?(nt("SyncEngine","Document no longer in limbo: "+o.key),i.ac.removeReference(o.key,e),i.ac.containsKey(o.key)||yh(i,o.key)):Rt()}function Bf(i,e){const n=e.key,o=n.path.canonicalString();i.uc.get(n)||i.oc.has(o)||(nt("SyncEngine","New document in limbo: "+n),i.oc.add(o),$f(i))}function $f(i){for(;i.oc.size>0&&i.uc.size<i.maxConcurrentLimboResolutions;){const e=i.oc.values().next().value;i.oc.delete(e);const n=new pt(Pn.fromString(e)),o=i.fc.next();i.cc.set(o,new zm(n)),i.uc=i.uc.insert(n,o),sh(i.remoteStore,new ac(Ls(Zs(n.path)),o,2,Wr.at))}}function Us(i,e,n){return _h.apply(this,arguments)}function _h(){return _h=(0,M.Z)(function*(i,e,n){const o=gt(i),u=[],l=[],p=[];var w;o.ic.isEmpty()||(o.ic.forEach((w,R)=>{p.push(o._c(R,e,n).then(k=>{if((k||n)&&o.isPrimaryClient&&o.sharedClientState.updateQueryState(R.targetId,k?.fromCache?"not-current":"current"),k){u.push(k);const B=qd.Ci(R.targetId,k);l.push(B)}}))}),yield Promise.all(p),o.sc.zo(u),yield(w=(0,M.Z)(function*(R,k){const B=gt(R);try{yield B.persistence.runTransaction("notifyLocalViewChanges","readwrite",J=>Te.forEach(k,Se=>Te.forEach(Se.Si,Ve=>B.persistence.referenceDelegate.addReference(J,Se.targetId,Ve)).next(()=>Te.forEach(Se.Di,Ve=>B.persistence.referenceDelegate.removeReference(J,Se.targetId,Ve)))))}catch(J){if(!ws(J))throw J;nt("LocalStore","Failed to update sequence numbers: "+J)}for(const J of k){const Se=J.targetId;if(!J.fromCache){const Ve=B.Ui.get(Se),Ct=Ve.withLastLimboFreeSnapshotVersion(Ve.snapshotVersion);B.Ui=B.Ui.insert(Se,Ct)}}}),function(R,k){return w.apply(this,arguments)})(o.localStore,l))}),_h.apply(this,arguments)}function Ym(i,e){return jf.apply(this,arguments)}function jf(){return jf=(0,M.Z)(function*(i,e){const n=gt(i);if(!n.currentUser.isEqual(e)){nt("SyncEngine","User change. New user:",e.toKey());const o=yield Jp(n.localStore,e);n.currentUser=e,(u=n).lc.forEach(p=>{p.forEach(w=>{w.reject(new Je(Pe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.lc.clear(),n.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield Us(n,o.ji)}var u}),jf.apply(this,arguments)}function Mg(i,e){const n=gt(i),o=n.cc.get(e);if(o&&o.nc)return Cn().add(o.key);{let u=Cn();const l=n.rc.get(e);if(!l)return u;for(const p of l){const w=n.ic.get(p);u=u.unionWith(w.view.ju)}return u}}function Kf(i){const e=gt(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Km.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Mg.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Rv.bind(null,e),e.sc.zo=Lf.bind(null,e.eventManager),e.sc.wc=Mv.bind(null,e.eventManager),e}function Dh(i){const e=gt(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Nv.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Pv.bind(null,e),e}class Pg{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,M.Z)(function*(){n.It=Wl(e.databaseInfo.databaseId),n.sharedClientState=n.gc(e),n.persistence=n.yc(e),yield n.persistence.start(),n.localStore=n.Ic(e),n.gcScheduler=n.Tc(e,n.localStore),n.indexBackfillerScheduler=n.Ec(e,n.localStore)})()}Tc(e,n){return null}Ec(e,n){return null}Ic(e){return function If(i,e,n,o){return new Xp(i,e,n,o)}(this.persistence,new Vu,e.initialUser,this.It)}yc(e){return new Yp(jd.Bs,this.It)}gc(e){return new og}terminate(){var e=this;return(0,M.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Qs{initialize(e,n){var o=this;return(0,M.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(n),o.remoteStore=o.createRemoteStore(n),o.eventManager=o.createEventManager(n),o.syncEngine=o.createSyncEngine(n,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=u=>Zm(o.syncEngine,u,1),o.remoteStore.remoteSyncer.handleCredentialChange=Ym.bind(null,o.syncEngine),yield function vg(i,e){return Ql.apply(this,arguments)}(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new jm}createDatastore(e){const n=Wl(e.databaseInfo.databaseId),o=new km(e.databaseInfo);return new Sn(e.authCredentials,e.appCheckCredentials,o,n)}createRemoteStore(e){return n=this.localStore,o=this.datastore,u=e.asyncQueue,l=w=>Zm(this.syncEngine,w,0),p=ca.C()?new ca:new Nm,new Fm(n,o,u,l,p);var n,o,u,l,p}createSyncEngine(e,n){return function(o,u,l,p,w,R,k){const B=new Wm(o,u,l,p,w,R);return k&&(B.dc=!0),B}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=(0,M.Z)(function*(n){const o=gt(n);nt("RemoteStore","RemoteStore shutting down."),o.wu.add(5),yield Qc(o),o.gu.shutdown(),o.yu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}function bh(i,e,n){if(!n)throw new Je(Pe.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function ny(i){if(!pt.isDocumentKey(i))throw new Je(Pe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Og(i){if(pt.isDocumentKey(i))throw new Je(Pe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function el(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(n=i).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof i?"a function":Rt()}function tr(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Je(Pe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=el(i);throw new Je(Pe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}const Fg=new Map;class Ug{constructor(e){var n;if(void 0===e.host){if(void 0!==e.ssl)throw new Je(Pe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Je(Pe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function ty(i,e,n,o){if(!0===e&&!0===o)throw new Je(Pe.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class tl{constructor(e,n,o,u){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=o,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ug({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Je(Pe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Je(Pe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ug(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new La;switch(n.type){case"gapi":return new su(n.client,n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Je(Pe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=Fg.get(e);n&&(nt("ComponentProvider","Removing Datastore"),Fg.delete(e),n.terminate())}(this),Promise.resolve()}}class mi{constructor(e,n,o){this.converter=n,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mi(this.firestore,e,this._key)}}class Vs{constructor(e,n,o){this.converter=n,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new Vs(this.firestore,e,this._query)}}class Xa extends Vs{constructor(e,n,o){super(e,n,Zs(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mi(this.firestore,null,new pt(e))}withConverter(e){return new Xa(this.firestore,e,this._path)}}function Vg(i,e,...n){if(i=(0,ve.m9)(i),bh("collection","path",e),i instanceof tl){const o=Pn.fromString(e,...n);return Og(o),new Xa(i,null,o)}{if(!(i instanceof mi||i instanceof Xa))throw new Je(Pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Pn.fromString(e,...n));return Og(o),new Xa(i.firestore,null,o)}}function Bg(i,e,...n){if(i=(0,ve.m9)(i),1===arguments.length&&(e=Ro.R()),bh("doc","path",e),i instanceof tl){const o=Pn.fromString(e,...n);return ny(o),new mi(i,null,new pt(o))}{if(!(i instanceof mi||i instanceof Xa))throw new Je(Pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Pn.fromString(e,...n));return ny(o),new mi(i.firestore,i instanceof Xa?i.converter:null,new pt(o))}}class Ch{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):En("Uncaught Error in snapshot listener:",e)}bc(){this.muted=!0}Rc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class cy{constructor(e,n,o,u){var l=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=o,this.databaseInfo=u,this.user=Xn.UNAUTHENTICATED,this.clientId=Ro.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var p=(0,M.Z)(function*(w){nt("FirestoreClient","Received user=",w.uid),yield l.authCredentialListener(w),l.user=w});return function(w){return p.apply(this,arguments)}}()),this.appCheckCredentials.start(o,p=>(nt("FirestoreClient","Received new app check token=",p),this.appCheckCredentialListener(p,this.user)))}getConfiguration(){var e=this;return(0,M.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Je(Pe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Ir;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,M.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(o){const u=yc(o,"Failed to shutdown persistence");n.reject(u)}})),n.promise}}function jg(i,e){return nl.apply(this,arguments)}function nl(){return nl=(0,M.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),nt("FirestoreClient","Initializing OfflineComponentProvider");const n=yield i.getConfiguration();yield e.initialize(n);let o=n.initialUser;i.setCredentialChangeListener(function(){var u=(0,M.Z)(function*(l){o.isEqual(l)||(yield Jp(e.localStore,l),o=l)});return function(l){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=e}),nl.apply(this,arguments)}function Sh(i,e){return rl.apply(this,arguments)}function rl(){return rl=(0,M.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const n=yield Hg(i);nt("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(n,o),i.setCredentialChangeListener(u=>Of(e.remoteStore,u)),i.setAppCheckTokenChangeListener((u,l)=>Of(e.remoteStore,l)),i.onlineComponents=e}),rl.apply(this,arguments)}function Hg(i){return sd.apply(this,arguments)}function sd(){return sd=(0,M.Z)(function*(i){return i.offlineComponents||(nt("FirestoreClient","Using default OfflineComponentProvider"),yield jg(i,new Pg)),i.offlineComponents}),sd.apply(this,arguments)}function Yf(i){return Ah.apply(this,arguments)}function Ah(){return Ah=(0,M.Z)(function*(i){return i.onlineComponents||(nt("FirestoreClient","Using default OnlineComponentProvider"),yield Sh(i,new Qs)),i.onlineComponents}),Ah.apply(this,arguments)}function il(){return il=(0,M.Z)(function*(i){const e=yield Yf(i),n=e.eventManager;return n.onListen=Eg.bind(null,e.syncEngine),n.onUnlisten=Tg.bind(null,e.syncEngine),n}),il.apply(this,arguments)}function Gg(i,e,n={}){const o=new Ir;return i.asyncQueue.enqueueAndForget((0,M.Z)(function*(){return function(u,l,p,w,R){const k=new Ch({next:J=>{l.enqueueAndForget(()=>function ed(i,e){return dh.apply(this,arguments)}(u,B)),J.fromCache&&"server"===w.source?R.reject(new Je(Pe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):R.resolve(J)},error:J=>R.reject(J)}),B=new Ig(p,k,{includeMetadataChanges:!0,ku:!0});return function Jl(i,e){return Na.apply(this,arguments)}(u,B)}(yield function yu(i){return il.apply(this,arguments)}(i),i.asyncQueue,e,n,o)})),o.promise}class fy{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.No=new th(this,"async_queue_retry"),this.Wc=()=>{const n=eh();n&&nt("AsyncQueue","Visibility state changed to "+n.visibilityState),this.No.Po()};const e=eh();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;const n=eh();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.Uc)return new Promise(()=>{});const n=new Ir;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,M.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.No.reset()}catch(n){if(!ws(n))throw n;nt("AsyncQueue","Operation failed with retryable error: "+n)}e.Lc.length>0&&e.No.Ro(()=>e.Jc())}})()}Hc(e){const n=this.Bc.then(()=>(this.Gc=!0,e().catch(o=>{throw this.Kc=o,this.Gc=!1,En("INTERNAL UNHANDLED ERROR: ",function(l){let p=l.message||"";return l.stack&&(p=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),p}(o)),o}).then(o=>(this.Gc=!1,o))));return this.Bc=n,n}enqueueAfterDelay(e,n,o){this.zc(),this.jc.indexOf(e)>-1&&(n=0);const u=$u.createAndSchedule(this,e,n,o,l=>this.Yc(l));return this.qc.push(u),u}zc(){this.Kc&&Rt()}verifyOperationInProgress(){}Xc(){var e=this;return(0,M.Z)(function*(){let n;do{n=e.Bc,yield n}while(n!==e.Bc)})()}Zc(e){for(const n of this.qc)if(n.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.qc.sort((n,o)=>n.targetTimeMs-o.targetTimeMs);for(const n of this.qc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const n=this.qc.indexOf(e);this.qc.splice(n,1)}}class Yr extends tl{constructor(e,n,o,u){super(e,n,o,u),this.type="firestore",this._queue=new fy,this._persistenceKey=u?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Mh(this),this._firestoreClient.terminate()}}function ep(i,e){const n="object"==typeof i?i:(0,z.Mq)(),o="string"==typeof i?i:e||"(default)",u=(0,z.qX)(n,"firestore").getImmediate({identifier:o});if(!u._initialized){const l=(0,ve.P0)("firestore");l&&function ry(i,e,n,o={}){var u;const l=(i=tr(i,tl))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==e&&ys("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},l),{host:`${e}:${n}`,ssl:!1})),o.mockUserToken){let p,w;if("string"==typeof o.mockUserToken)p=o.mockUserToken,w=Xn.MOCK_USER;else{p=(0,ve.Sg)(o.mockUserToken,null===(u=i._app)||void 0===u?void 0:u.options.projectId);const R=o.mockUserToken.sub||o.mockUserToken.user_id;if(!R)throw new Je(Pe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new Xn(R)}i._authCredentials=new Li(new bu(p,w))}}(u,...l)}return u}function Bi(i){return i._firestoreClient||Mh(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function Mh(i){var e;const n=i._freezeSettings(),o=(l=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new qr(i._databaseId,l,i._persistenceKey,(w=n).host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,w.useFetchStreams));var l,w;i._firestoreClient=new cy(i._authCredentials,i._appCheckCredentials,i._queue,o)}class Ic{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ic(yr.fromBase64String(e))}catch(n){throw new Je(Pe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ic(yr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Gu{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new Je(Pe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class la{constructor(e){this._methodName=e}}class wc{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Je(Pe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Je(Pe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return rn(this._lat,e._lat)||rn(this._long,e._long)}}const Bs=/^__.*__$/;class Ec{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return null!==this.fieldMask?new Sa(e,this.data,this.fieldMask,n,this.fieldTransforms):new ic(e,this.data,n,this.fieldTransforms)}}class ld{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return new Sa(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function jo(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Rt()}}class ol{constructor(e,n,o,u,l,p){this.settings=e,this.databaseId=n,this.It=o,this.ignoreUndefinedProperties=u,void 0===l&&this.na(),this.fieldTransforms=l||[],this.fieldMask=p||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new ol(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),u=this.ia({path:o,oa:!1});return u.ua(e),u}ca(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),u=this.ia({path:o,oa:!1});return u.na(),u}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return Oh(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(jo(this.sa)&&Bs.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class al{constructor(e,n,o){this.databaseId=e,this.ignoreUndefinedProperties=n,this.It=o||Wl(e)}da(e,n,o,u=!1){return new ol({sa:e,methodName:n,fa:o,path:Wn.emptyPath(),oa:!1,la:u},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function Pa(i){const e=i._freezeSettings(),n=Wl(i._databaseId);return new al(i._databaseId,!!e.ignoreUndefinedProperties,n)}function zu(i,e,n,o,u,l={}){const p=i.da(l.merge||l.mergeFields?2:0,e,n,u);Nh("Data must be an object, but it was:",p,o);const w=sp(o,p);let R,k;if(l.merge)R=new Zi(p.fieldMask),k=p.fieldTransforms;else if(l.mergeFields){const B=[];for(const J of l.mergeFields){const Se=Ph(e,J,n);if(!p.contains(Se))throw new Je(Pe.INVALID_ARGUMENT,`Field '${Se}' is specified in your field mask but missing from your input data.`);ap(B,Se)||B.push(Se)}R=new Zi(B),k=p.fieldTransforms.filter(J=>R.covers(J.field))}else R=null,k=p.fieldTransforms;return new Ec(new Cr(w),R,k)}class eu extends la{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof eu}}function qu(i,e){if(op(i=(0,ve.m9)(i)))return Nh("Unsupported field value:",e,i),sp(i,e);if(i instanceof la)return function(n,o){if(!jo(o.sa))throw o.ha(`${n._methodName}() can only be used with update() and set()`);if(!o.path)throw o.ha(`${n._methodName}() is not currently supported inside arrays`);const u=n._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(n,o){const u=[];let l=0;for(const p of n){let w=qu(p,o.aa(l));null==w&&(w={nullValue:"NULL_VALUE"}),u.push(w),l++}return{arrayValue:{values:u}}}(i,e)}return function(n,o){if(null===(n=(0,ve.m9)(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return Mc(o.It,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const u=on.fromDate(n);return{timestampValue:Fc(o.It,u)}}if(n instanceof on){const u=new on(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Fc(o.It,u)}}if(n instanceof wc)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ic)return{bytesValue:nf(o.It,n._byteString)};if(n instanceof mi){const u=o.databaseId,l=n.firestore._databaseId;if(!l.isEqual(u))throw o.ha(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:rf(n.firestore._databaseId||o.databaseId,n._key.path)}}throw o.ha(`Unsupported field value: ${el(n)}`)}(i,e)}function sp(i,e){const n={};return ho(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ks(i,(o,u)=>{const l=qu(u,e.ra(o));null!=l&&(n[o]=l)}),{mapValue:{fields:n}}}function op(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof on||i instanceof wc||i instanceof Ic||i instanceof mi||i instanceof la)}function Nh(i,e,n){if(!op(n)||"object"!=typeof(o=n)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=el(n);throw e.ha("an object"===o?i+" a custom object":i+" "+o)}var o}function Ph(i,e,n){if((e=(0,ve.m9)(e))instanceof Gu)return e._internalPath;if("string"==typeof e)return kh(i,e);throw Oh("Field path arguments must be of type string or ",i,!1,void 0,n)}const Kg=new RegExp("[~\\*/\\[\\]]");function kh(i,e,n){if(e.search(Kg)>=0)throw Oh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Gu(...e.split("."))._internalPath}catch{throw Oh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Oh(i,e,n,o,u){const l=o&&!o.isEmpty(),p=void 0!==u;let w=`Function ${e}() called with invalid data`;n&&(w+=" (via `toFirestore()`)"),w+=". ";let R="";return(l||p)&&(R+=" (found",l&&(R+=` in field ${o}`),p&&(R+=` in document ${u}`),R+=")"),new Je(Pe.INVALID_ARGUMENT,w+i+R)}function ap(i,e){return i.some(n=>n.isEqual(e))}class up{constructor(e,n,o,u,l){this._firestore=e,this._userDataWriter=n,this._key=o,this._document=u,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new mi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new my(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(dl("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class my extends up{data(){return super.data()}}function dl(i,e){return"string"==typeof e?kh(i,e):e instanceof Gu?e._internalPath:e._delegate._internalPath}class Ku{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Zu extends up{constructor(e,n,o,u,l,p){super(e,n,o,u,p),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new hd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const o=this._document.data.field(dl("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,n.serverTimestamps)}}}class hd extends Zu{data(e={}){return super.data(e)}}class bc{constructor(e,n,o,u){this._firestore=e,this._userDataWriter=n,this._snapshot=u,this.metadata=new Ku(u.hasPendingWrites,u.fromCache),this.query=o}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(o=>{e.call(n,new hd(this._firestore,this._userDataWriter,o.key,o,new Ku(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Je(Pe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let l=0;return o._snapshot.docChanges.map(p=>({type:"added",doc:new hd(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Ku(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:l++}))}{let l=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(p=>u||3!==p.type).map(p=>{const w=new hd(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Ku(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let R=-1,k=-1;return 0!==p.type&&(R=l.indexOf(p.doc.key),l=l.delete(p.doc.key)),1!==p.type&&(l=l.add(p.doc),k=l.indexOf(p.doc.key)),{type:Yg(p.type),doc:w,oldIndex:R,newIndex:k}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Yg(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Rt()}}class vu extends class Dy{convertValue(e,n="none"){switch(po(e)){case 0:return null;case 1:return e.booleanValue;case 2:return tn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Oo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Rt()}}convertObject(e,n){const o={};return Ks(e.fields,(u,l)=>{o[u]=this.convertValue(l,n)}),o}convertGeoPoint(e){return new wc(tn(e.latitude),tn(e.longitude))}convertArray(e,n){return(e.values||[]).map(o=>this.convertValue(o,n))}convertServerTimestamp(e,n){switch(n){case"previous":const o=Sc(e);return null==o?null:this.convertValue(o,n);case"estimate":return this.convertTimestamp(fo(e));default:return null}}convertTimestamp(e){const n=Ea(e);return new on(n.seconds,n.nanos)}convertDocumentKey(e,n){const o=Pn.fromString(e);Ut(_(o));const u=new Xr(o.get(1),o.get(3)),l=new pt(o.popFirst(5));return u.isEqual(n)||En(`Document ${l} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ic(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new mi(this.firestore,null,n)}}function qv(i){i=tr(i,Vs);const e=tr(i.firestore,Yr),n=Bi(e),o=new vu(e);return function Lh(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new Je(Pe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(i._query),Gg(n,i._query).then(u=>new bc(e,o,i,u))}function xy(i,e,n,...o){i=tr(i,mi);const u=tr(i.firestore,Yr),l=Pa(u);let p;return p="string"==typeof(e=(0,ve.m9)(e))||e instanceof Gu?function rp(i,e,n,o,u,l){const p=i.da(1,e,n),w=[Ph(e,o,n)],R=[u];if(l.length%2!=0)throw new Je(Pe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Se=0;Se<l.length;Se+=2)w.push(Ph(e,l[Se])),R.push(l[Se+1]);const k=[],B=Cr.empty();for(let Se=w.length-1;Se>=0;--Se)if(!ap(k,w[Se])){const Ve=w[Se];let Ke=R[Se];Ke=(0,ve.m9)(Ke);const Ct=p.ca(Ve);if(Ke instanceof eu)k.push(Ve);else{const kt=qu(Ke,Ct);null!=kt&&(k.push(Ve),B.set(Ve,kt))}}const J=new Zi(k);return new ld(B,J,p.fieldTransforms)}(l,"updateDoc",i._key,e,n,o):function np(i,e,n,o){const u=i.da(1,e,n);Nh("Data must be an object, but it was:",u,o);const l=[],p=Cr.empty();Ks(o,(R,k)=>{const B=kh(e,R,n);k=(0,ve.m9)(k);const J=u.ca(B);if(k instanceof eu)l.push(B);else{const Se=qu(k,J);null!=Se&&(l.push(B),p.set(B,Se))}});const w=new Zi(l);return new ld(p,w,u.fieldTransforms)}(l,"updateDoc",i._key,e),hl(u,[p.toMutation(i._key,Nr.exists(!0))])}function Qg(i,e){const n=tr(i.firestore,Yr),o=Bg(i),u=function gp(i,e,n){let o;return o=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,o}(i.converter,e);return hl(n,[zu(Pa(i.firestore),"addDoc",o._key,u,null!==i.converter,{}).toMutation(o._key,Nr.exists(!1))]).then(()=>o)}function hl(i,e){return function(n,o){const u=new Ir;return n.asyncQueue.enqueueAndForget((0,M.Z)(function*(){return function qm(i,e,n){return nd.apply(this,arguments)}(yield function ad(i){return Yf(i).then(e=>e.syncEngine)}(n),o,u)})),u.promise}(Bi(i),e)}!function(i,e=!0){zr=z.Jn,(0,z.Xd)(new fe.wA("firestore",(n,{instanceIdentifier:o,options:u})=>{const l=n.getProvider("app").getImmediate(),p=new Yr(new Qu(n.getProvider("auth-internal")),new Ua(n.getProvider("app-check-internal")),function(w,R){if(!Object.prototype.hasOwnProperty.apply(w.options,["projectId"]))throw new Je(Pe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xr(w.options.projectId,R)}(l,o),l);return u=Object.assign({useFetchStreams:e},u),p._setSettings(u),p},"PUBLIC").setMultipleInstances(!0)),(0,z.KN)(Oi,"3.7.1",i),(0,z.KN)(Oi,"3.7.1","esm2017")}()},9751:(Zt,Ye,j)=>{j.d(Ye,{y:()=>me});var M=j(2961),z=j(727),fe=j(8822),oe=j(9635),ve=j(2416),ne=j(576),we=j(2806);let me=(()=>{class Ie{constructor(be){be&&(this._subscribe=be)}lift(be){const ht=new Ie;return ht.source=this,ht.operator=be,ht}subscribe(be,ht,wt){const Lt=function re(Ie){return Ie&&Ie instanceof M.Lv||function K(Ie){return Ie&&(0,ne.m)(Ie.next)&&(0,ne.m)(Ie.error)&&(0,ne.m)(Ie.complete)}(Ie)&&(0,z.Nn)(Ie)}(be)?be:new M.Hp(be,ht,wt);return(0,we.x)(()=>{const{operator:At,source:Mt}=this;Lt.add(At?At.call(Lt,Mt):Mt?this._subscribe(Lt):this._trySubscribe(Lt))}),Lt}_trySubscribe(be){try{return this._subscribe(be)}catch(ht){be.error(ht)}}forEach(be,ht){return new(ht=$e(ht))((wt,Lt)=>{const At=new M.Hp({next:Mt=>{try{be(Mt)}catch(dt){Lt(dt),At.unsubscribe()}},error:Lt,complete:wt});this.subscribe(At)})}_subscribe(be){var ht;return null===(ht=this.source)||void 0===ht?void 0:ht.subscribe(be)}[fe.L](){return this}pipe(...be){return(0,oe.U)(be)(this)}toPromise(be){return new(be=$e(be))((ht,wt)=>{let Lt;this.subscribe(At=>Lt=At,At=>wt(At),()=>ht(Lt))})}}return Ie.create=Ge=>new Ie(Ge),Ie})();function $e(Ie){var Ge;return null!==(Ge=Ie??ve.v.Promise)&&void 0!==Ge?Ge:Promise}},7579:(Zt,Ye,j)=>{j.d(Ye,{x:()=>we});var M=j(9751),z=j(727);const oe=(0,j(3888).d)($e=>function(){$e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ve=j(8737),ne=j(2806);let we=(()=>{class $e extends M.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(re){const Ie=new me(this,this);return Ie.operator=re,Ie}_throwIfClosed(){if(this.closed)throw new oe}next(re){(0,ne.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Ie of this.currentObservers)Ie.next(re)}})}error(re){(0,ne.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=re;const{observers:Ie}=this;for(;Ie.length;)Ie.shift().error(re)}})}complete(){(0,ne.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:re}=this;for(;re.length;)re.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var re;return(null===(re=this.observers)||void 0===re?void 0:re.length)>0}_trySubscribe(re){return this._throwIfClosed(),super._trySubscribe(re)}_subscribe(re){return this._throwIfClosed(),this._checkFinalizedStatuses(re),this._innerSubscribe(re)}_innerSubscribe(re){const{hasError:Ie,isStopped:Ge,observers:be}=this;return Ie||Ge?z.Lc:(this.currentObservers=null,be.push(re),new z.w0(()=>{this.currentObservers=null,(0,ve.P)(be,re)}))}_checkFinalizedStatuses(re){const{hasError:Ie,thrownError:Ge,isStopped:be}=this;Ie?re.error(Ge):be&&re.complete()}asObservable(){const re=new M.y;return re.source=this,re}}return $e.create=(K,re)=>new me(K,re),$e})();class me extends we{constructor(K,re){super(),this.destination=K,this.source=re}next(K){var re,Ie;null===(Ie=null===(re=this.destination)||void 0===re?void 0:re.next)||void 0===Ie||Ie.call(re,K)}error(K){var re,Ie;null===(Ie=null===(re=this.destination)||void 0===re?void 0:re.error)||void 0===Ie||Ie.call(re,K)}complete(){var K,re;null===(re=null===(K=this.destination)||void 0===K?void 0:K.complete)||void 0===re||re.call(K)}_subscribe(K){var re,Ie;return null!==(Ie=null===(re=this.source)||void 0===re?void 0:re.subscribe(K))&&void 0!==Ie?Ie:z.Lc}}},2961:(Zt,Ye,j)=>{j.d(Ye,{Hp:()=>wt,Lv:()=>Ie});var M=j(576),z=j(727),fe=j(2416),oe=j(7849);function ve(){}const ne=$e("C",void 0,void 0);function $e(We,Qe,Re){return{kind:We,value:Qe,error:Re}}var K=j(3410),re=j(2806);class Ie extends z.w0{constructor(Qe){super(),this.isStopped=!1,Qe?(this.destination=Qe,(0,z.Nn)(Qe)&&Qe.add(this)):this.destination=dt}static create(Qe,Re,mt){return new wt(Qe,Re,mt)}next(Qe){this.isStopped?Mt(function me(We){return $e("N",We,void 0)}(Qe),this):this._next(Qe)}error(Qe){this.isStopped?Mt(function we(We){return $e("E",void 0,We)}(Qe),this):(this.isStopped=!0,this._error(Qe))}complete(){this.isStopped?Mt(ne,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Qe){this.destination.next(Qe)}_error(Qe){try{this.destination.error(Qe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ge=Function.prototype.bind;function be(We,Qe){return Ge.call(We,Qe)}class ht{constructor(Qe){this.partialObserver=Qe}next(Qe){const{partialObserver:Re}=this;if(Re.next)try{Re.next(Qe)}catch(mt){Lt(mt)}}error(Qe){const{partialObserver:Re}=this;if(Re.error)try{Re.error(Qe)}catch(mt){Lt(mt)}else Lt(Qe)}complete(){const{partialObserver:Qe}=this;if(Qe.complete)try{Qe.complete()}catch(Re){Lt(Re)}}}class wt extends Ie{constructor(Qe,Re,mt){let je;if(super(),(0,M.m)(Qe)||!Qe)je={next:Qe??void 0,error:Re??void 0,complete:mt??void 0};else{let ge;this&&fe.v.useDeprecatedNextContext?(ge=Object.create(Qe),ge.unsubscribe=()=>this.unsubscribe(),je={next:Qe.next&&be(Qe.next,ge),error:Qe.error&&be(Qe.error,ge),complete:Qe.complete&&be(Qe.complete,ge)}):je=Qe}this.destination=new ht(je)}}function Lt(We){fe.v.useDeprecatedSynchronousErrorHandling?(0,re.O)(We):(0,oe.h)(We)}function Mt(We,Qe){const{onStoppedNotification:Re}=fe.v;Re&&K.z.setTimeout(()=>Re(We,Qe))}const dt={closed:!0,next:ve,error:function At(We){throw We},complete:ve}},727:(Zt,Ye,j)=>{j.d(Ye,{Lc:()=>ne,w0:()=>ve,Nn:()=>we});var M=j(576);const fe=(0,j(3888).d)($e=>function(re){$e(this),this.message=re?`${re.length} errors occurred during unsubscription:\n${re.map((Ie,Ge)=>`${Ge+1}) ${Ie.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=re});var oe=j(8737);class ve{constructor(K){this.initialTeardown=K,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let K;if(!this.closed){this.closed=!0;const{_parentage:re}=this;if(re)if(this._parentage=null,Array.isArray(re))for(const be of re)be.remove(this);else re.remove(this);const{initialTeardown:Ie}=this;if((0,M.m)(Ie))try{Ie()}catch(be){K=be instanceof fe?be.errors:[be]}const{_finalizers:Ge}=this;if(Ge){this._finalizers=null;for(const be of Ge)try{me(be)}catch(ht){K=K??[],ht instanceof fe?K=[...K,...ht.errors]:K.push(ht)}}if(K)throw new fe(K)}}add(K){var re;if(K&&K!==this)if(this.closed)me(K);else{if(K instanceof ve){if(K.closed||K._hasParent(this))return;K._addParent(this)}(this._finalizers=null!==(re=this._finalizers)&&void 0!==re?re:[]).push(K)}}_hasParent(K){const{_parentage:re}=this;return re===K||Array.isArray(re)&&re.includes(K)}_addParent(K){const{_parentage:re}=this;this._parentage=Array.isArray(re)?(re.push(K),re):re?[re,K]:K}_removeParent(K){const{_parentage:re}=this;re===K?this._parentage=null:Array.isArray(re)&&(0,oe.P)(re,K)}remove(K){const{_finalizers:re}=this;re&&(0,oe.P)(re,K),K instanceof ve&&K._removeParent(this)}}ve.EMPTY=(()=>{const $e=new ve;return $e.closed=!0,$e})();const ne=ve.EMPTY;function we($e){return $e instanceof ve||$e&&"closed"in $e&&(0,M.m)($e.remove)&&(0,M.m)($e.add)&&(0,M.m)($e.unsubscribe)}function me($e){(0,M.m)($e)?$e():$e.unsubscribe()}},2416:(Zt,Ye,j)=>{j.d(Ye,{v:()=>M});const M={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Zt,Ye,j)=>{j.d(Ye,{E:()=>z});const z=new(j(9751).y)(ve=>ve.complete())},8996:(Zt,Ye,j)=>{j.d(Ye,{D:()=>Qe});var M=j(8421),z=j(5363),fe=j(9468),ne=j(9751),me=j(2202),$e=j(576),K=j(9672);function Ie(Re,mt){if(!Re)throw new Error("Iterable cannot be null");return new ne.y(je=>{(0,K.f)(je,mt,()=>{const ge=Re[Symbol.asyncIterator]();(0,K.f)(je,mt,()=>{ge.next().then(et=>{et.done?je.complete():je.next(et.value)})},0,!0)})})}var Ge=j(3670),be=j(8239),ht=j(1144),wt=j(6495),Lt=j(2206),At=j(4532),Mt=j(3260);function Qe(Re,mt){return mt?function We(Re,mt){if(null!=Re){if((0,Ge.c)(Re))return function oe(Re,mt){return(0,M.Xf)(Re).pipe((0,fe.R)(mt),(0,z.Q)(mt))}(Re,mt);if((0,ht.z)(Re))return function we(Re,mt){return new ne.y(je=>{let ge=0;return mt.schedule(function(){ge===Re.length?je.complete():(je.next(Re[ge++]),je.closed||this.schedule())})})}(Re,mt);if((0,be.t)(Re))return function ve(Re,mt){return(0,M.Xf)(Re).pipe((0,fe.R)(mt),(0,z.Q)(mt))}(Re,mt);if((0,Lt.D)(Re))return Ie(Re,mt);if((0,wt.T)(Re))return function re(Re,mt){return new ne.y(je=>{let ge;return(0,K.f)(je,mt,()=>{ge=Re[me.h](),(0,K.f)(je,mt,()=>{let et,se;try{({value:et,done:se}=ge.next())}catch(he){return void je.error(he)}se?je.complete():je.next(et)},0,!0)}),()=>(0,$e.m)(ge?.return)&&ge.return()})}(Re,mt);if((0,Mt.L)(Re))return function dt(Re,mt){return Ie((0,Mt.Q)(Re),mt)}(Re,mt)}throw(0,At.z)(Re)}(Re,mt):(0,M.Xf)(Re)}},8421:(Zt,Ye,j)=>{j.d(Ye,{Xf:()=>Ge});var M=j(655),z=j(1144),fe=j(8239),oe=j(9751),ve=j(3670),ne=j(2206),we=j(4532),me=j(6495),$e=j(3260),K=j(576),re=j(7849),Ie=j(8822);function Ge(We){if(We instanceof oe.y)return We;if(null!=We){if((0,ve.c)(We))return function be(We){return new oe.y(Qe=>{const Re=We[Ie.L]();if((0,K.m)(Re.subscribe))return Re.subscribe(Qe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(We);if((0,z.z)(We))return function ht(We){return new oe.y(Qe=>{for(let Re=0;Re<We.length&&!Qe.closed;Re++)Qe.next(We[Re]);Qe.complete()})}(We);if((0,fe.t)(We))return function wt(We){return new oe.y(Qe=>{We.then(Re=>{Qe.closed||(Qe.next(Re),Qe.complete())},Re=>Qe.error(Re)).then(null,re.h)})}(We);if((0,ne.D)(We))return At(We);if((0,me.T)(We))return function Lt(We){return new oe.y(Qe=>{for(const Re of We)if(Qe.next(Re),Qe.closed)return;Qe.complete()})}(We);if((0,$e.L)(We))return function Mt(We){return At((0,$e.Q)(We))}(We)}throw(0,we.z)(We)}function At(We){return new oe.y(Qe=>{(function dt(We,Qe){var Re,mt,je,ge;return(0,M.mG)(this,void 0,void 0,function*(){try{for(Re=(0,M.KL)(We);!(mt=yield Re.next()).done;)if(Qe.next(mt.value),Qe.closed)return}catch(et){je={error:et}}finally{try{mt&&!mt.done&&(ge=Re.return)&&(yield ge.call(Re))}finally{if(je)throw je.error}}Qe.complete()})})(We,Qe).catch(Re=>Qe.error(Re))})}},5403:(Zt,Ye,j)=>{j.d(Ye,{x:()=>z});var M=j(2961);function z(oe,ve,ne,we,me){return new fe(oe,ve,ne,we,me)}class fe extends M.Lv{constructor(ve,ne,we,me,$e,K){super(ve),this.onFinalize=$e,this.shouldUnsubscribe=K,this._next=ne?function(re){try{ne(re)}catch(Ie){ve.error(Ie)}}:super._next,this._error=me?function(re){try{me(re)}catch(Ie){ve.error(Ie)}finally{this.unsubscribe()}}:super._error,this._complete=we?function(){try{we()}catch(re){ve.error(re)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ve;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ne}=this;super.unsubscribe(),!ne&&(null===(ve=this.onFinalize)||void 0===ve||ve.call(this))}}}},4004:(Zt,Ye,j)=>{j.d(Ye,{U:()=>fe});var M=j(4482),z=j(5403);function fe(oe,ve){return(0,M.e)((ne,we)=>{let me=0;ne.subscribe((0,z.x)(we,$e=>{we.next(oe.call(ve,$e,me++))}))})}},8189:(Zt,Ye,j)=>{j.d(Ye,{J:()=>fe});var M=j(5577),z=j(4671);function fe(oe=1/0){return(0,M.z)(z.y,oe)}},5577:(Zt,Ye,j)=>{j.d(Ye,{z:()=>me});var M=j(4004),z=j(8421),fe=j(4482),oe=j(9672),ve=j(5403),we=j(576);function me($e,K,re=1/0){return(0,we.m)(K)?me((Ie,Ge)=>(0,M.U)((be,ht)=>K(Ie,be,Ge,ht))((0,z.Xf)($e(Ie,Ge))),re):("number"==typeof K&&(re=K),(0,fe.e)((Ie,Ge)=>function ne($e,K,re,Ie,Ge,be,ht,wt){const Lt=[];let At=0,Mt=0,dt=!1;const We=()=>{dt&&!Lt.length&&!At&&K.complete()},Qe=mt=>At<Ie?Re(mt):Lt.push(mt),Re=mt=>{be&&K.next(mt),At++;let je=!1;(0,z.Xf)(re(mt,Mt++)).subscribe((0,ve.x)(K,ge=>{Ge?.(ge),be?Qe(ge):K.next(ge)},()=>{je=!0},void 0,()=>{if(je)try{for(At--;Lt.length&&At<Ie;){const ge=Lt.shift();ht?(0,oe.f)(K,ht,()=>Re(ge)):Re(ge)}We()}catch(ge){K.error(ge)}}))};return $e.subscribe((0,ve.x)(K,Qe,()=>{dt=!0,We()})),()=>{wt?.()}}(Ie,Ge,$e,re)))}},5363:(Zt,Ye,j)=>{j.d(Ye,{Q:()=>oe});var M=j(9672),z=j(4482),fe=j(5403);function oe(ve,ne=0){return(0,z.e)((we,me)=>{we.subscribe((0,fe.x)(me,$e=>(0,M.f)(me,ve,()=>me.next($e),ne),()=>(0,M.f)(me,ve,()=>me.complete(),ne),$e=>(0,M.f)(me,ve,()=>me.error($e),ne)))})}},9468:(Zt,Ye,j)=>{j.d(Ye,{R:()=>z});var M=j(4482);function z(fe,oe=0){return(0,M.e)((ve,ne)=>{ne.add(fe.schedule(()=>ve.subscribe(ne),oe))})}},8505:(Zt,Ye,j)=>{j.d(Ye,{b:()=>ve});var M=j(576),z=j(4482),fe=j(5403),oe=j(4671);function ve(ne,we,me){const $e=(0,M.m)(ne)||we||me?{next:ne,error:we,complete:me}:ne;return $e?(0,z.e)((K,re)=>{var Ie;null===(Ie=$e.subscribe)||void 0===Ie||Ie.call($e);let Ge=!0;K.subscribe((0,fe.x)(re,be=>{var ht;null===(ht=$e.next)||void 0===ht||ht.call($e,be),re.next(be)},()=>{var be;Ge=!1,null===(be=$e.complete)||void 0===be||be.call($e),re.complete()},be=>{var ht;Ge=!1,null===(ht=$e.error)||void 0===ht||ht.call($e,be),re.error(be)},()=>{var be,ht;Ge&&(null===(be=$e.unsubscribe)||void 0===be||be.call($e)),null===(ht=$e.finalize)||void 0===ht||ht.call($e)}))}):oe.y}},3410:(Zt,Ye,j)=>{j.d(Ye,{z:()=>M});const M={setTimeout(z,fe,...oe){const{delegate:ve}=M;return ve?.setTimeout?ve.setTimeout(z,fe,...oe):setTimeout(z,fe,...oe)},clearTimeout(z){const{delegate:fe}=M;return(fe?.clearTimeout||clearTimeout)(z)},delegate:void 0}},2202:(Zt,Ye,j)=>{j.d(Ye,{h:()=>z});const z=function M(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Zt,Ye,j)=>{j.d(Ye,{L:()=>M});const M="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(Zt,Ye,j)=>{j.d(Ye,{_6:()=>ne,jO:()=>oe,yG:()=>ve});var M=j(576);function fe(we){return we[we.length-1]}function oe(we){return(0,M.m)(fe(we))?we.pop():void 0}function ve(we){return function z(we){return we&&(0,M.m)(we.schedule)}(fe(we))?we.pop():void 0}function ne(we,me){return"number"==typeof fe(we)?we.pop():me}},4742:(Zt,Ye,j)=>{j.d(Ye,{D:()=>ve});const{isArray:M}=Array,{getPrototypeOf:z,prototype:fe,keys:oe}=Object;function ve(we){if(1===we.length){const me=we[0];if(M(me))return{args:me,keys:null};if(function ne(we){return we&&"object"==typeof we&&z(we)===fe}(me)){const $e=oe(me);return{args:$e.map(K=>me[K]),keys:$e}}}return{args:we,keys:null}}},8737:(Zt,Ye,j)=>{function M(z,fe){if(z){const oe=z.indexOf(fe);0<=oe&&z.splice(oe,1)}}j.d(Ye,{P:()=>M})},3888:(Zt,Ye,j)=>{function M(z){const oe=z(ve=>{Error.call(ve),ve.stack=(new Error).stack});return oe.prototype=Object.create(Error.prototype),oe.prototype.constructor=oe,oe}j.d(Ye,{d:()=>M})},1810:(Zt,Ye,j)=>{function M(z,fe){return z.reduce((oe,ve,ne)=>(oe[ve]=fe[ne],oe),{})}j.d(Ye,{n:()=>M})},2806:(Zt,Ye,j)=>{j.d(Ye,{O:()=>oe,x:()=>fe});var M=j(2416);let z=null;function fe(ve){if(M.v.useDeprecatedSynchronousErrorHandling){const ne=!z;if(ne&&(z={errorThrown:!1,error:null}),ve(),ne){const{errorThrown:we,error:me}=z;if(z=null,we)throw me}}else ve()}function oe(ve){M.v.useDeprecatedSynchronousErrorHandling&&z&&(z.errorThrown=!0,z.error=ve)}},9672:(Zt,Ye,j)=>{function M(z,fe,oe,ve=0,ne=!1){const we=fe.schedule(function(){oe(),ne?z.add(this.schedule(null,ve)):this.unsubscribe()},ve);if(z.add(we),!ne)return we}j.d(Ye,{f:()=>M})},4671:(Zt,Ye,j)=>{function M(z){return z}j.d(Ye,{y:()=>M})},1144:(Zt,Ye,j)=>{j.d(Ye,{z:()=>M});const M=z=>z&&"number"==typeof z.length&&"function"!=typeof z},2206:(Zt,Ye,j)=>{j.d(Ye,{D:()=>z});var M=j(576);function z(fe){return Symbol.asyncIterator&&(0,M.m)(fe?.[Symbol.asyncIterator])}},576:(Zt,Ye,j)=>{function M(z){return"function"==typeof z}j.d(Ye,{m:()=>M})},3670:(Zt,Ye,j)=>{j.d(Ye,{c:()=>fe});var M=j(8822),z=j(576);function fe(oe){return(0,z.m)(oe[M.L])}},6495:(Zt,Ye,j)=>{j.d(Ye,{T:()=>fe});var M=j(2202),z=j(576);function fe(oe){return(0,z.m)(oe?.[M.h])}},8239:(Zt,Ye,j)=>{j.d(Ye,{t:()=>z});var M=j(576);function z(fe){return(0,M.m)(fe?.then)}},3260:(Zt,Ye,j)=>{j.d(Ye,{L:()=>oe,Q:()=>fe});var M=j(655),z=j(576);function fe(ve){return(0,M.FC)(this,arguments,function*(){const we=ve.getReader();try{for(;;){const{value:me,done:$e}=yield(0,M.qq)(we.read());if($e)return yield(0,M.qq)(void 0);yield yield(0,M.qq)(me)}}finally{we.releaseLock()}})}function oe(ve){return(0,z.m)(ve?.getReader)}},4482:(Zt,Ye,j)=>{j.d(Ye,{A:()=>z,e:()=>fe});var M=j(576);function z(oe){return(0,M.m)(oe?.lift)}function fe(oe){return ve=>{if(z(ve))return ve.lift(function(ne){try{return oe(ne,this)}catch(we){this.error(we)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(Zt,Ye,j)=>{j.d(Ye,{Z:()=>oe});var M=j(4004);const{isArray:z}=Array;function oe(ve){return(0,M.U)(ne=>function fe(ve,ne){return z(ne)?ve(...ne):ve(ne)}(ve,ne))}},9635:(Zt,Ye,j)=>{j.d(Ye,{U:()=>fe,z:()=>z});var M=j(4671);function z(...oe){return fe(oe)}function fe(oe){return 0===oe.length?M.y:1===oe.length?oe[0]:function(ne){return oe.reduce((we,me)=>me(we),ne)}}},7849:(Zt,Ye,j)=>{j.d(Ye,{h:()=>fe});var M=j(2416),z=j(3410);function fe(oe){z.z.setTimeout(()=>{const{onUnhandledError:ve}=M.v;if(!ve)throw oe;ve(oe)})}},4532:(Zt,Ye,j)=>{function M(z){return new TypeError(`You provided ${null!==z&&"object"==typeof z?"an invalid object":`'${z}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}j.d(Ye,{z:()=>M})},655:(Zt,Ye,j)=>{function oe(se,he){var te={};for(var le in se)Object.prototype.hasOwnProperty.call(se,le)&&he.indexOf(le)<0&&(te[le]=se[le]);if(null!=se&&"function"==typeof Object.getOwnPropertySymbols){var He=0;for(le=Object.getOwnPropertySymbols(se);He<le.length;He++)he.indexOf(le[He])<0&&Object.prototype.propertyIsEnumerable.call(se,le[He])&&(te[le[He]]=se[le[He]])}return te}function me(se,he,te,le){return new(te||(te=Promise))(function(Oe,ct){function Ht(Wt){try{Nt(le.next(Wt))}catch(An){ct(An)}}function Zn(Wt){try{Nt(le.throw(Wt))}catch(An){ct(An)}}function Nt(Wt){Wt.done?Oe(Wt.value):function He(Oe){return Oe instanceof te?Oe:new te(function(ct){ct(Oe)})}(Wt.value).then(Ht,Zn)}Nt((le=le.apply(se,he||[])).next())})}function Lt(se){return this instanceof Lt?(this.v=se,this):new Lt(se)}function At(se,he,te){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var He,le=te.apply(se,he||[]),Oe=[];return He={},ct("next"),ct("throw"),ct("return"),He[Symbol.asyncIterator]=function(){return this},He;function ct(gn){le[gn]&&(He[gn]=function(Er){return new Promise(function($n,xn){Oe.push([gn,Er,$n,xn])>1||Ht(gn,Er)})})}function Ht(gn,Er){try{!function Zn(gn){gn.value instanceof Lt?Promise.resolve(gn.value.v).then(Nt,Wt):An(Oe[0][2],gn)}(le[gn](Er))}catch($n){An(Oe[0][3],$n)}}function Nt(gn){Ht("next",gn)}function Wt(gn){Ht("throw",gn)}function An(gn,Er){gn(Er),Oe.shift(),Oe.length&&Ht(Oe[0][0],Oe[0][1])}}function dt(se){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var te,he=se[Symbol.asyncIterator];return he?he.call(se):(se=function Ie(se){var he="function"==typeof Symbol&&Symbol.iterator,te=he&&se[he],le=0;if(te)return te.call(se);if(se&&"number"==typeof se.length)return{next:function(){return se&&le>=se.length&&(se=void 0),{value:se&&se[le++],done:!se}}};throw new TypeError(he?"Object is not iterable.":"Symbol.iterator is not defined.")}(se),te={},le("next"),le("throw"),le("return"),te[Symbol.asyncIterator]=function(){return this},te);function le(Oe){te[Oe]=se[Oe]&&function(ct){return new Promise(function(Ht,Zn){!function He(Oe,ct,Ht,Zn){Promise.resolve(Zn).then(function(Nt){Oe({value:Nt,done:Ht})},ct)}(Ht,Zn,(ct=se[Oe](ct)).done,ct.value)})}}}j.d(Ye,{FC:()=>At,KL:()=>dt,_T:()=>oe,mG:()=>me,qq:()=>Lt})},6895:(Zt,Ye,j)=>{j.d(Ye,{Do:()=>dt,EM:()=>Ri,HT:()=>ve,JF:()=>Do,K0:()=>we,Mx:()=>is,O5:()=>pe,S$:()=>Lt,V_:()=>K,Ye:()=>We,b0:()=>Mt,bD:()=>as,ez:()=>Eo,q:()=>fe,sg:()=>Ur,w_:()=>ne});var M=j(8256);let z=null;function fe(){return z}function ve(T){z||(z=T)}class ne{}const we=new M.OlP("DocumentToken");let me=(()=>{class T{historyGo(S){throw new Error("Not implemented")}}return T.\u0275fac=function(S){return new(S||T)},T.\u0275prov=M.Yz7({token:T,factory:function(){return function $e(){return(0,M.LFG)(re)}()},providedIn:"platform"}),T})();const K=new M.OlP("Location Initialized");let re=(()=>{class T extends me{constructor(S){super(),this._doc=S,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return fe().getBaseHref(this._doc)}onPopState(S){const U=fe().getGlobalEventTarget(this._doc,"window");return U.addEventListener("popstate",S,!1),()=>U.removeEventListener("popstate",S)}onHashChange(S){const U=fe().getGlobalEventTarget(this._doc,"window");return U.addEventListener("hashchange",S,!1),()=>U.removeEventListener("hashchange",S)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(S){this.location.pathname=S}pushState(S,U,ee){Ie()?this._history.pushState(S,U,ee):this.location.hash=ee}replaceState(S,U,ee){Ie()?this._history.replaceState(S,U,ee):this.location.hash=ee}forward(){this._history.forward()}back(){this._history.back()}historyGo(S=0){this._history.go(S)}getState(){return this._history.state}}return T.\u0275fac=function(S){return new(S||T)(M.LFG(we))},T.\u0275prov=M.Yz7({token:T,factory:function(){return function Ge(){return new re((0,M.LFG)(we))}()},providedIn:"platform"}),T})();function Ie(){return!!window.history.pushState}function be(T,P){if(0==T.length)return P;if(0==P.length)return T;let S=0;return T.endsWith("/")&&S++,P.startsWith("/")&&S++,2==S?T+P.substring(1):1==S?T+P:T+"/"+P}function ht(T){const P=T.match(/#|\?|$/),S=P&&P.index||T.length;return T.slice(0,S-("/"===T[S-1]?1:0))+T.slice(S)}function wt(T){return T&&"?"!==T[0]?"?"+T:T}let Lt=(()=>{class T{historyGo(S){throw new Error("Not implemented")}}return T.\u0275fac=function(S){return new(S||T)},T.\u0275prov=M.Yz7({token:T,factory:function(){return(0,M.f3M)(Mt)},providedIn:"root"}),T})();const At=new M.OlP("appBaseHref");let Mt=(()=>{class T extends Lt{constructor(S,U){super(),this._platformLocation=S,this._removeListenerFns=[],this._baseHref=U??this._platformLocation.getBaseHrefFromDOM()??(0,M.f3M)(we).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(S){this._removeListenerFns.push(this._platformLocation.onPopState(S),this._platformLocation.onHashChange(S))}getBaseHref(){return this._baseHref}prepareExternalUrl(S){return be(this._baseHref,S)}path(S=!1){const U=this._platformLocation.pathname+wt(this._platformLocation.search),ee=this._platformLocation.hash;return ee&&S?`${U}${ee}`:U}pushState(S,U,ee,Ne){const Ue=this.prepareExternalUrl(ee+wt(Ne));this._platformLocation.pushState(S,U,Ue)}replaceState(S,U,ee,Ne){const Ue=this.prepareExternalUrl(ee+wt(Ne));this._platformLocation.replaceState(S,U,Ue)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(S=0){this._platformLocation.historyGo?.(S)}}return T.\u0275fac=function(S){return new(S||T)(M.LFG(me),M.LFG(At,8))},T.\u0275prov=M.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})(),dt=(()=>{class T extends Lt{constructor(S,U){super(),this._platformLocation=S,this._baseHref="",this._removeListenerFns=[],null!=U&&(this._baseHref=U)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(S){this._removeListenerFns.push(this._platformLocation.onPopState(S),this._platformLocation.onHashChange(S))}getBaseHref(){return this._baseHref}path(S=!1){let U=this._platformLocation.hash;return null==U&&(U="#"),U.length>0?U.substring(1):U}prepareExternalUrl(S){const U=be(this._baseHref,S);return U.length>0?"#"+U:U}pushState(S,U,ee,Ne){let Ue=this.prepareExternalUrl(ee+wt(Ne));0==Ue.length&&(Ue=this._platformLocation.pathname),this._platformLocation.pushState(S,U,Ue)}replaceState(S,U,ee,Ne){let Ue=this.prepareExternalUrl(ee+wt(Ne));0==Ue.length&&(Ue=this._platformLocation.pathname),this._platformLocation.replaceState(S,U,Ue)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(S=0){this._platformLocation.historyGo?.(S)}}return T.\u0275fac=function(S){return new(S||T)(M.LFG(me),M.LFG(At,8))},T.\u0275prov=M.Yz7({token:T,factory:T.\u0275fac}),T})(),We=(()=>{class T{constructor(S){this._subject=new M.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=S;const U=this._locationStrategy.getBaseHref();this._baseHref=ht(mt(U)),this._locationStrategy.onPopState(ee=>{this._subject.emit({url:this.path(!0),pop:!0,state:ee.state,type:ee.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(S=!1){return this.normalize(this._locationStrategy.path(S))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(S,U=""){return this.path()==this.normalize(S+wt(U))}normalize(S){return T.stripTrailingSlash(function Re(T,P){return T&&P.startsWith(T)?P.substring(T.length):P}(this._baseHref,mt(S)))}prepareExternalUrl(S){return S&&"/"!==S[0]&&(S="/"+S),this._locationStrategy.prepareExternalUrl(S)}go(S,U="",ee=null){this._locationStrategy.pushState(ee,"",S,U),this._notifyUrlChangeListeners(this.prepareExternalUrl(S+wt(U)),ee)}replaceState(S,U="",ee=null){this._locationStrategy.replaceState(ee,"",S,U),this._notifyUrlChangeListeners(this.prepareExternalUrl(S+wt(U)),ee)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(S=0){this._locationStrategy.historyGo?.(S)}onUrlChange(S){return this._urlChangeListeners.push(S),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(U=>{this._notifyUrlChangeListeners(U.url,U.state)})),()=>{const U=this._urlChangeListeners.indexOf(S);this._urlChangeListeners.splice(U,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(S="",U){this._urlChangeListeners.forEach(ee=>ee(S,U))}subscribe(S,U,ee){return this._subject.subscribe({next:S,error:U,complete:ee})}}return T.normalizeQueryParams=wt,T.joinWithSlash=be,T.stripTrailingSlash=ht,T.\u0275fac=function(S){return new(S||T)(M.LFG(Lt))},T.\u0275prov=M.Yz7({token:T,factory:function(){return function Qe(){return new We((0,M.LFG)(Lt))}()},providedIn:"root"}),T})();function mt(T){return T.replace(/\/index.html$/,"")}function is(T,P){P=encodeURIComponent(P);for(const S of T.split(";")){const U=S.indexOf("="),[ee,Ne]=-1==U?[S,""]:[S.slice(0,U),S.slice(U+1)];if(ee.trim()===P)return decodeURIComponent(Ne)}return null}class ii{constructor(P,S,U,ee){this.$implicit=P,this.ngForOf=S,this.index=U,this.count=ee}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ur=(()=>{class T{constructor(S,U,ee){this._viewContainer=S,this._template=U,this._differs=ee,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(S){this._ngForOf=S,this._ngForOfDirty=!0}set ngForTrackBy(S){this._trackByFn=S}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(S){S&&(this._template=S)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const S=this._ngForOf;!this._differ&&S&&(this._differ=this._differs.find(S).create(this.ngForTrackBy))}if(this._differ){const S=this._differ.diff(this._ngForOf);S&&this._applyChanges(S)}}_applyChanges(S){const U=this._viewContainer;S.forEachOperation((ee,Ne,Ue)=>{if(null==ee.previousIndex)U.createEmbeddedView(this._template,new ii(ee.item,this._ngForOf,-1,-1),null===Ue?void 0:Ue);else if(null==Ue)U.remove(null===Ne?void 0:Ne);else if(null!==Ne){const _t=U.get(Ne);U.move(_t,Ue),de(_t,ee)}});for(let ee=0,Ne=U.length;ee<Ne;ee++){const _t=U.get(ee).context;_t.index=ee,_t.count=Ne,_t.ngForOf=this._ngForOf}S.forEachIdentityChange(ee=>{de(U.get(ee.currentIndex),ee)})}static ngTemplateContextGuard(S,U){return!0}}return T.\u0275fac=function(S){return new(S||T)(M.Y36(M.s_b),M.Y36(M.Rgc),M.Y36(M.ZZ4))},T.\u0275dir=M.lG2({type:T,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),T})();function de(T,P){T.context.$implicit=P.item}let pe=(()=>{class T{constructor(S,U){this._viewContainer=S,this._context=new Fe,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=U}set ngIf(S){this._context.$implicit=this._context.ngIf=S,this._updateView()}set ngIfThen(S){tt("ngIfThen",S),this._thenTemplateRef=S,this._thenViewRef=null,this._updateView()}set ngIfElse(S){tt("ngIfElse",S),this._elseTemplateRef=S,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(S,U){return!0}}return T.\u0275fac=function(S){return new(S||T)(M.Y36(M.s_b),M.Y36(M.Rgc))},T.\u0275dir=M.lG2({type:T,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),T})();class Fe{constructor(){this.$implicit=null,this.ngIf=null}}function tt(T,P){if(P&&!P.createEmbeddedView)throw new Error(`${T} must be a TemplateRef, but received '${(0,M.AaK)(P)}'.`)}let Eo=(()=>{class T{}return T.\u0275fac=function(S){return new(S||T)},T.\u0275mod=M.oAB({type:T}),T.\u0275inj=M.cJS({}),T})();const as="browser";let Ri=(()=>{class T{}return T.\u0275prov=(0,M.Yz7)({token:T,providedIn:"root",factory:()=>new oi((0,M.LFG)(we),window)}),T})();class oi{constructor(P,S){this.document=P,this.window=S,this.offset=()=>[0,0]}setOffset(P){this.offset=Array.isArray(P)?()=>P:P}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(P){this.supportsScrolling()&&this.window.scrollTo(P[0],P[1])}scrollToAnchor(P){if(!this.supportsScrolling())return;const S=function ro(T,P){const S=T.getElementById(P)||T.getElementsByName(P)[0];if(S)return S;if("function"==typeof T.createTreeWalker&&T.body&&(T.body.createShadowRoot||T.body.attachShadow)){const U=T.createTreeWalker(T.body,NodeFilter.SHOW_ELEMENT);let ee=U.currentNode;for(;ee;){const Ne=ee.shadowRoot;if(Ne){const Ue=Ne.getElementById(P)||Ne.querySelector(`[name="${P}"]`);if(Ue)return Ue}ee=U.nextNode()}}return null}(this.document,P);S&&(this.scrollToElement(S),S.focus())}setHistoryScrollRestoration(P){if(this.supportScrollRestoration()){const S=this.window.history;S&&S.scrollRestoration&&(S.scrollRestoration=P)}}scrollToElement(P){const S=P.getBoundingClientRect(),U=S.left+this.window.pageXOffset,ee=S.top+this.window.pageYOffset,Ne=this.offset();this.window.scrollTo(U-Ne[0],ee-Ne[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const P=Wi(this.window.history)||Wi(Object.getPrototypeOf(this.window.history));return!(!P||!P.writable&&!P.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Wi(T){return Object.getOwnPropertyDescriptor(T,"scrollRestoration")}class Do{}},8256:(Zt,Ye,j)=>{j.d(Ye,{tb:()=>VI,AFp:()=>LI,ip1:()=>OI,CZH:()=>um,hGG:()=>MD,z2F:()=>lm,sBO:()=>pD,Sil:()=>ZE,_Vd:()=>Ka,EJc:()=>qE,Xts:()=>Bo,SBq:()=>ku,lqb:()=>$o,qLn:()=>Ll,vpe:()=>Yu,XFs:()=>lt,OlP:()=>en,zs3:()=>pu,ZZ4:()=>pv,aQg:()=>gv,soG:()=>cm,YKP:()=>z_,h0i:()=>Hh,PXZ:()=>uD,R0b:()=>tu,FiY:()=>ft,Lbi:()=>GE,g9A:()=>UI,Qsj:()=>Pd,FYo:()=>Rl,JOm:()=>Ya,tp0:()=>ln,Rgc:()=>bp,dDg:()=>iD,eoX:()=>WI,q4F:()=>oc,GfV:()=>kd,s_b:()=>sm,ifc:()=>Ar,MMx:()=>Hy,Lck:()=>Ow,eFA:()=>ZI,G48:()=>fD,Gpc:()=>Mt,f3M:()=>C,_c5:()=>xD,c2e:()=>zE,zSh:()=>Ad,wAp:()=>hn,vHH:()=>Re,lri:()=>GI,rWj:()=>zI,D6c:()=>RD,cg1:()=>Oy,kL8:()=>m_,dqk:()=>Ft,Z0I:()=>Lr,sIi:()=>Rh,CqO:()=>wy,QGY:()=>Uh,QP$:()=>Ot,F4k:()=>Iy,RDi:()=>Rc,AaK:()=>wt,qOj:()=>ep,TTD:()=>zi,_Bn:()=>G_,jDz:()=>q_,xp6:()=>lg,uIk:()=>ol,ekj:()=>Jg,Suo:()=>hI,Xpm:()=>Le,lG2:()=>ye,Yz7:()=>Jn,cJS:()=>lr,oAB:()=>mn,Yjl:()=>X,Y36:()=>$u,_UZ:()=>Zg,BQk:()=>dd,ynx:()=>lp,qZA:()=>Fh,TgZ:()=>cp,EpF:()=>_y,n5z:()=>ko,LFG:()=>Rr,$8M:()=>Ds,$Z:()=>yc,NdJ:()=>Vh,CRH:()=>fI,kcU:()=>Xn,O4$:()=>ms,oxw:()=>pp,Q6J:()=>dl,DdM:()=>eI,iGM:()=>dI,KtG:()=>Qo,CHM:()=>Xi,LSH:()=>Ed,YNc:()=>ap,_uU:()=>kr,Oqu:()=>fr});var M=j(7579),z=j(727),fe=j(9751),oe=j(8189),ve=j(8421),ne=j(515),we=j(7669),me=j(8996),K=j(2961),re=j(4482);function Ge(t,r,...s){if(!0===r)return void t();if(!1===r)return;const a=new K.Hp({next:()=>{a.unsubscribe(),t()}});return r(...s).subscribe(a)}function be(t){for(let r in t)if(t[r]===be)return r;throw Error("Could not find renamed property on target object.")}function ht(t,r){for(const s in r)r.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(t[s]=r[s])}function wt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(wt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const r=t.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function Lt(t,r){return null==t||""===t?null===r?"":r:null==r||""===r?t:t+" "+r}const At=be({__forward_ref__:be});function Mt(t){return t.__forward_ref__=Mt,t.toString=function(){return wt(this())},t}function dt(t){return We(t)?t():t}function We(t){return"function"==typeof t&&t.hasOwnProperty(At)&&t.__forward_ref__===Mt}class Re extends Error{constructor(r,s){super(function mt(t,r){return`NG0${Math.abs(t)}${r?": "+r.trim():""}`}(r,s)),this.code=r}}function je(t){return"string"==typeof t?t:null==t?"":String(t)}function te(t,r){throw new Re(-201,!1)}function fn(t,r){null==t&&function Yt(t,r,s,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${s} ${a} ${r} <=Actual]`))}(r,t,null,"!=")}function Jn(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function lr(t){return{providers:t.providers||[],imports:t.imports||[]}}function nr(t){return St(t,ar)||St(t,Bn)}function Lr(t){return null!==nr(t)}function St(t,r){return t.hasOwnProperty(r)?t[r]:null}function $r(t){return t&&(t.hasOwnProperty(ti)||t.hasOwnProperty(jr))?t[ti]:null}const ar=be({\u0275prov:be}),ti=be({\u0275inj:be}),Bn=be({ngInjectableDef:be}),jr=be({ngInjectorDef:be});var lt=(()=>((lt=lt||{})[lt.Default=0]="Default",lt[lt.Host=1]="Host",lt[lt.Self=2]="Self",lt[lt.SkipSelf=4]="SkipSelf",lt[lt.Optional=8]="Optional",lt))();let bt;function nn(t){const r=bt;return bt=t,r}function er(t,r,s){const a=nr(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&lt.Optional?null:void 0!==r?r:void te(wt(t))}function sr(t){return{toString:t}.toString()}var Dn=(()=>((Dn=Dn||{})[Dn.OnPush=0]="OnPush",Dn[Dn.Default=1]="Default",Dn))(),Ar=(()=>{return(t=Ar||(Ar={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",Ar;var t})();const Ft=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),it={},Ce=[],ut=be({\u0275cmp:be}),Xe=be({\u0275dir:be}),Tt=be({\u0275pipe:be}),pn=be({\u0275mod:be}),Q=be({\u0275fac:be}),Y=be({__NG_ELEMENT_ID__:be});let ue=0;function Le(t){return sr(()=>{const s=!0===t.standalone,a={},c={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Dn.OnPush,directiveDefs:null,pipeDefs:null,standalone:s,dependencies:s&&t.dependencies||null,getStandaloneInjector:null,selectors:t.selectors||Ce,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Ar.Emulated,id:"c"+ue++,styles:t.styles||Ce,_:null,setInput:null,schemas:t.schemas||null,tView:null},d=t.dependencies,m=t.features;return c.inputs=rr(t.inputs,a),c.outputs=rr(t.outputs),m&&m.forEach(I=>I(c)),c.directiveDefs=d?()=>("function"==typeof d?d():d).map(Dt).filter($t):null,c.pipeDefs=d?()=>("function"==typeof d?d():d).map(ke).filter($t):null,c})}function Dt(t){return H(t)||_e(t)}function $t(t){return null!==t}function mn(t){return sr(()=>({type:t.type,bootstrap:t.bootstrap||Ce,declarations:t.declarations||Ce,imports:t.imports||Ce,exports:t.exports||Ce,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function rr(t,r){if(null==t)return it;const s={};for(const a in t)if(t.hasOwnProperty(a)){let c=t[a],d=c;Array.isArray(c)&&(d=c[1],c=c[0]),s[c]=a,r&&(r[c]=d)}return s}const ye=Le;function X(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function H(t){return t[ut]||null}function _e(t){return t[Xe]||null}function ke(t){return t[Tt]||null}function Ot(t){const r=H(t)||_e(t)||ke(t);return null!==r&&r.standalone}function jt(t,r){const s=t[pn]||null;if(!s&&!0===r)throw new Error(`Type ${wt(t)} does not have '\u0275mod' property.`);return s}function Tr(t){return Array.isArray(t)&&"object"==typeof t[1]}function jn(t){return Array.isArray(t)&&!0===t[1]}function Js(t){return 0!=(8&t.flags)}function dr(t){return 2==(2&t.flags)}function Ss(t){return 1==(1&t.flags)}function si(t){return null!==t.template}function Io(t){return 0!=(256&t[2])}function Eo(t,r){return t.hasOwnProperty(Q)?t[Q]:null}class as{constructor(r,s,a){this.previousValue=r,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function zi(){return qo}function qo(t){return t.type.prototype.ngOnChanges&&(t.setInput=us),Mi}function Mi(){const t=ru(this),r=t?.current;if(r){const s=t.previous;if(s===it)t.previous=r;else for(let a in r)s[a]=r[a];t.current=null,this.ngOnChanges(r)}}function us(t,r,s,a){const c=ru(t)||function xs(t,r){return t[js]=r}(t,{previous:it,current:null}),d=c.current||(c.current={}),m=c.previous,I=this.declaredInputs[s],b=m[I];d[I]=new as(b&&b.currentValue,r,m===it),t[a]=r}zi.ngInherit=!0;const js="__ngSimpleChanges__";function ru(t){return t[js]||null}function cn(t){for(;Array.isArray(t);)t=t[0];return t}function ds(t,r){return cn(r[t])}function Gr(t,r){return cn(r[t.index])}function _r(t,r){return t.data[r]}function Vr(t,r){const s=r[t];return Tr(s)?s:s[0]}function fs(t){return 64==(64&t[2])}function di(t,r){return null==r?null:t[r]}function Ii(t){t[18]=0}function To(t,r){t[5]+=r;let s=t,a=t[3];for(;null!==a&&(1===r&&1===s[5]||-1===r&&0===s[5]);)a[5]+=r,s=a,a=a[3]}const Et={lFrame:Ue(null),bindingsEnabled:!0};function Rs(){return Et.bindingsEnabled}function qe(){return Et.lFrame.lView}function Jt(){return Et.lFrame.tView}function Xi(t){return Et.lFrame.contextLView=t,t[8]}function Qo(t){return Et.lFrame.contextLView=null,t}function hr(){let t=wi();for(;null!==t&&64===t.type;)t=t.parent;return t}function wi(){return Et.lFrame.currentTNode}function Ni(t,r){const s=Et.lFrame;s.currentTNode=t,s.isParent=r}function ps(){return Et.lFrame.isParent}function pa(){Et.lFrame.isParent=!1}function fi(){return Et.lFrame.bindingIndex++}function ga(t,r){const s=Et.lFrame;s.bindingIndex=s.bindingRootIndex=t,Xo(r)}function Xo(t){Et.lFrame.currentDirectiveIndex=t}function T(){return Et.lFrame.currentQueryIndex}function P(t){Et.lFrame.currentQueryIndex=t}function S(t){const r=t[1];return 2===r.type?r.declTNode:1===r.type?t[6]:null}function U(t,r,s){if(s&lt.SkipSelf){let c=r,d=t;for(;!(c=c.parent,null!==c||s&lt.Host||(c=S(d),null===c||(d=d[15],10&c.type))););if(null===c)return!1;r=c,t=d}const a=Et.lFrame=Ne();return a.currentTNode=r,a.lView=t,!0}function ee(t){const r=Ne(),s=t[1];Et.lFrame=r,r.currentTNode=s.firstChild,r.lView=t,r.tView=s,r.contextLView=t,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function Ne(){const t=Et.lFrame,r=null===t?null:t.child;return null===r?Ue(t):r}function Ue(t){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=r),r}function _t(){const t=Et.lFrame;return Et.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Un=_t;function bn(){const t=_t();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Tn(){return Et.lFrame.selectedIndex}function Vn(t){Et.lFrame.selectedIndex=t}function sn(){const t=Et.lFrame;return _r(t.tView,t.selectedIndex)}function ms(){Et.lFrame.currentNamespace="svg"}function Xn(){!function zr(){Et.lFrame.currentNamespace=null}()}function ma(t,r){for(let s=r.directiveStart,a=r.directiveEnd;s<a;s++){const d=t.data[s].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:I,ngAfterViewInit:b,ngAfterViewChecked:N,ngOnDestroy:V}=d;m&&(t.contentHooks||(t.contentHooks=[])).push(-s,m),I&&((t.contentHooks||(t.contentHooks=[])).push(s,I),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(s,I)),b&&(t.viewHooks||(t.viewHooks=[])).push(-s,b),N&&((t.viewHooks||(t.viewHooks=[])).push(s,N),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(s,N)),null!=V&&(t.destroyHooks||(t.destroyHooks=[])).push(s,V)}}function nt(t,r,s){Ki(t,r,3,s)}function En(t,r,s,a){(3&t[2])===s&&Ki(t,r,s,a)}function ys(t,r){let s=t[2];(3&s)===r&&(s&=2047,s+=1,t[2]=s)}function Ki(t,r,s,a){const d=a??-1,m=r.length-1;let I=0;for(let b=void 0!==a?65535&t[18]:0;b<m;b++)if("number"==typeof r[b+1]){if(I=r[b],null!=a&&I>=a)break}else r[b]<0&&(t[18]+=65536),(I<d||-1==d)&&(Rt(t,s,r,b),t[18]=(4294901760&t[18])+b+2),b++}function Rt(t,r,s,a){const c=s[a]<0,d=s[a+1],I=t[c?-s[a]:s[a]];if(c){if(t[2]>>11<t[18]>>16&&(3&t[2])===r){t[2]+=2048;try{d.call(I)}finally{}}}else try{d.call(I)}finally{}}class ea{constructor(r,s,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function ya(t,r,s){let a=0;for(;a<s.length;){const c=s[a];if("number"==typeof c){if(0!==c)break;a++;const d=s[a++],m=s[a++],I=s[a++];t.setAttribute(r,m,I,d)}else{const d=c,m=s[++a];Fa(d)?t.setProperty(r,d,m):t.setAttribute(r,d,m),a++}}return a}function su(t){return 3===t||4===t||6===t}function Fa(t){return 64===t.charCodeAt(0)}function Ua(t,r){if(null!==r&&0!==r.length)if(null===t||0===t.length)t=r.slice();else{let s=-1;for(let a=0;a<r.length;a++){const c=r[a];"number"==typeof c?s=c:0===s||Cc(t,s,c,null,-1===s||2===s?r[++a]:null)}}return t}function Cc(t,r,s,a,c){let d=0,m=t.length;if(-1===r)m=-1;else for(;d<t.length;){const I=t[d++];if("number"==typeof I){if(I===r){m=-1;break}if(I>r){m=d-1;break}}}for(;d<t.length;){const I=t[d];if("number"==typeof I)break;if(I===s){if(null===a)return void(null!==c&&(t[d+1]=c));if(a===t[d+1])return void(t[d+2]=c)}d++,null!==a&&d++,null!==c&&d++}-1!==m&&(t.splice(m,0,r),d=m+1),t.splice(d++,0,s),null!==a&&t.splice(d++,0,a),null!==c&&t.splice(d++,0,c)}function va(t){return-1!==t}function Ro(t){return 32767&t}function Fi(t,r){let s=function rn(t){return t>>16}(t),a=r;for(;s>0;)a=a[15],s--;return a}let No=!0;function on(t){const r=No;return No=t,r}let ou=0;const Wn={};function vs(t,r){const s=Ei(t,r);if(-1!==s)return s;const a=r[1];a.firstCreatePass&&(t.injectorIndex=r.length,oo(a.data,t),oo(r,null),oo(a.blueprint,null));const c=Po(t,r),d=t.injectorIndex;if(va(c)){const m=Ro(c),I=Fi(c,r),b=I[1].data;for(let N=0;N<8;N++)r[d+N]=I[m+N]|b[m+N]}return r[d+8]=c,d}function oo(t,r){t.push(0,0,0,0,0,0,0,0,r)}function Ei(t,r){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===r[t.injectorIndex+8]?-1:t.injectorIndex}function Po(t,r){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let s=0,a=null,c=r;for(;null!==c;){if(a=Es(c),null===a)return-1;if(s++,c=c[15],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return-1}function Di(t,r,s){!function pt(t,r,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(Y)&&(a=s[Y]),null==a&&(a=s[Y]=ou++);const c=255&a;r.data[t+(c>>5)]|=1<<c}(t,r,s)}function ao(t,r,s){if(s&lt.Optional||void 0!==t)return t;te()}function Ps(t,r,s,a){if(s&lt.Optional&&void 0===a&&(a=null),0==(s&(lt.Self|lt.Host))){const c=t[9],d=nn(void 0);try{return c?c.get(r,a,s&lt.Optional):er(r,a,s&lt.Optional)}finally{nn(d)}}return ao(a,0,s)}function _a(t,r,s,a=lt.Default,c){if(null!==t){if(1024&r[2]){const m=function ws(t,r,s,a,c){let d=t,m=r;for(;null!==d&&null!==m&&1024&m[2]&&!(256&m[2]);){const I=ui(d,m,s,a|lt.Self,Wn);if(I!==Wn)return I;let b=d.parent;if(!b){const N=m[21];if(N){const V=N.get(s,Wn,a);if(V!==Wn)return V}b=Es(m),m=m[15]}d=b}return c}(t,r,s,a,Wn);if(m!==Wn)return m}const d=ui(t,r,s,a,Wn);if(d!==Wn)return d}return Ps(r,s,a,c)}function ui(t,r,s,a,c){const d=function _s(t){if("string"==typeof t)return t.charCodeAt(0)||0;const r=t.hasOwnProperty(Y)?t[Y]:void 0;return"number"==typeof r?r>=0?255&r:bi:r}(s);if("function"==typeof d){if(!U(r,t,a))return a&lt.Host?ao(c,0,a):Ps(r,s,a,c);try{const m=d(a);if(null!=m||a&lt.Optional)return m;te()}finally{Un()}}else if("number"==typeof d){let m=null,I=Ei(t,r),b=-1,N=a&lt.Host?r[16][6]:null;for((-1===I||a&lt.SkipSelf)&&(b=-1===I?Po(t,r):r[I+8],-1!==b&&Te(a,!1)?(m=r[1],I=Ro(b),r=Fi(b,r)):I=-1);-1!==I;){const V=r[1];if(Mr(d,I,V.data)){const G=au(I,r,s,m,a,N);if(G!==Wn)return G}b=r[I+8],-1!==b&&Te(a,r[1].data[I+8]===N)&&Mr(d,I,r)?(m=V,I=Ro(b),r=Fi(b,r)):I=-1}}return c}function au(t,r,s,a,c,d){const m=r[1],I=m.data[t+8],V=qs(I,m,s,null==a?dr(I)&&No:a!=m&&0!=(3&I.type),c&lt.Host&&d===I);return null!==V?ta(r,m,V,I):Wn}function qs(t,r,s,a,c){const d=t.providerIndexes,m=r.data,I=1048575&d,b=t.directiveStart,V=d>>20,ie=c?I+V:t.directiveEnd;for(let De=a?I:I+V;De<ie;De++){const Be=m[De];if(De<b&&s===Be||De>=b&&Be.type===s)return De}if(c){const De=m[b];if(De&&si(De)&&De.type===s)return b}return null}function ta(t,r,s,a){let c=t[s];const d=r.data;if(function gt(t){return t instanceof ea}(c)){const m=c;m.resolving&&function et(t,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${t}`:"";throw new Re(-200,`Circular dependency in DI detected for ${t}${s}`)}(function ge(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():je(t)}(d[s]));const I=on(m.canSeeViewProviders);m.resolving=!0;const b=m.injectImpl?nn(m.injectImpl):null;U(t,a,lt.Default);try{c=t[s]=m.factory(void 0,d,t,a),r.firstCreatePass&&s>=a.directiveStart&&function Jo(t,r,s){const{ngOnChanges:a,ngOnInit:c,ngDoCheck:d}=r.type.prototype;if(a){const m=qo(r);(s.preOrderHooks||(s.preOrderHooks=[])).push(t,m),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(t,m)}c&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-t,c),d&&((s.preOrderHooks||(s.preOrderHooks=[])).push(t,d),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(t,d))}(s,d[s],r)}finally{null!==b&&nn(b),on(I),m.resolving=!1,Un()}}return c}function Mr(t,r,s){return!!(s[r+(t>>5)]&1<<t)}function Te(t,r){return!(t&lt.Self||t&lt.Host&&r)}class Is{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,a){return _a(this._tNode,this._lView,r,a,s)}}function bi(){return new Is(hr(),qe())}function ko(t){return sr(()=>{const r=t.prototype.constructor,s=r[Q]||uo(r),a=Object.prototype;let c=Object.getPrototypeOf(t.prototype).constructor;for(;c&&c!==a;){const d=c[Q]||uo(c);if(d&&d!==s)return d;c=Object.getPrototypeOf(c)}return d=>new d})}function uo(t){return We(t)?()=>{const r=uo(dt(t));return r&&r()}:Eo(t)}function Es(t){const r=t[1],s=r.type;return 2===s?r.declTNode:1===s?t[6]:null}function Ds(t){return function Va(t,r){if("class"===r)return t.classes;if("style"===r)return t.styles;const s=t.attrs;if(s){const a=s.length;let c=0;for(;c<a;){const d=s[c];if(su(d))break;if(0===d)c+=2;else if("number"==typeof d)for(c++;c<a&&"string"==typeof s[c];)c++;else{if(d===r)return s[c+1];c+=2}}}return null}(hr(),t)}const co="__parameters__";function ra(t,r,s){return sr(()=>{const a=function Wr(t){return function(...s){if(t){const a=t(...s);for(const c in a)this[c]=a[c]}}}(r);function c(...d){if(this instanceof c)return a.apply(this,d),this;const m=new c(...d);return I.annotation=m,I;function I(b,N,V){const G=b.hasOwnProperty(co)?b[co]:Object.defineProperty(b,co,{value:[]})[co];for(;G.length<=V;)G.push(null);return(G[V]=G[V]||[]).push(m),b}}return s&&(c.prototype=Object.create(s.prototype)),c.prototype.ngMetadataName=t,c.annotationCls=c,c})}class en{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=Jn({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function qr(t,r){void 0===r&&(r=t);for(let s=0;s<t.length;s++){let a=t[s];Array.isArray(a)?(r===t&&(r=t.slice(0,s)),qr(a,r)):r!==t&&r.push(a)}return r}function Xr(t,r){t.forEach(s=>Array.isArray(s)?Xr(s,r):r(s))}function Da(t,r,s){r>=t.length?t.push(s):t.splice(r,0,s)}function ks(t,r){return r>=t.length-1?t.pop():t.splice(r,1)[0]}function g(t,r,s){let a=A(t,r);return a>=0?t[1|a]=s:(a=~a,function po(t,r,s,a){let c=t.length;if(c==r)t.push(s,a);else if(1===c)t.push(a,t[0]),t[0]=s;else{for(c--,t.push(t[c-1],t[c]);c>r;)t[c]=t[c-2],c--;t[r]=s,t[r+1]=a}}(t,a,r,s)),a}function D(t,r){const s=A(t,r);if(s>=0)return t[1|s]}function A(t,r){return function q(t,r,s){let a=0,c=t.length>>s;for(;c!==a;){const d=a+(c-a>>1),m=t[d<<s];if(r===m)return d<<s;m>r?c=d:a=d+1}return~(c<<s)}(t,r,1)}const Kr={},Cr="__NG_DI_FLAG__",mo="ngTempTokenPath",Ac=/\n/gm,$a="__source";let Cu;function Os(t){const r=Cu;return Cu=t,r}function Ju(t,r=lt.Default){if(void 0===Cu)throw new Re(-203,!1);return null===Cu?er(t,void 0,r):Cu.get(t,r&lt.Optional?null:void 0,r)}function Rr(t,r=lt.Default){return(function Bt(){return bt}()||Ju)(dt(t),r)}function C(t,r=lt.Default){return"number"!=typeof r&&(r=0|(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)),Rr(t,r)}function x(t){const r=[];for(let s=0;s<t.length;s++){const a=dt(t[s]);if(Array.isArray(a)){if(0===a.length)throw new Re(900,!1);let c,d=lt.Default;for(let m=0;m<a.length;m++){const I=a[m],b=W(I);"number"==typeof b?-1===b?c=I.token:d|=b:c=I}r.push(Rr(c,d))}else r.push(Rr(a))}return r}function O(t,r){return t[Cr]=r,t.prototype[Cr]=r,t}function W(t){return t[Cr]}const ft=O(ra("Optional"),8),ln=O(ra("SkipSelf"),4);let Mc;function Rc(t){Mc=t}class Id{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Ha(t){return t instanceof Id?t.changingThisBreaksApplicationSecurity:t}const Jr=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var Si=(()=>((Si=Si||{})[Si.NONE=0]="NONE",Si[Si.HTML=1]="HTML",Si[Si.STYLE=2]="STYLE",Si[Si.SCRIPT=3]="SCRIPT",Si[Si.URL=4]="URL",Si[Si.RESOURCE_URL=5]="RESOURCE_URL",Si))();function Ed(t){const r=function Ga(){const t=qe();return t&&t[12]}();return r?r.sanitize(Si.URL,t)||"":function Ca(t,r){const s=function Wh(t){return t instanceof Id&&t.getTypeName()||null}(t);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===r}(t,"URL")?Ha(t):function Kn(t){return(t=String(t)).match(Jr)?t:"unsafe:"+t}(je(t))}const Bo=new en("ENVIRONMENT_INITIALIZER"),Al=new en("INJECTOR",-1),xl=new en("INJECTOR_DEF_TYPES");class Pu{get(r,s=Kr){if(s===Kr){const a=new Error(`NullInjectorError: No provider for ${wt(r)}!`);throw a.name="NullInjectorError",a}return s}}function sf(...t){return{\u0275providers:Dd(0,t)}}function Dd(t,...r){const s=[],a=new Set;let c;return Xr(r,d=>{const m=d;Td(m,s,[],a)&&(c||(c=[]),c.push(m))}),void 0!==c&&bd(c,s),s}function bd(t,r){for(let s=0;s<t.length;s++){const{providers:c}=t[s];Xr(c,d=>{r.push(d)})}}function Td(t,r,s,a){if(!(t=dt(t)))return!1;let c=null,d=$r(t);const m=!d&&H(t);if(d||m){if(m&&!m.standalone)return!1;c=t}else{const b=t.ngModule;if(d=$r(b),!d)return!1;c=b}const I=a.has(c);if(m){if(I)return!1;if(a.add(c),m.dependencies){const b="function"==typeof m.dependencies?m.dependencies():m.dependencies;for(const N of b)Td(N,r,s,a)}}else{if(!d)return!1;{if(null!=d.imports&&!I){let N;a.add(c);try{Xr(d.imports,V=>{Td(V,r,s,a)&&(N||(N=[]),N.push(V))})}finally{}void 0!==N&&bd(N,r)}if(!I){const N=Eo(c)||(()=>new c);r.push({provide:c,useFactory:N,deps:Ce},{provide:xl,useValue:c,multi:!0},{provide:Bo,useValue:()=>Rr(c),multi:!0})}const b=d.providers;null==b||I||Xr(b,V=>{r.push(V)})}}return c!==t&&void 0!==t.providers}const sc=be({provide:String,useValue:be});function Uc(t){return null!==t&&"object"==typeof t&&sc in t}function za(t){return"function"==typeof t}const Ad=new en("Set Injector scope."),Vc={},Op={};let Ml;function Wa(){return void 0===Ml&&(Ml=new Pu),Ml}class $o{}class uf extends $o{constructor(r,s,a,c){super(),this.parent=s,this.source=a,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ze(r,m=>this.processProvider(m)),this.records.set(Al,f(void 0,this)),c.has("environment")&&this.records.set($o,f(void 0,this));const d=this.records.get(Ad);null!=d&&"string"==typeof d.value&&this.scopes.add(d.value),this.injectorDefTypes=new Set(this.get(xl.multi,Ce,lt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();for(const r of this._onDestroyHooks)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(r){this._onDestroyHooks.push(r)}runInContext(r){this.assertNotDestroyed();const s=Os(this),a=nn(void 0);try{return r()}finally{Os(s),nn(a)}}get(r,s=Kr,a=lt.Default){this.assertNotDestroyed();const c=Os(this),d=nn(void 0);try{if(!(a&lt.SkipSelf)){let I=this.records.get(r);if(void 0===I){const b=function $(t){return"function"==typeof t||"object"==typeof t&&t instanceof en}(r)&&nr(r);I=b&&this.injectableDefInScope(b)?f(xd(r),Vc):null,this.records.set(r,I)}if(null!=I)return this.hydrate(r,I)}return(a&lt.Self?Wa():this.parent).get(r,s=a&lt.Optional&&s===Kr?null:s)}catch(m){if("NullInjectorError"===m.name){if((m[mo]=m[mo]||[]).unshift(wt(r)),c)throw m;return function ce(t,r,s,a){const c=t[mo];throw r[$a]&&c.unshift(r[$a]),t.message=function xe(t,r,s,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let c=wt(r);if(Array.isArray(r))c=r.map(wt).join(" -> ");else if("object"==typeof r){let d=[];for(let m in r)if(r.hasOwnProperty(m)){let I=r[m];d.push(m+":"+("string"==typeof I?JSON.stringify(I):wt(I)))}c=`{${d.join(", ")}}`}return`${s}${a?"("+a+")":""}[${c}]: ${t.replace(Ac,"\n  ")}`}("\n"+t.message,c,s,a),t.ngTokenPath=c,t[mo]=null,t}(m,r,"R3InjectorError",this.source)}throw m}finally{nn(d),Os(c)}}resolveInjectorInitializers(){const r=Os(this),s=nn(void 0);try{const a=this.get(Bo.multi,Ce,lt.Self);for(const c of a)c()}finally{Os(r),nn(s)}}toString(){const r=[],s=this.records;for(const a of s.keys())r.push(wt(a));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Re(205,!1)}processProvider(r){let s=za(r=dt(r))?r:dt(r&&r.provide);const a=function _(t){return Uc(t)?f(void 0,t.useValue):f(h(t),Vc)}(r);if(za(r)||!0!==r.multi)this.records.get(s);else{let c=this.records.get(s);c||(c=f(void 0,Vc,!0),c.factory=()=>x(c.multi),this.records.set(s,c)),s=r,c.multi.push(r)}this.records.set(s,a)}hydrate(r,s){return s.value===Vc&&(s.value=Op,s.value=s.factory()),"object"==typeof s.value&&s.value&&function F(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=dt(r.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}}function xd(t){const r=nr(t),s=null!==r?r.factory:Eo(t);if(null!==s)return s;if(t instanceof en)throw new Re(204,!1);if(t instanceof Function)return function Lp(t){const r=t.length;if(r>0)throw function Ba(t,r){const s=[];for(let a=0;a<t;a++)s.push(r);return s}(r,"?"),new Re(204,!1);const s=function Yn(t){const r=t&&(t[ar]||t[Bn]);if(r){const s=function ei(t){if(t.hasOwnProperty("name"))return t.name;const r=(""+t).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),r}return null}(t);return null!==s?()=>s.factory(t):()=>new t}(t);throw new Re(204,!1)}function h(t,r,s){let a;if(za(t)){const c=dt(t);return Eo(c)||xd(c)}if(Uc(t))a=()=>dt(t.useValue);else if(function Cd(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...x(t.deps||[]));else if(function af(t){return!(!t||!t.useExisting)}(t))a=()=>Rr(dt(t.useExisting));else{const c=dt(t&&(t.useClass||t.provide));if(!function E(t){return!!t.deps}(t))return Eo(c)||xd(c);a=()=>new c(...x(t.deps))}return a}function f(t,r,s=!1){return{factory:t,value:r,multi:s?[]:void 0}}function Ee(t){return!!t.\u0275providers}function ze(t,r){for(const s of t)Array.isArray(s)?ze(s,r):Ee(s)?ze(s.\u0275providers,r):r(s)}class zt{}class qa{resolveComponentFactory(r){throw function kn(t){const r=Error(`No component factory found for ${wt(t)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=t,r}(r)}}let Ka=(()=>{class t{}return t.NULL=new qa,t})();function Md(){return Za(hr(),qe())}function Za(t,r){return new ku(Gr(t,r))}let ku=(()=>{class t{constructor(s){this.nativeElement=s}}return t.__NG_ELEMENT_ID__=Md,t})();function Rd(t){return t instanceof ku?t.nativeElement:t}class Rl{}let Pd=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function Nl(){const t=qe(),s=Vr(hr().index,t);return(Tr(s)?s:t)[11]}(),t})(),Pl=(()=>{class t{}return t.\u0275prov=Jn({token:t,providedIn:"root",factory:()=>null}),t})();class kd{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const oc=new kd("14.2.7"),Bc={};function Ld(t){return t.ngOriginalError}class Ll{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r);this._console.error("ERROR",r),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&Ld(r);for(;s&&Ld(s);)s=Ld(s);return s||null}}const hf=new Map;let wm=0;const ff="__ngContext__";function Cs(t,r){Tr(r)?(t[ff]=r[20],function lc(t){hf.set(t[20],t)}(r)):t[ff]=r}function _o(t){return t instanceof Function?t():t}var Ya=(()=>((Ya=Ya||{})[Ya.Important=1]="Important",Ya[Ya.DashCase=2]="DashCase",Ya))();function mf(t,r){return undefined(t,r)}function Wc(t){const r=t[3];return jn(r)?r[3]:r}function Vd(t){return Zp(t[13])}function Bd(t){return Zp(t[4])}function Zp(t){for(;null!==t&&!jn(t);)t=t[4];return t}function qc(t,r,s,a,c){if(null!=a){let d,m=!1;jn(a)?d=a:Tr(a)&&(m=!0,a=a[0]);const I=cn(a);0===t&&null!==s?null==c?Xp(r,s,I):Vu(r,s,I,c||null,!0):1===t&&null!==s?Vu(r,s,I,c||null,!0):2===t?function Df(t,r,s){const a=Kd(t,r);a&&function Jp(t,r,s,a){t.removeChild(r,s,a)}(t,a,r,s)}(r,I,m):3===t&&r.destroyNode(I),null!=d&&function ig(t,r,s,a,c){const d=s[7];d!==cn(s)&&qc(r,t,a,d,c);for(let I=10;I<s.length;I++){const b=s[I];gc(b[1],b,t,r,a,d)}}(r,t,d,s,c)}}function _f(t,r,s){return t.createElement(r,s)}function Qp(t,r){const s=t[9],a=s.indexOf(r),c=r[3];512&r[2]&&(r[2]&=-513,To(c,-1)),s.splice(a,1)}function Hd(t,r){if(t.length<=10)return;const s=10+r,a=t[s];if(a){const c=a[17];null!==c&&c!==t&&Qp(c,a),r>0&&(t[s-1][4]=a[4]);const d=ks(t,10+r);!function Sm(t,r){gc(t,r,r[11],2,null,null),r[0]=null,r[6]=null}(a[1],a);const m=d[19];null!==m&&m.detachView(d[1]),a[3]=null,a[4]=null,a[2]&=-65}return a}function Gd(t,r){if(!(128&r[2])){const s=r[11];s.destroyNode&&gc(t,r,s,3,null,null),function Yp(t){let r=t[13];if(!r)return Gl(t[1],t);for(;r;){let s=null;if(Tr(r))s=r[13];else{const a=r[10];a&&(s=a)}if(!s){for(;r&&!r[4]&&r!==t;)Tr(r)&&Gl(r[1],r),r=r[3];null===r&&(r=t),Tr(r)&&Gl(r[1],r),s=r&&r[4]}r=s}}(r)}}function Gl(t,r){if(!(128&r[2])){r[2]&=-65,r[2]|=128,function zd(t,r){let s;if(null!=t&&null!=(s=t.destroyHooks))for(let a=0;a<s.length;a+=2){const c=r[s[a]];if(!(c instanceof ea)){const d=s[a+1];if(Array.isArray(d))for(let m=0;m<d.length;m+=2){const I=c[d[m]],b=d[m+1];try{b.call(I)}finally{}}else try{d.call(c)}finally{}}}}(t,r),function zl(t,r){const s=t.cleanup,a=r[7];let c=-1;if(null!==s)for(let d=0;d<s.length-1;d+=2)if("string"==typeof s[d]){const m=s[d+1],I="function"==typeof m?m(r):cn(r[m]),b=a[c=s[d+2]],N=s[d+3];"boolean"==typeof N?I.removeEventListener(s[d],b,N):N>=0?a[c=N]():a[c=-N].unsubscribe(),d+=2}else{const m=a[c=s[d+1]];s[d].call(m)}if(null!==a){for(let d=c+1;d<a.length;d++)(0,a[d])();r[7]=null}}(t,r),1===r[1].type&&r[11].destroy();const s=r[17];if(null!==s&&jn(r[3])){s!==r[3]&&Qp(s,r);const a=r[19];null!==a&&a.detachView(t)}!function Hp(t){hf.delete(t[20])}(r)}}function Wd(t,r,s){return function qd(t,r,s){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return s[0];if(2&a.flags){const c=t.data[a.directiveStart].encapsulation;if(c===Ar.None||c===Ar.Emulated)return null}return Gr(a,s)}(t,r.parent,s)}function Vu(t,r,s,a,c){t.insertBefore(r,s,a,c)}function Xp(t,r,s){t.appendChild(r,s)}function If(t,r,s,a,c){null!==a?Vu(t,r,s,a,c):Xp(t,r,s)}function Kd(t,r){return t.parentNode(r)}let rg=function wf(t,r,s){return 40&t.type?Gr(t,s):null};function Kc(t,r,s,a){const c=Wd(t,a,r),d=r[11],I=function ng(t,r,s){return rg(t,r,s)}(a.parent||r[6],a,r);if(null!=c)if(Array.isArray(s))for(let b=0;b<s.length;b++)If(d,c,s[b],I,!1);else If(d,c,s,I,!1)}function pc(t,r){if(null!==r){const s=r.type;if(3&s)return Gr(r,t);if(4&s)return Zd(-1,t[r.index]);if(8&s){const a=r.child;if(null!==a)return pc(t,a);{const c=t[r.index];return jn(c)?Zd(-1,c):cn(c)}}if(32&s)return mf(r,t)()||cn(t[r.index]);{const a=Ef(t,r);return null!==a?Array.isArray(a)?a[0]:pc(Wc(t[16]),a):pc(t,r.next)}}return null}function Ef(t,r){return null!==r?t[16][6].projection[r.projection]:null}function Zd(t,r){const s=10+t+1;if(s<r.length){const a=r[s],c=a[1].firstChild;if(null!==c)return pc(a,c)}return r[7]}function bf(t,r,s,a,c,d,m){for(;null!=s;){const I=a[s.index],b=s.type;if(m&&0===r&&(I&&Cs(cn(I),a),s.flags|=4),64!=(64&s.flags))if(8&b)bf(t,r,s.child,a,c,d,!1),qc(r,t,c,I,d);else if(32&b){const N=mf(s,a);let V;for(;V=N();)qc(r,t,c,V,d);qc(r,t,c,I,d)}else 16&b?Yd(t,r,a,s,c,d):qc(r,t,c,I,d);s=m?s.projectionNext:s.next}}function gc(t,r,s,a,c,d){bf(s,a,t.firstChild,r,c,d,!1)}function Yd(t,r,s,a,c,d){const m=s[16],b=m[6].projection[a.projection];if(Array.isArray(b))for(let N=0;N<b.length;N++)qc(r,t,c,b[N],d);else bf(t,r,b,m[3],c,d,!0)}function Qd(t,r,s){t.setAttribute(r,"style",s)}function Zc(t,r,s){""===s?t.removeAttribute(r,"class"):t.setAttribute(r,"class",s)}function Yc(t,r,s){let a=t.length;for(;;){const c=t.indexOf(r,s);if(-1===c)return c;if(0===c||t.charCodeAt(c-1)<=32){const d=r.length;if(c+d===a||t.charCodeAt(c+d)<=32)return c}s=c+1}}const Xd="ng-template";function Cf(t,r,s){let a=0;for(;a<t.length;){let c=t[a++];if(s&&"class"===c){if(c=t[a],-1!==Yc(c.toLowerCase(),r,0))return!0}else if(1===c){for(;a<t.length&&"string"==typeof(c=t[a++]);)if(c.toLowerCase()===r)return!0;return!1}}return!1}function Jd(t){return 4===t.type&&t.value!==Xd}function og(t,r,s){return r===(4!==t.type||s?t.value:Xd)}function Nm(t,r,s){let a=4;const c=t.attrs||[],d=function ug(t){for(let r=0;r<t.length;r++)if(su(t[r]))return r;return t.length}(c);let m=!1;for(let I=0;I<r.length;I++){const b=r[I];if("number"!=typeof b){if(!m)if(4&a){if(a=2|1&a,""!==b&&!og(t,b,s)||""===b&&1===r.length){if(ca(a))return!1;m=!0}}else{const N=8&a?b:r[++I];if(8&a&&null!==t.attrs){if(!Cf(t.attrs,N,s)){if(ca(a))return!1;m=!0}continue}const G=Pm(8&a?"class":b,c,Jd(t),s);if(-1===G){if(ca(a))return!1;m=!0;continue}if(""!==N){let ie;ie=G>d?"":c[G+1].toLowerCase();const De=8&a?ie:null;if(De&&-1!==Yc(De,N,0)||2&a&&N!==ie){if(ca(a))return!1;m=!0}}}}else{if(!m&&!ca(a)&&!ca(b))return!1;if(m&&ca(b))continue;m=!1,a=b|1&a}}return ca(a)||m}function ca(t){return 0==(1&t)}function Pm(t,r,s,a){if(null===r)return-1;let c=0;if(a||!s){let d=!1;for(;c<r.length;){const m=r[c];if(m===t)return c;if(3===m||6===m)d=!0;else{if(1===m||2===m){let I=r[++c];for(;"string"==typeof I;)I=r[++c];continue}if(4===m)break;if(0===m){c+=4;continue}}c+=d?1:2}return-1}return function eh(t,r){let s=t.indexOf(4);if(s>-1)for(s++;s<t.length;){const a=t[s];if("number"==typeof a)return-1;if(a===r)return s;s++}return-1}(r,t)}function ag(t,r,s=!1){for(let a=0;a<r.length;a++)if(Nm(t,r[a],s))return!0;return!1}function th(t,r){return t?":not("+r.trim()+")":r}function cg(t){let r=t[0],s=1,a=2,c="",d=!1;for(;s<t.length;){let m=t[s];if("string"==typeof m)if(2&a){const I=t[++s];c+="["+m+(I.length>0?'="'+I+'"':"")+"]"}else 8&a?c+="."+m:4&a&&(c+=" "+m);else""!==c&&!ca(m)&&(r+=th(d,c),c=""),a=m,d=d||!ca(a);s++}return""!==c&&(r+=th(d,c)),r}const Sn={};function lg(t){nh(Jt(),qe(),Tn()+t,!1)}function nh(t,r,s,a){if(!a)if(3==(3&r[2])){const d=t.preOrderCheckHooks;null!==d&&nt(r,d,s)}else{const d=t.preOrderHooks;null!==d&&En(r,d,0,s)}Vn(s)}function Sf(t,r=null,s=null,a){const c=oh(t,r,s,a);return c.resolveInjectorInitializers(),c}function oh(t,r=null,s=null,a,c=new Set){const d=[s||Ce,sf(t)];return a=a||("object"==typeof t?void 0:wt(t)),new uf(d,r||Wa(),a||null,c)}let pu=(()=>{class t{static create(s,a){if(Array.isArray(s))return Sf({name:""},a,s,"");{const c=s.name??"";return Sf({name:c},s.parent,s.providers,c)}}}return t.THROW_IF_NOT_FOUND=Kr,t.NULL=new Pu,t.\u0275prov=Jn({token:t,providedIn:"any",factory:()=>Rr(Al)}),t.__NG_ELEMENT_ID__=-1,t})();function $u(t,r=lt.Default){const s=qe();return null===s?Rr(t,r):_a(hr(),s,dt(t),r)}function yc(){throw new Error("invalid")}function Xl(t,r){return t<<17|r<<2}function Fs(t){return t>>17&32767}function Jl(t){return 2|t}function Na(t){return(131068&t)>>2}function ed(t,r){return-131069&t|r<<2}function Lf(t){return 1|t}function Mg(t,r){const s=t.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const c=s[a],d=s[a+1];if(-1!==d){const m=t.data[d];P(c),m.contentQueries(2,r[d],d)}}}function Ih(t,r,s,a,c,d,m,I,b,N,V){const G=r.blueprint.slice();return G[0]=c,G[2]=76|a,(null!==V||t&&1024&t[2])&&(G[2]|=1024),Ii(G),G[3]=G[15]=t,G[8]=s,G[10]=m||t&&t[10],G[11]=I||t&&t[11],G[12]=b||t&&t[12]||null,G[9]=N||t&&t[9]||null,G[6]=d,G[20]=function Fl(){return wm++}(),G[21]=V,G[16]=2==r.type?t[16]:G,G}function ju(t,r,s,a,c){let d=t.data[r];if(null===d)d=function Gf(t,r,s,a,c){const d=wi(),m=ps(),b=t.data[r]=function Jm(t,r,s,a,c,d){return{type:s,index:a,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?d:d&&d.parent,s,r,a,c);return null===t.firstChild&&(t.firstChild=b),null!==d&&(m?null==d.child&&null!==b.parent&&(d.child=b):null===d.next&&(d.next=b)),b}(t,r,s,a,c),function Ao(){return Et.lFrame.inI18n}()&&(d.flags|=64);else if(64&d.type){d.type=s,d.value=a,d.attrs=c;const m=function Qr(){const t=Et.lFrame,r=t.currentTNode;return t.isParent?r:r.parent}();d.injectorIndex=null===m?-1:m.injectorIndex}return Ni(d,!0),d}function Hu(t,r,s,a){if(0===s)return-1;const c=r.length;for(let d=0;d<s;d++)r.push(a),t.blueprint.push(a),t.data.push(null);return c}function zf(t,r,s){ee(r);try{const a=t.viewQuery;null!==a&&sd(1,a,s);const c=t.template;null!==c&&Wf(t,r,c,1,s),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Mg(t,r),t.staticViewQueries&&sd(2,t.viewQuery,s);const d=t.components;null!==d&&function Hf(t,r){for(let s=0;s<r.length;s++)cy(t,r[s])}(r,d)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{r[2]&=-5,bn()}}function Jc(t,r,s,a){const c=r[2];if(128!=(128&c)){ee(r);try{Ii(r),function gs(t){return Et.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==s&&Wf(t,r,s,2,a);const m=3==(3&c);if(m){const N=t.preOrderCheckHooks;null!==N&&nt(r,N,null)}else{const N=t.preOrderHooks;null!==N&&En(r,N,0,null),ys(r,0)}if(function ay(t){for(let r=Vd(t);null!==r;r=Bd(r)){if(!r[2])continue;const s=r[9];for(let a=0;a<s.length;a++){const c=s[a],d=c[3];0==(512&c[2])&&To(d,1),c[2]|=512}}}(r),function oy(t){for(let r=Vd(t);null!==r;r=Bd(r))for(let s=10;s<r.length;s++){const a=r[s],c=a[1];fs(a)&&Jc(c,a,c.template,a[8])}}(r),null!==t.contentQueries&&Mg(t,r),m){const N=t.contentCheckHooks;null!==N&&nt(r,N)}else{const N=t.contentHooks;null!==N&&En(r,N,1),ys(r,1)}!function jf(t,r){const s=t.hostBindingOpCodes;if(null!==s)try{for(let a=0;a<s.length;a++){const c=s[a];if(c<0)Vn(~c);else{const d=c,m=s[++a],I=s[++a];ga(m,d),I(2,r[d])}}}finally{Vn(-1)}}(t,r);const I=t.components;null!==I&&function Qm(t,r){for(let s=0;s<r.length;s++)uy(t,r[s])}(r,I);const b=t.viewQuery;if(null!==b&&sd(2,b,a),m){const N=t.viewCheckHooks;null!==N&&nt(r,N)}else{const N=t.viewHooks;null!==N&&En(r,N,2),ys(r,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),r[2]&=-41,512&r[2]&&(r[2]&=-513,To(r[3],-1))}finally{bn()}}}function Wf(t,r,s,a,c){const d=Tn(),m=2&a;try{Vn(-1),m&&r.length>22&&nh(t,r,22,!1),s(a,c)}finally{Vn(d)}}function wh(t,r,s){if(Js(r)){const c=r.directiveEnd;for(let d=r.directiveStart;d<c;d++){const m=t.data[d];m.contentQueries&&m.contentQueries(1,s[d],d)}}}function Eh(t,r,s){!Rs()||(function Fg(t,r,s,a){const c=s.directiveStart,d=s.directiveEnd;t.firstCreatePass||vs(s,r),Cs(a,r);const m=s.initialInputs;for(let I=c;I<d;I++){const b=t.data[I],N=si(b);N&&Bg(r,s,b);const V=ta(r,t,I,s);Cs(V,r),null!==m&&$g(0,I-c,V,b,0,m),N&&(Vr(s.index,r)[8]=V)}}(t,r,s,Gr(s,r)),128==(128&s.flags)&&function Ug(t,r,s){const a=s.directiveStart,c=s.directiveEnd,d=s.index,m=function Ns(){return Et.lFrame.currentDirectiveIndex}();try{Vn(d);for(let I=a;I<c;I++){const b=t.data[I],N=r[I];Xo(I),(null!==b.hostBindings||0!==b.hostVars||null!==b.hostAttrs)&&tl(b,N)}}finally{Vn(-1),Xo(m)}}(t,r,s))}function qf(t,r,s=Gr){const a=r.localNames;if(null!==a){let c=r.index+1;for(let d=0;d<a.length;d+=2){const m=a[d+1],I=-1===m?s(r,t):t[m];t[c++]=I}}}function Rg(t){const r=t.tView;return null===r||r.incompleteFirstPass?t.tView=id(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):r}function id(t,r,s,a,c,d,m,I,b,N){const V=22+a,G=V+c,ie=function Xm(t,r){const s=[];for(let a=0;a<r;a++)s.push(a<t?null:Sn);return s}(V,G),De="function"==typeof N?N():N;return ie[1]={type:t,blueprint:ie,template:s,queries:null,viewQuery:I,declTNode:r,data:ie.slice().fill(null,V),bindingStartIndex:V,expandoStartIndex:G,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:b,consts:De,incompleteFirstPass:!1}}function Dh(t,r,s,a){const c=Ah(r);null===s?c.push(a):(c.push(s),t.firstCreatePass&&Qf(t).push(a,c.length-1))}function Pg(t,r,s){for(let a in t)if(t.hasOwnProperty(a)){const c=t[a];(s=null===s?{}:s).hasOwnProperty(a)?s[a].push(r,c):s[a]=[r,c]}return s}function kg(t,r){const a=r.directiveEnd,c=t.data,d=r.attrs,m=[];let I=null,b=null;for(let N=r.directiveStart;N<a;N++){const V=c[N],G=V.inputs,ie=null===d||Jd(r)?null:Ch(G,d);m.push(ie),I=Pg(G,N,I),b=Pg(V.outputs,N,b)}null!==I&&(I.hasOwnProperty("class")&&(r.flags|=16),I.hasOwnProperty("style")&&(r.flags|=32)),r.initialInputs=m,r.inputs=I,r.outputs=b}function bh(t,r){const s=Vr(r,t);16&s[2]||(s[2]|=32)}function el(t,r,s,a){let c=!1;if(Rs()){const d=function ry(t,r,s){const a=t.directiveRegistry;let c=null;if(a)for(let d=0;d<a.length;d++){const m=a[d];ag(s,m.selectors,!1)&&(c||(c=[]),Di(vs(s,r),t,m.type),si(m)?(mi(t,s),c.unshift(m)):c.push(m))}return c}(t,r,s),m=null===a?null:{"":-1};if(null!==d){c=!0,Vg(s,t.data.length,d.length);for(let V=0;V<d.length;V++){const G=d[V];G.providersResolver&&G.providersResolver(G)}let I=!1,b=!1,N=Hu(t,r,d.length,null);for(let V=0;V<d.length;V++){const G=d[V];s.mergedAttrs=Ua(s.mergedAttrs,G.hostAttrs),iy(t,s,r,N,G),Xa(N,G,m),null!==G.contentQueries&&(s.flags|=8),(null!==G.hostBindings||null!==G.hostAttrs||0!==G.hostVars)&&(s.flags|=128);const ie=G.type.prototype;!I&&(ie.ngOnChanges||ie.ngOnInit||ie.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(s.index),I=!0),!b&&(ie.ngOnChanges||ie.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(s.index),b=!0),N++}kg(t,s)}m&&function Vs(t,r,s){if(r){const a=t.localNames=[];for(let c=0;c<r.length;c+=2){const d=s[r[c+1]];if(null==d)throw new Re(-301,!1);a.push(r[c],d)}}}(s,a,m)}return s.mergedAttrs=Ua(s.mergedAttrs,s.attrs),c}function tr(t,r,s,a,c,d){const m=d.hostBindings;if(m){let I=t.hostBindingOpCodes;null===I&&(I=t.hostBindingOpCodes=[]);const b=~r.index;(function Lg(t){let r=t.length;for(;r>0;){const s=t[--r];if("number"==typeof s&&s<0)return s}return 0})(I)!=b&&I.push(b),I.push(a,c,m)}}function tl(t,r){null!==t.hostBindings&&t.hostBindings(1,r)}function mi(t,r){r.flags|=2,(t.components||(t.components=[])).push(r.index)}function Xa(t,r,s){if(s){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)s[r.exportAs[a]]=t;si(r)&&(s[""]=t)}}function Vg(t,r,s){t.flags|=1,t.directiveStart=r,t.directiveEnd=r+s,t.providerIndexes=r}function iy(t,r,s,a,c){t.data[a]=c;const d=c.factory||(c.factory=Eo(c.type)),m=new ea(d,si(c),$u);t.blueprint[a]=m,s[a]=m,tr(t,r,0,a,Hu(t,s,c.hostVars,Sn),c)}function Bg(t,r,s){const a=Gr(r,t),c=Rg(s),d=t[10],m=nl(t,Ih(t,c,null,s.onPush?32:16,a,r,d,d.createRenderer(a,s),null,null,null));t[r.index]=m}function mu(t,r,s,a,c,d){const m=Gr(t,r);!function Th(t,r,s,a,c,d,m){if(null==d)t.removeAttribute(r,c,s);else{const I=null==m?je(d):m(d,a||"",c);t.setAttribute(r,c,I,s)}}(r[11],m,d,t.value,s,a,c)}function $g(t,r,s,a,c,d){const m=d[r];if(null!==m){const I=a.setInput;for(let b=0;b<m.length;){const N=m[b++],V=m[b++],G=m[b++];null!==I?a.setInput(s,G,N,V):s[V]=G}}}function Ch(t,r){let s=null,a=0;for(;a<r.length;){const c=r[a];if(0!==c)if(5!==c){if("number"==typeof c)break;t.hasOwnProperty(c)&&(null===s&&(s=[]),s.push(c,t[c],r[a+1])),a+=2}else a+=2;else a+=4}return s}function sy(t,r,s,a){return new Array(t,!0,!1,r,null,0,a,s,null,null)}function uy(t,r){const s=Vr(r,t);if(fs(s)){const a=s[1];48&s[2]?Jc(a,s,a.template,s[8]):s[5]>0&&Zf(s)}}function Zf(t){for(let a=Vd(t);null!==a;a=Bd(a))for(let c=10;c<a.length;c++){const d=a[c];if(fs(d))if(512&d[2]){const m=d[1];Jc(m,d,m.template,d[8])}else d[5]>0&&Zf(d)}const s=t[1].components;if(null!==s)for(let a=0;a<s.length;a++){const c=Vr(s[a],t);fs(c)&&c[5]>0&&Zf(c)}}function cy(t,r){const s=Vr(r,t),a=s[1];(function jg(t,r){for(let s=r.length;s<t.blueprint.length;s++)r.push(t.blueprint[s])})(a,s),zf(a,s,s[8])}function nl(t,r){return t[13]?t[14][4]=r:t[13]=r,t[14]=r,r}function Sh(t){for(;t;){t[2]|=32;const r=Wc(t);if(Io(t)&&!r)return t;t=r}return null}function rl(t,r,s,a=!0){const c=r[10];c.begin&&c.begin();try{Jc(t,r,t.template,s)}catch(m){throw a&&xh(r,m),m}finally{c.end&&c.end()}}function sd(t,r,s){P(0),r(t,s)}function Ah(t){return t[7]||(t[7]=[])}function Qf(t){return t.cleanup||(t.cleanup=[])}function xh(t,r){const s=t[9],a=s?s.get(Ll,null):null;a&&a.handleError(r)}function ad(t,r,s,a,c){for(let d=0;d<s.length;){const m=s[d++],I=s[d++],b=r[m],N=t.data[m];null!==N.setInput?N.setInput(b,c,a,I):b[I]=c}}function yu(t,r,s){let a=s?t.styles:null,c=s?t.classes:null,d=0;if(null!==r)for(let m=0;m<r.length;m++){const I=r[m];"number"==typeof I?d=I:1==d?c=Lt(c,I):2==d&&(a=Lt(a,I+": "+r[++m]+";"))}s?t.styles=a:t.stylesWithoutHost=a,s?t.classes=c:t.classesWithoutHost=c}function il(t,r,s,a,c=!1){for(;null!==s;){const d=r[s.index];if(null!==d&&a.push(cn(d)),jn(d))for(let I=10;I<d.length;I++){const b=d[I],N=b[1].firstChild;null!==N&&il(b[1],b,N,a)}const m=s.type;if(8&m)il(t,r,s.child,a);else if(32&m){const I=mf(s,r);let b;for(;b=I();)a.push(b)}else if(16&m){const I=Ef(r,s);if(Array.isArray(I))a.push(...I);else{const b=Wc(r[16]);il(b[1],b,I,a,!0)}}s=c?s.projectionNext:s.next}return a}class ud{constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const r=this._lView,s=r[1];return il(s,r,s.firstChild,[])}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if(jn(r)){const s=r[8],a=s?s.indexOf(this):-1;a>-1&&(Hd(r,a),ks(s,a))}this._attachedToViewContainer=!1}Gd(this._lView[1],this._lView)}onDestroy(r){Dh(this._lView[1],this._lView,null,r)}markForCheck(){Sh(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){rl(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Re(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function xm(t,r){gc(t,r,r[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new Re(902,!1);this._appRef=r}}class ly extends ud{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;rl(r[1],r,r[8],!1)}checkNoChanges(){}get context(){return null}}class Xf extends Ka{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=H(r);return new cd(s,this.ngModule)}}function Jf(t){const r=[];for(let s in t)t.hasOwnProperty(s)&&r.push({propName:t[s],templateName:s});return r}class Gg{constructor(r,s){this.injector=r,this.parentInjector=s}get(r,s,a){const c=this.injector.get(r,Bc,a);return c!==Bc||s===Bc?c:this.parentInjector.get(r,s,a)}}class cd extends zt{constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function Om(t){return t.map(cg).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return Jf(this.componentDef.inputs)}get outputs(){return Jf(this.componentDef.outputs)}create(r,s,a,c){let d=(c=c||this.ngModule)instanceof $o?c:c?.injector;d&&null!==this.componentDef.getStandaloneInjector&&(d=this.componentDef.getStandaloneInjector(d)||d);const m=d?new Gg(r,d):r,I=m.get(Rl,null);if(null===I)throw new Re(407,!1);const b=m.get(Pl,null),N=I.createRenderer(null,this.componentDef),V=this.componentDef.selectors[0][0]||"div",G=a?function Kf(t,r,s){return t.selectRootElement(r,s===Ar.ShadowDom)}(N,a,this.componentDef.encapsulation):_f(I.createRenderer(null,this.componentDef),V,function dy(t){const r=t.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(V)),ie=this.componentDef.onPush?288:272,De=id(0,null,null,1,0,null,null,null,null,null),Be=Ih(null,De,null,ie,null,null,I,N,b,m,null);let at,It;ee(Be);try{const Pt=function py(t,r,s,a,c,d){const m=s[1];s[22]=t;const b=ju(m,22,2,"#host",null),N=b.mergedAttrs=r.hostAttrs;null!==N&&(yu(b,N,!0),null!==t&&(ya(c,t,N),null!==b.classes&&Zc(c,t,b.classes),null!==b.styles&&Qd(c,t,b.styles)));const V=a.createRenderer(t,r),G=Ih(s,Rg(r),null,r.onPush?32:16,s[22],b,a,V,d||null,null,null);return m.firstCreatePass&&(Di(vs(b,s),m,r.type),mi(m,b),Vg(b,s.length,1)),nl(s,G),s[22]=G}(G,this.componentDef,Be,I,N);if(G)if(a)ya(N,G,["ng-version",oc.full]);else{const{attrs:Qt,classes:rt}=function Lm(t){const r=[],s=[];let a=1,c=2;for(;a<t.length;){let d=t[a];if("string"==typeof d)2===c?""!==d&&r.push(d,t[++a]):8===c&&s.push(d);else{if(!ca(c))break;c=d}a++}return{attrs:r,classes:s}}(this.componentDef.selectors[0]);Qt&&ya(N,G,Qt),rt&&rt.length>0&&Zc(N,G,rt.join(" "))}if(It=_r(De,22),void 0!==s){const Qt=It.projection=[];for(let rt=0;rt<this.ngContentSelectors.length;rt++){const vn=s[rt];Qt.push(null!=vn?Array.from(vn):null)}}at=function Fv(t,r,s,a){const c=s[1],d=function Og(t,r,s){const a=hr();t.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),iy(t,a,r,Hu(t,r,1,null),s),kg(t,a));const c=ta(r,t,a.directiveStart,a);Cs(c,r);const d=Gr(a,r);return d&&Cs(d,r),c}(c,s,r);if(t[8]=s[8]=d,null!==a)for(const I of a)I(d,r);if(r.contentQueries){const I=hr();r.contentQueries(1,d,I.directiveStart)}const m=hr();return!c.firstCreatePass||null===r.hostBindings&&null===r.hostAttrs||(Vn(m.index),tr(s[1],m,0,m.directiveStart,m.directiveEnd,r),tl(r,d)),d}(Pt,this.componentDef,Be,[Yr]),zf(De,Be,null)}finally{bn()}return new fy(this.componentType,at,Za(It,Be),Be,It)}}class fy extends class xt{}{constructor(r,s,a,c,d){super(),this.location=a,this._rootLView=c,this._tNode=d,this.instance=s,this.hostView=this.changeDetectorRef=new ly(c),this.componentType=r}setInput(r,s){const a=this._tNode.inputs;let c;if(null!==a&&(c=a[r])){const d=this._rootLView;ad(d[1],d,c,r,s),bh(d,this._tNode.index)}}get injector(){return new Is(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function Yr(){const t=hr();ma(qe()[1],t)}function ep(t){let r=function gy(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),s=!0;const a=[t];for(;r;){let c;if(si(t))c=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new Re(903,!1);c=r.\u0275dir}if(c){if(s){a.push(c);const m=t;m.inputs=Mh(t.inputs),m.declaredInputs=Mh(t.declaredInputs),m.outputs=Mh(t.outputs);const I=c.hostBindings;I&&Wg(t,I);const b=c.viewQuery,N=c.contentQueries;if(b&&Uv(t,b),N&&Vv(t,N),ht(t.inputs,c.inputs),ht(t.declaredInputs,c.declaredInputs),ht(t.outputs,c.outputs),si(c)&&c.data.animation){const V=t.data;V.animation=(V.animation||[]).concat(c.data.animation)}}const d=c.features;if(d)for(let m=0;m<d.length;m++){const I=d[m];I&&I.ngInherit&&I(t),I===ep&&(s=!1)}}r=Object.getPrototypeOf(r)}!function Bi(t){let r=0,s=null;for(let a=t.length-1;a>=0;a--){const c=t[a];c.hostVars=r+=c.hostVars,c.hostAttrs=Ua(c.hostAttrs,s=Ua(s,c.hostAttrs))}}(a)}function Mh(t){return t===it?{}:t===Ce?[]:t}function Uv(t,r){const s=t.viewQuery;t.viewQuery=s?(a,c)=>{r(a,c),s(a,c)}:r}function Vv(t,r){const s=t.contentQueries;t.contentQueries=s?(a,c,d)=>{r(a,c,d),s(a,c,d)}:r}function Wg(t,r){const s=t.hostBindings;t.hostBindings=s?(a,c)=>{r(a,c),s(a,c)}:r}let tp=null;function sl(){if(!tp){const t=Ft.Symbol;if(t&&t.iterator)tp=t.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<r.length;++s){const a=r[s];"entries"!==a&&"size"!==a&&Map.prototype[a]===Map.prototype.entries&&(tp=a)}}}return tp}function Rh(t){return!!Gu(t)&&(Array.isArray(t)||!(t instanceof Map)&&sl()in t)}function Gu(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Bs(t,r,s){return!Object.is(t[r],s)&&(t[r]=s,!0)}function ol(t,r,s,a){const c=qe();return Bs(c,fi(),r)&&(Jt(),mu(sn(),c,t,r,s,a)),ol}function ap(t,r,s,a,c,d,m,I){const b=qe(),N=Jt(),V=t+22,G=N.firstCreatePass?function Oh(t,r,s,a,c,d,m,I,b){const N=r.consts,V=ju(r,t,4,m||null,di(N,I));el(r,s,V,di(N,b)),ma(r,V);const G=V.tViews=id(2,V,a,c,d,r.directiveRegistry,r.pipeRegistry,null,r.schemas,N);return null!==r.queries&&(r.queries.template(r,V),G.queries=r.queries.embeddedTView(V)),V}(V,N,b,r,s,a,c,d,m):N.data[V];Ni(G,!1);const ie=b[11].createComment("");Kc(N,b,ie,G),Cs(ie,b),nl(b,b[V]=sy(ie,b,ie,G)),Ss(G)&&Eh(N,b,G),null!=m&&qf(b,G,I)}function dl(t,r,s){const a=qe();return Bs(a,fi(),r)&&function Qs(t,r,s,a,c,d,m,I){const b=Gr(r,s);let V,N=r.inputs;!I&&null!=N&&(V=N[a])?(ad(t,s,V,a,c),dr(r)&&bh(s,r.index)):3&r.type&&(a=function ey(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),c=null!=m?m(c,r.value||"",a):c,d.setProperty(b,a,c))}(Jt(),sn(),a,t,r,a[11],s,!1),dl}function Lh(t,r,s,a,c){const m=c?"class":"style";ad(t,s,r.inputs[m],m,a)}function cp(t,r,s,a){const c=qe(),d=Jt(),m=22+t,I=c[11],b=c[m]=_f(I,r,function qi(){return Et.lFrame.currentNamespace}()),N=d.firstCreatePass?function Gv(t,r,s,a,c,d,m){const I=r.consts,N=ju(r,t,2,c,di(I,d));return el(r,s,N,di(I,m)),null!==N.attrs&&yu(N,N.attrs,!1),null!==N.mergedAttrs&&yu(N,N.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,N),N}(m,d,c,0,r,s,a):d.data[m];Ni(N,!0);const V=N.mergedAttrs;null!==V&&ya(I,b,V);const G=N.classes;null!==G&&Zc(I,b,G);const ie=N.styles;return null!==ie&&Qd(I,b,ie),64!=(64&N.flags)&&Kc(d,c,b,N),0===function fa(){return Et.lFrame.elementDepthCount}()&&Cs(b,c),function Co(){Et.lFrame.elementDepthCount++}(),Ss(N)&&(Eh(d,c,N),wh(d,N,c)),null!==a&&qf(c,N),cp}function Fh(){let t=hr();ps()?pa():(t=t.parent,Ni(t,!1));const r=t;!function Yo(){Et.lFrame.elementDepthCount--}();const s=Jt();return s.firstCreatePass&&(ma(s,t),Js(t)&&s.queries.elementEnd(t)),null!=r.classesWithoutHost&&function bu(t){return 0!=(16&t.flags)}(r)&&Lh(s,r,qe(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function La(t){return 0!=(32&t.flags)}(r)&&Lh(s,r,qe(),r.stylesWithoutHost,!1),Fh}function Zg(t,r,s,a){return cp(t,r,s,a),Fh(),Zg}function lp(t,r,s){const a=qe(),c=Jt(),d=t+22,m=c.firstCreatePass?function yy(t,r,s,a,c){const d=r.consts,m=di(d,a),I=ju(r,t,8,"ng-container",m);return null!==m&&yu(I,m,!0),el(r,s,I,di(d,c)),null!==r.queries&&r.queries.elementStart(r,I),I}(d,c,a,r,s):c.data[d];Ni(m,!0);const I=a[d]=a[11].createComment("");return Kc(c,a,I,m),Cs(I,a),Ss(m)&&(Eh(c,a,m),wh(c,m,a)),null!=s&&qf(a,m),lp}function dd(){let t=hr();const r=Jt();return ps()?pa():(t=t.parent,Ni(t,!1)),r.firstCreatePass&&(ma(r,t),Js(t)&&r.queries.elementEnd(t)),dd}function _y(){return qe()}function Uh(t){return!!t&&"function"==typeof t.then}function Iy(t){return!!t&&"function"==typeof t.subscribe}const wy=Iy;function Vh(t,r,s,a){const c=qe(),d=Jt(),m=hr();return function dp(t,r,s,a,c,d,m,I){const b=Ss(a),V=t.firstCreatePass&&Qf(t),G=r[8],ie=Ah(r);let De=!0;if(3&a.type||I){const It=Gr(a,r),Pt=I?I(It):It,Qt=ie.length,rt=I?wr=>I(cn(wr[a.index])):a.index;let vn=null;if(!I&&b&&(vn=function zv(t,r,s,a){const c=t.cleanup;if(null!=c)for(let d=0;d<c.length-1;d+=2){const m=c[d];if(m===s&&c[d+1]===a){const I=r[7],b=c[d+2];return I.length>b?I[b]:null}"string"==typeof m&&(d+=2)}return null}(t,r,c,a.index)),null!==vn)(vn.__ngLastListenerFn__||vn).__ngNextListenerFn__=d,vn.__ngLastListenerFn__=d,De=!1;else{d=fp(a,r,G,d,!1);const wr=s.listen(Pt,c,d);ie.push(d,wr),V&&V.push(c,rt,Qt,Qt+1)}}else d=fp(a,r,G,d,!1);const Be=a.outputs;let at;if(De&&null!==Be&&(at=Be[c])){const It=at.length;if(It)for(let Pt=0;Pt<It;Pt+=2){const yi=r[at[Pt]][at[Pt+1]].subscribe(d),gd=ie.length;ie.push(d,yi),V&&V.push(c,a.index,gd,-(gd+1))}}}(d,c,c[11],m,t,r,0,a),Vh}function hp(t,r,s,a){try{return!1!==s(a)}catch(c){return xh(t,c),!1}}function fp(t,r,s,a,c){return function d(m){if(m===Function)return a;Sh(2&t.flags?Vr(t.index,r):r);let b=hp(r,0,a,m),N=d.__ngNextListenerFn__;for(;N;)b=hp(r,0,N,m)&&b,N=N.__ngNextListenerFn__;return c&&!1===b&&(m.preventDefault(),m.returnValue=!1),b}}function pp(t=1){return function zn(t){return(Et.lFrame.contextLView=function Rn(t,r){for(;t>0;)r=r[15],t--;return r}(t,Et.lFrame.contextLView))[8]}(t)}function Ay(t,r,s,a,c){const d=t[s+1],m=null===r;let I=a?Fs(d):Na(d),b=!1;for(;0!==I&&(!1===b||m);){const V=t[I+1];xy(t[I],r)&&(b=!0,t[I+1]=a?Lf(V):Jl(V)),I=a?Fs(V):Na(V)}b&&(t[s+1]=a?Jl(d):Lf(d))}function xy(t,r){return null===t||null==r||(Array.isArray(t)?t[1]:t)===r||!(!Array.isArray(t)||"string"!=typeof r)&&A(t,r)>=0}function Jg(t,r){return function i(t,r,s,a){const c=qe(),d=Jt(),m=function ki(t){const r=Et.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+t,s}(2);d.firstUpdatePass&&function o(t,r,s,a){const c=t.data;if(null===c[s+1]){const d=c[Tn()],m=function n(t,r){return r>=t.expandoStartIndex}(t,s);(function cr(t,r){return 0!=(t.flags&(r?16:32))})(d,a)&&null===r&&!m&&(r=!1),r=function u(t,r,s,a){const c=function Mo(t){const r=Et.lFrame.currentDirectiveIndex;return-1===r?null:t[r]}(t);let d=a?r.residualClasses:r.residualStyles;if(null===c)0===(a?r.classBindings:r.styleBindings)&&(s=k(s=R(null,t,r,s,a),r.attrs,a),d=null);else{const m=r.directiveStylingLast;if(-1===m||t[m]!==c)if(s=R(c,t,r,s,a),null===d){let b=function l(t,r,s){const a=s?r.classBindings:r.styleBindings;if(0!==Na(a))return t[Fs(a)]}(t,r,a);void 0!==b&&Array.isArray(b)&&(b=R(null,t,r,b[1],a),b=k(b,r.attrs,a),function p(t,r,s,a){t[Fs(s?r.classBindings:r.styleBindings)]=a}(t,r,a,b))}else d=function w(t,r,s){let a;const c=r.directiveEnd;for(let d=1+r.directiveStylingLast;d<c;d++)a=k(a,t[d].hostAttrs,s);return k(a,r.attrs,s)}(t,r,a)}return void 0!==d&&(a?r.residualClasses=d:r.residualStyles=d),s}(c,d,r,a),function Kv(t,r,s,a,c,d){let m=d?r.classBindings:r.styleBindings,I=Fs(m),b=Na(m);t[a]=s;let V,N=!1;if(Array.isArray(s)){const G=s;V=G[1],(null===V||A(G,V)>0)&&(N=!0)}else V=s;if(c)if(0!==b){const ie=Fs(t[I+1]);t[a+1]=Xl(ie,I),0!==ie&&(t[ie+1]=ed(t[ie+1],a)),t[I+1]=function jm(t,r){return 131071&t|r<<17}(t[I+1],a)}else t[a+1]=Xl(I,0),0!==I&&(t[I+1]=ed(t[I+1],a)),I=a;else t[a+1]=Xl(b,0),0===I?I=a:t[b+1]=ed(t[b+1],a),b=a;N&&(t[a+1]=Jl(t[a+1])),Ay(t,V,a,!0),Ay(t,V,a,!1),function Zv(t,r,s,a,c){const d=c?t.residualClasses:t.residualStyles;null!=d&&"string"==typeof r&&A(d,r)>=0&&(s[a+1]=Lf(s[a+1]))}(r,V,t,a,d),m=Xl(I,b),d?r.classBindings=m:r.styleBindings=m}(c,d,r,s,m,a)}}(d,t,m,a),r!==Sn&&Bs(c,m,r)&&function Ve(t,r,s,a,c,d,m,I){if(!(3&r.type))return;const b=t.data,N=b[I+1];Ct(function dh(t){return 1==(1&t)}(N)?Ke(b,r,s,c,Na(N),m):void 0)||(Ct(d)||function _g(t){return 2==(2&t)}(N)&&(d=Ke(b,null,s,c,I,m)),function sg(t,r,s,a,c){if(r)c?t.addClass(s,a):t.removeClass(s,a);else{let d=-1===a.indexOf("-")?void 0:Ya.DashCase;null==c?t.removeStyle(s,a,d):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),d|=Ya.Important),t.setStyle(s,a,c,d))}}(a,m,ds(Tn(),s),c,d))}(d,d.data[Tn()],c,c[11],t,c[m+1]=function kt(t,r){return null==t||("string"==typeof r?t+=r:"object"==typeof t&&(t=wt(Ha(t)))),t}(r,s),a,m)}(t,r,null,!0),Jg}function R(t,r,s,a,c){let d=null;const m=s.directiveEnd;let I=s.directiveStylingLast;for(-1===I?I=s.directiveStart:I++;I<m&&(d=r[I],a=k(a,d.hostAttrs,c),d!==t);)I++;return null!==t&&(s.directiveStylingLast=I),a}function k(t,r,s){const a=s?1:2;let c=-1;if(null!==r)for(let d=0;d<r.length;d++){const m=r[d];"number"==typeof m?c=m:c===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),g(t,m,!!s||r[++d]))}return void 0===t?null:t}function Ke(t,r,s,a,c,d){const m=null===r;let I;for(;c>0;){const b=t[c],N=Array.isArray(b),V=N?b[1]:b,G=null===V;let ie=s[c+1];ie===Sn&&(ie=G?Ce:void 0);let De=G?D(ie,a):V===a?ie:void 0;if(N&&!Ct(De)&&(De=D(b,a)),Ct(De)&&(I=De,m))return I;const Be=t[c+1];c=m?Fs(Be):Na(Be)}if(null!==r){let b=d?r.residualClasses:r.residualStyles;null!=b&&(I=D(b,a))}return I}function Ct(t){return void 0!==t}function kr(t,r=""){const s=qe(),a=Jt(),c=t+22,d=a.firstCreatePass?ju(a,c,1,r,null):a.data[c],m=s[c]=function vf(t,r){return t.createText(r)}(s[11],r);Kc(a,s,m,d),Ni(d,!1)}function fr(t){return $i("",t,""),fr}function $i(t,r,s){const a=qe(),c=function Pa(t,r,s,a){return Bs(t,fi(),s)?r+je(s)+a:Sn}(a,t,r,s);return c!==Sn&&function Ja(t,r,s){const a=ds(r,t);!function $d(t,r,s){t.setValue(r,s)}(t[11],a,s)}(a,Tn(),c),$i}const fd=void 0;var L0=["en",[["a","p"],["AM","PM"],fd],[["AM","PM"],fd,fd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],fd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],fd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",fd,"{1} 'at' {0}",fd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function O0(t){const s=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let $h={};function Oy(t){const r=function F0(t){return t.toLowerCase().replace(/_/g,"-")}(t);let s=y_(r);if(s)return s;const a=r.split("-")[0];if(s=y_(a),s)return s;if("en"===a)return L0;throw new Re(701,!1)}function m_(t){return Oy(t)[hn.PluralCase]}function y_(t){return t in $h||($h[t]=Ft.ng&&Ft.ng.common&&Ft.ng.common.locales&&Ft.ng.common.locales[t]),$h[t]}var hn=(()=>((hn=hn||{})[hn.LocaleId=0]="LocaleId",hn[hn.DayPeriodsFormat=1]="DayPeriodsFormat",hn[hn.DayPeriodsStandalone=2]="DayPeriodsStandalone",hn[hn.DaysFormat=3]="DaysFormat",hn[hn.DaysStandalone=4]="DaysStandalone",hn[hn.MonthsFormat=5]="MonthsFormat",hn[hn.MonthsStandalone=6]="MonthsStandalone",hn[hn.Eras=7]="Eras",hn[hn.FirstDayOfWeek=8]="FirstDayOfWeek",hn[hn.WeekendRange=9]="WeekendRange",hn[hn.DateFormat=10]="DateFormat",hn[hn.TimeFormat=11]="TimeFormat",hn[hn.DateTimeFormat=12]="DateTimeFormat",hn[hn.NumberSymbols=13]="NumberSymbols",hn[hn.NumberFormats=14]="NumberFormats",hn[hn.CurrencyCode=15]="CurrencyCode",hn[hn.CurrencySymbol=16]="CurrencySymbol",hn[hn.CurrencyName=17]="CurrencyName",hn[hn.Currencies=18]="Currencies",hn[hn.Directionality=19]="Directionality",hn[hn.PluralCase=20]="PluralCase",hn[hn.ExtraData=21]="ExtraData",hn))();const jh="en-US";let v_=jh;function Uy(t,r,s,a,c){if(t=dt(t),Array.isArray(t))for(let d=0;d<t.length;d++)Uy(t[d],r,s,a,c);else{const d=Jt(),m=qe();let I=za(t)?t:dt(t.provide),b=h(t);const N=hr(),V=1048575&N.providerIndexes,G=N.directiveStart,ie=N.providerIndexes>>20;if(za(t)||!t.multi){const De=new ea(b,c,$u),Be=By(I,r,c?V:V+ie,G);-1===Be?(Di(vs(N,m),d,I),Vy(d,t,r.length),r.push(I),N.directiveStart++,N.directiveEnd++,c&&(N.providerIndexes+=1048576),s.push(De),m.push(De)):(s[Be]=De,m[Be]=De)}else{const De=By(I,r,V+ie,G),Be=By(I,r,V,V+ie),at=De>=0&&s[De],It=Be>=0&&s[Be];if(c&&!It||!c&&!at){Di(vs(N,m),d,I);const Pt=function kw(t,r,s,a,c){const d=new ea(t,s,$u);return d.multi=[],d.index=r,d.componentProviders=0,H_(d,c,a&&!s),d}(c?Pw:Nw,s.length,c,a,b);!c&&It&&(s[Be].providerFactory=Pt),Vy(d,t,r.length,0),r.push(I),N.directiveStart++,N.directiveEnd++,c&&(N.providerIndexes+=1048576),s.push(Pt),m.push(Pt)}else Vy(d,t,De>-1?De:Be,H_(s[c?Be:De],b,!c&&a));!c&&a&&It&&s[Be].componentProviders++}}}function Vy(t,r,s,a){const c=za(r),d=function Sd(t){return!!t.useClass}(r);if(c||d){const b=(d?dt(r.useClass):r).prototype.ngOnDestroy;if(b){const N=t.destroyHooks||(t.destroyHooks=[]);if(!c&&r.multi){const V=N.indexOf(s);-1===V?N.push(s,[a,b]):N[V+1].push(a,b)}else N.push(s,b)}}}function H_(t,r,s){return s&&t.componentProviders++,t.multi.push(r)-1}function By(t,r,s,a){for(let c=s;c<a;c++)if(r[c]===t)return c;return-1}function Nw(t,r,s,a){return $y(this.multi,[])}function Pw(t,r,s,a){const c=this.multi;let d;if(this.providerFactory){const m=this.providerFactory.componentProviders,I=ta(s,s[1],this.providerFactory.index,a);d=I.slice(0,m),$y(c,d);for(let b=m;b<I.length;b++)d.push(I[b])}else d=[],$y(c,d);return d}function $y(t,r){for(let s=0;s<t.length;s++)r.push((0,t[s])());return r}function G_(t,r=[]){return s=>{s.providersResolver=(a,c)=>function Rw(t,r,s){const a=Jt();if(a.firstCreatePass){const c=si(t);Uy(s,a.data,a.blueprint,c,!0),Uy(r,a.data,a.blueprint,c,!1)}}(a,c?c(t):t,r)}}class Hh{}class z_{}function Ow(t,r){return new W_(t,r??null)}class W_ extends Hh{constructor(r,s){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Xf(this);const a=jt(r);this._bootstrapComponents=_o(a.bootstrap),this._r3Injector=oh(r,s,[{provide:Hh,useValue:this},{provide:Ka,useValue:this.componentFactoryResolver}],wt(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class jy extends z_{constructor(r){super(),this.moduleType=r}create(r){return new W_(this.moduleType,r)}}class Lw extends Hh{constructor(r,s,a){super(),this.componentFactoryResolver=new Xf(this),this.instance=null;const c=new uf([...r,{provide:Hh,useValue:this},{provide:Ka,useValue:this.componentFactoryResolver}],s||Wa(),a,new Set(["environment"]));this.injector=c,c.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function Hy(t,r,s=null){return new Lw(t,r,s).injector}let Fw=(()=>{class t{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s.id)){const a=Dd(0,s.type),c=a.length>0?Hy([a],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s.id,c)}return this.cachedInjectors.get(s.id)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}}return t.\u0275prov=Jn({token:t,providedIn:"environment",factory:()=>new t(Rr($o))}),t})();function q_(t){t.getStandaloneInjector=r=>r.get(Fw).getOrCreateStandaloneInjector(t)}function eI(t,r,s){const a=function ai(){const t=Et.lFrame;let r=t.bindingRootIndex;return-1===r&&(r=t.bindingRootIndex=t.tView.bindingStartIndex),r}()+t,c=qe();return c[a]===Sn?function la(t,r,s){return t[r]=s}(c,a,s?r.call(s):r()):function wc(t,r){return t[r]}(c,a)}function zy(t){return r=>{setTimeout(t,void 0,r)}}const Yu=class uE extends M.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,a){let c=r,d=s||(()=>null),m=a;if(r&&"object"==typeof r){const b=r;c=b.next?.bind(b),d=b.error?.bind(b),m=b.complete?.bind(b)}this.__isAsync&&(d=zy(d),c&&(c=zy(c)),m&&(m=zy(m)));const I=super.subscribe({next:c,error:d,complete:m});return r instanceof z.w0&&r.add(I),I}};function cE(){return this._results[sl()]()}class Wy{constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=sl(),a=Wy.prototype;a[s]||(a[s]=cE)}get changes(){return this._changes||(this._changes=new Yu)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const a=this;a.dirty=!1;const c=qr(r);(this._changesDetected=!function fo(t,r,s){if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++){let c=t[a],d=r[a];if(s&&(c=s(c),d=s(d)),d!==c)return!1}return!0}(a._results,c,s))&&(a._results=c,a.length=c.length,a.last=c[this.length-1],a.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let bp=(()=>{class t{}return t.__NG_ELEMENT_ID__=hE,t})();const lE=bp,dE=class extends lE{constructor(r,s,a){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=a}createEmbeddedView(r,s){const a=this._declarationTContainer.tViews,c=Ih(this._declarationLView,a,r,16,null,a.declTNode,null,null,null,null,s||null);c[17]=this._declarationLView[this._declarationTContainer.index];const m=this._declarationLView[19];return null!==m&&(c[19]=m.createEmbeddedView(a)),zf(a,c,r),new ud(c)}};function hE(){return im(hr(),qe())}function im(t,r){return 4&t.type?new dE(r,t,Za(t,r)):null}let sm=(()=>{class t{}return t.__NG_ELEMENT_ID__=fE,t})();function fE(){return uI(hr(),qe())}const pE=sm,oI=class extends pE{constructor(r,s,a){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=a}get element(){return Za(this._hostTNode,this._hostLView)}get injector(){return new Is(this._hostTNode,this._hostLView)}get parentInjector(){const r=Po(this._hostTNode,this._hostLView);if(va(r)){const s=Fi(r,this._hostLView),a=Ro(r);return new Is(s[1].data[a+8],s)}return new Is(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=aI(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,s,a){let c,d;"number"==typeof a?c=a:null!=a&&(c=a.index,d=a.injector);const m=r.createEmbeddedView(s||{},d);return this.insert(m,c),m}createComponent(r,s,a,c,d){const m=r&&!function bs(t){return"function"==typeof t}(r);let I;if(m)I=s;else{const G=s||{};I=G.index,a=G.injector,c=G.projectableNodes,d=G.environmentInjector||G.ngModuleRef}const b=m?r:new cd(H(r)),N=a||this.parentInjector;if(!d&&null==b.ngModule){const ie=(m?N:this.parentInjector).get($o,null);ie&&(d=ie)}const V=b.create(N,c,void 0,d);return this.insert(V.hostView,I),V}insert(r,s){const a=r._lView,c=a[1];if(function Gs(t){return jn(t[3])}(a)){const V=this.indexOf(r);if(-1!==V)this.detach(V);else{const G=a[3],ie=new oI(G,G[6],G[3]);ie.detach(ie.indexOf(r))}}const d=this._adjustIndex(s),m=this._lContainer;!function Mm(t,r,s,a){const c=10+a,d=s.length;a>0&&(s[c-1][4]=r),a<d-10?(r[4]=s[c],Da(s,10+a,r)):(s.push(r),r[4]=null),r[3]=s;const m=r[17];null!==m&&s!==m&&function jd(t,r){const s=t[9];r[16]!==r[3][3][16]&&(t[2]=!0),null===s?t[9]=[r]:s.push(r)}(m,r);const I=r[19];null!==I&&I.insertView(t),r[2]|=64}(c,a,m,d);const I=Zd(d,m),b=a[11],N=Kd(b,m[7]);return null!==N&&function Am(t,r,s,a,c,d){a[0]=c,a[6]=r,gc(t,a,s,1,c,d)}(c,m[6],b,a,N,I),r.attachToViewContainerRef(),Da(qy(m),d,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=aI(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),a=Hd(this._lContainer,s);a&&(ks(qy(this._lContainer),s),Gd(a[1],a))}detach(r){const s=this._adjustIndex(r,-1),a=Hd(this._lContainer,s);return a&&null!=ks(qy(this._lContainer),s)?new ud(a):null}_adjustIndex(r,s=0){return r??this.length+s}};function aI(t){return t[8]}function qy(t){return t[8]||(t[8]=[])}function uI(t,r){let s;const a=r[t.index];if(jn(a))s=a;else{let c;if(8&t.type)c=cn(a);else{const d=r[11];c=d.createComment("");const m=Gr(t,r);Vu(d,Kd(d,m),c,function tg(t,r){return t.nextSibling(r)}(d,m),!1)}r[t.index]=s=sy(a,r,c,t),nl(r,s)}return new oI(s,t,r)}class Ky{constructor(r){this.queryList=r,this.matches=null}clone(){return new Ky(this.queryList)}setDirty(){this.queryList.setDirty()}}class Zy{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const a=null!==r.contentQueries?r.contentQueries[0]:s.length,c=[];for(let d=0;d<a;d++){const m=s.getByIndex(d);c.push(this.queries[m.indexInDeclarationView].clone())}return new Zy(c)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==mI(r,s).matches&&this.queries[s].setDirty()}}class cI{constructor(r,s,a=null){this.predicate=r,this.flags=s,this.read=a}}class Yy{constructor(r=[]){this.queries=r}elementStart(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let a=0;a<this.length;a++){const c=null!==s?s.length:0,d=this.getByIndex(a).embeddedTView(r,c);d&&(d.indexInDeclarationView=a,null!==s?s.push(d):s=[d])}return null!==s?new Yy(s):null}template(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class Qy{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new Qy(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let c=0;c<a.length;c++){const d=a[c];this.matchTNodeWithReadOption(r,s,yE(s,d)),this.matchTNodeWithReadOption(r,s,qs(s,r,d,!1,!1))}else a===bp?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,qs(s,r,a,!1,!1))}matchTNodeWithReadOption(r,s,a){if(null!==a){const c=this.metadata.read;if(null!==c)if(c===ku||c===sm||c===bp&&4&s.type)this.addMatch(s.index,-2);else{const d=qs(s,r,c,!1,!1);null!==d&&this.addMatch(s.index,d)}else this.addMatch(s.index,a)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function yE(t,r){const s=t.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===r)return s[a+1];return null}function _E(t,r,s,a){return-1===s?function vE(t,r){return 11&t.type?Za(t,r):4&t.type?im(t,r):null}(r,t):-2===s?function IE(t,r,s){return s===ku?Za(r,t):s===bp?im(r,t):s===sm?uI(r,t):void 0}(t,r,a):ta(t,t[1],s,r)}function lI(t,r,s,a){const c=r[19].queries[a];if(null===c.matches){const d=t.data,m=s.matches,I=[];for(let b=0;b<m.length;b+=2){const N=m[b];I.push(N<0?null:_E(r,d[N],m[b+1],s.metadata.read))}c.matches=I}return c.matches}function Xy(t,r,s,a){const c=t.queries.getByIndex(s),d=c.matches;if(null!==d){const m=lI(t,r,c,s);for(let I=0;I<d.length;I+=2){const b=d[I];if(b>0)a.push(m[I/2]);else{const N=d[I+1],V=r[-b];for(let G=10;G<V.length;G++){const ie=V[G];ie[17]===ie[3]&&Xy(ie[1],ie,N,a)}if(null!==V[9]){const G=V[9];for(let ie=0;ie<G.length;ie++){const De=G[ie];Xy(De[1],De,N,a)}}}}}return a}function dI(t){const r=qe(),s=Jt(),a=T();P(a+1);const c=mI(s,a);if(t.dirty&&function Zo(t){return 4==(4&t[2])}(r)===(2==(2&c.metadata.flags))){if(null===c.matches)t.reset([]);else{const d=c.crossesNgTemplate?Xy(s,r,a,[]):lI(s,r,c,a);t.reset(d,Rd),t.notifyOnChanges()}return!0}return!1}function hI(t,r,s,a){const c=Jt();if(c.firstCreatePass){const d=hr();(function gI(t,r,s){null===t.queries&&(t.queries=new Yy),t.queries.track(new Qy(r,s))})(c,new cI(r,s,a),d.index),function DE(t,r){const s=t.contentQueries||(t.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(t.queries.length-1,r)}(c,t),2==(2&s)&&(c.staticContentQueries=!0)}!function pI(t,r,s){const a=new Wy(4==(4&s));Dh(t,r,a,a.destroy),null===r[19]&&(r[19]=new Zy),r[19].queries.push(new Ky(a))}(c,qe(),s)}function fI(){return function EE(t,r){return t[19].queries[r].queryList}(qe(),T())}function mI(t,r){return t.queries.getByIndex(r)}function am(...t){}const OI=new en("Application Initializer");let um=(()=>{class t{constructor(s){this.appInits=s,this.resolve=am,this.reject=am,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,c)=>{this.resolve=a,this.reject=c})}runInitializers(){if(this.initialized)return;const s=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const d=this.appInits[c]();if(Uh(d))s.push(d);else if(wy(d)){const m=new Promise((I,b)=>{d.subscribe({complete:I,error:b})});s.push(m)}}Promise.all(s).then(()=>{a()}).catch(c=>{this.reject(c)}),0===s.length&&a(),this.initialized=!0}}return t.\u0275fac=function(s){return new(s||t)(Rr(OI,8))},t.\u0275prov=Jn({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const LI=new en("AppId",{providedIn:"root",factory:function FI(){return`${rv()}${rv()}${rv()}`}});function rv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const UI=new en("Platform Initializer"),GE=new en("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),VI=new en("appBootstrapListener");let zE=(()=>{class t{log(s){console.log(s)}warn(s){console.warn(s)}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=Jn({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const cm=new en("LocaleId",{providedIn:"root",factory:()=>C(cm,lt.Optional|lt.SkipSelf)||function WE(){return typeof $localize<"u"&&$localize.locale||jh}()}),qE=new en("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class KE{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let ZE=(()=>{class t{compileModuleSync(s){return new jy(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const a=this.compileModuleSync(s),d=_o(jt(s).declarations).reduce((m,I)=>{const b=H(I);return b&&m.push(new cd(b)),m},[]);return new KE(a,d)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=Jn({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const XE=(()=>Promise.resolve(0))();function iv(t){typeof Zone>"u"?XE.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class tu{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Yu(!1),this.onMicrotaskEmpty=new Yu(!1),this.onStable=new Yu(!1),this.onError=new Yu(!1),typeof Zone>"u")throw new Re(908,!1);Zone.assertZonePatched();const c=this;if(c._nesting=0,c._outer=c._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const d=Zone.AsyncStackTaggingZoneSpec;c._inner=c._inner.fork(new d("Angular"))}Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!a&&s,c.shouldCoalesceRunChangeDetection=a,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function JE(){let t=Ft.requestAnimationFrame,r=Ft.cancelAnimationFrame;if(typeof Zone<"u"&&t&&r){const s=t[Zone.__symbol__("OriginalDelegate")];s&&(t=s);const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function nD(t){const r=()=>{!function tD(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Ft,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,ov(t),t.isCheckStableRunning=!0,sv(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),ov(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,c,d,m,I)=>{try{return jI(t),s.invokeTask(c,d,m,I)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||t.shouldCoalesceRunChangeDetection)&&r(),HI(t)}},onInvoke:(s,a,c,d,m,I,b)=>{try{return jI(t),s.invoke(c,d,m,I,b)}finally{t.shouldCoalesceRunChangeDetection&&r(),HI(t)}},onHasTask:(s,a,c,d)=>{s.hasTask(c,d),a===c&&("microTask"==d.change?(t._hasPendingMicrotasks=d.microTask,ov(t),sv(t)):"macroTask"==d.change&&(t.hasPendingMacrotasks=d.macroTask))},onHandleError:(s,a,c,d)=>(s.handleError(c,d),t.runOutsideAngular(()=>t.onError.emit(d)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!tu.isInAngularZone())throw new Re(909,!1)}static assertNotInAngularZone(){if(tu.isInAngularZone())throw new Re(909,!1)}run(r,s,a){return this._inner.run(r,s,a)}runTask(r,s,a,c){const d=this._inner,m=d.scheduleEventTask("NgZoneEvent: "+c,r,eD,am,am);try{return d.runTask(m,s,a)}finally{d.cancelTask(m)}}runGuarded(r,s,a){return this._inner.runGuarded(r,s,a)}runOutsideAngular(r){return this._outer.run(r)}}const eD={};function sv(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function ov(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function jI(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function HI(t){t._nesting--,sv(t)}class rD{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Yu,this.onMicrotaskEmpty=new Yu,this.onStable=new Yu,this.onError=new Yu}run(r,s,a){return r.apply(s,a)}runGuarded(r,s,a){return r.apply(s,a)}runOutsideAngular(r){return r()}runTask(r,s,a,c){return r.apply(s,a)}}const GI=new en(""),zI=new en("");let av,iD=(()=>{class t{constructor(s,a,c){this._ngZone=s,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,av||(function sD(t){av=t}(c),c.addToWindow(a)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{tu.assertNotInAngularZone(),iv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())iv(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,c){let d=-1;a&&a>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==d),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:d,updateCb:c})}whenStable(s,a,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,a,c){return[]}}return t.\u0275fac=function(s){return new(s||t)(Rr(tu),Rr(WI),Rr(zI))},t.\u0275prov=Jn({token:t,factory:t.\u0275fac}),t})(),WI=(()=>{class t{constructor(){this._applications=new Map}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){return av?.findTestabilityInTree(this,s,a)??null}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=Jn({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})(),gl=null;const qI=new en("AllowMultipleToken"),uv=new en("PlatformDestroyListeners");class uD{constructor(r,s){this.name=r,this.token=s}}function ZI(t,r,s=[]){const a=`Platform: ${r}`,c=new en(a);return(d=[])=>{let m=cv();if(!m||m.injector.get(qI,!1)){const I=[...s,...d,{provide:c,useValue:!0}];t?t(I):function cD(t){if(gl&&!gl.get(qI,!1))throw new Re(400,!1);gl=t;const r=t.get(QI);(function KI(t){const r=t.get(UI,null);r&&r.forEach(s=>s())})(t)}(function YI(t=[],r){return pu.create({name:r,providers:[{provide:Ad,useValue:"platform"},{provide:uv,useValue:new Set([()=>gl=null])},...t]})}(I,a))}return function dD(t){const r=cv();if(!r)throw new Re(401,!1);return r}()}}function cv(){return gl?.get(QI)??null}let QI=(()=>{class t{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const c=function JI(t,r){let s;return s="noop"===t?new rD:("zone.js"===t?void 0:t)||new tu(r),s}(a?.ngZone,function XI(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!t||!t.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!t||!t.ngZoneRunCoalescing)||!1}}(a)),d=[{provide:tu,useValue:c}];return c.run(()=>{const m=pu.create({providers:d,parent:this.injector,name:s.moduleType.name}),I=s.create(m),b=I.injector.get(Ll,null);if(!b)throw new Re(402,!1);return c.runOutsideAngular(()=>{const N=c.onError.subscribe({next:V=>{b.handleError(V)}});I.onDestroy(()=>{dm(this._modules,I),N.unsubscribe()})}),function e0(t,r,s){try{const a=s();return Uh(a)?a.catch(c=>{throw r.runOutsideAngular(()=>t.handleError(c)),c}):a}catch(a){throw r.runOutsideAngular(()=>t.handleError(a)),a}}(b,c,()=>{const N=I.injector.get(um);return N.runInitializers(),N.donePromise.then(()=>(function __(t){fn(t,"Expected localeId to be defined"),"string"==typeof t&&(v_=t.toLowerCase().replace(/_/g,"-"))}(I.injector.get(cm,jh)||jh),this._moduleDoBootstrap(I),I))})})}bootstrapModule(s,a=[]){const c=t0({},a);return function oD(t,r,s){const a=new jy(s);return Promise.resolve(a)}(0,0,s).then(d=>this.bootstrapModuleFactory(d,c))}_moduleDoBootstrap(s){const a=s.injector.get(lm);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(c=>a.bootstrap(c));else{if(!s.instance.ngDoBootstrap)throw new Re(403,!1);s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Re(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const s=this._injector.get(uv,null);s&&(s.forEach(a=>a()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(s){return new(s||t)(Rr(pu))},t.\u0275prov=Jn({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function t0(t,r){return Array.isArray(r)?r.reduce(t0,t):{...t,...r}}let lm=(()=>{class t{constructor(s,a,c){this._zone=s,this._injector=a,this._exceptionHandler=c,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const d=new fe.y(I=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{I.next(this._stable),I.complete()})}),m=new fe.y(I=>{let b;this._zone.runOutsideAngular(()=>{b=this._zone.onStable.subscribe(()=>{tu.assertNotInAngularZone(),iv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,I.next(!0))})})});const N=this._zone.onUnstable.subscribe(()=>{tu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{I.next(!1)}))});return()=>{b.unsubscribe(),N.unsubscribe()}});this.isStable=function $e(...t){const r=(0,we.yG)(t),s=(0,we._6)(t,1/0),a=t;return a.length?1===a.length?(0,ve.Xf)(a[0]):(0,oe.J)(s)((0,me.D)(a,r)):ne.E}(d,m.pipe(function Ie(t={}){const{connector:r=(()=>new M.x),resetOnError:s=!0,resetOnComplete:a=!0,resetOnRefCountZero:c=!0}=t;return d=>{let m,I,b,N=0,V=!1,G=!1;const ie=()=>{I?.unsubscribe(),I=void 0},De=()=>{ie(),m=b=void 0,V=G=!1},Be=()=>{const at=m;De(),at?.unsubscribe()};return(0,re.e)((at,It)=>{N++,!G&&!V&&ie();const Pt=b=b??r();It.add(()=>{N--,0===N&&!G&&!V&&(I=Ge(Be,c))}),Pt.subscribe(It),!m&&N>0&&(m=new K.Hp({next:Qt=>Pt.next(Qt),error:Qt=>{G=!0,ie(),I=Ge(De,s,Qt),Pt.error(Qt)},complete:()=>{V=!0,ie(),I=Ge(De,a),Pt.complete()}}),(0,ve.Xf)(at).subscribe(m))})(d)}}()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,a){const c=s instanceof zt;if(!this._injector.get(um).done)throw!c&&Ot(s),new Re(405,false);let m;m=c?s:this._injector.get(Ka).resolveComponentFactory(s),this.componentTypes.push(m.componentType);const I=function aD(t){return t.isBoundToModule}(m)?void 0:this._injector.get(Hh),N=m.create(pu.NULL,[],a||m.selector,I),V=N.location.nativeElement,G=N.injector.get(GI,null);return G?.registerApplication(V),N.onDestroy(()=>{this.detachView(N.hostView),dm(this.components,N),G?.unregisterApplication(V)}),this._loadComponent(N),N}tick(){if(this._runningTick)throw new Re(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;dm(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(VI,[]).concat(this._bootstrapListeners).forEach(c=>c(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>dm(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new Re(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(s){return new(s||t)(Rr(tu),Rr($o),Rr(Ll))},t.\u0275prov=Jn({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function dm(t,r){const s=t.indexOf(r);s>-1&&t.splice(s,1)}let r0=!0;function fD(){r0=!1}let pD=(()=>{class t{}return t.__NG_ELEMENT_ID__=gD,t})();function gD(t){return function mD(t,r,s){if(dr(t)&&!s){const a=Vr(t.index,r);return new ud(a,a)}return 47&t.type?new ud(r[16],r):null}(hr(),qe(),16==(16&t))}class c0{constructor(){}supports(r){return Rh(r)}create(r){return new ED(r)}}const wD=(t,r)=>r;class ED{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||wD}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,a=this._removalsHead,c=0,d=null;for(;s||a;){const m=!a||s&&s.currentIndex<d0(a,c,d)?s:a,I=d0(m,c,d),b=m.currentIndex;if(m===a)c--,a=a._nextRemoved;else if(s=s._next,null==m.previousIndex)c++;else{d||(d=[]);const N=I-c,V=b-c;if(N!=V){for(let ie=0;ie<N;ie++){const De=ie<d.length?d[ie]:d[ie]=0,Be=De+ie;V<=Be&&Be<N&&(d[ie]=De+1)}d[m.previousIndex]=V-N}}I!==b&&r(m,I,b)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!Rh(r))throw new Re(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let c,d,m,s=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let I=0;I<this.length;I++)d=r[I],m=this._trackByFn(I,d),null!==s&&Object.is(s.trackById,m)?(a&&(s=this._verifyReinsertion(s,d,m,I)),Object.is(s.item,d)||this._addIdentityChange(s,d)):(s=this._mismatch(s,d,m,I),a=!0),s=s._next}else c=0,function Ic(t,r){if(Array.isArray(t))for(let s=0;s<t.length;s++)r(t[s]);else{const s=t[sl()]();let a;for(;!(a=s.next()).done;)r(a.value)}}(r,I=>{m=this._trackByFn(c,I),null!==s&&Object.is(s.trackById,m)?(a&&(s=this._verifyReinsertion(s,I,m,c)),Object.is(s.item,I)||this._addIdentityChange(s,I)):(s=this._mismatch(s,I,m,c),a=!0),s=s._next,c++}),this.length=c;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,a,c){let d;return null===r?d=this._itTail:(d=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,d,c)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,c))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,d,c)):r=this._addAfter(new DD(s,a),d,c),r}_verifyReinsertion(r,s,a,c){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==d?r=this._reinsertAfter(d,r._prev,c):r.currentIndex!=c&&(r.currentIndex=c,this._addToMoves(r,c)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const c=r._prevRemoved,d=r._nextRemoved;return null===c?this._removalsHead=d:c._nextRemoved=d,null===d?this._removalsTail=c:d._prevRemoved=c,this._insertAfter(r,s,a),this._addToMoves(r,a),r}_moveAfter(r,s,a){return this._unlink(r),this._insertAfter(r,s,a),this._addToMoves(r,a),r}_addAfter(r,s,a){return this._insertAfter(r,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,a){const c=null===s?this._itHead:s._next;return r._next=c,r._prev=s,null===c?this._itTail=r:c._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new l0),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,a=r._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new l0),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class DD{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class bD{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const s=r._prevDup,a=r._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class l0{constructor(){this.map=new Map}put(r){const s=r.trackById;let a=this.map.get(s);a||(a=new bD,this.map.set(s,a)),a.add(r)}get(r,s){const c=this.map.get(r);return c?c.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function d0(t,r,s){const a=t.previousIndex;if(null===a)return a;let c=0;return s&&a<s.length&&(c=s[a]),a+r+c}class h0{constructor(){}supports(r){return r instanceof Map||Gu(r)}create(){return new TD}}class TD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||Gu(r)))throw new Re(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,c)=>{if(s&&s.key===c)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const d=this._getOrCreateRecordForKey(c,a);s=this._insertBeforeOrAppend(s,d)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const a=r._prev;return s._next=r,s._prev=a,r._prev=s,a&&(a._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const c=this._records.get(r);this._maybeAddToChanges(c,s);const d=c._prev,m=c._next;return d&&(d._next=m),m&&(m._prev=d),c._next=null,c._prev=null,c}const a=new CD(r);return this._records.set(r,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(a=>s(r[a],a))}}class CD{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function f0(){return new pv([new c0])}let pv=(()=>{class t{constructor(s){this.factories=s}static create(s,a){if(null!=a){const c=a.factories.slice();s=s.concat(c)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||f0()),deps:[[t,new ln,new ft]]}}find(s){const a=this.factories.find(c=>c.supports(s));if(null!=a)return a;throw new Re(901,!1)}}return t.\u0275prov=Jn({token:t,providedIn:"root",factory:f0}),t})();function p0(){return new gv([new h0])}let gv=(()=>{class t{constructor(s){this.factories=s}static create(s,a){if(a){const c=a.factories.slice();s=s.concat(c)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||p0()),deps:[[t,new ln,new ft]]}}find(s){const a=this.factories.find(c=>c.supports(s));if(a)return a;throw new Re(901,!1)}}return t.\u0275prov=Jn({token:t,providedIn:"root",factory:p0}),t})();const xD=ZI(null,"core",[]);let MD=(()=>{class t{constructor(s){}}return t.\u0275fac=function(s){return new(s||t)(Rr(lm))},t.\u0275mod=mn({type:t}),t.\u0275inj=lr({}),t})();function RD(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}},1481:(Zt,Ye,j)=>{j.d(Ye,{Dx:()=>jr,b2:()=>ei,q6:()=>nr});var M=j(6895),z=j(8256);class fe extends M.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class oe extends fe{static makeCurrent(){(0,M.HT)(new oe)}onAndCancel(X,H,_e){return X.addEventListener(H,_e,!1),()=>{X.removeEventListener(H,_e,!1)}}dispatchEvent(X,H){X.dispatchEvent(H)}remove(X){X.parentNode&&X.parentNode.removeChild(X)}createElement(X,H){return(H=H||this.getDefaultDocument()).createElement(X)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(X){return X.nodeType===Node.ELEMENT_NODE}isShadowRoot(X){return X instanceof DocumentFragment}getGlobalEventTarget(X,H){return"window"===H?window:"document"===H?X:"body"===H?X.body:null}getBaseHref(X){const H=function ne(){return ve=ve||document.querySelector("base"),ve?ve.getAttribute("href"):null}();return null==H?null:function me(ye){we=we||document.createElement("a"),we.setAttribute("href",ye);const X=we.pathname;return"/"===X.charAt(0)?X:`/${X}`}(H)}resetBaseElement(){ve=null}getUserAgent(){return window.navigator.userAgent}getCookie(X){return(0,M.Mx)(document.cookie,X)}}let we,ve=null;const $e=new z.OlP("TRANSITION_ID"),re=[{provide:z.ip1,useFactory:function K(ye,X,H){return()=>{H.get(z.CZH).donePromise.then(()=>{const _e=(0,M.q)(),ke=X.querySelectorAll(`style[ng-transition="${ye}"]`);for(let Ot=0;Ot<ke.length;Ot++)_e.remove(ke[Ot])})}},deps:[$e,M.K0,z.zs3],multi:!0}];let Ge=(()=>{class ye{build(){return new XMLHttpRequest}}return ye.\u0275fac=function(H){return new(H||ye)},ye.\u0275prov=z.Yz7({token:ye,factory:ye.\u0275fac}),ye})();const be=new z.OlP("EventManagerPlugins");let ht=(()=>{class ye{constructor(H,_e){this._zone=_e,this._eventNameToPlugin=new Map,H.forEach(ke=>ke.manager=this),this._plugins=H.slice().reverse()}addEventListener(H,_e,ke){return this._findPluginFor(_e).addEventListener(H,_e,ke)}addGlobalEventListener(H,_e,ke){return this._findPluginFor(_e).addGlobalEventListener(H,_e,ke)}getZone(){return this._zone}_findPluginFor(H){const _e=this._eventNameToPlugin.get(H);if(_e)return _e;const ke=this._plugins;for(let Ot=0;Ot<ke.length;Ot++){const jt=ke[Ot];if(jt.supports(H))return this._eventNameToPlugin.set(H,jt),jt}throw new Error(`No event manager plugin found for event ${H}`)}}return ye.\u0275fac=function(H){return new(H||ye)(z.LFG(be),z.LFG(z.R0b))},ye.\u0275prov=z.Yz7({token:ye,factory:ye.\u0275fac}),ye})();class wt{constructor(X){this._doc=X}addGlobalEventListener(X,H,_e){const ke=(0,M.q)().getGlobalEventTarget(this._doc,X);if(!ke)throw new Error(`Unsupported event target ${ke} for event ${H}`);return this.addEventListener(ke,H,_e)}}let Lt=(()=>{class ye{constructor(){this._stylesSet=new Set}addStyles(H){const _e=new Set;H.forEach(ke=>{this._stylesSet.has(ke)||(this._stylesSet.add(ke),_e.add(ke))}),this.onStylesAdded(_e)}onStylesAdded(H){}getAllStyles(){return Array.from(this._stylesSet)}}return ye.\u0275fac=function(H){return new(H||ye)},ye.\u0275prov=z.Yz7({token:ye,factory:ye.\u0275fac}),ye})(),At=(()=>{class ye extends Lt{constructor(H){super(),this._doc=H,this._hostNodes=new Map,this._hostNodes.set(H.head,[])}_addStylesToHost(H,_e,ke){H.forEach(Ot=>{const jt=this._doc.createElement("style");jt.textContent=Ot,ke.push(_e.appendChild(jt))})}addHost(H){const _e=[];this._addStylesToHost(this._stylesSet,H,_e),this._hostNodes.set(H,_e)}removeHost(H){const _e=this._hostNodes.get(H);_e&&_e.forEach(Mt),this._hostNodes.delete(H)}onStylesAdded(H){this._hostNodes.forEach((_e,ke)=>{this._addStylesToHost(H,ke,_e)})}ngOnDestroy(){this._hostNodes.forEach(H=>H.forEach(Mt))}}return ye.\u0275fac=function(H){return new(H||ye)(z.LFG(M.K0))},ye.\u0275prov=z.Yz7({token:ye,factory:ye.\u0275fac}),ye})();function Mt(ye){(0,M.q)().remove(ye)}const dt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},We=/%COMP%/g;function se(ye,X,H){for(let _e=0;_e<X.length;_e++){let ke=X[_e];Array.isArray(ke)?se(ye,ke,H):(ke=ke.replace(We,ye),H.push(ke))}return H}function he(ye){return X=>{if("__ngUnwrap__"===X)return ye;!1===ye(X)&&(X.preventDefault(),X.returnValue=!1)}}let le=(()=>{class ye{constructor(H,_e,ke){this.eventManager=H,this.sharedStylesHost=_e,this.appId=ke,this.rendererByCompId=new Map,this.defaultRenderer=new He(H)}createRenderer(H,_e){if(!H||!_e)return this.defaultRenderer;switch(_e.encapsulation){case z.ifc.Emulated:{let ke=this.rendererByCompId.get(_e.id);return ke||(ke=new Zn(this.eventManager,this.sharedStylesHost,_e,this.appId),this.rendererByCompId.set(_e.id,ke)),ke.applyToHost(H),ke}case 1:case z.ifc.ShadowDom:return new Nt(this.eventManager,this.sharedStylesHost,H,_e);default:if(!this.rendererByCompId.has(_e.id)){const ke=se(_e.id,_e.styles,[]);this.sharedStylesHost.addStyles(ke),this.rendererByCompId.set(_e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return ye.\u0275fac=function(H){return new(H||ye)(z.LFG(ht),z.LFG(At),z.LFG(z.AFp))},ye.\u0275prov=z.Yz7({token:ye,factory:ye.\u0275fac}),ye})();class He{constructor(X){this.eventManager=X,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(X,H){return H?document.createElementNS(dt[H]||H,X):document.createElement(X)}createComment(X){return document.createComment(X)}createText(X){return document.createTextNode(X)}appendChild(X,H){(Ht(X)?X.content:X).appendChild(H)}insertBefore(X,H,_e){X&&(Ht(X)?X.content:X).insertBefore(H,_e)}removeChild(X,H){X&&X.removeChild(H)}selectRootElement(X,H){let _e="string"==typeof X?document.querySelector(X):X;if(!_e)throw new Error(`The selector "${X}" did not match any elements`);return H||(_e.textContent=""),_e}parentNode(X){return X.parentNode}nextSibling(X){return X.nextSibling}setAttribute(X,H,_e,ke){if(ke){H=ke+":"+H;const Ot=dt[ke];Ot?X.setAttributeNS(Ot,H,_e):X.setAttribute(H,_e)}else X.setAttribute(H,_e)}removeAttribute(X,H,_e){if(_e){const ke=dt[_e];ke?X.removeAttributeNS(ke,H):X.removeAttribute(`${_e}:${H}`)}else X.removeAttribute(H)}addClass(X,H){X.classList.add(H)}removeClass(X,H){X.classList.remove(H)}setStyle(X,H,_e,ke){ke&(z.JOm.DashCase|z.JOm.Important)?X.style.setProperty(H,_e,ke&z.JOm.Important?"important":""):X.style[H]=_e}removeStyle(X,H,_e){_e&z.JOm.DashCase?X.style.removeProperty(H):X.style[H]=""}setProperty(X,H,_e){X[H]=_e}setValue(X,H){X.nodeValue=H}listen(X,H,_e){return"string"==typeof X?this.eventManager.addGlobalEventListener(X,H,he(_e)):this.eventManager.addEventListener(X,H,he(_e))}}function Ht(ye){return"TEMPLATE"===ye.tagName&&void 0!==ye.content}class Zn extends He{constructor(X,H,_e,ke){super(X),this.component=_e;const Ot=se(ke+"-"+_e.id,_e.styles,[]);H.addStyles(Ot),this.contentAttr=function ge(ye){return"_ngcontent-%COMP%".replace(We,ye)}(ke+"-"+_e.id),this.hostAttr=function et(ye){return"_nghost-%COMP%".replace(We,ye)}(ke+"-"+_e.id)}applyToHost(X){super.setAttribute(X,this.hostAttr,"")}createElement(X,H){const _e=super.createElement(X,H);return super.setAttribute(_e,this.contentAttr,""),_e}}class Nt extends He{constructor(X,H,_e,ke){super(X),this.sharedStylesHost=H,this.hostEl=_e,this.shadowRoot=_e.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Ot=se(ke.id,ke.styles,[]);for(let jt=0;jt<Ot.length;jt++){const _n=document.createElement("style");_n.textContent=Ot[jt],this.shadowRoot.appendChild(_n)}}nodeOrShadowRoot(X){return X===this.hostEl?this.shadowRoot:X}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(X,H){return super.appendChild(this.nodeOrShadowRoot(X),H)}insertBefore(X,H,_e){return super.insertBefore(this.nodeOrShadowRoot(X),H,_e)}removeChild(X,H){return super.removeChild(this.nodeOrShadowRoot(X),H)}parentNode(X){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(X)))}}let Wt=(()=>{class ye extends wt{constructor(H){super(H)}supports(H){return!0}addEventListener(H,_e,ke){return H.addEventListener(_e,ke,!1),()=>this.removeEventListener(H,_e,ke)}removeEventListener(H,_e,ke){return H.removeEventListener(_e,ke)}}return ye.\u0275fac=function(H){return new(H||ye)(z.LFG(M.K0))},ye.\u0275prov=z.Yz7({token:ye,factory:ye.\u0275fac}),ye})();const An=["alt","control","meta","shift"],gn={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Er={alt:ye=>ye.altKey,control:ye=>ye.ctrlKey,meta:ye=>ye.metaKey,shift:ye=>ye.shiftKey};let $n=(()=>{class ye extends wt{constructor(H){super(H)}supports(H){return null!=ye.parseEventName(H)}addEventListener(H,_e,ke){const Ot=ye.parseEventName(_e),jt=ye.eventCallback(Ot.fullKey,ke,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,M.q)().onAndCancel(H,Ot.domEventName,jt))}static parseEventName(H){const _e=H.toLowerCase().split("."),ke=_e.shift();if(0===_e.length||"keydown"!==ke&&"keyup"!==ke)return null;const Ot=ye._normalizeKey(_e.pop());let jt="",_n=_e.indexOf("code");if(_n>-1&&(_e.splice(_n,1),jt="code."),An.forEach(qt=>{const Ln=_e.indexOf(qt);Ln>-1&&(_e.splice(Ln,1),jt+=qt+".")}),jt+=Ot,0!=_e.length||0===Ot.length)return null;const st={};return st.domEventName=ke,st.fullKey=jt,st}static matchEventFullKeyCode(H,_e){let ke=gn[H.key]||H.key,Ot="";return _e.indexOf("code.")>-1&&(ke=H.code,Ot="code."),!(null==ke||!ke)&&(ke=ke.toLowerCase()," "===ke?ke="space":"."===ke&&(ke="dot"),An.forEach(jt=>{jt!==ke&&(0,Er[jt])(H)&&(Ot+=jt+".")}),Ot+=ke,Ot===_e)}static eventCallback(H,_e,ke){return Ot=>{ye.matchEventFullKeyCode(Ot,H)&&ke.runGuarded(()=>_e(Ot))}}static _normalizeKey(H){return"esc"===H?"escape":H}}return ye.\u0275fac=function(H){return new(H||ye)(z.LFG(M.K0))},ye.\u0275prov=z.Yz7({token:ye,factory:ye.\u0275fac}),ye})();const nr=(0,z.eFA)(z._c5,"browser",[{provide:z.Lbi,useValue:M.bD},{provide:z.g9A,useValue:function Gn(){oe.makeCurrent()},multi:!0},{provide:M.K0,useFactory:function Br(){return(0,z.RDi)(document),document},deps:[]}]),Lr=new z.OlP(""),St=[{provide:z.rWj,useClass:class Ie{addToWindow(X){z.dqk.getAngularTestability=(_e,ke=!0)=>{const Ot=X.findTestabilityInTree(_e,ke);if(null==Ot)throw new Error("Could not find testability for element.");return Ot},z.dqk.getAllAngularTestabilities=()=>X.getAllTestabilities(),z.dqk.getAllAngularRootElements=()=>X.getAllRootElements(),z.dqk.frameworkStabilizers||(z.dqk.frameworkStabilizers=[]),z.dqk.frameworkStabilizers.push(_e=>{const ke=z.dqk.getAllAngularTestabilities();let Ot=ke.length,jt=!1;const _n=function(st){jt=jt||st,Ot--,0==Ot&&_e(jt)};ke.forEach(function(st){st.whenStable(_n)})})}findTestabilityInTree(X,H,_e){return null==H?null:X.getTestability(H)??(_e?(0,M.q)().isShadowRoot(H)?this.findTestabilityInTree(X,H.host,!0):this.findTestabilityInTree(X,H.parentElement,!0):null)}},deps:[]},{provide:z.lri,useClass:z.dDg,deps:[z.R0b,z.eoX,z.rWj]},{provide:z.dDg,useClass:z.dDg,deps:[z.R0b,z.eoX,z.rWj]}],Yn=[{provide:z.zSh,useValue:"root"},{provide:z.qLn,useFactory:function Jn(){return new z.qLn},deps:[]},{provide:be,useClass:Wt,multi:!0,deps:[M.K0,z.R0b,z.Lbi]},{provide:be,useClass:$n,multi:!0,deps:[M.K0]},{provide:le,useClass:le,deps:[ht,At,z.AFp]},{provide:z.FYo,useExisting:le},{provide:Lt,useExisting:At},{provide:At,useClass:At,deps:[M.K0]},{provide:ht,useClass:ht,deps:[be,z.R0b]},{provide:M.JF,useClass:Ge,deps:[]},[]];let ei=(()=>{class ye{constructor(H){}static withServerTransition(H){return{ngModule:ye,providers:[{provide:z.AFp,useValue:H.appId},{provide:$e,useExisting:z.AFp},re]}}}return ye.\u0275fac=function(H){return new(H||ye)(z.LFG(Lr,12))},ye.\u0275mod=z.oAB({type:ye}),ye.\u0275inj=z.cJS({providers:[...Yn,...St],imports:[M.ez,z.hGG]}),ye})(),jr=(()=>{class ye{constructor(H){this._doc=H}getTitle(){return this._doc.title}setTitle(H){this._doc.title=H||""}}return ye.\u0275fac=function(H){return new(H||ye)(z.LFG(M.K0))},ye.\u0275prov=z.Yz7({token:ye,factory:function(H){let _e=null;return _e=H?new H:function Bn(){return new jr((0,z.LFG)(M.K0))}(),_e},providedIn:"root"}),ye})();typeof window<"u"&&window},6557:(Zt,Ye,j)=>{j.d(Ye,{F0:()=>Mr,rH:()=>bi,Bz:()=>qr,lC:()=>Hs});var M=j(8256),z=j(8996),fe=j(7669);function oe(...y){const v=(0,fe.yG)(y);return(0,z.D)(y,v)}var ve=j(7579);class ne extends ve.x{constructor(v){super(),this._value=v}get value(){return this.getValue()}_subscribe(v){const g=super._subscribe(v);return!g.closed&&v.next(this._value),g}getValue(){const{hasError:v,thrownError:g,_value:D}=this;if(v)throw g;return this._throwIfClosed(),D}next(v){super.next(this._value=v)}}const me=(0,j(3888).d)(y=>function(){y(this),this.name="EmptyError",this.message="no elements in sequence"});var $e=j(9751),K=j(4742),re=j(4671),Ie=j(3268),Ge=j(1810),be=j(5403),ht=j(9672);function wt(...y){const v=(0,fe.yG)(y),g=(0,fe.jO)(y),{args:D,keys:A}=(0,K.D)(y);if(0===D.length)return(0,z.D)([],v);const L=new $e.y(function Lt(y,v,g=re.y){return D=>{At(v,()=>{const{length:A}=y,L=new Array(A);let q=A,Z=A;for(let Me=0;Me<A;Me++)At(v,()=>{const ot=(0,z.D)(y[Me],v);let Gt=!1;ot.subscribe((0,be.x)(D,yt=>{L[Me]=yt,Gt||(Gt=!0,Z--),Z||D.next(g(L.slice()))},()=>{--q||D.complete()}))},D)},D)}}(D,v,A?q=>(0,Ge.n)(A,q):re.y));return g?L.pipe((0,Ie.Z)(g)):L}function At(y,v,g){y?(0,ht.f)(g,y,v):v()}var Mt=j(8189);function We(...y){return function dt(){return(0,Mt.J)(1)}()((0,z.D)(y,(0,fe.yG)(y)))}var Qe=j(8421);function Re(y){return new $e.y(v=>{(0,Qe.Xf)(y()).subscribe(v)})}var mt=j(9635),je=j(576);function ge(y,v){const g=(0,je.m)(y)?y:()=>y,D=A=>A.error(g());return new $e.y(v?A=>v.schedule(D,0,A):D)}var et=j(515),se=j(727),he=j(4482);function te(){return(0,he.e)((y,v)=>{let g=null;y._refCount++;const D=(0,be.x)(v,void 0,void 0,void 0,()=>{if(!y||y._refCount<=0||0<--y._refCount)return void(g=null);const A=y._connection,L=g;g=null,A&&(!L||A===L)&&A.unsubscribe(),v.unsubscribe()});y.subscribe(D),D.closed||(g=y.connect())})}class le extends $e.y{constructor(v,g){super(),this.source=v,this.subjectFactory=g,this._subject=null,this._refCount=0,this._connection=null,(0,he.A)(v)&&(this.lift=v.lift)}_subscribe(v){return this.getSubject().subscribe(v)}getSubject(){const v=this._subject;return(!v||v.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:v}=this;this._subject=this._connection=null,v?.unsubscribe()}connect(){let v=this._connection;if(!v){v=this._connection=new se.w0;const g=this.getSubject();v.add(this.source.subscribe((0,be.x)(g,void 0,()=>{this._teardown(),g.complete()},D=>{this._teardown(),g.error(D)},()=>this._teardown()))),v.closed&&(this._connection=null,v=se.w0.EMPTY)}return v}refCount(){return te()(this)}}var He=j(6895),Oe=j(4004);function ct(y,v){return(0,he.e)((g,D)=>{let A=null,L=0,q=!1;const Z=()=>q&&!A&&D.complete();g.subscribe((0,be.x)(D,Me=>{A?.unsubscribe();let ot=0;const Gt=L++;(0,Qe.Xf)(y(Me,Gt)).subscribe(A=(0,be.x)(D,yt=>D.next(v?v(Me,yt,Gt,ot++):yt),()=>{A=null,Z()}))},()=>{q=!0,Z()}))})}function Ht(y){return y<=0?()=>et.E:(0,he.e)((v,g)=>{let D=0;v.subscribe((0,be.x)(g,A=>{++D<=y&&(g.next(A),y<=D&&g.complete())}))})}function Nt(y,v){return(0,he.e)((g,D)=>{let A=0;g.subscribe((0,be.x)(D,L=>y.call(v,L,A++)&&D.next(L)))})}var Wt=j(5577);function An(y){return(0,he.e)((v,g)=>{let D=!1;v.subscribe((0,be.x)(g,A=>{D=!0,g.next(A)},()=>{D||g.next(y),g.complete()}))})}function gn(y=Er){return(0,he.e)((v,g)=>{let D=!1;v.subscribe((0,be.x)(g,A=>{D=!0,g.next(A)},()=>D?g.complete():g.error(y())))})}function Er(){return new me}function $n(y,v){const g=arguments.length>=2;return D=>D.pipe(y?Nt((A,L)=>y(A,L,D)):re.y,Ht(1),g?An(v):gn(()=>new me))}function xn(y,v){return(0,je.m)(v)?(0,Wt.z)(y,v,1):(0,Wt.z)(y,1)}var fn=j(8505);function Yt(y){return(0,he.e)((v,g)=>{let L,D=null,A=!1;D=v.subscribe((0,be.x)(g,void 0,void 0,q=>{L=(0,Qe.Xf)(y(q,Yt(y)(v))),D?(D.unsubscribe(),D=null,L.subscribe(g)):A=!0})),A&&(D.unsubscribe(),D=null,L.subscribe(g))})}function Or(y,v,g,D,A){return(L,q)=>{let Z=g,Me=v,ot=0;L.subscribe((0,be.x)(q,Gt=>{const yt=ot++;Me=Z?y(Me,Gt,yt):(Z=!0,Gt),D&&q.next(Me)},A&&(()=>{Z&&q.next(Me),q.complete()})))}}function wn(y,v){return(0,he.e)(Or(y,v,arguments.length>=2,!0))}function Gn(y){return y<=0?()=>et.E:(0,he.e)((v,g)=>{let D=[];v.subscribe((0,be.x)(g,A=>{D.push(A),y<D.length&&D.shift()},()=>{for(const A of D)g.next(A);g.complete()},void 0,()=>{D=null}))})}function Jn(y,v){const g=arguments.length>=2;return D=>D.pipe(y?Nt((A,L)=>y(A,L,D)):re.y,Gn(1),g?An(v):gn(()=>new me))}function nr(y){return(0,he.e)((v,g)=>{try{v.subscribe(g)}finally{g.add(y)}})}var Lr=j(1481);const St="primary",Yn=Symbol("RouteTitle");class ei{constructor(v){this.params=v||{}}has(v){return Object.prototype.hasOwnProperty.call(this.params,v)}get(v){if(this.has(v)){const g=this.params[v];return Array.isArray(g)?g[0]:g}return null}getAll(v){if(this.has(v)){const g=this.params[v];return Array.isArray(g)?g:[g]}return[]}get keys(){return Object.keys(this.params)}}function $r(y){return new ei(y)}function ar(y,v,g){const D=g.path.split("/");if(D.length>y.length||"full"===g.pathMatch&&(v.hasChildren()||D.length<y.length))return null;const A={};for(let L=0;L<D.length;L++){const q=D[L],Z=y[L];if(q.startsWith(":"))A[q.substring(1)]=Z;else if(q!==Z.path)return null}return{consumed:y.slice(0,D.length),posParams:A}}function Bn(y,v){const g=y?Object.keys(y):void 0,D=v?Object.keys(v):void 0;if(!g||!D||g.length!=D.length)return!1;let A;for(let L=0;L<g.length;L++)if(A=g[L],!jr(y[A],v[A]))return!1;return!0}function jr(y,v){if(Array.isArray(y)&&Array.isArray(v)){if(y.length!==v.length)return!1;const g=[...y].sort(),D=[...v].sort();return g.every((A,L)=>D[L]===A)}return y===v}function lt(y){return Array.prototype.concat.apply([],y)}function bt(y){return y.length>0?y[y.length-1]:null}function nn(y,v){for(const g in y)y.hasOwnProperty(g)&&v(y[g],g)}function er(y){return(0,M.CqO)(y)?y:(0,M.QGY)(y)?(0,z.D)(Promise.resolve(y)):oe(y)}const Dn={exact:function Ft(y,v,g){if(!Q(y.segments,v.segments)||!Ce(y.segments,v.segments,g)||y.numberOfChildren!==v.numberOfChildren)return!1;for(const D in v.children)if(!y.children[D]||!Ft(y.children[D],v.children[D],g))return!1;return!0},subset:xr},Dr={exact:function Ar(y,v){return Bn(y,v)},subset:function vi(y,v){return Object.keys(v).length<=Object.keys(y).length&&Object.keys(v).every(g=>jr(y[g],v[g]))},ignored:()=>!0};function On(y,v,g){return Dn[g.paths](y.root,v.root,g.matrixParams)&&Dr[g.queryParams](y.queryParams,v.queryParams)&&!("exact"===g.fragment&&y.fragment!==v.fragment)}function xr(y,v,g){return it(y,v,v.segments,g)}function it(y,v,g,D){if(y.segments.length>g.length){const A=y.segments.slice(0,g.length);return!(!Q(A,g)||v.hasChildren()||!Ce(A,g,D))}if(y.segments.length===g.length){if(!Q(y.segments,g)||!Ce(y.segments,g,D))return!1;for(const A in v.children)if(!y.children[A]||!xr(y.children[A],v.children[A],D))return!1;return!0}{const A=g.slice(0,y.segments.length),L=g.slice(y.segments.length);return!!(Q(y.segments,A)&&Ce(y.segments,A,D)&&y.children[St])&&it(y.children[St],v,L,D)}}function Ce(y,v,g){return v.every((D,A)=>Dr[g](y[A].parameters,D.parameters))}class ut{constructor(v,g,D){this.root=v,this.queryParams=g,this.fragment=D}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=$r(this.queryParams)),this._queryParamMap}toString(){return Ae.serialize(this)}}class Xe{constructor(v,g){this.segments=v,this.children=g,this.parent=null,nn(g,(D,A)=>D.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Dt(this)}}class Tt{constructor(v,g){this.path=v,this.parameters=g}get parameterMap(){return this._parameterMap||(this._parameterMap=$r(this.parameters)),this._parameterMap}toString(){return _e(this)}}function Q(y,v){return y.length===v.length&&y.every((g,D)=>g.path===v[D].path)}let ue=(()=>{class y{}return y.\u0275fac=function(g){return new(g||y)},y.\u0275prov=M.Yz7({token:y,factory:function(){return new Le},providedIn:"root"}),y})();class Le{parse(v){const g=new rs(v);return new ut(g.parseRootSegment(),g.parseQueryParams(),g.parseFragment())}serialize(v){const g=`/${$t(v.root,!0)}`,D=function Ot(y){const v=Object.keys(y).map(g=>{const D=y[g];return Array.isArray(D)?D.map(A=>`${gr(g)}=${gr(A)}`).join("&"):`${gr(g)}=${gr(D)}`}).filter(g=>!!g);return v.length?`?${v.join("&")}`:""}(v.queryParams);return`${g}${D}${"string"==typeof v.fragment?`#${function rr(y){return encodeURI(y)}(v.fragment)}`:""}`}}const Ae=new Le;function Dt(y){return y.segments.map(v=>_e(v)).join("/")}function $t(y,v){if(!y.hasChildren())return Dt(y);if(v){const g=y.children[St]?$t(y.children[St],!1):"",D=[];return nn(y.children,(A,L)=>{L!==St&&D.push(`${L}:${$t(A,!1)}`)}),D.length>0?`${g}(${D.join("//")})`:g}{const g=function Y(y,v){let g=[];return nn(y.children,(D,A)=>{A===St&&(g=g.concat(v(D,A)))}),nn(y.children,(D,A)=>{A!==St&&(g=g.concat(v(D,A)))}),g}(y,(D,A)=>A===St?[$t(y.children[St],!1)]:[`${A}:${$t(D,!1)}`]);return 1===Object.keys(y.children).length&&null!=y.children[St]?`${Dt(y)}/${g[0]}`:`${Dt(y)}/(${g.join("//")})`}}function mn(y){return encodeURIComponent(y).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function gr(y){return mn(y).replace(/%3B/gi,";")}function ye(y){return mn(y).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function X(y){return decodeURIComponent(y)}function H(y){return X(y.replace(/\+/g,"%20"))}function _e(y){return`${ye(y.path)}${function ke(y){return Object.keys(y).map(v=>`;${ye(v)}=${ye(y[v])}`).join("")}(y.parameters)}`}const jt=/^[^\/()?;=#]+/;function _n(y){const v=y.match(jt);return v?v[0]:""}const st=/^[^=?&#]+/,Ln=/^[^&#]+/;class rs{constructor(v){this.url=v,this.remaining=v}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Xe([],{}):new Xe([],this.parseChildren())}parseQueryParams(){const v={};if(this.consumeOptional("?"))do{this.parseQueryParam(v)}while(this.consumeOptional("&"));return v}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const v=[];for(this.peekStartsWith("(")||v.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),v.push(this.parseSegment());let g={};this.peekStartsWith("/(")&&(this.capture("/"),g=this.parseParens(!0));let D={};return this.peekStartsWith("(")&&(D=this.parseParens(!1)),(v.length>0||Object.keys(g).length>0)&&(D[St]=new Xe(v,g)),D}parseSegment(){const v=_n(this.remaining);if(""===v&&this.peekStartsWith(";"))throw new M.vHH(4009,!1);return this.capture(v),new Tt(X(v),this.parseMatrixParams())}parseMatrixParams(){const v={};for(;this.consumeOptional(";");)this.parseParam(v);return v}parseParam(v){const g=_n(this.remaining);if(!g)return;this.capture(g);let D="";if(this.consumeOptional("=")){const A=_n(this.remaining);A&&(D=A,this.capture(D))}v[X(g)]=X(D)}parseQueryParam(v){const g=function qt(y){const v=y.match(st);return v?v[0]:""}(this.remaining);if(!g)return;this.capture(g);let D="";if(this.consumeOptional("=")){const q=function vr(y){const v=y.match(Ln);return v?v[0]:""}(this.remaining);q&&(D=q,this.capture(D))}const A=H(g),L=H(D);if(v.hasOwnProperty(A)){let q=v[A];Array.isArray(q)||(q=[q],v[A]=q),q.push(L)}else v[A]=L}parseParens(v){const g={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const D=_n(this.remaining),A=this.remaining[D.length];if("/"!==A&&")"!==A&&";"!==A)throw new M.vHH(4010,!1);let L;D.indexOf(":")>-1?(L=D.slice(0,D.indexOf(":")),this.capture(L),this.capture(":")):v&&(L=St);const q=this.parseChildren();g[L]=1===Object.keys(q).length?q[St]:new Xe([],q),this.consumeOptional("//")}return g}peekStartsWith(v){return this.remaining.startsWith(v)}consumeOptional(v){return!!this.peekStartsWith(v)&&(this.remaining=this.remaining.substring(v.length),!0)}capture(v){if(!this.consumeOptional(v))throw new M.vHH(4011,!1)}}function ur(y){return y.segments.length>0?new Xe([],{[St]:y}):y}function Fr(y){const v={};for(const D of Object.keys(y.children)){const L=Fr(y.children[D]);(L.segments.length>0||L.hasChildren())&&(v[D]=L)}return function yn(y){if(1===y.numberOfChildren&&y.children[St]){const v=y.children[St];return new Xe(y.segments.concat(v.segments),v.children)}return y}(new Xe(y.segments,v))}function ni(y){return y instanceof ut}function ss(y,v,g,D,A){if(0===g.length)return ri(v.root,v.root,v.root,D,A);const L=function de(y){if("string"==typeof y[0]&&1===y.length&&"/"===y[0])return new Ur(!0,0,y);let v=0,g=!1;const D=y.reduce((A,L,q)=>{if("object"==typeof L&&null!=L){if(L.outlets){const Z={};return nn(L.outlets,(Me,ot)=>{Z[ot]="string"==typeof Me?Me.split("/"):Me}),[...A,{outlets:Z}]}if(L.segmentPath)return[...A,L.segmentPath]}return"string"!=typeof L?[...A,L]:0===q?(L.split("/").forEach((Z,Me)=>{0==Me&&"."===Z||(0==Me&&""===Z?g=!0:".."===Z?v++:""!=Z&&A.push(Z))}),A):[...A,L]},[]);return new Ur(g,v,D)}(g);return L.toRoot()?ri(v.root,v.root,new Xe([],{}),D,A):function q(Me){const ot=function Fe(y,v,g,D){if(y.isAbsolute)return new ae(v.root,!0,0);if(-1===D)return new ae(g,g===v.root,0);return function tt(y,v,g){let D=y,A=v,L=g;for(;L>A;){if(L-=A,D=D.parent,!D)throw new M.vHH(4005,!1);A=D.segments.length}return new ae(D,!1,A-L)}(g,D+(ci(y.commands[0])?0:1),y.numberOfDoubleDots)}(L,v,y.snapshot?._urlSegment,Me),Gt=ot.processChildren?Qn(ot.segmentGroup,ot.index,L.commands):un(ot.segmentGroup,ot.index,L.commands);return ri(v.root,ot.segmentGroup,Gt,D,A)}(y.snapshot?._lastPathIndex)}function ci(y){return"object"==typeof y&&null!=y&&!y.outlets&&!y.segmentPath}function In(y){return"object"==typeof y&&null!=y&&y.outlets}function ri(y,v,g,D,A){let q,L={};D&&nn(D,(Me,ot)=>{L[ot]=Array.isArray(Me)?Me.map(Gt=>`${Gt}`):`${Me}`}),q=y===v?g:ii(y,v,g);const Z=ur(Fr(q));return new ut(Z,L,A)}function ii(y,v,g){const D={};return nn(y.children,(A,L)=>{D[L]=A===v?g:ii(A,v,g)}),new Xe(y.segments,D)}class Ur{constructor(v,g,D){if(this.isAbsolute=v,this.numberOfDoubleDots=g,this.commands=D,v&&D.length>0&&ci(D[0]))throw new M.vHH(4003,!1);const A=D.find(In);if(A&&A!==bt(D))throw new M.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ae{constructor(v,g,D){this.segmentGroup=v,this.processChildren=g,this.index=D}}function un(y,v,g){if(y||(y=new Xe([],{})),0===y.segments.length&&y.hasChildren())return Qn(y,v,g);const D=function Nn(y,v,g){let D=0,A=v;const L={match:!1,pathIndex:0,commandIndex:0};for(;A<y.segments.length;){if(D>=g.length)return L;const q=y.segments[A],Z=g[D];if(In(Z))break;const Me=`${Z}`,ot=D<g.length-1?g[D+1]:null;if(A>0&&void 0===Me)break;if(Me&&ot&&"object"==typeof ot&&void 0===ot.outlets){if(!Tr(Me,ot,q))return L;D+=2}else{if(!Tr(Me,{},q))return L;D++}A++}return{match:!0,pathIndex:A,commandIndex:D}}(y,v,g),A=g.slice(D.commandIndex);if(D.match&&D.pathIndex<y.segments.length){const L=new Xe(y.segments.slice(0,D.pathIndex),{});return L.children[St]=new Xe(y.segments.slice(D.pathIndex),y.children),Qn(L,0,A)}return D.match&&0===A.length?new Xe(y.segments,{}):D.match&&!y.hasChildren()?ir(y,v,g):D.match?Qn(y,0,A):ir(y,v,g)}function Qn(y,v,g){if(0===g.length)return new Xe(y.segments,{});{const D=function vt(y){return In(y[0])?y[0].outlets:{[St]:y}}(g),A={};return nn(D,(L,q)=>{"string"==typeof L&&(L=[L]),null!==L&&(A[q]=un(y.children[q],v,L))}),nn(y.children,(L,q)=>{void 0===D[q]&&(A[q]=L)}),new Xe(y.segments,A)}}function ir(y,v,g){const D=y.segments.slice(0,v);let A=0;for(;A<g.length;){const L=g[A];if(In(L)){const Me=mr(L.outlets);return new Xe(D,Me)}if(0===A&&ci(g[0])){D.push(new Tt(y.segments[v].path,Xs(g[0]))),A++;continue}const q=In(L)?L.outlets[St]:`${L}`,Z=A<g.length-1?g[A+1]:null;q&&Z&&ci(Z)?(D.push(new Tt(q,Xs(Z))),A+=2):(D.push(new Tt(q,{})),A++)}return new Xe(D,{})}function mr(y){const v={};return nn(y,(g,D)=>{"string"==typeof g&&(g=[g]),null!==g&&(v[D]=ir(new Xe([],{}),0,g))}),v}function Xs(y){const v={};return nn(y,(g,D)=>v[D]=`${g}`),v}function Tr(y,v,g){return y==g.path&&Bn(v,g.parameters)}class jn{constructor(v,g){this.id=v,this.url=g}}class Js extends jn{constructor(v,g,D="imperative",A=null){super(v,g),this.type=0,this.navigationTrigger=D,this.restoredState=A}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class dr extends jn{constructor(v,g,D){super(v,g),this.urlAfterRedirects=D,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ss extends jn{constructor(v,g,D,A){super(v,g),this.reason=D,this.code=A,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class si extends jn{constructor(v,g,D,A){super(v,g),this.error=D,this.target=A,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Io extends jn{constructor(v,g,D,A){super(v,g),this.urlAfterRedirects=D,this.state=A,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ai extends jn{constructor(v,g,D,A){super(v,g),this.urlAfterRedirects=D,this.state=A,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Go extends jn{constructor(v,g,D,A,L){super(v,g),this.urlAfterRedirects=D,this.state=A,this.shouldActivate=L,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class $s extends jn{constructor(v,g,D,A){super(v,g),this.urlAfterRedirects=D,this.state=A,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class li extends jn{constructor(v,g,D,A){super(v,g),this.urlAfterRedirects=D,this.state=A,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class eo{constructor(v){this.route=v,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class zo{constructor(v){this.route=v,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class wu{constructor(v){this.snapshot=v,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Oa{constructor(v){this.snapshot=v,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nu{constructor(v){this.snapshot=v,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class da{constructor(v){this.snapshot=v,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Eu{constructor(v,g,D){this.routerEvent=v,this.position=g,this.anchor=D,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Hi{constructor(v){this._root=v}get root(){return this._root.value}parent(v){const g=this.pathFromRoot(v);return g.length>1?g[g.length-2]:null}children(v){const g=Gi(v,this._root);return g?g.children.map(D=>D.value):[]}firstChild(v){const g=Gi(v,this._root);return g&&g.children.length>0?g.children[0].value:null}siblings(v){const g=to(v,this._root);return g.length<2?[]:g[g.length-2].children.map(A=>A.value).filter(A=>A!==v)}pathFromRoot(v){return to(v,this._root).map(g=>g.value)}}function Gi(y,v){if(y===v.value)return v;for(const g of v.children){const D=Gi(y,g);if(D)return D}return null}function to(y,v){if(y===v.value)return[v];for(const g of v.children){const D=to(y,g);if(D.length)return D.unshift(v),D}return[]}class os{constructor(v,g){this.value=v,this.children=g}toString(){return`TreeNode(${this.value})`}}function Fn(y){const v={};return y&&y.children.forEach(g=>v[g.value.outlet]=g),v}class wo extends Hi{constructor(v,g){super(v),this.snapshot=g,qo(this,v)}toString(){return this.snapshot.toString()}}function xi(y,v){const g=function _i(y,v){const q=new as([],{},{},"",{},St,v,null,y.root,-1,{});return new zi("",new os(q,[]))}(y,v),D=new ne([new Tt("",{})]),A=new ne({}),L=new ne({}),q=new ne({}),Z=new ne(""),Me=new no(D,A,q,Z,L,St,v,g.root);return Me.snapshot=g.root,new wo(new os(Me,[]),g)}class no{constructor(v,g,D,A,L,q,Z,Me){this.url=v,this.params=g,this.queryParams=D,this.fragment=A,this.data=L,this.outlet=q,this.component=Z,this.title=this.data?.pipe((0,Oe.U)(ot=>ot[Yn]))??oe(void 0),this._futureSnapshot=Me}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Oe.U)(v=>$r(v)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Oe.U)(v=>$r(v)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Wo(y,v="emptyOnly"){const g=y.pathFromRoot;let D=0;if("always"!==v)for(D=g.length-1;D>=1;){const A=g[D],L=g[D-1];if(A.routeConfig&&""===A.routeConfig.path)D--;else{if(L.component)break;D--}}return function Eo(y){return y.reduce((v,g)=>({params:{...v.params,...g.params},data:{...v.data,...g.data},resolve:{...g.data,...v.resolve,...g.routeConfig?.data,...g._resolvedData}}),{params:{},data:{},resolve:{}})}(g.slice(D))}class as{constructor(v,g,D,A,L,q,Z,Me,ot,Gt,yt,Hn){this.url=v,this.params=g,this.queryParams=D,this.fragment=A,this.data=L,this.outlet=q,this.component=Z,this.title=this.data?.[Yn],this.routeConfig=Me,this._urlSegment=ot,this._lastPathIndex=Gt,this._correctedLastPathIndex=Hn??Gt,this._resolve=yt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=$r(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=$r(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(D=>D.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class zi extends Hi{constructor(v,g){super(g),this.url=v,qo(this,g)}toString(){return Mi(this._root)}}function qo(y,v){v.value._routerState=y,v.children.forEach(g=>qo(y,g))}function Mi(y){const v=y.children.length>0?` { ${y.children.map(Mi).join(", ")} } `:"";return`${y.value}${v}`}function us(y){if(y.snapshot){const v=y.snapshot,g=y._futureSnapshot;y.snapshot=g,Bn(v.queryParams,g.queryParams)||y.queryParams.next(g.queryParams),v.fragment!==g.fragment&&y.fragment.next(g.fragment),Bn(v.params,g.params)||y.params.next(g.params),function ti(y,v){if(y.length!==v.length)return!1;for(let g=0;g<y.length;++g)if(!Bn(y[g],v[g]))return!1;return!0}(v.url,g.url)||y.url.next(g.url),Bn(v.data,g.data)||y.data.next(g.data)}else y.snapshot=y._futureSnapshot,y.data.next(y._futureSnapshot.data)}function js(y,v){const g=Bn(y.params,v.params)&&function pn(y,v){return Q(y,v)&&y.every((g,D)=>Bn(g.parameters,v[D].parameters))}(y.url,v.url);return g&&!(!y.parent!=!v.parent)&&(!y.parent||js(y.parent,v.parent))}function xs(y,v,g){if(g&&y.shouldReuseRoute(v.value,g.value.snapshot)){const D=g.value;D._futureSnapshot=v.value;const A=function cs(y,v,g){return v.children.map(D=>{for(const A of g.children)if(y.shouldReuseRoute(D.value,A.value.snapshot))return xs(y,D,A);return xs(y,D)})}(y,v,g);return new os(D,A)}{if(y.shouldAttach(v.value)){const L=y.retrieve(v.value);if(null!==L){const q=L.route;return q.value._futureSnapshot=v.value,q.children=v.children.map(Z=>xs(y,Z)),q}}const D=function Ri(y){return new no(new ne(y.url),new ne(y.params),new ne(y.queryParams),new ne(y.fragment),new ne(y.data),y.outlet,y.component,y)}(v.value),A=v.children.map(L=>xs(y,L));return new os(D,A)}}const oi="ngNavigationCancelingError";function Wi(y,v){const{redirectTo:g,navigationBehaviorOptions:D}=ni(v)?{redirectTo:v,navigationBehaviorOptions:void 0}:v,A=ro(!1,0,v);return A.url=g,A.navigationBehaviorOptions=D,A}function ro(y,v,g){const D=new Error("NavigationCancelingError: "+(y||""));return D[oi]=!0,D.cancellationCode=v,g&&(D.url=g),D}function ls(y){return Do(y)&&ni(y.url)}function Do(y){return y&&y[oi]}class Ko{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new cn,this.attachRef=null}}let cn=(()=>{class y{constructor(){this.contexts=new Map}onChildOutletCreated(g,D){const A=this.getOrCreateContext(g);A.outlet=D,this.contexts.set(g,A)}onChildOutletDestroyed(g){const D=this.getContext(g);D&&(D.outlet=null,D.attachRef=null)}onOutletDeactivated(){const g=this.contexts;return this.contexts=new Map,g}onOutletReAttached(g){this.contexts=g}getOrCreateContext(g){let D=this.getContext(g);return D||(D=new Ko,this.contexts.set(g,D)),D}getContext(g){return this.contexts.get(g)||null}}return y.\u0275fac=function(g){return new(g||y)},y.\u0275prov=M.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();const Ms=!1;let Hs=(()=>{class y{constructor(g,D,A,L,q){this.parentContexts=g,this.location=D,this.changeDetector=L,this.environmentInjector=q,this.activated=null,this._activatedRoute=null,this.activateEvents=new M.vpe,this.deactivateEvents=new M.vpe,this.attachEvents=new M.vpe,this.detachEvents=new M.vpe,this.name=A||St,g.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const g=this.parentContexts.getContext(this.name);g&&g.route&&(g.attachRef?this.attach(g.attachRef,g.route):this.activateWith(g.route,g.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new M.vHH(4012,Ms);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new M.vHH(4012,Ms);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new M.vHH(4012,Ms);this.location.detach();const g=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(g.instance),g}attach(g,D){this.activated=g,this._activatedRoute=D,this.location.insert(g.hostView),this.attachEvents.emit(g.instance)}deactivate(){if(this.activated){const g=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(g)}}activateWith(g,D){if(this.isActivated)throw new M.vHH(4013,Ms);this._activatedRoute=g;const A=this.location,q=g._futureSnapshot.component,Z=this.parentContexts.getOrCreateContext(this.name).children,Me=new ds(g,Z,A.injector);if(D&&function Gr(y){return!!y.resolveComponentFactory}(D)){const ot=D.resolveComponentFactory(q);this.activated=A.createComponent(ot,A.length,Me)}else this.activated=A.createComponent(q,{index:A.length,injector:Me,environmentInjector:D??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return y.\u0275fac=function(g){return new(g||y)(M.Y36(cn),M.Y36(M.s_b),M.$8M("name"),M.Y36(M.sBO),M.Y36(M.lqb))},y.\u0275dir=M.lG2({type:y,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),y})();class ds{constructor(v,g,D){this.route=v,this.childContexts=g,this.parent=D}get(v,g){return v===no?this.route:v===cn?this.childContexts:this.parent.get(v,g)}}let bo=(()=>{class y{}return y.\u0275fac=function(g){return new(g||y)},y.\u0275cmp=M.Xpm({type:y,selectors:[["ng-component"]],standalone:!0,features:[M.jDz],decls:1,vars:0,template:function(g,D){1&g&&M._UZ(0,"router-outlet")},dependencies:[Hs],encapsulation:2}),y})();function _r(y,v){return y.providers&&!y._injector&&(y._injector=(0,M.MMx)(y.providers,v,`Route: ${y.path}`)),y._injector??v}function Et(y){const v=y.children&&y.children.map(Et),g=v?{...y,children:v}:{...y};return!g.component&&!g.loadComponent&&(v||g.loadChildren)&&g.outlet&&g.outlet!==St&&(g.component=bo),g}function hi(y){return y.outlet||St}function ha(y,v){const g=y.filter(D=>hi(D)===v);return g.push(...y.filter(D=>hi(D)!==v)),g}function fa(y){if(!y)return null;if(y.routeConfig?._injector)return y.routeConfig._injector;for(let v=y.parent;v;v=v.parent){const g=v.routeConfig;if(g?._loadedInjector)return g._loadedInjector;if(g?._injector)return g._injector}return null}class Yo{constructor(v,g,D,A){this.routeReuseStrategy=v,this.futureState=g,this.currState=D,this.forwardEvent=A}activate(v){const g=this.futureState._root,D=this.currState?this.currState._root:null;this.deactivateChildRoutes(g,D,v),us(this.futureState.root),this.activateChildRoutes(g,D,v)}deactivateChildRoutes(v,g,D){const A=Fn(g);v.children.forEach(L=>{const q=L.value.outlet;this.deactivateRoutes(L,A[q],D),delete A[q]}),nn(A,(L,q)=>{this.deactivateRouteAndItsChildren(L,D)})}deactivateRoutes(v,g,D){const A=v.value,L=g?g.value:null;if(A===L)if(A.component){const q=D.getContext(A.outlet);q&&this.deactivateChildRoutes(v,g,q.children)}else this.deactivateChildRoutes(v,g,D);else L&&this.deactivateRouteAndItsChildren(g,D)}deactivateRouteAndItsChildren(v,g){v.value.component&&this.routeReuseStrategy.shouldDetach(v.value.snapshot)?this.detachAndStoreRouteSubtree(v,g):this.deactivateRouteAndOutlet(v,g)}detachAndStoreRouteSubtree(v,g){const D=g.getContext(v.value.outlet),A=D&&v.value.component?D.children:g,L=Fn(v);for(const q of Object.keys(L))this.deactivateRouteAndItsChildren(L[q],A);if(D&&D.outlet){const q=D.outlet.detach(),Z=D.children.onOutletDeactivated();this.routeReuseStrategy.store(v.value.snapshot,{componentRef:q,route:v,contexts:Z})}}deactivateRouteAndOutlet(v,g){const D=g.getContext(v.value.outlet),A=D&&v.value.component?D.children:g,L=Fn(v);for(const q of Object.keys(L))this.deactivateRouteAndItsChildren(L[q],A);D&&D.outlet&&(D.outlet.deactivate(),D.children.onOutletDeactivated(),D.attachRef=null,D.resolver=null,D.route=null)}activateChildRoutes(v,g,D){const A=Fn(g);v.children.forEach(L=>{this.activateRoutes(L,A[L.value.outlet],D),this.forwardEvent(new da(L.value.snapshot))}),v.children.length&&this.forwardEvent(new Oa(v.value.snapshot))}activateRoutes(v,g,D){const A=v.value,L=g?g.value:null;if(us(A),A===L)if(A.component){const q=D.getOrCreateContext(A.outlet);this.activateChildRoutes(v,g,q.children)}else this.activateChildRoutes(v,g,D);else if(A.component){const q=D.getOrCreateContext(A.outlet);if(this.routeReuseStrategy.shouldAttach(A.snapshot)){const Z=this.routeReuseStrategy.retrieve(A.snapshot);this.routeReuseStrategy.store(A.snapshot,null),q.children.onOutletReAttached(Z.contexts),q.attachRef=Z.componentRef,q.route=Z.route.value,q.outlet&&q.outlet.attach(Z.componentRef,Z.route.value),us(Z.route.value),this.activateChildRoutes(v,null,q.children)}else{const Z=fa(A.snapshot),Me=Z?.get(M._Vd)??null;q.attachRef=null,q.route=A,q.resolver=Me,q.injector=Z,q.outlet&&q.outlet.activateWith(A,q.injector),this.activateChildRoutes(v,null,q.children)}}else this.activateChildRoutes(v,null,D)}}class Rs{constructor(v){this.path=v,this.route=this.path[this.path.length-1]}}class zs{constructor(v,g){this.component=v,this.route=g}}function io(y,v,g){const D=y._root;return Xi(D,v?v._root:null,g,[D.value])}function Jt(y,v){const g=Symbol(),D=v.get(y,g);return D===g?"function"!=typeof y||(0,M.Z0I)(y)?v.get(y):y:D}function Xi(y,v,g,D,A={canDeactivateChecks:[],canActivateChecks:[]}){const L=Fn(v);return y.children.forEach(q=>{(function Qo(y,v,g,D,A={canDeactivateChecks:[],canActivateChecks:[]}){const L=y.value,q=v?v.value:null,Z=g?g.getContext(y.value.outlet):null;if(q&&L.routeConfig===q.routeConfig){const Me=function hr(y,v,g){if("function"==typeof g)return g(y,v);switch(g){case"pathParamsChange":return!Q(y.url,v.url);case"pathParamsOrQueryParamsChange":return!Q(y.url,v.url)||!Bn(y.queryParams,v.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!js(y,v)||!Bn(y.queryParams,v.queryParams);default:return!js(y,v)}}(q,L,L.routeConfig.runGuardsAndResolvers);Me?A.canActivateChecks.push(new Rs(D)):(L.data=q.data,L._resolvedData=q._resolvedData),Xi(y,v,L.component?Z?Z.children:null:g,D,A),Me&&Z&&Z.outlet&&Z.outlet.isActivated&&A.canDeactivateChecks.push(new zs(Z.outlet.component,q))}else q&&wi(v,Z,A),A.canActivateChecks.push(new Rs(D)),Xi(y,null,L.component?Z?Z.children:null:g,D,A)})(q,L[q.value.outlet],g,D.concat([q.value]),A),delete L[q.value.outlet]}),nn(L,(q,Z)=>wi(q,g.getContext(Z),A)),A}function wi(y,v,g){const D=Fn(y),A=y.value;nn(D,(L,q)=>{wi(L,A.component?v?v.children.getContext(q):null:v,g)}),g.canDeactivateChecks.push(new zs(A.component&&v&&v.outlet&&v.outlet.isActivated?v.outlet.component:null,A))}function Qr(y){return"function"==typeof y}function Pi(y){return y instanceof me||"EmptyError"===y?.name}const gs=Symbol("INITIAL_VALUE");function fi(){return ct(y=>wt(y.map(v=>v.pipe(Ht(1),function Zn(...y){const v=(0,fe.yG)(y);return(0,he.e)((g,D)=>{(v?We(y,g,v):We(y,g)).subscribe(D)})}(gs)))).pipe((0,Oe.U)(v=>{for(const g of v)if(!0!==g){if(g===gs)return gs;if(!1===g||g instanceof ut)return g}return!0}),Nt(v=>v!==gs),Ht(1)))}function S(y){return(0,mt.z)((0,fn.b)(v=>{if(ni(v))throw Wi(0,v)}),(0,Oe.U)(v=>!0===v))}const ee={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ne(y,v,g,D,A){const L=Ue(y,v,g);return L.matched?function U(y,v,g,D){const A=v.canMatch;return A&&0!==A.length?oe(A.map(q=>{const Z=Jt(q,y);return er(function iu(y){return y&&Qr(y.canMatch)}(Z)?Z.canMatch(v,g):y.runInContext(()=>Z(v,g)))})).pipe(fi(),S()):oe(!0)}(D=_r(v,D),v,g).pipe((0,Oe.U)(q=>!0===q?L:{...ee})):oe(L)}function Ue(y,v,g){if(""===v.path)return"full"===v.pathMatch&&(y.hasChildren()||g.length>0)?{...ee}:{matched:!0,consumedSegments:[],remainingSegments:g,parameters:{},positionalParamSegments:{}};const A=(v.matcher||ar)(g,y,v);if(!A)return{...ee};const L={};nn(A.posParams,(Z,Me)=>{L[Me]=Z.path});const q=A.consumed.length>0?{...L,...A.consumed[A.consumed.length-1].parameters}:L;return{matched:!0,consumedSegments:A.consumed,remainingSegments:g.slice(A.consumed.length),parameters:q,positionalParamSegments:A.posParams??{}}}function _t(y,v,g,D,A="corrected"){if(g.length>0&&function zn(y,v,g){return g.some(D=>Tn(y,v,D)&&hi(D)!==St)}(y,g,D)){const q=new Xe(v,function bn(y,v,g,D){const A={};A[St]=D,D._sourceSegment=y,D._segmentIndexShift=v.length;for(const L of g)if(""===L.path&&hi(L)!==St){const q=new Xe([],{});q._sourceSegment=y,q._segmentIndexShift=v.length,A[hi(L)]=q}return A}(y,v,D,new Xe(g,y.children)));return q._sourceSegment=y,q._segmentIndexShift=v.length,{segmentGroup:q,slicedSegments:[]}}if(0===g.length&&function Rn(y,v,g){return g.some(D=>Tn(y,v,D))}(y,g,D)){const q=new Xe(y.segments,function Un(y,v,g,D,A,L){const q={};for(const Z of D)if(Tn(y,g,Z)&&!A[hi(Z)]){const Me=new Xe([],{});Me._sourceSegment=y,Me._segmentIndexShift="legacy"===L?y.segments.length:v.length,q[hi(Z)]=Me}return{...A,...q}}(y,v,g,D,y.children,A));return q._sourceSegment=y,q._segmentIndexShift=v.length,{segmentGroup:q,slicedSegments:g}}const L=new Xe(y.segments,y.children);return L._sourceSegment=y,L._segmentIndexShift=v.length,{segmentGroup:L,slicedSegments:g}}function Tn(y,v,g){return(!(y.hasChildren()||v.length>0)||"full"!==g.pathMatch)&&""===g.path}function Vn(y,v,g,D){return!!(hi(y)===D||D!==St&&Tn(v,g,y))&&("**"===y.path||Ue(v,y,g).matched)}function sn(y,v,g){return 0===v.length&&!y.children[g]}const ms=!1;class Oi{constructor(v){this.segmentGroup=v||null}}class Xn{constructor(v){this.urlTree=v}}function zr(y){return ge(new Oi(y))}function qi(y){return ge(new Xn(y))}class En{constructor(v,g,D,A,L){this.injector=v,this.configLoader=g,this.urlSerializer=D,this.urlTree=A,this.config=L,this.allowRedirects=!0}apply(){const v=_t(this.urlTree.root,[],[],this.config).segmentGroup,g=new Xe(v.segments,v.children);return this.expandSegmentGroup(this.injector,this.config,g,St).pipe((0,Oe.U)(L=>this.createUrlTree(Fr(L),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Yt(L=>{if(L instanceof Xn)return this.allowRedirects=!1,this.match(L.urlTree);throw L instanceof Oi?this.noMatchError(L):L}))}match(v){return this.expandSegmentGroup(this.injector,this.config,v.root,St).pipe((0,Oe.U)(A=>this.createUrlTree(Fr(A),v.queryParams,v.fragment))).pipe(Yt(A=>{throw A instanceof Oi?this.noMatchError(A):A}))}noMatchError(v){return new M.vHH(4002,ms)}createUrlTree(v,g,D){const A=ur(v);return new ut(A,g,D)}expandSegmentGroup(v,g,D,A){return 0===D.segments.length&&D.hasChildren()?this.expandChildren(v,g,D).pipe((0,Oe.U)(L=>new Xe([],L))):this.expandSegment(v,D,g,D.segments,A,!0)}expandChildren(v,g,D){const A=[];for(const L of Object.keys(D.children))"primary"===L?A.unshift(L):A.push(L);return(0,z.D)(A).pipe(xn(L=>{const q=D.children[L],Z=ha(g,L);return this.expandSegmentGroup(v,Z,q,L).pipe((0,Oe.U)(Me=>({segment:Me,outlet:L})))}),wn((L,q)=>(L[q.outlet]=q.segment,L),{}),Jn())}expandSegment(v,g,D,A,L,q){return(0,z.D)(D).pipe(xn(Z=>this.expandSegmentAgainstRoute(v,g,D,Z,A,L,q).pipe(Yt(ot=>{if(ot instanceof Oi)return oe(null);throw ot}))),$n(Z=>!!Z),Yt((Z,Me)=>{if(Pi(Z))return sn(g,A,L)?oe(new Xe([],{})):zr(g);throw Z}))}expandSegmentAgainstRoute(v,g,D,A,L,q,Z){return Vn(A,g,L,q)?void 0===A.redirectTo?this.matchSegmentAgainstRoute(v,g,A,L,q):Z&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(v,g,D,A,L,q):zr(g):zr(g)}expandSegmentAgainstRouteUsingRedirect(v,g,D,A,L,q){return"**"===A.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(v,D,A,q):this.expandRegularSegmentAgainstRouteUsingRedirect(v,g,D,A,L,q)}expandWildCardWithParamsAgainstRouteUsingRedirect(v,g,D,A){const L=this.applyRedirectCommands([],D.redirectTo,{});return D.redirectTo.startsWith("/")?qi(L):this.lineralizeSegments(D,L).pipe((0,Wt.z)(q=>{const Z=new Xe(q,{});return this.expandSegment(v,Z,g,q,A,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(v,g,D,A,L,q){const{matched:Z,consumedSegments:Me,remainingSegments:ot,positionalParamSegments:Gt}=Ue(g,A,L);if(!Z)return zr(g);const yt=this.applyRedirectCommands(Me,A.redirectTo,Gt);return A.redirectTo.startsWith("/")?qi(yt):this.lineralizeSegments(A,yt).pipe((0,Wt.z)(Hn=>this.expandSegment(v,g,D,Hn.concat(ot),q,!1)))}matchSegmentAgainstRoute(v,g,D,A,L){return"**"===D.path?(v=_r(D,v),D.loadChildren?(D._loadedRoutes?oe({routes:D._loadedRoutes,injector:D._loadedInjector}):this.configLoader.loadChildren(v,D)).pipe((0,Oe.U)(Z=>(D._loadedRoutes=Z.routes,D._loadedInjector=Z.injector,new Xe(A,{})))):oe(new Xe(A,{}))):Ne(g,D,A,v).pipe(ct(({matched:q,consumedSegments:Z,remainingSegments:Me})=>q?this.getChildConfig(v=D._injector??v,D,A).pipe((0,Wt.z)(Gt=>{const yt=Gt.injector??v,Hn=Gt.routes,{segmentGroup:gi,slicedSegments:Ji}=_t(g,Z,Me,Hn),Ui=new Xe(gi.segments,gi.children);if(0===Ji.length&&Ui.hasChildren())return this.expandChildren(yt,Hn,Ui).pipe((0,Oe.U)(qn=>new Xe(Z,qn)));if(0===Hn.length&&0===Ji.length)return oe(new Xe(Z,{}));const Kr=hi(D)===L;return this.expandSegment(yt,Ui,Hn,Ji,Kr?St:L,!0).pipe((0,Oe.U)(mo=>new Xe(Z.concat(mo.segments),mo.children)))})):zr(g)))}getChildConfig(v,g,D){return g.children?oe({routes:g.children,injector:v}):g.loadChildren?void 0!==g._loadedRoutes?oe({routes:g._loadedRoutes,injector:g._loadedInjector}):function P(y,v,g,D){const A=v.canLoad;return void 0===A||0===A.length?oe(!0):oe(A.map(q=>{const Z=Jt(q,y);return er(function ps(y){return y&&Qr(y.canLoad)}(Z)?Z.canLoad(v,g):y.runInContext(()=>Z(v,g)))})).pipe(fi(),S())}(v,g,D).pipe((0,Wt.z)(A=>A?this.configLoader.loadChildren(v,g).pipe((0,fn.b)(L=>{g._loadedRoutes=L.routes,g._loadedInjector=L.injector})):function ma(y){return ge(ro(ms,3))}())):oe({routes:[],injector:v})}lineralizeSegments(v,g){let D=[],A=g.root;for(;;){if(D=D.concat(A.segments),0===A.numberOfChildren)return oe(D);if(A.numberOfChildren>1||!A.children[St])return ge(new M.vHH(4e3,ms));A=A.children[St]}}applyRedirectCommands(v,g,D){return this.applyRedirectCreateUrlTree(g,this.urlSerializer.parse(g),v,D)}applyRedirectCreateUrlTree(v,g,D,A){const L=this.createSegmentGroup(v,g.root,D,A);return new ut(L,this.createQueryParams(g.queryParams,this.urlTree.queryParams),g.fragment)}createQueryParams(v,g){const D={};return nn(v,(A,L)=>{if("string"==typeof A&&A.startsWith(":")){const Z=A.substring(1);D[L]=g[Z]}else D[L]=A}),D}createSegmentGroup(v,g,D,A){const L=this.createSegments(v,g.segments,D,A);let q={};return nn(g.children,(Z,Me)=>{q[Me]=this.createSegmentGroup(v,Z,D,A)}),new Xe(L,q)}createSegments(v,g,D,A){return g.map(L=>L.path.startsWith(":")?this.findPosParam(v,L,A):this.findOrReturn(L,D))}findPosParam(v,g,D){const A=D[g.path.substring(1)];if(!A)throw new M.vHH(4001,ms);return A}findOrReturn(v,g){let D=0;for(const A of g){if(A.path===v.path)return g.splice(D),A;D++}return v}}class Rt{}class gt{constructor(v,g,D,A,L,q,Z,Me){this.injector=v,this.rootComponentType=g,this.config=D,this.urlTree=A,this.url=L,this.paramsInheritanceStrategy=q,this.relativeLinkResolution=Z,this.urlSerializer=Me}recognize(){const v=_t(this.urlTree.root,[],[],this.config.filter(g=>void 0===g.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,v,St).pipe((0,Oe.U)(g=>{if(null===g)return null;const D=new as([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},St,this.rootComponentType,null,this.urlTree.root,-1,{}),A=new os(D,g),L=new zi(this.url,A);return this.inheritParamsAndData(L._root),L}))}inheritParamsAndData(v){const g=v.value,D=Wo(g,this.paramsInheritanceStrategy);g.params=Object.freeze(D.params),g.data=Object.freeze(D.data),v.children.forEach(A=>this.inheritParamsAndData(A))}processSegmentGroup(v,g,D,A){return 0===D.segments.length&&D.hasChildren()?this.processChildren(v,g,D):this.processSegment(v,g,D,D.segments,A)}processChildren(v,g,D){return(0,z.D)(Object.keys(D.children)).pipe(xn(A=>{const L=D.children[A],q=ha(g,A);return this.processSegmentGroup(v,q,L,A)}),wn((A,L)=>A&&L?(A.push(...L),A):null),function Br(y,v=!1){return(0,he.e)((g,D)=>{let A=0;g.subscribe((0,be.x)(D,L=>{const q=y(L,A++);(q||v)&&D.next(L),!q&&D.complete()}))})}(A=>null!==A),An(null),Jn(),(0,Oe.U)(A=>{if(null===A)return null;const L=bu(A);return function Pe(y){y.sort((v,g)=>v.value.outlet===St?-1:g.value.outlet===St?1:v.value.outlet.localeCompare(g.value.outlet))}(L),L}))}processSegment(v,g,D,A,L){return(0,z.D)(g).pipe(xn(q=>this.processSegmentAgainstRoute(q._injector??v,q,D,A,L)),$n(q=>!!q),Yt(q=>{if(Pi(q))return sn(D,A,L)?oe([]):oe(null);throw q}))}processSegmentAgainstRoute(v,g,D,A,L){if(g.redirectTo||!Vn(g,D,A,L))return oe(null);let q;if("**"===g.path){const Z=A.length>0?bt(A).parameters:{},Me=Qu(D)+A.length;q=oe({snapshot:new as(A,Z,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,su(g),hi(g),g.component??g._loadedComponent??null,g,Li(D),Me,Fa(g),Me),consumedSegments:[],remainingSegments:[]})}else q=Ne(D,g,A,v).pipe((0,Oe.U)(({matched:Z,consumedSegments:Me,remainingSegments:ot,parameters:Gt})=>{if(!Z)return null;const yt=Qu(D)+Me.length;return{snapshot:new as(Me,Gt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,su(g),hi(g),g.component??g._loadedComponent??null,g,Li(D),yt,Fa(g),yt),consumedSegments:Me,remainingSegments:ot}}));return q.pipe(ct(Z=>{if(null===Z)return oe(null);const{snapshot:Me,consumedSegments:ot,remainingSegments:Gt}=Z;v=g._injector??v;const yt=g._loadedInjector??v,Hn=function Je(y){return y.children?y.children:y.loadChildren?y._loadedRoutes:[]}(g),{segmentGroup:gi,slicedSegments:Ji}=_t(D,ot,Gt,Hn.filter(Kr=>void 0===Kr.redirectTo),this.relativeLinkResolution);if(0===Ji.length&&gi.hasChildren())return this.processChildren(yt,Hn,gi).pipe((0,Oe.U)(Kr=>null===Kr?null:[new os(Me,Kr)]));if(0===Hn.length&&0===Ji.length)return oe([new os(Me,[])]);const Ui=hi(g)===L;return this.processSegment(yt,Hn,gi,Ji,Ui?St:L).pipe((0,Oe.U)(Kr=>null===Kr?null:[new os(Me,Kr)]))}))}}function Ir(y){const v=y.value.routeConfig;return v&&""===v.path&&void 0===v.redirectTo}function bu(y){const v=[],g=new Set;for(const D of y){if(!Ir(D)){v.push(D);continue}const A=v.find(L=>D.value.routeConfig===L.value.routeConfig);void 0!==A?(A.children.push(...D.children),g.add(A)):v.push(D)}for(const D of g){const A=bu(D.children);v.push(new os(D.value,A))}return v.filter(D=>!g.has(D))}function Li(y){let v=y;for(;v._sourceSegment;)v=v._sourceSegment;return v}function Qu(y){let v=y,g=v._segmentIndexShift??0;for(;v._sourceSegment;)v=v._sourceSegment,g+=v._segmentIndexShift??0;return g-1}function su(y){return y.data||{}}function Fa(y){return y.resolve||{}}function No(y){return"string"==typeof y.title||null===y.title}function on(y){return ct(v=>{const g=y(v);return g?(0,z.D)(g).pipe((0,Oe.U)(()=>v)):oe(v)})}let Xt=(()=>{class y{buildTitle(g){let D,A=g.root;for(;void 0!==A;)D=this.getResolvedTitleForRoute(A)??D,A=A.children.find(L=>L.outlet===St);return D}getResolvedTitleForRoute(g){return g.data[Yn]}}return y.\u0275fac=function(g){return new(g||y)},y.\u0275prov=M.Yz7({token:y,factory:function(){return(0,M.f3M)(Ws)},providedIn:"root"}),y})(),Ws=(()=>{class y extends Xt{constructor(g){super(),this.title=g}updateTitle(g){const D=this.buildTitle(g);void 0!==D&&this.title.setTitle(D)}}return y.\u0275fac=function(g){return new(g||y)(M.LFG(Lr.Dx))},y.\u0275prov=M.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();class ou{}class pt extends class Wn{shouldDetach(v){return!1}store(v,g){}shouldAttach(v){return!1}retrieve(v){return null}shouldReuseRoute(v,g){return v.routeConfig===g.routeConfig}}{}const oo=new M.OlP("",{providedIn:"root",factory:()=>({})}),Po=new M.OlP("ROUTES");let Di=(()=>{class y{constructor(g,D){this.injector=g,this.compiler=D,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(g){if(this.componentLoaders.get(g))return this.componentLoaders.get(g);if(g._loadedComponent)return oe(g._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(g);const D=er(g.loadComponent()).pipe((0,fn.b)(L=>{this.onLoadEndListener&&this.onLoadEndListener(g),g._loadedComponent=L}),nr(()=>{this.componentLoaders.delete(g)})),A=new le(D,()=>new ve.x).pipe(te());return this.componentLoaders.set(g,A),A}loadChildren(g,D){if(this.childrenLoaders.get(D))return this.childrenLoaders.get(D);if(D._loadedRoutes)return oe({routes:D._loadedRoutes,injector:D._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(D);const L=this.loadModuleFactoryOrRoutes(D.loadChildren).pipe((0,Oe.U)(Z=>{this.onLoadEndListener&&this.onLoadEndListener(D);let Me,ot,Gt=!1;Array.isArray(Z)?ot=Z:(Me=Z.create(g).injector,ot=lt(Me.get(Po,[],M.XFs.Self|M.XFs.Optional)));return{routes:ot.map(Et),injector:Me}}),nr(()=>{this.childrenLoaders.delete(D)})),q=new le(L,()=>new ve.x).pipe(te());return this.childrenLoaders.set(D,q),q}loadModuleFactoryOrRoutes(g){return er(g()).pipe((0,Wt.z)(D=>D instanceof M.YKP||Array.isArray(D)?oe(D):(0,z.D)(this.compiler.compileModuleAsync(D))))}}return y.\u0275fac=function(g){return new(g||y)(M.LFG(M.zs3),M.LFG(M.Sil))},y.\u0275prov=M.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();class Va{}class ao{shouldProcessUrl(v){return!0}extract(v){return v}merge(v,g){return v}}function _a(y){throw y}function ui(y,v,g){return v.parse("/")}const au={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},qs={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function _s(){const y=(0,M.f3M)(ue),v=(0,M.f3M)(cn),g=(0,M.f3M)(He.Ye),D=(0,M.f3M)(M.zs3),A=(0,M.f3M)(M.Sil),L=(0,M.f3M)(Po,{optional:!0})??[],q=(0,M.f3M)(oo,{optional:!0})??{},Z=(0,M.f3M)(Ws),Me=(0,M.f3M)(Xt,{optional:!0}),ot=(0,M.f3M)(Va,{optional:!0}),Gt=(0,M.f3M)(ou,{optional:!0}),yt=new Mr(null,y,v,g,D,A,lt(L));return ot&&(yt.urlHandlingStrategy=ot),Gt&&(yt.routeReuseStrategy=Gt),yt.titleStrategy=Me??Z,function ta(y,v){y.errorHandler&&(v.errorHandler=y.errorHandler),y.malformedUriErrorHandler&&(v.malformedUriErrorHandler=y.malformedUriErrorHandler),y.onSameUrlNavigation&&(v.onSameUrlNavigation=y.onSameUrlNavigation),y.paramsInheritanceStrategy&&(v.paramsInheritanceStrategy=y.paramsInheritanceStrategy),y.relativeLinkResolution&&(v.relativeLinkResolution=y.relativeLinkResolution),y.urlUpdateStrategy&&(v.urlUpdateStrategy=y.urlUpdateStrategy),y.canceledNavigationResolution&&(v.canceledNavigationResolution=y.canceledNavigationResolution)}(q,yt),yt}let Mr=(()=>{class y{constructor(g,D,A,L,q,Z,Me){this.rootComponentType=g,this.urlSerializer=D,this.rootContexts=A,this.location=L,this.config=Me,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ve.x,this.errorHandler=_a,this.malformedUriErrorHandler=ui,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>oe(void 0),this.urlHandlingStrategy=new ao,this.routeReuseStrategy=new pt,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=q.get(Di),this.configLoader.onLoadEndListener=Hn=>this.triggerEvent(new zo(Hn)),this.configLoader.onLoadStartListener=Hn=>this.triggerEvent(new eo(Hn)),this.ngModule=q.get(M.h0i),this.console=q.get(M.c2e);const yt=q.get(M.R0b);this.isNgZoneEnabled=yt instanceof M.R0b&&M.R0b.isInAngularZone(),this.resetConfig(Me),this.currentUrlTree=function sr(){return new ut(new Xe([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=xi(this.currentUrlTree,this.rootComponentType),this.transitions=new ne({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(g){const D=this.events;return g.pipe(Nt(A=>0!==A.id),(0,Oe.U)(A=>({...A,extractedUrl:this.urlHandlingStrategy.extract(A.rawUrl)})),ct(A=>{let L=!1,q=!1;return oe(A).pipe((0,fn.b)(Z=>{this.currentNavigation={id:Z.id,initialUrl:Z.rawUrl,extractedUrl:Z.extractedUrl,trigger:Z.source,extras:Z.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),ct(Z=>{const Me=this.browserUrlTree.toString(),ot=!this.navigated||Z.extractedUrl.toString()!==Me||Me!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||ot)&&this.urlHandlingStrategy.shouldProcessUrl(Z.rawUrl))return Is(Z.source)&&(this.browserUrlTree=Z.extractedUrl),oe(Z).pipe(ct(yt=>{const Hn=this.transitions.getValue();return D.next(new Js(yt.id,this.serializeUrl(yt.extractedUrl),yt.source,yt.restoredState)),Hn!==this.transitions.getValue()?et.E:Promise.resolve(yt)}),function ys(y,v,g,D){return ct(A=>function nt(y,v,g,D,A){return new En(y,v,g,D,A).apply()}(y,v,g,A.extractedUrl,D).pipe((0,Oe.U)(L=>({...A,urlAfterRedirects:L}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,fn.b)(yt=>{this.currentNavigation={...this.currentNavigation,finalUrl:yt.urlAfterRedirects},A.urlAfterRedirects=yt.urlAfterRedirects}),function Ua(y,v,g,D,A,L){return(0,Wt.z)(q=>function ea(y,v,g,D,A,L,q="emptyOnly",Z="legacy"){return new gt(y,v,g,D,A,q,Z,L).recognize().pipe(ct(Me=>null===Me?function Ut(y){return new $e.y(v=>v.error(y))}(new Rt):oe(Me)))}(y,v,g,q.urlAfterRedirects,D.serialize(q.urlAfterRedirects),D,A,L).pipe((0,Oe.U)(Z=>({...q,targetSnapshot:Z}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,fn.b)(yt=>{if(A.targetSnapshot=yt.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!yt.extras.skipLocationChange){const gi=this.urlHandlingStrategy.merge(yt.urlAfterRedirects,yt.rawUrl);this.setBrowserUrl(gi,yt)}this.browserUrlTree=yt.urlAfterRedirects}const Hn=new Io(yt.id,this.serializeUrl(yt.extractedUrl),this.serializeUrl(yt.urlAfterRedirects),yt.targetSnapshot);D.next(Hn)}));if(ot&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Hn,extractedUrl:gi,source:Ji,restoredState:Ui,extras:Kr}=Z,Cr=new Js(Hn,this.serializeUrl(gi),Ji,Ui);D.next(Cr);const mo=xi(gi,this.rootComponentType).snapshot;return oe(A={...Z,targetSnapshot:mo,urlAfterRedirects:gi,extras:{...Kr,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=Z.rawUrl,Z.resolve(null),et.E}),(0,fn.b)(Z=>{const Me=new Ai(Z.id,this.serializeUrl(Z.extractedUrl),this.serializeUrl(Z.urlAfterRedirects),Z.targetSnapshot);this.triggerEvent(Me)}),(0,Oe.U)(Z=>A={...Z,guards:io(Z.targetSnapshot,Z.currentSnapshot,this.rootContexts)}),function ki(y,v){return(0,Wt.z)(g=>{const{targetSnapshot:D,currentSnapshot:A,guards:{canActivateChecks:L,canDeactivateChecks:q}}=g;return 0===q.length&&0===L.length?oe({...g,guardsResult:!0}):function Ao(y,v,g,D){return(0,z.D)(y).pipe((0,Wt.z)(A=>function T(y,v,g,D,A){const L=v&&v.routeConfig?v.routeConfig.canDeactivate:null;return L&&0!==L.length?oe(L.map(Z=>{const Me=fa(v)??A,ot=Jt(Z,Me);return er(function Du(y){return y&&Qr(y.canDeactivate)}(ot)?ot.canDeactivate(y,v,g,D):Me.runInContext(()=>ot(y,v,g,D))).pipe($n())})).pipe(fi()):oe(!0)}(A.component,A.route,g,v,D)),$n(A=>!0!==A,!0))}(q,D,A,y).pipe((0,Wt.z)(Z=>Z&&function Ni(y){return"boolean"==typeof y}(Z)?function xo(y,v,g,D){return(0,z.D)(v).pipe(xn(A=>We(function Ns(y,v){return null!==y&&v&&v(new wu(y)),oe(!0)}(A.route.parent,D),function ga(y,v){return null!==y&&v&&v(new nu(y)),oe(!0)}(A.route,D),function Mo(y,v,g){const D=v[v.length-1],L=v.slice(0,v.length-1).reverse().map(q=>function qe(y){const v=y.routeConfig?y.routeConfig.canActivateChild:null;return v&&0!==v.length?{node:y,guards:v}:null}(q)).filter(q=>null!==q).map(q=>Re(()=>oe(q.guards.map(Me=>{const ot=fa(q.node)??g,Gt=Jt(Me,ot);return er(function So(y){return y&&Qr(y.canActivateChild)}(Gt)?Gt.canActivateChild(D,y):ot.runInContext(()=>Gt(D,y))).pipe($n())})).pipe(fi())));return oe(L).pipe(fi())}(y,A.path,g),function Xo(y,v,g){const D=v.routeConfig?v.routeConfig.canActivate:null;if(!D||0===D.length)return oe(!0);const A=D.map(L=>Re(()=>{const q=fa(v)??g,Z=Jt(L,q);return er(function pa(y){return y&&Qr(y.canActivate)}(Z)?Z.canActivate(v,y):q.runInContext(()=>Z(v,y))).pipe($n())}));return oe(A).pipe(fi())}(y,A.route,g))),$n(A=>!0!==A,!0))}(D,L,y,v):oe(Z)),(0,Oe.U)(Z=>({...g,guardsResult:Z})))})}(this.ngModule.injector,Z=>this.triggerEvent(Z)),(0,fn.b)(Z=>{if(A.guardsResult=Z.guardsResult,ni(Z.guardsResult))throw Wi(0,Z.guardsResult);const Me=new Go(Z.id,this.serializeUrl(Z.extractedUrl),this.serializeUrl(Z.urlAfterRedirects),Z.targetSnapshot,!!Z.guardsResult);this.triggerEvent(Me)}),Nt(Z=>!!Z.guardsResult||(this.restoreHistory(Z),this.cancelNavigationTransition(Z,"",3),!1)),on(Z=>{if(Z.guards.canActivateChecks.length)return oe(Z).pipe((0,fn.b)(Me=>{const ot=new $s(Me.id,this.serializeUrl(Me.extractedUrl),this.serializeUrl(Me.urlAfterRedirects),Me.targetSnapshot);this.triggerEvent(ot)}),ct(Me=>{let ot=!1;return oe(Me).pipe(function Cc(y,v){return(0,Wt.z)(g=>{const{targetSnapshot:D,guards:{canActivateChecks:A}}=g;if(!A.length)return oe(g);let L=0;return(0,z.D)(A).pipe(xn(q=>function va(y,v,g,D){const A=y.routeConfig,L=y._resolve;return void 0!==A?.title&&!No(A)&&(L[Yn]=A.title),function Ro(y,v,g,D){const A=function rn(y){return[...Object.keys(y),...Object.getOwnPropertySymbols(y)]}(y);if(0===A.length)return oe({});const L={};return(0,z.D)(A).pipe((0,Wt.z)(q=>function Fi(y,v,g,D){const A=fa(v)??D,L=Jt(y,A);return er(L.resolve?L.resolve(v,g):A.runInContext(()=>L(v,g)))}(y[q],v,g,D).pipe($n(),(0,fn.b)(Z=>{L[q]=Z}))),Gn(1),function lr(y){return(0,Oe.U)(()=>y)}(L),Yt(q=>Pi(q)?et.E:ge(q)))}(L,y,v,D).pipe((0,Oe.U)(q=>(y._resolvedData=q,y.data=Wo(y,g).resolve,A&&No(A)&&(y.data[Yn]=A.title),null)))}(q.route,D,y,v)),(0,fn.b)(()=>L++),Gn(1),(0,Wt.z)(q=>L===A.length?oe(g):et.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,fn.b)({next:()=>ot=!0,complete:()=>{ot||(this.restoreHistory(Me),this.cancelNavigationTransition(Me,"",2))}}))}),(0,fn.b)(Me=>{const ot=new li(Me.id,this.serializeUrl(Me.extractedUrl),this.serializeUrl(Me.urlAfterRedirects),Me.targetSnapshot);this.triggerEvent(ot)}))}),on(Z=>{const Me=ot=>{const Gt=[];ot.routeConfig?.loadComponent&&!ot.routeConfig._loadedComponent&&Gt.push(this.configLoader.loadComponent(ot.routeConfig).pipe((0,fn.b)(yt=>{ot.component=yt}),(0,Oe.U)(()=>{})));for(const yt of ot.children)Gt.push(...Me(yt));return Gt};return wt(Me(Z.targetSnapshot.root)).pipe(An(),Ht(1))}),on(()=>this.afterPreactivation()),(0,Oe.U)(Z=>{const Me=function ru(y,v,g){const D=xs(y,v._root,g?g._root:void 0);return new wo(D,v)}(this.routeReuseStrategy,Z.targetSnapshot,Z.currentRouterState);return A={...Z,targetRouterState:Me}}),(0,fn.b)(Z=>{this.currentUrlTree=Z.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(Z.urlAfterRedirects,Z.rawUrl),this.routerState=Z.targetRouterState,"deferred"===this.urlUpdateStrategy&&(Z.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,Z),this.browserUrlTree=Z.urlAfterRedirects)}),((y,v,g)=>(0,Oe.U)(D=>(new Yo(v,D.targetRouterState,D.currentRouterState,g).activate(y),D)))(this.rootContexts,this.routeReuseStrategy,Z=>this.triggerEvent(Z)),(0,fn.b)({next(){L=!0},complete(){L=!0}}),nr(()=>{L||q||this.cancelNavigationTransition(A,"",1),this.currentNavigation?.id===A.id&&(this.currentNavigation=null)}),Yt(Z=>{if(q=!0,Do(Z)){ls(Z)||(this.navigated=!0,this.restoreHistory(A,!0));const Me=new Ss(A.id,this.serializeUrl(A.extractedUrl),Z.message,Z.cancellationCode);if(D.next(Me),ls(Z)){const ot=this.urlHandlingStrategy.merge(Z.url,this.rawUrlTree),Gt={skipLocationChange:A.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Is(A.source)};this.scheduleNavigation(ot,"imperative",null,Gt,{resolve:A.resolve,reject:A.reject,promise:A.promise})}else A.resolve(!1)}else{this.restoreHistory(A,!0);const Me=new si(A.id,this.serializeUrl(A.extractedUrl),Z,A.targetSnapshot??void 0);D.next(Me);try{A.resolve(this.errorHandler(Z))}catch(ot){A.reject(ot)}}return et.E}))}))}resetRootComponentType(g){this.rootComponentType=g,this.routerState.root.component=this.rootComponentType}setTransition(g){this.transitions.next({...this.transitions.value,...g})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(g=>{const D="popstate"===g.type?"popstate":"hashchange";"popstate"===D&&setTimeout(()=>{const A={replaceUrl:!0},L=g.state?.navigationId?g.state:null;if(L){const Z={...L};delete Z.navigationId,delete Z.\u0275routerPageId,0!==Object.keys(Z).length&&(A.state=Z)}const q=this.parseUrl(g.url);this.scheduleNavigation(q,D,L,A)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(g){this.events.next(g)}resetConfig(g){this.config=g.map(Et),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(g,D={}){const{relativeTo:A,queryParams:L,fragment:q,queryParamsHandling:Z,preserveFragment:Me}=D,ot=A||this.routerState.root,Gt=Me?this.currentUrlTree.fragment:q;let yt=null;switch(Z){case"merge":yt={...this.currentUrlTree.queryParams,...L};break;case"preserve":yt=this.currentUrlTree.queryParams;break;default:yt=L||null}return null!==yt&&(yt=this.removeEmptyProps(yt)),ss(ot,this.currentUrlTree,g,yt,Gt??null)}navigateByUrl(g,D={skipLocationChange:!1}){const A=ni(g)?g:this.parseUrl(g),L=this.urlHandlingStrategy.merge(A,this.rawUrlTree);return this.scheduleNavigation(L,"imperative",null,D)}navigate(g,D={skipLocationChange:!1}){return function Te(y){for(let v=0;v<y.length;v++){if(null==y[v])throw new M.vHH(4008,false)}}(g),this.navigateByUrl(this.createUrlTree(g,D),D)}serializeUrl(g){return this.urlSerializer.serialize(g)}parseUrl(g){let D;try{D=this.urlSerializer.parse(g)}catch(A){D=this.malformedUriErrorHandler(A,this.urlSerializer,g)}return D}isActive(g,D){let A;if(A=!0===D?{...au}:!1===D?{...qs}:D,ni(g))return On(this.currentUrlTree,g,A);const L=this.parseUrl(g);return On(this.currentUrlTree,L,A)}removeEmptyProps(g){return Object.keys(g).reduce((D,A)=>{const L=g[A];return null!=L&&(D[A]=L),D},{})}processNavigations(){this.navigations.subscribe(g=>{this.navigated=!0,this.lastSuccessfulId=g.id,this.currentPageId=g.targetPageId,this.events.next(new dr(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),g.resolve(!0)},g=>{this.console.warn(`Unhandled Navigation Error: ${g}`)})}scheduleNavigation(g,D,A,L,q){if(this.disposed)return Promise.resolve(!1);let Z,Me,ot;q?(Z=q.resolve,Me=q.reject,ot=q.promise):ot=new Promise((Hn,gi)=>{Z=Hn,Me=gi});const Gt=++this.navigationId;let yt;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(A=this.location.getState()),yt=A&&A.\u0275routerPageId?A.\u0275routerPageId:L.replaceUrl||L.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):yt=0,this.setTransition({id:Gt,targetPageId:yt,source:D,restoredState:A,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:g,extras:L,resolve:Z,reject:Me,promise:ot,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),ot.catch(Hn=>Promise.reject(Hn))}setBrowserUrl(g,D){const A=this.urlSerializer.serialize(g),L={...D.extras.state,...this.generateNgRouterState(D.id,D.targetPageId)};this.location.isCurrentPathEqualTo(A)||D.extras.replaceUrl?this.location.replaceState(A,"",L):this.location.go(A,"",L)}restoreHistory(g,D=!1){if("computed"===this.canceledNavigationResolution){const A=this.currentPageId-g.targetPageId;"popstate"!==g.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===A?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===A&&(this.resetState(g),this.browserUrlTree=g.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(A)}else"replace"===this.canceledNavigationResolution&&(D&&this.resetState(g),this.resetUrlToCurrentUrlTree())}resetState(g){this.routerState=g.currentRouterState,this.currentUrlTree=g.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,g.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(g,D,A){const L=new Ss(g.id,this.serializeUrl(g.extractedUrl),D,A);this.triggerEvent(L),g.resolve(!1)}generateNgRouterState(g,D){return"computed"===this.canceledNavigationResolution?{navigationId:g,\u0275routerPageId:D}:{navigationId:g}}}return y.\u0275fac=function(g){M.$Z()},y.\u0275prov=M.Yz7({token:y,factory:function(){return _s()},providedIn:"root"}),y})();function Is(y){return"imperative"!==y}let bi=(()=>{class y{constructor(g,D,A,L,q){this.router=g,this.route=D,this.tabIndexAttribute=A,this.renderer=L,this.el=q,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new ve.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(g){this._preserveFragment=(0,M.D6c)(g)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(g){this._skipLocationChange=(0,M.D6c)(g)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(g){this._replaceUrl=(0,M.D6c)(g)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(g){if(null!=this.tabIndexAttribute)return;const D=this.renderer,A=this.el.nativeElement;null!==g?D.setAttribute(A,"tabindex",g):D.removeAttribute(A,"tabindex")}ngOnChanges(g){this.onChanges.next(this)}set routerLink(g){null!=g?(this.commands=Array.isArray(g)?g:[g],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return y.\u0275fac=function(g){return new(g||y)(M.Y36(Mr),M.Y36(no),M.$8M("tabindex"),M.Y36(M.Qsj),M.Y36(M.SBq))},y.\u0275dir=M.lG2({type:y,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(g,D){1&g&&M.NdJ("click",function(){return D.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[M.TTD]}),y})();class Es{}let co=(()=>{class y{constructor(g,D,A,L,q){this.router=g,this.injector=A,this.preloadingStrategy=L,this.loader=q}setUpPreloading(){this.subscription=this.router.events.pipe(Nt(g=>g instanceof dr),xn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(g,D){const A=[];for(const L of D){L.providers&&!L._injector&&(L._injector=(0,M.MMx)(L.providers,g,`Route: ${L.path}`));const q=L._injector??g,Z=L._loadedInjector??q;L.loadChildren&&!L._loadedRoutes&&void 0===L.canLoad||L.loadComponent&&!L._loadedComponent?A.push(this.preloadConfig(q,L)):(L.children||L._loadedRoutes)&&A.push(this.processRoutes(Z,L.children??L._loadedRoutes))}return(0,z.D)(A).pipe((0,Mt.J)())}preloadConfig(g,D){return this.preloadingStrategy.preload(D,()=>{let A;A=D.loadChildren&&void 0===D.canLoad?this.loader.loadChildren(g,D):oe(null);const L=A.pipe((0,Wt.z)(q=>null===q?oe(void 0):(D._loadedRoutes=q.routes,D._loadedInjector=q.injector,this.processRoutes(q.injector??g,q.routes))));if(D.loadComponent&&!D._loadedComponent){const q=this.loader.loadComponent(D);return(0,z.D)([L,q]).pipe((0,Mt.J)())}return L})}}return y.\u0275fac=function(g){return new(g||y)(M.LFG(Mr),M.LFG(M.Sil),M.LFG(M.lqb),M.LFG(Es),M.LFG(Di))},y.\u0275prov=M.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();const lo=new M.OlP("");let Ia=(()=>{class y{constructor(g,D,A={}){this.router=g,this.viewportScroller=D,this.options=A,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},A.scrollPositionRestoration=A.scrollPositionRestoration||"disabled",A.anchorScrolling=A.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(g=>{g instanceof Js?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=g.navigationTrigger,this.restoredId=g.restoredState?g.restoredState.navigationId:0):g instanceof dr&&(this.lastId=g.id,this.scheduleScrollEvent(g,this.router.parseUrl(g.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(g=>{g instanceof Eu&&(g.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(g.position):g.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(g.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(g,D){this.router.triggerEvent(new Eu(g,"popstate"===this.lastSource?this.store[this.restoredId]:null,D))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return y.\u0275fac=function(g){M.$Z()},y.\u0275prov=M.Yz7({token:y,factory:y.\u0275fac}),y})();function ho(y,v){return{\u0275kind:y,\u0275providers:v}}function en(y){return[{provide:Po,multi:!0,useValue:y}]}function pi(){const y=(0,M.f3M)(M.zs3);return v=>{const g=y.get(M.z2F);if(v!==g.components[0])return;const D=y.get(Mr),A=y.get(or);1===y.get(uu)&&D.initialNavigation(),y.get(yr,null,M.XFs.Optional)?.setUpPreloading(),y.get(lo,null,M.XFs.Optional)?.init(),D.resetRootComponentType(g.componentTypes[0]),A.next(),A.complete()}}const or=new M.OlP("",{factory:()=>new ve.x}),uu=new M.OlP("",{providedIn:"root",factory:()=>1});const yr=new M.OlP("");function Tu(y){return ho(0,[{provide:yr,useExisting:co},{provide:Es,useExisting:y}])}const bs=new M.OlP("ROUTER_FORROOT_GUARD"),Sc=[He.Ye,{provide:ue,useClass:Le},{provide:Mr,useFactory:_s},cn,{provide:no,useFactory:function Ks(y){return y.routerState.root},deps:[Mr]},Di];function fo(){return new M.PXZ("Router",Mr)}let qr=(()=>{class y{constructor(g){}static forRoot(g,D){return{ngModule:y,providers:[Sc,[],en(g),{provide:bs,useFactory:Ba,deps:[[Mr,new M.FiY,new M.tp0]]},{provide:oo,useValue:D||{}},D?.useHash?{provide:He.S$,useClass:He.Do}:{provide:He.S$,useClass:He.b0},{provide:lo,useFactory:()=>{const y=(0,M.f3M)(Mr),v=(0,M.f3M)(He.EM),g=(0,M.f3M)(oo);return g.scrollOffset&&v.setOffset(g.scrollOffset),new Ia(y,v,g)}},D?.preloadingStrategy?Tu(D.preloadingStrategy).\u0275providers:[],{provide:M.PXZ,multi:!0,useFactory:fo},D?.initialNavigation?Ti(D):[],[{provide:ia,useFactory:pi},{provide:M.tb,multi:!0,useExisting:ia}]]}}static forChild(g){return{ngModule:y,providers:[en(g)]}}}return y.\u0275fac=function(g){return new(g||y)(M.LFG(bs,8))},y.\u0275mod=M.oAB({type:y}),y.\u0275inj=M.cJS({imports:[bo]}),y})();function Ba(y){return"guarded"}function Ti(y){return["disabled"===y.initialNavigation?ho(3,[{provide:M.ip1,multi:!0,useFactory:()=>{const v=(0,M.f3M)(Mr);return()=>{v.setUpLocationChangeListener()}}},{provide:uu,useValue:2}]).\u0275providers:[],"enabledBlocking"===y.initialNavigation?ho(2,[{provide:uu,useValue:0},{provide:M.ip1,multi:!0,deps:[M.zs3],useFactory:v=>{const g=v.get(He.V_,Promise.resolve());let D=!1;return()=>g.then(()=>new Promise(L=>{const q=v.get(Mr),Z=v.get(or);(function A(L){v.get(Mr).events.pipe(Nt(Z=>Z instanceof dr||Z instanceof Ss||Z instanceof si),(0,Oe.U)(Z=>Z instanceof dr||Z instanceof Ss&&(0===Z.code||1===Z.code)&&null),Nt(Z=>null!==Z),Ht(1)).subscribe(()=>{L()})})(()=>{L(!0),D=!0}),q.afterPreactivation=()=>(L(!0),D||Z.closed?oe(void 0):Z),q.initialNavigation()}))}}]).\u0275providers:[]]}const ia=new M.OlP("")},9681:(Zt,Ye,j)=>{j.d(Ye,{C6:()=>nr,Jn:()=>Jn,KN:()=>Yn,Mq:()=>lr,Xd:()=>$n,ZF:()=>Br,qX:()=>xn});var M=j(5861),z=j(4859),fe=j(1877),oe=j(2090),ve=j(8766);class ne{constructor(Ce){this.container=Ce}getPlatformInfoString(){return this.container.getProviders().map(ut=>{if(function we(it){return"VERSION"===it.getComponent()?.type}(ut)){const Xe=ut.getImmediate();return`${Xe.library}/${Xe.version}`}return null}).filter(ut=>ut).join(" ")}}const me="@firebase/app",K=new fe.Yd("@firebase/app"),Zn="[DEFAULT]",Nt={[me]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Wt=new Map,An=new Map;function gn(it,Ce){try{it.container.addComponent(Ce)}catch(ut){K.debug(`Component ${Ce.name} failed to register with FirebaseApp ${it.name}`,ut)}}function $n(it){const Ce=it.name;if(An.has(Ce))return K.debug(`There were multiple attempts to register component ${Ce}.`),!1;An.set(Ce,it);for(const ut of Wt.values())gn(ut,it);return!0}function xn(it,Ce){const ut=it.container.getProvider("heartbeat").getImmediate({optional:!0});return ut&&ut.triggerHeartbeat(),it.container.getProvider(Ce)}const wn=new oe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Gn{constructor(Ce,ut,Xe){this._isDeleted=!1,this._options=Object.assign({},Ce),this._config=Object.assign({},ut),this._name=ut.name,this._automaticDataCollectionEnabled=ut.automaticDataCollectionEnabled,this._container=Xe,this.container.addComponent(new z.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ce){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ce}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ce){this._isDeleted=Ce}checkDestroyed(){if(this.isDeleted)throw wn.create("app-deleted",{appName:this._name})}}const Jn="9.12.1";function Br(it,Ce={}){let ut=it;"object"!=typeof Ce&&(Ce={name:Ce});const Xe=Object.assign({name:Zn,automaticDataCollectionEnabled:!1},Ce),Tt=Xe.name;if("string"!=typeof Tt||!Tt)throw wn.create("bad-app-name",{appName:String(Tt)});if(ut||(ut=(0,oe.aH)()),!ut)throw wn.create("no-options");const pn=Wt.get(Tt);if(pn){if((0,oe.vZ)(ut,pn.options)&&(0,oe.vZ)(Xe,pn.config))return pn;throw wn.create("duplicate-app",{appName:Tt})}const Q=new z.H0(Tt);for(const ue of An.values())Q.addComponent(ue);const Y=new Gn(ut,Xe,Q);return Wt.set(Tt,Y),Y}function lr(it=Zn){const Ce=Wt.get(it);if(!Ce&&it===Zn)return Br();if(!Ce)throw wn.create("no-app",{appName:it});return Ce}function nr(){return Array.from(Wt.values())}function Yn(it,Ce,ut){var Xe;let Tt=null!==(Xe=Nt[it])&&void 0!==Xe?Xe:it;ut&&(Tt+=`-${ut}`);const pn=Tt.match(/\s|\//),Q=Ce.match(/\s|\//);if(pn||Q){const Y=[`Unable to register library "${Tt}" with version "${Ce}":`];return pn&&Y.push(`library name "${Tt}" contains illegal characters (whitespace or "/")`),pn&&Q&&Y.push("and"),Q&&Y.push(`version name "${Ce}" contains illegal characters (whitespace or "/")`),void K.warn(Y.join(" "))}$n(new z.wA(`${Tt}-version`,()=>({library:Tt,version:Ce}),"VERSION"))}const Bn="firebase-heartbeat-store";let jr=null;function lt(){return jr||(jr=(0,ve.X3)("firebase-heartbeat-database",1,{upgrade:(it,Ce)=>{0===Ce&&it.createObjectStore(Bn)}}).catch(it=>{throw wn.create("idb-open",{originalErrorMessage:it.message})})),jr}function Bt(){return(Bt=(0,M.Z)(function*(it){var Ce;try{return(yield lt()).transaction(Bn).objectStore(Bn).get(Mn(it))}catch(ut){if(ut instanceof oe.ZR)K.warn(ut.message);else{const Xe=wn.create("idb-get",{originalErrorMessage:null===(Ce=ut)||void 0===Ce?void 0:Ce.message});K.warn(Xe.message)}}})).apply(this,arguments)}function nn(it,Ce){return er.apply(this,arguments)}function er(){return(er=(0,M.Z)(function*(it,Ce){var ut;try{const Tt=(yield lt()).transaction(Bn,"readwrite");return yield Tt.objectStore(Bn).put(Ce,Mn(it)),Tt.done}catch(Xe){if(Xe instanceof oe.ZR)K.warn(Xe.message);else{const Tt=wn.create("idb-set",{originalErrorMessage:null===(ut=Xe)||void 0===ut?void 0:ut.message});K.warn(Tt.message)}}})).apply(this,arguments)}function Mn(it){return`${it.name}!${it.options.appId}`}class Dr{constructor(Ce){this.container=Ce,this._heartbeatsCache=null;const ut=this.container.getProvider("app").getImmediate();this._storage=new Ft(ut),this._heartbeatsCachePromise=this._storage.read().then(Xe=>(this._heartbeatsCache=Xe,Xe))}triggerHeartbeat(){var Ce=this;return(0,M.Z)(function*(){const Xe=Ce.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Tt=On();if(null===Ce._heartbeatsCache&&(Ce._heartbeatsCache=yield Ce._heartbeatsCachePromise),Ce._heartbeatsCache.lastSentHeartbeatDate!==Tt&&!Ce._heartbeatsCache.heartbeats.some(pn=>pn.date===Tt))return Ce._heartbeatsCache.heartbeats.push({date:Tt,agent:Xe}),Ce._heartbeatsCache.heartbeats=Ce._heartbeatsCache.heartbeats.filter(pn=>{const Q=new Date(pn.date).valueOf();return Date.now()-Q<=2592e6}),Ce._storage.overwrite(Ce._heartbeatsCache)})()}getHeartbeatsHeader(){var Ce=this;return(0,M.Z)(function*(){if(null===Ce._heartbeatsCache&&(yield Ce._heartbeatsCachePromise),null===Ce._heartbeatsCache||0===Ce._heartbeatsCache.heartbeats.length)return"";const ut=On(),{heartbeatsToSend:Xe,unsentEntries:Tt}=function Ar(it,Ce=1024){const ut=[];let Xe=it.slice();for(const Tt of it){const pn=ut.find(Q=>Q.agent===Tt.agent);if(pn){if(pn.dates.push(Tt.date),vi(ut)>Ce){pn.dates.pop();break}}else if(ut.push({agent:Tt.agent,dates:[Tt.date]}),vi(ut)>Ce){ut.pop();break}Xe=Xe.slice(1)}return{heartbeatsToSend:ut,unsentEntries:Xe}}(Ce._heartbeatsCache.heartbeats),pn=(0,oe.L)(JSON.stringify({version:2,heartbeats:Xe}));return Ce._heartbeatsCache.lastSentHeartbeatDate=ut,Tt.length>0?(Ce._heartbeatsCache.heartbeats=Tt,yield Ce._storage.overwrite(Ce._heartbeatsCache)):(Ce._heartbeatsCache.heartbeats=[],Ce._storage.overwrite(Ce._heartbeatsCache)),pn})()}}function On(){return(new Date).toISOString().substring(0,10)}class Ft{constructor(Ce){this.app=Ce,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,M.Z)(function*(){return!!(0,oe.hl)()&&(0,oe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ce=this;return(0,M.Z)(function*(){return(yield Ce._canUseIndexedDBPromise)&&(yield function bt(it){return Bt.apply(this,arguments)}(Ce.app))||{heartbeats:[]}})()}overwrite(Ce){var ut=this;return(0,M.Z)(function*(){var Xe;if(yield ut._canUseIndexedDBPromise){const pn=yield ut.read();return nn(ut.app,{lastSentHeartbeatDate:null!==(Xe=Ce.lastSentHeartbeatDate)&&void 0!==Xe?Xe:pn.lastSentHeartbeatDate,heartbeats:Ce.heartbeats})}})()}add(Ce){var ut=this;return(0,M.Z)(function*(){var Xe;if(yield ut._canUseIndexedDBPromise){const pn=yield ut.read();return nn(ut.app,{lastSentHeartbeatDate:null!==(Xe=Ce.lastSentHeartbeatDate)&&void 0!==Xe?Xe:pn.lastSentHeartbeatDate,heartbeats:[...pn.heartbeats,...Ce.heartbeats]})}})()}}function vi(it){return(0,oe.L)(JSON.stringify({version:2,heartbeats:it})).length}!function xr(it){$n(new z.wA("platform-logger",Ce=>new ne(Ce),"PRIVATE")),$n(new z.wA("heartbeat",Ce=>new Dr(Ce),"PRIVATE")),Yn(me,"0.8.2",it),Yn(me,"0.8.2","esm2017"),Yn("fire-js","")}("")},4859:(Zt,Ye,j)=>{j.d(Ye,{H0:()=>me,wA:()=>fe});var M=j(5861),z=j(2090);class fe{constructor(K,re,Ie){this.name=K,this.instanceFactory=re,this.type=Ie,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(K){return this.instantiationMode=K,this}setMultipleInstances(K){return this.multipleInstances=K,this}setServiceProps(K){return this.serviceProps=K,this}setInstanceCreatedCallback(K){return this.onInstanceCreated=K,this}}const oe="[DEFAULT]";class ve{constructor(K,re){this.name=K,this.container=re,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(K){const re=this.normalizeInstanceIdentifier(K);if(!this.instancesDeferred.has(re)){const Ie=new z.BH;if(this.instancesDeferred.set(re,Ie),this.isInitialized(re)||this.shouldAutoInitialize())try{const Ge=this.getOrInitializeService({instanceIdentifier:re});Ge&&Ie.resolve(Ge)}catch{}}return this.instancesDeferred.get(re).promise}getImmediate(K){var re;const Ie=this.normalizeInstanceIdentifier(K?.identifier),Ge=null!==(re=K?.optional)&&void 0!==re&&re;if(!this.isInitialized(Ie)&&!this.shouldAutoInitialize()){if(Ge)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ie})}catch(be){if(Ge)return null;throw be}}getComponent(){return this.component}setComponent(K){if(K.name!==this.name)throw Error(`Mismatching Component ${K.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=K,this.shouldAutoInitialize()){if(function we($e){return"EAGER"===$e.instantiationMode}(K))try{this.getOrInitializeService({instanceIdentifier:oe})}catch{}for(const[re,Ie]of this.instancesDeferred.entries()){const Ge=this.normalizeInstanceIdentifier(re);try{const be=this.getOrInitializeService({instanceIdentifier:Ge});Ie.resolve(be)}catch{}}}}clearInstance(K=oe){this.instancesDeferred.delete(K),this.instancesOptions.delete(K),this.instances.delete(K)}delete(){var K=this;return(0,M.Z)(function*(){const re=Array.from(K.instances.values());yield Promise.all([...re.filter(Ie=>"INTERNAL"in Ie).map(Ie=>Ie.INTERNAL.delete()),...re.filter(Ie=>"_delete"in Ie).map(Ie=>Ie._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(K=oe){return this.instances.has(K)}getOptions(K=oe){return this.instancesOptions.get(K)||{}}initialize(K={}){const{options:re={}}=K,Ie=this.normalizeInstanceIdentifier(K.instanceIdentifier);if(this.isInitialized(Ie))throw Error(`${this.name}(${Ie}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ge=this.getOrInitializeService({instanceIdentifier:Ie,options:re});for(const[be,ht]of this.instancesDeferred.entries())Ie===this.normalizeInstanceIdentifier(be)&&ht.resolve(Ge);return Ge}onInit(K,re){var Ie;const Ge=this.normalizeInstanceIdentifier(re),be=null!==(Ie=this.onInitCallbacks.get(Ge))&&void 0!==Ie?Ie:new Set;be.add(K),this.onInitCallbacks.set(Ge,be);const ht=this.instances.get(Ge);return ht&&K(ht,Ge),()=>{be.delete(K)}}invokeOnInitCallbacks(K,re){const Ie=this.onInitCallbacks.get(re);if(Ie)for(const Ge of Ie)try{Ge(K,re)}catch{}}getOrInitializeService({instanceIdentifier:K,options:re={}}){let Ie=this.instances.get(K);if(!Ie&&this.component&&(Ie=this.component.instanceFactory(this.container,{instanceIdentifier:($e=K,$e===oe?void 0:$e),options:re}),this.instances.set(K,Ie),this.instancesOptions.set(K,re),this.invokeOnInitCallbacks(Ie,K),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,K,Ie)}catch{}var $e;return Ie||null}normalizeInstanceIdentifier(K=oe){return this.component?this.component.multipleInstances?K:oe:K}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class me{constructor(K){this.name=K,this.providers=new Map}addComponent(K){const re=this.getProvider(K.name);if(re.isComponentSet())throw new Error(`Component ${K.name} has already been registered with ${this.name}`);re.setComponent(K)}addOrOverwriteComponent(K){this.getProvider(K.name).isComponentSet()&&this.providers.delete(K.name),this.addComponent(K)}getProvider(K){if(this.providers.has(K))return this.providers.get(K);const re=new ve(K,this);return this.providers.set(K,re),re}getProviders(){return Array.from(this.providers.values())}}},1877:(Zt,Ye,j)=>{j.d(Ye,{Yd:()=>we,in:()=>z});const M=[];var z=(()=>{return(K=z||(z={}))[K.DEBUG=0]="DEBUG",K[K.VERBOSE=1]="VERBOSE",K[K.INFO=2]="INFO",K[K.WARN=3]="WARN",K[K.ERROR=4]="ERROR",K[K.SILENT=5]="SILENT",z;var K})();const fe={debug:z.DEBUG,verbose:z.VERBOSE,info:z.INFO,warn:z.WARN,error:z.ERROR,silent:z.SILENT},oe=z.INFO,ve={[z.DEBUG]:"log",[z.VERBOSE]:"log",[z.INFO]:"info",[z.WARN]:"warn",[z.ERROR]:"error"},ne=(K,re,...Ie)=>{if(re<K.logLevel)return;const Ge=(new Date).toISOString(),be=ve[re];if(!be)throw new Error(`Attempted to log a message with an invalid logType (value: ${re})`);console[be](`[${Ge}]  ${K.name}:`,...Ie)};class we{constructor(re){this.name=re,this._logLevel=oe,this._logHandler=ne,this._userLogHandler=null,M.push(this)}get logLevel(){return this._logLevel}set logLevel(re){if(!(re in z))throw new TypeError(`Invalid value "${re}" assigned to \`logLevel\``);this._logLevel=re}setLogLevel(re){this._logLevel="string"==typeof re?fe[re]:re}get logHandler(){return this._logHandler}set logHandler(re){if("function"!=typeof re)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=re}get userLogHandler(){return this._userLogHandler}set userLogHandler(re){this._userLogHandler=re}debug(...re){this._userLogHandler&&this._userLogHandler(this,z.DEBUG,...re),this._logHandler(this,z.DEBUG,...re)}log(...re){this._userLogHandler&&this._userLogHandler(this,z.VERBOSE,...re),this._logHandler(this,z.VERBOSE,...re)}info(...re){this._userLogHandler&&this._userLogHandler(this,z.INFO,...re),this._logHandler(this,z.INFO,...re)}warn(...re){this._userLogHandler&&this._userLogHandler(this,z.WARN,...re),this._logHandler(this,z.WARN,...re)}error(...re){this._userLogHandler&&this._userLogHandler(this,z.ERROR,...re),this._logHandler(this,z.ERROR,...re)}}},8766:(Zt,Ye,j)=>{j.d(Ye,{Lj:()=>We,X3:()=>dt});var M=j(5861);let fe,oe;const we=new WeakMap,me=new WeakMap,$e=new WeakMap,K=new WeakMap,re=new WeakMap;let be={get(ge,et,se){if(ge instanceof IDBTransaction){if("done"===et)return me.get(ge);if("objectStoreNames"===et)return ge.objectStoreNames||$e.get(ge);if("store"===et)return se.objectStoreNames[1]?void 0:se.objectStore(se.objectStoreNames[0])}return At(ge[et])},set:(ge,et,se)=>(ge[et]=se,!0),has:(ge,et)=>ge instanceof IDBTransaction&&("done"===et||"store"===et)||et in ge};function Lt(ge){return"function"==typeof ge?function wt(ge){return ge!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ne(){return oe||(oe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ge)?function(...et){return ge.apply(Mt(this),et),At(we.get(this))}:function(...et){return At(ge.apply(Mt(this),et))}:function(et,...se){const he=ge.call(Mt(this),et,...se);return $e.set(he,et.sort?et.sort():[et]),At(he)}}(ge):(ge instanceof IDBTransaction&&function Ge(ge){if(me.has(ge))return;const et=new Promise((se,he)=>{const te=()=>{ge.removeEventListener("complete",le),ge.removeEventListener("error",He),ge.removeEventListener("abort",He)},le=()=>{se(),te()},He=()=>{he(ge.error||new DOMException("AbortError","AbortError")),te()};ge.addEventListener("complete",le),ge.addEventListener("error",He),ge.addEventListener("abort",He)});me.set(ge,et)}(ge),((ge,et)=>et.some(se=>ge instanceof se))(ge,function ve(){return fe||(fe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ge,be):ge)}function At(ge){if(ge instanceof IDBRequest)return function Ie(ge){const et=new Promise((se,he)=>{const te=()=>{ge.removeEventListener("success",le),ge.removeEventListener("error",He)},le=()=>{se(At(ge.result)),te()},He=()=>{he(ge.error),te()};ge.addEventListener("success",le),ge.addEventListener("error",He)});return et.then(se=>{se instanceof IDBCursor&&we.set(se,ge)}).catch(()=>{}),re.set(et,ge),et}(ge);if(K.has(ge))return K.get(ge);const et=Lt(ge);return et!==ge&&(K.set(ge,et),re.set(et,ge)),et}const Mt=ge=>re.get(ge);function dt(ge,et,{blocked:se,upgrade:he,blocking:te,terminated:le}={}){const He=indexedDB.open(ge,et),Oe=At(He);return he&&He.addEventListener("upgradeneeded",ct=>{he(At(He.result),ct.oldVersion,ct.newVersion,At(He.transaction))}),se&&He.addEventListener("blocked",()=>se()),Oe.then(ct=>{le&&ct.addEventListener("close",()=>le()),te&&ct.addEventListener("versionchange",()=>te())}).catch(()=>{}),Oe}function We(ge,{blocked:et}={}){const se=indexedDB.deleteDatabase(ge);return et&&se.addEventListener("blocked",()=>et()),At(se).then(()=>{})}const Qe=["get","getKey","getAll","getAllKeys","count"],Re=["put","add","delete","clear"],mt=new Map;function je(ge,et){if(!(ge instanceof IDBDatabase)||et in ge||"string"!=typeof et)return;if(mt.get(et))return mt.get(et);const se=et.replace(/FromIndex$/,""),he=et!==se,te=Re.includes(se);if(!(se in(he?IDBIndex:IDBObjectStore).prototype)||!te&&!Qe.includes(se))return;const le=function(){var He=(0,M.Z)(function*(Oe,...ct){const Ht=this.transaction(Oe,te?"readwrite":"readonly");let Zn=Ht.store;return he&&(Zn=Zn.index(ct.shift())),(yield Promise.all([Zn[se](...ct),te&&Ht.done]))[0]});return function(ct){return He.apply(this,arguments)}}();return mt.set(et,le),le}!function ht(ge){be=ge(be)}(ge=>({...ge,get:(et,se,he)=>je(et,se)||ge.get(et,se,he),has:(et,se)=>!!je(et,se)||ge.has(et,se)}))},5861:(Zt,Ye,j)=>{function M(fe,oe,ve,ne,we,me,$e){try{var K=fe[me]($e),re=K.value}catch(Ie){return void ve(Ie)}K.done?oe(re):Promise.resolve(re).then(ne,we)}function z(fe){return function(){var oe=this,ve=arguments;return new Promise(function(ne,we){var me=fe.apply(oe,ve);function $e(re){M(me,ne,we,$e,K,"next",re)}function K(re){M(me,ne,we,$e,K,"throw",re)}$e(void 0)})}}j.d(Ye,{Z:()=>z})}},Zt=>{Zt(Zt.s=3543)}]);